var cx=Object.create;var ra=Object.defineProperty,dx=Object.defineProperties,fx=Object.getOwnPropertyDescriptor,hx=Object.getOwnPropertyDescriptors,px=Object.getOwnPropertyNames,Ul=Object.getOwnPropertySymbols,mx=Object.getPrototypeOf,yf=Object.prototype.hasOwnProperty,y0=Object.prototype.propertyIsEnumerable;var gf=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),gx=e=>{throw TypeError(e)};var g0=(e,t,n)=>t in e?ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,he=(e,t)=>{for(var n in t||={})yf.call(t,n)&&g0(e,n,t[n]);if(Ul)for(var n of Ul(t))y0.call(t,n)&&g0(e,n,t[n]);return e},Ae=(e,t)=>dx(e,hx(t));var _f=(e,t)=>{var n={};for(var r in e)yf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ul)for(var r of Ul(e))t.indexOf(r)<0&&y0.call(e,r)&&(n[r]=e[r]);return n};var yx=(e,t)=>()=>(e&&(t=e(e=0)),t);var _0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_x=(e,t)=>{for(var n in t)ra(e,n,{get:t[n],enumerable:!0})},v0=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of px(t))!yf.call(e,i)&&i!==n&&ra(e,i,{get:()=>t[i],enumerable:!(r=fx(t,i))||r.enumerable});return e};var vx=(e,t,n)=>(n=e!=null?cx(mx(e)):{},v0(t||!e||!e.__esModule?ra(n,"default",{value:e,enumerable:!0}):n,e)),bx=e=>v0(ra({},"__esModule",{value:!0}),e);var Ve=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(u){i(u)}},s=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())}),wx=function(e,t){this[0]=e,this[1]=t};var Xe=e=>{var t=e[gf("asyncIterator")],n=!1,r,i={};return t==null?(t=e[gf("iterator")](),r=o=>i[o]=s=>t[o](s)):(t=t.call(e),r=o=>i[o]=s=>{if(n){if(n=!1,o==="throw")throw s;return s}return n=!0,{done:!1,value:new wx(new Promise(a=>{var l=t[o](s);l instanceof Object||gx("Object expected"),a(l)}),1)}}),i[gf("iterator")]=()=>i,r("next"),"throw"in t?r("throw"):i.throw=o=>{throw o},"return"in t&&r("return"),i};var FD={};_x(FD,{BlendMode:()=>Pd,BmpCompression:()=>Fi,HorizontalAlign:()=>Hr,Jimp:()=>N8,JimpMime:()=>R8,PNGColorType:()=>bl,PNGFilterType:()=>Dd,ResizeStrategy:()=>$r,VerticalAlign:()=>zr,colorDiff:()=>ll,compareHashes:()=>OO,cssColorToHex:()=>i2,defaultFormats:()=>PD,defaultPlugins:()=>OD,diff:()=>k8,distance:()=>NO,intToRGBA:()=>Hs,limit255:()=>Zt,loadFont:()=>I8,measureText:()=>Zs,measureTextHeight:()=>Dg,rgbaToInt:()=>Sk});function Mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function E3(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}function Gw(){Ag=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)Ur[t]=e[t],ir[e.charCodeAt(t)]=t;ir[45]=62,ir[95]=63}function x3(e){var t,n,r,i,o,s;Ag||Gw();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=e[a-2]==="="?2:e[a-1]==="="?1:0,s=new D3(3*a/4-o),r=o>0?a-4:a;var l=0;for(t=0,n=0;t<r;t+=4,n+=3)i=ir[e.charCodeAt(t)]<<18|ir[e.charCodeAt(t+1)]<<12|ir[e.charCodeAt(t+2)]<<6|ir[e.charCodeAt(t+3)],s[l++]=i>>16&255,s[l++]=i>>8&255,s[l++]=255&i;return o===2?(i=ir[e.charCodeAt(t)]<<2|ir[e.charCodeAt(t+1)]>>4,s[l++]=255&i):o===1&&(i=ir[e.charCodeAt(t)]<<10|ir[e.charCodeAt(t+1)]<<4|ir[e.charCodeAt(t+2)]>>2,s[l++]=i>>8&255,s[l++]=255&i),s}function M3(e){return Ur[e>>18&63]+Ur[e>>12&63]+Ur[e>>6&63]+Ur[63&e]}function I3(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(M3(r));return i.join("")}function mb(e){var t;Ag||Gw();for(var n=e.length,r=n%3,i="",o=[],s=16383,a=0,l=n-r;a<l;a+=s)o.push(I3(e,a,a+s>l?l:a+s));return r===1?(t=e[n-1],i+=Ur[t>>2],i+=Ur[t<<4&63],i+="=="):r===2&&(t=(e[n-2]<<8)+e[n-1],i+=Ur[t>>10],i+=Ur[t>>4&63],i+=Ur[t<<2&63],i+="="),o.push(i),o.join("")}function ed(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=a;c>0;o=256*o+e[t+d],d+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+d],d+=f,c-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=u}return(h?-1:1)*s*Math.pow(2,o-r)}function Ww(e,t,n,r,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*m}function yd(){return _e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function fi(e,t){if(yd()<t)throw new RangeError("Invalid typed array length");return _e.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=_e.prototype:(e===null&&(e=new _e(t)),e.length=t),e}function _e(e,t,n){if(!(_e.TYPED_ARRAY_SUPPORT||this instanceof _e))return new _e(e,t,n);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return tg(this,e)}return Zw(this,e,t,n)}function Zw(e,t,n,r){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?k3(e,t,n,r):typeof t=="string"?T3(e,t,n):R3(e,t)}function Yw(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function A3(e,t,n,r){return Yw(t),t<=0?fi(e,t):n!==void 0?typeof r=="string"?fi(e,t).fill(n,r):fi(e,t).fill(n):fi(e,t)}function tg(e,t){if(Yw(t),e=fi(e,t<0?0:0|Tg(t)),!_e.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function T3(e,t,n){if(typeof n=="string"&&n!==""||(n="utf8"),!_e.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Qw(t,n),i=(e=fi(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function ng(e,t){var n=t.length<0?0:0|Tg(t.length);e=fi(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function k3(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=n===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,n):new Uint8Array(t,n,r),_e.TYPED_ARRAY_SUPPORT?(e=t).__proto__=_e.prototype:e=ng(e,t),e}function R3(e,t){if(Vr(t)){var n=0|Tg(t.length);return(e=fi(e,n)).length===0||t.copy(e,0,0,n),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||K3(t.length)?fi(e,0):ng(e,t);if(t.type==="Buffer"&&qw(t.data))return ng(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Tg(e){if(e>=yd())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+yd().toString(16)+" bytes");return 0|e}function Vr(e){return!(e==null||!e._isBuffer)}function Qw(e,t){if(Vr(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var n=e.length;if(n===0)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return _d(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return e2(e).length;default:if(r)return _d(e).length;t=(""+t).toLowerCase(),r=!0}}function N3(e,t,n){var r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return H3(this,t,n);case"utf8":case"utf-8":return Jw(this,t,n);case"ascii":return V3(this,t,n);case"latin1":case"binary":return z3(this,t,n);case"base64":return j3(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $3(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _o(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function gb(e,t,n,r,i){if(e.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof t=="string"&&(t=_e.from(t,r)),Vr(t))return t.length===0?-1:yb(e,t,n,r,i);if(typeof t=="number")return t&=255,_e.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):yb(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function yb(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(h,p){return s===1?h[p]:h.readUInt16BE(p*s)}if(i){var c=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,c===-1?0:o-c)){if(c===-1&&(c=o),o-c+1===l)return c*s}else c!==-1&&(o-=o-c),c=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(u(e,o+f)!==u(t,f)){d=!1;break}if(d)return o}return-1}function O3(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function P3(e,t,n,r){return jd(_d(t,e.length-n),e,n,r)}function Kw(e,t,n,r){return jd(Y3(t),e,n,r)}function F3(e,t,n,r){return Kw(e,t,n,r)}function L3(e,t,n,r){return jd(e2(t),e,n,r)}function B3(e,t,n,r){return jd(Q3(t,e.length-n),e,n,r)}function j3(e,t,n){return t===0&&n===e.length?mb(e):mb(e.slice(t,n))}function Jw(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}c===null?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return U3(r)}function U3(e){var t=e.length;if(t<=_b)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=_b));return n}function V3(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function z3(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function H3(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Z3(e[o]);return i}function $3(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function rn(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Nn(e,t,n,r,i,o){if(!Vr(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function td(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function nd(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function Xw(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function vb(e,t,n,r,i){return i||Xw(e,t,n,4),Ww(e,t,n,r,23,4),n+4}function bb(e,t,n,r,i){return i||Xw(e,t,n,8),Ww(e,t,n,r,52,8),n+8}function W3(e){if((e=q3(e).replace(G3,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q3(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Z3(e){return e<16?"0"+e.toString(16):e.toString(16)}function _d(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y3(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Q3(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}function e2(e){return x3(W3(e))}function jd(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function K3(e){return e!=e}function J3(e){return e!=null&&(!!e._isBuffer||t2(e)||X3(e))}function t2(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function X3(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&t2(e.slice(0,0))}function ek(e,t,n,r){let i=1+~e&e,o=1+~t&t,s=1+~n&n,a=1+~r&r,l=e/i+1,u=t/o+1,c=n/s+1,d=r/a+1;return{shiftRed:f=>(f&e)/i*256/l,shiftGreen:f=>(f&t)/o*256/u,shiftBlue:f=>(f&n)/s*256/c,shiftAlpha:r!==0?f=>(f&r)/a*256/d:()=>255}}function wb(e){return e.reduce((t,n)=>t<<1|n,0)}function Rm(e){return e.quad<<24|e.red<<16|e.green<<8|e.blue}function tk(e,t){return new ig(e,t)}function nk(e){return new og(e)}function vd(e){return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function ze(e,t){if(t=t||{},(e=e||"")instanceof ze)return e;if(!(this instanceof ze))return new ze(e,t);var n=ok(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function ok(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=Mk(e)),vd(e)=="object"&&(ai(e.r)&&ai(e.g)&&ai(e.b)?(t=sk(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ai(e.h)&&ai(e.s)&&ai(e.v)?(r=al(e.s),i=al(e.v),t=lk(e.h,r,i),s=!0,a="hsv"):ai(e.h)&&ai(e.s)&&ai(e.l)&&(r=al(e.s),o=al(e.l),t=ak(e.h,r,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=n2(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function sk(e,t,n){return{r:255*Rt(e,255),g:255*Rt(t,255),b:255*Rt(n,255)}}function Eb(e,t,n){e=Rt(e,255),t=Rt(t,255),n=Rt(n,255);var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:a}}function ak(e,t,n){var r,i,o;function s(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+6*(c-u)*d:d<.5?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(e=Rt(e,360),t=Rt(t,100),n=Rt(n,100),t===0)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function Db(e,t,n){e=Rt(e,255),t=Rt(t,255),n=Rt(n,255);var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=o,l=o-s;if(i=o===0?0:l/o,o==s)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:a}}function lk(e,t,n){e=6*Rt(e,360),t=Rt(t,100),n=Rt(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}function xb(e,t,n,r){var i=[xr(Math.round(e).toString(16)),xr(Math.round(t).toString(16)),xr(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function uk(e,t,n,r,i){var o=[xr(Math.round(e).toString(16)),xr(Math.round(t).toString(16)),xr(Math.round(n).toString(16)),xr(r2(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Mb(e,t,n,r){return[xr(r2(r)),xr(Math.round(e).toString(16)),xr(Math.round(t).toString(16)),xr(Math.round(n).toString(16))].join("")}function ck(e,t){t=t===0?0:t||10;var n=ze(e).toHsl();return n.s-=t/100,n.s=Ud(n.s),ze(n)}function dk(e,t){t=t===0?0:t||10;var n=ze(e).toHsl();return n.s+=t/100,n.s=Ud(n.s),ze(n)}function fk(e){return ze(e).desaturate(100)}function hk(e,t){t=t===0?0:t||10;var n=ze(e).toHsl();return n.l+=t/100,n.l=Ud(n.l),ze(n)}function pk(e,t){t=t===0?0:t||10;var n=ze(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),ze(n)}function mk(e,t){t=t===0?0:t||10;var n=ze(e).toHsl();return n.l-=t/100,n.l=Ud(n.l),ze(n)}function gk(e,t){var n=ze(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,ze(n)}function yk(e){var t=ze(e).toHsl();return t.h=(t.h+180)%360,ze(t)}function Ib(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=ze(e).toHsl(),r=[ze(e)],i=360/t,o=1;o<t;o++)r.push(ze({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function _k(e){var t=ze(e).toHsl(),n=t.h;return[ze(e),ze({h:(n+72)%360,s:t.s,l:t.l}),ze({h:(n+216)%360,s:t.s,l:t.l})]}function vk(e,t,n){t=t||6,n=n||30;var r=ze(e).toHsl(),i=360/n,o=[ze(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(ze(r));return o}function bk(e,t){t=t||6;for(var n=ze(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(ze({h:r,s:i,v:o})),o=(o+a)%1;return s}function Ek(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function n2(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Rt(e,t){Dk(e)&&(e="100%");var n=xk(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Ud(e){return Math.min(1,Math.max(0,e))}function Vn(e){return parseInt(e,16)}function Dk(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function xk(e){return typeof e=="string"&&e.indexOf("%")!=-1}function xr(e){return e.length==1?"0"+e:""+e}function al(e){return e<=1&&(e=100*e+"%"),e}function r2(e){return Math.round(255*parseFloat(e)).toString(16)}function Cb(e){return Vn(e)/255}function ai(e){return!!br.CSS_UNIT.exec(e)}function Mk(e){e=e.replace(rk,"").replace(ik,"").toLowerCase();var t,n=!1;if(sg[e])e=sg[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(t=br.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=br.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=br.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=br.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=br.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=br.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=br.hex8.exec(e))?{r:Vn(t[1]),g:Vn(t[2]),b:Vn(t[3]),a:Cb(t[4]),format:n?"name":"hex8"}:(t=br.hex6.exec(e))?{r:Vn(t[1]),g:Vn(t[2]),b:Vn(t[3]),format:n?"name":"hex"}:(t=br.hex4.exec(e))?{r:Vn(t[1]+""+t[1]),g:Vn(t[2]+""+t[2]),b:Vn(t[3]+""+t[3]),a:Cb(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=br.hex3.exec(e))&&{r:Vn(t[1]+""+t[1]),g:Vn(t[2]+""+t[2]),b:Vn(t[3]+""+t[3]),format:n?"name":"hex"}}function Ik(e){var t,n;return(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&t!=="AAA"&&(t="AA"),(n=(e.size||"small").toLowerCase())!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}function pi(e){let t={width:e.bitmap.width,height:e.bitmap.height,data:_e.from(e.bitmap.data)};return new e.constructor(t)}function Io(e,t,n,r,i,o){let s,a,l,u,c;if(typeof t=="function")c=t,s=0,a=0,l=e.bitmap.width,u=e.bitmap.height;else{if(s=t,typeof n!="number")throw new Error("y must be a number");if(a=n,typeof r!="number")throw new Error("w must be a number");if(l=r,typeof i!="number")throw new Error("h must be a number");if(u=i,typeof o!="function")throw new Error("cb must be a function");c=o}s=Math.round(s),a=Math.round(a),l=Math.round(l),u=Math.round(u);let d=c.bind(e);for(let f=a;f<a+u;f++)for(let h=s;h<s+l;h++)d(h,f,e.bitmap.width*f+h<<2);return e}function*Ck(e,t,n,r,i){t=Math.round(t),n=Math.round(n),r=Math.round(r),i=Math.round(i);for(let o=n;o<n+i;o++)for(let s=t;s<t+r;s++){let a=e.bitmap.width*o+s<<2;yield{x:s,y:o,idx:a,image:e}}}function Hs(e){if(typeof e!="number")throw new Error("i must be a number");let t={r:0,g:0,b:0,a:0};return t.r=Math.floor(e/Math.pow(256,3)),t.g=Math.floor((e-t.r*Math.pow(256,3))/Math.pow(256,2)),t.b=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2))/Math.pow(256,1)),t.a=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2)-t.b*Math.pow(256,1))/Math.pow(256,0)),t}function Sk(e,t,n,r){if(typeof e!="number"||typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("r, g, b and a must be numbers");if(e<0||e>255)throw new Error("r must be between 0 and 255");if(t<0||t>255)throw new Error("g must be between 0 and 255");if(n<0||n>255)throw new Error("b must be between 0 and 255");if(r<0||r>255)throw new Error("a must be between 0 and 255");let i=255&e;return i<<=8,i|=255&t,i<<=8,i|=255&n,i<<=8,i|=255&r,i>>>=0,i}function ll(e,t){let n=s=>Math.pow(s,2),{max:r}=Math,i="a"in e?e.a:255,o="a"in t?t.a:255;return(r(n(e.r-t.r),n(e.r-t.r-i+o))+r(n(e.g-t.g),n(e.g-t.g-i+o))+r(n(e.b-t.b),n(e.b-t.b-i+o)))/195075}function Zt(e){return e=Math.max(e,0),e=Math.min(e,255)}function i2(e){return typeof e=="number"?e:parseInt(ze(e).toHex8(),16)}function o2(e,t={}){return Io({bitmap:e},0,0,e.width,e.height,function(n,r,i){let o=e.data[i+0],s=e.data[i+1],a=e.data[i+2],l=e.data[i+3];e.data[i+0]=l,e.data[i+1]=a,e.data[i+2]=s,e.data[i+3]=o}),nk(he(he({},e),t)).data}function s2(e,t){let n=tk(e,t);return Io({bitmap:n},0,0,n.width,n.height,function(r,i,o){let s=n.data[o+1],a=n.data[o+2],l=n.data[o+3];n.data[o+0]=l,n.data[o+1]=a,n.data[o+2]=s,n.data[o+3]=255}),n}function Ak(){return{mime:"image/x-ms-bmp",encode:o2,decode:s2}}function a2(){return{mime:"image/bmp",encode:o2,decode:s2}}function Rk(e,t,n,r){var i=0,o=(r=r===void 0?{}:r).loop===void 0?null:r.loop,s=r.palette===void 0?null:r.palette;if(t<=0||n<=0||t>65535||n>65535)throw new Error("Width/Height invalid.");function a(m){var g=m.length;if(g<2||g>256||g&g-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return g}e[i++]=71,e[i++]=73,e[i++]=70,e[i++]=56,e[i++]=57,e[i++]=97;var l=0,u=0;if(s!==null){for(var c=a(s);c>>=1;)++l;if(c=1<<l,--l,r.background!==void 0){if((u=r.background)>=c)throw new Error("Background index out of range.");if(u===0)throw new Error("Background index explicitly passed as 0.")}}if(e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=(s!==null?128:0)|l,e[i++]=u,e[i++]=0,s!==null)for(var d=0,f=s.length;d<f;++d){var h=s[d];e[i++]=h>>16&255,e[i++]=h>>8&255,e[i++]=255&h}if(o!==null){if(o<0||o>65535)throw new Error("Loop count invalid.");e[i++]=33,e[i++]=255,e[i++]=11,e[i++]=78,e[i++]=69,e[i++]=84,e[i++]=83,e[i++]=67,e[i++]=65,e[i++]=80,e[i++]=69,e[i++]=50,e[i++]=46,e[i++]=48,e[i++]=3,e[i++]=1,e[i++]=255&o,e[i++]=o>>8&255,e[i++]=0}var p=!1;this.addFrame=function(m,g,v,D,w,b){if(p===!0&&(--i,p=!1),b=b===void 0?{}:b,m<0||g<0||m>65535||g>65535)throw new Error("x/y invalid.");if(v<=0||D<=0||v>65535||D>65535)throw new Error("Width/Height invalid.");if(w.length<v*D)throw new Error("Not enough pixels for the frame size.");var E=!0,C=b.palette;if(C==null&&(E=!1,C=s),C==null)throw new Error("Must supply either a local or global palette.");for(var M=a(C),S=0;M>>=1;)++S;M=1<<S;var I=b.delay===void 0?0:b.delay,k=b.disposal===void 0?0:b.disposal;if(k<0||k>3)throw new Error("Disposal out of range.");var y=!1,T=0;if(b.transparent!==void 0&&b.transparent!==null&&(y=!0,(T=b.transparent)<0||T>=M))throw new Error("Transparent color index.");if((k!==0||y||I!==0)&&(e[i++]=33,e[i++]=249,e[i++]=4,e[i++]=k<<2|(y===!0?1:0),e[i++]=255&I,e[i++]=I>>8&255,e[i++]=T,e[i++]=0),e[i++]=44,e[i++]=255&m,e[i++]=m>>8&255,e[i++]=255&g,e[i++]=g>>8&255,e[i++]=255&v,e[i++]=v>>8&255,e[i++]=255&D,e[i++]=D>>8&255,e[i++]=E===!0?128|S-1:0,E===!0)for(var V=0,O=C.length;V<O;++V){var N=C[V];e[i++]=N>>16&255,e[i++]=N>>8&255,e[i++]=255&N}return i=Nk(e,i,S<2?2:S,w)},this.end=function(){return p===!1&&(e[i++]=59,p=!0),i},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(m){e=m},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(m){i=m}}function Nk(e,t,n,r){e[t++]=n;var i=t++,o=1<<n,s=o-1,a=o+1,l=a+1,u=n+1,c=0,d=0;function f(E){for(;c>=E;)e[t++]=255&d,d>>=8,c-=8,t===i+256&&(e[i]=255,i=t++)}function h(E){d|=E<<c,c+=u,f(8)}var p=r[0]&s,m={};h(o);for(var g=1,v=r.length;g<v;++g){var D=r[g]&s,w=p<<8|D,b=m[w];if(b===void 0){for(d|=p<<c,c+=u;c>=8;)e[t++]=255&d,d>>=8,c-=8,t===i+256&&(e[i]=255,i=t++);l===4096?(h(o),l=a+1,u=n+1,m={}):(l>=1<<u&&++u,m[w]=l++),p=D}else p=b}return h(p),h(a),f(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0),t}function Ok(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,s=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;o&&(a=t,l=s,t+=3*s);var u=!0,c=[],d=0,f=null,h=0,p=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((y=e[t++])>=0))throw Error("Invalid block size");if(y===0)break;t+=y}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,f=e[t++],1&m||(f=null),h=m>>2&7,t++;break;case 254:for(;;){if(!((y=e[t++])>=0))throw Error("Invalid block size");if(y===0)break;t+=y}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,b=e[t++],E=b>>6&1,C=1<<(7&b)+1,M=a,S=l,I=!1;b>>7&&(I=!0,M=t,S=C,t+=3*C);var k=t;for(t++;;){var y;if(!((y=e[t++])>=0))throw Error("Invalid block size");if(y===0)break;t+=y}c.push({x:g,y:v,width:D,height:w,has_local_palette:I,palette_offset:M,palette_size:S,data_offset:k,data_length:t-k,transparent_index:f,interlaced:!!E,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(T){if(T<0||T>=c.length)throw new Error("Frame index out of range.");return c[T]},this.decodeAndBlitFrameBGRA=function(T,V){var O=this.frameInfo(T),N=O.width*O.height,P=new Uint8Array(N);Sb(e,O.data_offset,P,N);var K=O.palette_offset,Z=O.transparent_index;Z===null&&(Z=256);var H=O.width,ne=n-H,$=H,J=4*(O.y*n+O.x),ie=4*((O.y+O.height)*n+O.x),X=J,W=4*ne;O.interlaced===!0&&(W+=4*n*7);for(var Y=8,re=0,le=P.length;re<le;++re){var ue=P[re];if($===0&&($=H,(X+=W)>=ie&&(W=4*ne+4*n*(Y-1),X=J+(H+ne)*(Y<<1),Y>>=1)),ue===Z)X+=4;else{var Q=e[K+3*ue],x=e[K+3*ue+1],q=e[K+3*ue+2];V[X++]=q,V[X++]=x,V[X++]=Q,V[X++]=255}--$}},this.decodeAndBlitFrameRGBA=function(T,V){var O=this.frameInfo(T),N=O.width*O.height,P=new Uint8Array(N);Sb(e,O.data_offset,P,N);var K=O.palette_offset,Z=O.transparent_index;Z===null&&(Z=256);var H=O.width,ne=n-H,$=H,J=4*(O.y*n+O.x),ie=4*((O.y+O.height)*n+O.x),X=J,W=4*ne;O.interlaced===!0&&(W+=4*n*7);for(var Y=8,re=0,le=P.length;re<le;++re){var ue=P[re];if($===0&&($=H,(X+=W)>=ie&&(W=4*ne+4*n*(Y-1),X=J+(H+ne)*(Y<<1),Y>>=1)),ue===Z)X+=4;else{var Q=e[K+3*ue],x=e[K+3*ue+1],q=e[K+3*ue+2];V[X++]=Q,V[X++]=x,V[X++]=q,V[X++]=255}--$}}}function Sb(e,t,n,r){for(var i=e[t++],o=1<<i,s=o+1,a=s+1,l=i+1,u=(1<<l)-1,c=0,d=0,f=0,h=e[t++],p=new Int32Array(4096),m=null;;){for(;c<16&&h!==0;)d|=e[t++]<<c,c+=8,h===1?h=e[t++]:--h;if(c<l)break;var g=d&u;if(d>>=l,c-=l,g!==o){if(g===s)break;for(var v=g<a?g:m,D=0,w=v;w>o;)w=p[w]>>8,++D;var b=w;if(f+D+(v!==g?1:0)>r)return void console.log("Warning, gif stream longer than expected.");n[f++]=b;var E=f+=D;for(v!==g&&(n[f++]=b),w=v;D--;)w=p[w],n[--E]=255&w,w>>=8;m!==null&&a<4096&&(p[a++]=m<<8|b,a>=u+1&&l<12&&(++l,u=u<<1|1)),m=g}else a=s+1,u=(1<<(l=i+1))-1,m=null}return f!==r&&console.log("Warning, gif stream shorter than expected."),n}function Om(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}function g2(e,t,n){return{x:.4124*(e=Om(e/255))+.3576*(t=Om(t/255))+.1805*(n=Om(n/255)),y:.2126*e+.7152*t+.0722*n,z:.0193*e+.1192*t+.9505*n}}function Ni(e){return e*(Math.PI/180)}function _2(e,t,n){let r=e;return r<t&&(r=t),r<n&&(r=n),r}function v2(e,t,n){let r=e;return r>t&&(r=t),r>n&&(r=n),r}function Wk(e,t,n){return e>n&&(e=n),e<t&&(e=t),0|e}function or(e){return(e=Math.round(e))>255?e=255:e<0&&(e=0),e}function Gn(e){return e>255?e=255:e<0&&(e=0),e}function Rg(e,t){let n=typeof e[0],r;if(n==="number"||n==="string"){let i=Object.create(null);for(let o=0,s=e.length;o<s;o++){let a=e[o];i[a]||i[a]===0||(i[a]=o)}r=e.sort((o,s)=>t(o,s)||i[o]-i[s])}else{let i=e.slice(0);r=e.sort((o,s)=>t(o,s)||i.indexOf(o)-i.indexOf(s))}return r}function wd(e,t,n){let r=v2(e,t,n),i=_2(e,t,n),o=i-r,s=(r+i)/510,a=0;s>0&&s<1&&(a=o/(s<.5?i+r:510-i-r));let l=0;return o>0&&(l=i===e?(t-n)/o:i===t?2+(n-e)/o:4+(e-t)/o,l*=60,l<0&&(l+=360)),{h:l,s:a,l:s}}function Pm(e){return e>.008856?e**(1/3):7.787*e+16/116}function b2(e,t,n){if(e=Pm(e/qk),t=Pm(t/Zk),n=Pm(n/Yk),116*t-16<0)throw new Error("xxx");return{L:Math.max(0,116*t-16),a:500*(e-t),b:200*(t-n)}}function vl(e,t,n){let r=g2(e,t,n);return b2(r.x,r.y,r.z)}function Fm(e){return e>.206893034?e**3:(e-16/116)/7.787}function w2(e,t,n){let r=(e+16)/116,i=r-n/200;return{x:Qk*Fm(t/500+r),y:Kk*Fm(r),z:Jk*Fm(i)}}function Lm(e){return e>.0031308?1.055*e**(1/2.4)-.055:12.92*e}function E2(e,t,n){let r=Lm(3.2406*e+-1.5372*t+-.4986*n),i=Lm(-.9689*e+1.8758*t+.0415*n),o=Lm(.0557*e+-.204*t+1.057*n);return{r:or(255*r),g:or(255*i),b:or(255*o)}}function Xk(e,t,n){let r=w2(e,t,n);return E2(r.x,r.y,r.z)}function ag(e,t){let n=360/t;for(let r=1,i=n-n/2;r<t;r++,i+=n)if(e>=i&&e<i+n)return r;return 0}function As(e){let t=[];for(let n=0;n<e;n++)t[n]=0;return t}function Ts(e,t,n,r){let i=new Array(e);for(let o=0;o<e;o++){i[o]=new Array(t);for(let s=0;s<t;s++){i[o][s]=new Array(n);for(let a=0;a<n;a++){i[o][s][a]=new Array(r);for(let l=0;l<r;l++)i[o][s][a][l]=0}}}return i}function ks(e,t,n){let r=new Array(e);for(let i=0;i<e;i++){r[i]=new Array(t);for(let o=0;o<t;o++){r[i][o]=new Array(n);for(let s=0;s<n;s++)r[i][o][s]=0}}return r}function Rs(e,t,n,r,i){for(let o=0;o<t;o++){e[o]=[];for(let s=0;s<n;s++){e[o][s]=[];for(let a=0;a<r;a++)e[o][s][a]=i}}}function Ns(e,t,n){for(let r=0;r<t;r++)e[r]=n}function*iR(e,t,n){let r=Math.max(e,t),i={width:e,height:t,level:Math.floor(Math.log(r)/Math.log(2)+1),callback:n,tracker:new gi(e*t,99),index:0,x:0,y:0};yield*Xe(ln(i,1)),zn(i,0)}function*ln(e,t){if(!(e.level<1)){switch(e.tracker.shouldNotify(e.index)&&(yield{progress:e.tracker.progress}),e.level--,t){case 2:yield*Xe(ln(e,1)),zn(e,3),yield*Xe(ln(e,2)),zn(e,4),yield*Xe(ln(e,2)),zn(e,2),yield*Xe(ln(e,4));break;case 3:yield*Xe(ln(e,4)),zn(e,2),yield*Xe(ln(e,3)),zn(e,1),yield*Xe(ln(e,3)),zn(e,3),yield*Xe(ln(e,1));break;case 1:yield*Xe(ln(e,2)),zn(e,4),yield*Xe(ln(e,1)),zn(e,3),yield*Xe(ln(e,1)),zn(e,1),yield*Xe(ln(e,3));break;case 4:yield*Xe(ln(e,3)),zn(e,1),yield*Xe(ln(e,4)),zn(e,2),yield*Xe(ln(e,4)),zn(e,4),yield*Xe(ln(e,2))}e.level++}}function zn(e,t){switch(e.x>=0&&e.x<e.width&&e.y>=0&&e.y<e.height&&(e.callback(e.x,e.y),e.index++),t){case 2:e.x--;break;case 3:e.x++;break;case 1:e.y--;break;case 4:e.y++}}function aR(e,t){if(e.getHeight()!==t.getHeight()||e.getWidth()!==t.getWidth())throw new Error("Images have different sizes!");let n=(255*oR)**2,r=(255*sR)**2,i=0,o=0;return lR(e,t,(s,a,l,u)=>{let c=0,d=0,f=0;for(let p=0;p<s.length;p++)d+=(s[p]-l)**2,f+=(a[p]-u)**2,c+=(s[p]-l)*(a[p]-u);let h=s.length-1;d/=h,f/=h,c/=h,o+=(2*l*u+n)*(2*c+r)/((l**2+u**2+n)*(d+f+r)),i++}),o/i}function lR(e,t,n){let r=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o+=8)for(let s=0;s<r;s+=8){let a=Math.min(8,r-s),l=Math.min(8,i-o),u=kb(e,s,o,a,l),c=kb(t,s,o,a,l);n(u,c,Rb(u),Rb(c))}}function kb(e,t,n,r,i){let o=e.getPointArray(),s=[],a=0;for(let l=n;l<n+i;l++){let u=l*e.getWidth();for(let c=t;c<t+r;c++){let d=o[u+c];s[a]=.2126*d.r+.7152*d.g+.0722*d.b,a++}}return s}function Rb(e){let t=0;for(let n of e)t+=n;return t/e.length}function uR(e,{colorDistanceFormula:t,paletteQuantization:n,colors:r}={}){let i=W2(Gd(t),n,r);return e.forEach(o=>i.sample(o)),i.quantizeSync()}function cR(o){return Ve(this,arguments,function*(e,{colorDistanceFormula:t,paletteQuantization:n,colors:r,onProgress:i}={}){return new Promise((s,a)=>{let l=W2(Gd(t),n,r),u;e.forEach(f=>l.sample(f));let c=l.quantize(),d=()=>{try{let f=c.next();f.done?s(u):(f.value.palette&&(u=f.value.palette),i&&i(f.value.progress),Ed(d))}catch(f){a(f)}};Ed(d)})})}function dR(e,t,{colorDistanceFormula:n,imageQuantization:r}={}){return G2(Gd(n),r).quantizeSync(e,t)}function fR(o,s){return Ve(this,arguments,function*(e,t,{colorDistanceFormula:n,imageQuantization:r,onProgress:i}={}){return new Promise((a,l)=>{let u,c=G2(Gd(n),r).quantize(e,t),d=()=>{try{let f=c.next();f.done?a(u):(f.value.pointContainer&&(u=f.value.pointContainer),i&&i(f.value.progress),Ed(d))}catch(f){l(f)}};Ed(d)})})}function Gd(e="euclidean-bt709"){switch(e){case"cie94-graphic-arts":return new I2;case"cie94-textiles":return new M2;case"ciede2000":return new wr;case"color-metric":return new C2;case"euclidean":return new S2;case"euclidean-bt709":return new A2;case"euclidean-bt709-noalpha":return new T2;case"manhattan":return new k2;case"manhattan-bt709":return new N2;case"manhattan-nommyde":return new R2;case"pngquant":return new O2;default:throw new Error(`Unknown colorDistanceFormula ${e}`)}}function G2(e,t="floyd-steinberg"){switch(t){case"nearest":return new z2(e);case"riemersma":return new Ng(e);case"floyd-steinberg":return new Br(e,0);case"false-floyd-steinberg":return new Br(e,1);case"stucki":return new Br(e,2);case"atkinson":return new Br(e,3);case"jarvis":return new Br(e,4);case"burkes":return new Br(e,5);case"sierra":return new Br(e,6);case"two-sierra":return new Br(e,7);case"sierra-lite":return new Br(e,8);default:throw new Error(`Unknown imageQuantization ${t}`)}}function W2(e,t="wuquant",n=256){switch(t){case"neuquant":return new Ft(e,n);case"rgbquant":return new j2(e,n);case"wuquant":return new Gs(e,n);case"neuquant-float":return new Lt(e,n);default:throw new Error(`Unknown paletteQuantization ${t}`)}}function q2(){return Ob||(Ob=1,function(e){let t=Bk,n=hR,r=kg,{GifFrame:i}=Wd,{GifError:o}=_l,{GifCodec:s}=Z2(),a=[".jpg",".jpeg",".png",".bmp"],l=new s;function u(c,d,f,h,p){let m=Array.isArray(c)?c:[c];if(p){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(p.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${p.ditherAlgorithm}'`);p.serpentine===void 0&&(p.serpentine=!0),p.minimumColorDistanceToDither===void 0&&(p.minimumColorDistanceToDither=0),p.calculateErrorLikeGIMP===void 0&&(p.calculateErrorLikeGIMP=!1)}let g=new n.distance.Euclidean,v=new n.palette[d](g,f,h),D;D=p?new n.image.ErrorDiffusionArray(g,n.image.ErrorDiffusionArrayKernel[p.ditherAlgorithm],p.serpentine,p.minimumColorDistanceToDither,p.calculateErrorLikeGIMP):new n.image.NearestColor(g);let w=[];m.forEach(E=>{let C=E.bitmap.data,M=new ArrayBuffer(C.length),S=new Uint32Array(M);for(let k=0,y=0;k<C.length;k+=4,++y)S[y]=C.readUInt32LE(k,!0);let I=n.utils.PointContainer.fromUint32Array(S,E.bitmap.width,E.bitmap.height);v.sample(I),w.push(I)});let b=v.quantizeSync();for(let E=0;E<m.length;++E){let C=m[E].bitmap.data,M=D.quantizeSync(w[E],b).toUint32Array();for(let S=0,I=0;S<C.length;S+=4,++I)C.writeUInt32LE(M[I],S)}}e.cloneFrames=function(c){let d=[];return c.forEach(f=>{d.push(new i(f))}),d},e.getColorInfo=function(c,d){let f=!1,h=[];for(let D=0;D<c.length;++D){let w=c[D].getPalette();if(w.usesTransparency&&(f=!0),w.indexCount>256)throw new o(`Frame ${D} uses more than 256 color indexes`);h.push(w)}if(d===0)return{usesTransparency:f,palettes:h};let p=new Set;h.forEach(D=>{D.colors.forEach(w=>{p.add(w)})});let m=p.size;if(f&&++m,d&&m>d)return{usesTransparency:f,palettes:h};let g=new Array(p.size),v=p.values();for(let D=0;D<g.length;++D)g[D]=v.next().value;return g.sort((D,w)=>D-w),{colors:g,indexCount:m,usesTransparency:f,palettes:h}},e.copyAsJimp=function(c,d){return e.shareAsJimp(c,new r(d))},e.getMaxDimensions=function(c){let d=0,f=0;return c.forEach(h=>{let p=h.xOffset+h.bitmap.width;p>d&&(d=p);let m=h.yOffset+h.bitmap.height;m>f&&(f=m)}),{maxWidth:d,maxHeight:f}},e.quantizeDekker=function(c,d,f){u(c,"NeuQuantFloat",d=d||256,0,f)},e.quantizeSorokin=function(c,d,f,h){let p;switch(d=d||256,f=f||"min-pop"){case"min-pop":p=2;break;case"top-pop":p=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${f}'`)}u(c,"RGBQuant",d,p,h)},e.quantizeWu=function(c,d,f,h){if(d=d||256,(f=f||5)<1||f>8)throw new Error("Invalid quantization quality");u(c,"WuQuant",d,f,h)},e.read=function(c,d){return d=d||l,_e.isBuffer(c)?d.decodeGif(c):function(f){return new Promise((h,p)=>{t.readFile(f,(m,g)=>m?p(m):h(g))})}(c).then(f=>d.decodeGif(f))},e.shareAsJimp=function(c,d){let f=new c(d.bitmap.width,d.bitmap.height,0);return f.bitmap.data=d.bitmap.data,f},e.write=function(c,d,f,h){h=h||l;let p=c.match(/\.[a-zA-Z]+$/);if(p!==null&&a.includes(p[0].toLowerCase()))throw new Error(`GIF '${c}' has an unexpected suffix`);return h.encodeGif(d,f).then(m=>function(g,v){return new Promise((D,w)=>{t.writeFile(g,v,b=>b?w(b):D())})}(c,m.buffer).then(()=>m))}}(Ab)),Ab}function Z2(){if(Pb)return Nm;Pb=1;let e=bd,{Gif:t,GifError:n}=_l;function r(){let d=q2();return r=function(){return d},d}let{GifFrame:i}=Wd;function o(d,f){let h=d.indexOf(f);return h===-1?null:h}function s(d,f){for(var h,p=0,m=d.length-1;p<=m;)if(d[h=Math.floor((p+m)/2)]>f)m=h-1;else{if(!(d[h]<f))return h;p=h+1}return null}function a(d){let f=d.colors;d.usesTransparency&&f.push(0);let h=f.length,p=2;for(;h>p;)p<<=1;f.length=p,f.fill(0,h)}function l(d,f){let h=d.bitmap.width*d.bitmap.height;return h=Math.ceil(h*f/8),h+=Math.ceil(h/255),100+h+768}function u(d){let f=d.indexCount,h=0;for(--f;f;)++h,f>>=1;return h>0?h:1}function c(d,f,h,p,m){if(h.interlaced)throw new n("writing interlaced GIFs is not supported");let g=function(D,w,b){let E=b.colors,C=E.length<=8?o:s,M=w.bitmap.data,S=new _e(M.length/4),I=E.length,k=0,y=0;for(;k<M.length;){if(M[k+3]!==0){let T=M.readUInt32BE(k,!0)>>8&16777215;S[y]=C(E,T)}else S[y]=I;k+=4,++y}if(b.usesTransparency){if(I===256)throw new n(`Frame ${D} already has 256 colorsand so can't use transparency`)}else I=null;return{buffer:S,transparentIndex:I}}(f,h,p),v={delay:h.delayCentisecs,disposal:h.disposalMethod,transparent:g.transparentIndex};m&&(a(p),v.palette=p.colors);try{let D,w=d.getOutputBuffer(),b=d.getOutputBufferPosition(),E=!0;for(;E;)if(D=d.addFrame(h.xOffset,h.yOffset,h.bitmap.width,h.bitmap.height,g.buffer,v),E=!1,D>=w.length-1){let C=new _e(1.5*w.length);w.copy(C),d.setOutputBuffer(C),d.setOutputBufferPosition(b),w=C,E=!0}return w}catch(D){throw new n(D)}}return Nm.GifCodec=class{constructor(d={}){this._transparentRGB=null,typeof d.transparentRGB=="number"&&d.transparentRGB!==0&&(this._transparentRGBA=256*d.transparentRGB),this._testInitialBufferSize=0}decodeGif(d){try{let f;try{f=new e.GifReader(d)}catch(g){throw new n(g)}let h=f.numFrames(),p=[],m={width:f.width,height:f.height,loops:f.loopCount(),usesTransparency:!1};for(let g=0;g<h;++g){let v=this._decodeFrame(f,g,m.usesTransparency);p.push(v.frame),v.usesTransparency&&(m.usesTransparency=!0)}return Promise.resolve(new t(d,p,m))}catch(f){return Promise.reject(f)}}encodeGif(d,f={}){try{if(d===null||d.length===0)throw new n("there are no frames");let h=r().getMaxDimensions(d);return(f=Object.assign({},f)).width=h.maxWidth,f.height=h.maxHeight,f.loops===void 0&&(f.loops=0),f.colorScope=f.colorScope||t.GlobalColorsPreferred,Promise.resolve(this._encodeGif(d,f))}catch(h){return Promise.reject(h)}}_decodeFrame(d,f,h){let p,m;try{if(p=d.frameInfo(f),m=new _e(d.width*d.height*4),d.decodeAndBlitFrameRGBA(f,m),p.width!==d.width||p.height!==d.height){if(p.y&&(m=m.slice(p.y*d.width*4)),d.width>p.width)for(let v=0;v<p.height;++v)m.copy(m,v*p.width*4,4*(p.x+v*d.width),4*(p.x+v*d.width)+4*p.width);m=m.slice(0,p.width*p.height*4)}}catch(v){throw new n(v)}let g=!1;if(this._transparentRGBA===null){if(!h)for(let v=3;v<m.length;v+=4)m[v]===0&&(g=!0,v=m.length)}else for(let v=3;v<m.length;v+=4)m[v]===0&&(m.writeUInt32BE(this._transparentRGBA,v-3),g=!0);return{frame:new i(p.width,p.height,m,{xOffset:p.x,yOffset:p.y,disposalMethod:p.disposal,interlaced:p.interlaced,delayCentisecs:p.delay}),usesTransparency:g}}_encodeGif(d,f){let h;if(f.colorScope===t.LocalColorsOnly)h=r().getColorInfo(d,0);else if(h=r().getColorInfo(d,256),!h.colors){if(f.colorScope===t.GlobalColorsOnly)throw new n("Too many color indexes for global color table");f.colorScope=t.LocalColorsOnly}f.usesTransparency=h.usesTransparency;let p=h.palettes;return f.colorScope===t.LocalColorsOnly?function(m,g,v,D){let w={loop:g.loops},b,E=new _e(v);try{b=new e.GifWriter(E,g.width,g.height,w)}catch(C){throw new n(C)}for(let C=0;C<m.length;++C)E=c(b,C,m[C],D[C],!0);return new t(E.slice(0,b.end()),m,g)}(d,f,2e3,p):function(m,g,v,D){let w={colors:D.colors.slice(),usesTransparency:D.usesTransparency};a(w);let b={palette:w.colors,loop:g.loops},E,C=new _e(v);try{E=new e.GifWriter(C,g.width,g.height,b)}catch(M){throw new n(M)}for(let M=0;M<m.length;++M)C=c(E,M,m[M],D,!1);return new t(C.slice(0,E.end()),m,g)}(d,f,2e3,h)}_getSizeEstimateGlobal(d,f){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let h=968,p=u(d);return f.forEach(m=>{h+=l(m,p)}),h}_getSizeEstimateLocal(d,f){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let h=200;for(let p=0;p<f.length;++p){let m=u(d[p]);h+=l(f[p],m)}return h}},Nm}function Y2(){return{mime:"image/gif",encode:e=>Ve(null,null,function*(){let t=new od.BitmapImage(e);od.GifUtil.quantizeDekker(t,256);let n=new od.GifFrame(e);return(yield new od.GifCodec().encodeGif([n],{})).buffer}),decode:e=>{let t=new bd.GifReader(e),n=_e.alloc(t.width*t.height*4);return t.decodeAndBlitFrameRGBA(0,n),{data:n,width:t.width,height:t.height}}}}function J2(){return{mime:"image/jpeg",encode:(e,{quality:t=100}={})=>Lb.encode(e,t).data,decode:(e,t)=>Lb.decode(e,t)}}function cl(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function Og(){return{mime:"image/png",hasAlpha:!0,encode:(e,a={})=>{var l=a,{deflateLevel:t=9,deflateStrategy:n=3,filterType:r=Dd.AUTO,colorType:i,inputHasAlpha:o=!0}=l,s=_f(l,["deflateLevel","deflateStrategy","filterType","colorType","inputHasAlpha"]);let u=new Bm.PNG({width:e.width,height:e.height});return u.data=e.data,Bm.PNG.sync.write(u,Ae(he({},s),{deflateLevel:t,deflateStrategy:n,filterType:r,colorType:i!==void 0?i:o?bl.COLOR_ALPHA:bl.COLOR,inputHasAlpha:o}))},decode:(e,t)=>{let n=Bm.PNG.sync.read(e,t);return{data:n.data,width:n.width,height:n.height}}}}function zi(){return jb||(jb=1,function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,s){return Object.prototype.hasOwnProperty.call(o,s)}e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var l in a)n(a,l)&&(o[l]=a[l])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var r={arraySet:function(o,s,a,l,u){if(s.subarray&&o.subarray)o.set(s.subarray(a,a+l),u);else for(var c=0;c<l;c++)o[u+c]=s[a+c]},flattenChunks:function(o){var s,a,l,u,c,d;for(l=0,s=0,a=o.length;s<a;s++)l+=o[s].length;for(d=new Uint8Array(l),u=0,s=0,a=o.length;s<a;s++)c=o[s],d.set(c,u),u+=c.length;return d}},i={arraySet:function(o,s,a,l,u){for(var c=0;c<l;c++)o[u+c]=s[a+c]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)}(Bb)),Bb}function MR(){if(Ub)return vo;Ub=1;var e=zi(),t=0,n=1;function r(F){for(var B=F.length;--B>=0;)F[B]=0}var i=0,o=29,s=256,a=s+1+o,l=30,u=19,c=2*a+1,d=15,f=16,h=7,p=256,m=16,g=17,v=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(2*(a+2));r(C);var M=new Array(2*l);r(M);var S=new Array(512);r(S);var I=new Array(256);r(I);var k=new Array(o);r(k);var y,T,V,O=new Array(l);function N(F,B,L,z,ee){this.static_tree=F,this.extra_bits=B,this.extra_base=L,this.elems=z,this.max_length=ee,this.has_stree=F&&F.length}function P(F,B){this.dyn_tree=F,this.max_code=0,this.stat_desc=B}function K(F){return F<256?S[F]:S[256+(F>>>7)]}function Z(F,B){F.pending_buf[F.pending++]=255&B,F.pending_buf[F.pending++]=B>>>8&255}function H(F,B,L){F.bi_valid>f-L?(F.bi_buf|=B<<F.bi_valid&65535,Z(F,F.bi_buf),F.bi_buf=B>>f-F.bi_valid,F.bi_valid+=L-f):(F.bi_buf|=B<<F.bi_valid&65535,F.bi_valid+=L)}function ne(F,B,L){H(F,L[2*B],L[2*B+1])}function $(F,B){var L=0;do L|=1&F,F>>>=1,L<<=1;while(--B>0);return L>>>1}function J(F,B,L){var z,ee,_=new Array(d+1),A=0;for(z=1;z<=d;z++)_[z]=A=A+L[z-1]<<1;for(ee=0;ee<=B;ee++){var j=F[2*ee+1];j!==0&&(F[2*ee]=$(_[j]++,j))}}function ie(F){var B;for(B=0;B<a;B++)F.dyn_ltree[2*B]=0;for(B=0;B<l;B++)F.dyn_dtree[2*B]=0;for(B=0;B<u;B++)F.bl_tree[2*B]=0;F.dyn_ltree[2*p]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function X(F){F.bi_valid>8?Z(F,F.bi_buf):F.bi_valid>0&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function W(F,B,L,z){var ee=2*B,_=2*L;return F[ee]<F[_]||F[ee]===F[_]&&z[B]<=z[L]}function Y(F,B,L){for(var z=F.heap[L],ee=L<<1;ee<=F.heap_len&&(ee<F.heap_len&&W(B,F.heap[ee+1],F.heap[ee],F.depth)&&ee++,!W(B,z,F.heap[ee],F.depth));)F.heap[L]=F.heap[ee],L=ee,ee<<=1;F.heap[L]=z}function re(F,B,L){var z,ee,_,A,j=0;if(F.last_lit!==0)do z=F.pending_buf[F.d_buf+2*j]<<8|F.pending_buf[F.d_buf+2*j+1],ee=F.pending_buf[F.l_buf+j],j++,z===0?ne(F,ee,B):(ne(F,(_=I[ee])+s+1,B),(A=D[_])!==0&&H(F,ee-=k[_],A),ne(F,_=K(--z),L),(A=w[_])!==0&&H(F,z-=O[_],A));while(j<F.last_lit);ne(F,p,B)}function le(F,B){var L,z,ee,_=B.dyn_tree,A=B.stat_desc.static_tree,j=B.stat_desc.has_stree,U=B.stat_desc.elems,se=-1;for(F.heap_len=0,F.heap_max=c,L=0;L<U;L++)_[2*L]!==0?(F.heap[++F.heap_len]=se=L,F.depth[L]=0):_[2*L+1]=0;for(;F.heap_len<2;)_[2*(ee=F.heap[++F.heap_len]=se<2?++se:0)]=1,F.depth[ee]=0,F.opt_len--,j&&(F.static_len-=A[2*ee+1]);for(B.max_code=se,L=F.heap_len>>1;L>=1;L--)Y(F,_,L);ee=U;do L=F.heap[1],F.heap[1]=F.heap[F.heap_len--],Y(F,_,1),z=F.heap[1],F.heap[--F.heap_max]=L,F.heap[--F.heap_max]=z,_[2*ee]=_[2*L]+_[2*z],F.depth[ee]=(F.depth[L]>=F.depth[z]?F.depth[L]:F.depth[z])+1,_[2*L+1]=_[2*z+1]=ee,F.heap[1]=ee++,Y(F,_,1);while(F.heap_len>=2);F.heap[--F.heap_max]=F.heap[1],function(ce,De){var Ie,we,Ce,xe,Be,Oe,Pe=De.dyn_tree,We=De.max_code,ke=De.stat_desc.static_tree,te=De.stat_desc.has_stree,Me=De.stat_desc.extra_bits,ae=De.stat_desc.extra_base,ge=De.stat_desc.max_length,G=0;for(xe=0;xe<=d;xe++)ce.bl_count[xe]=0;for(Pe[2*ce.heap[ce.heap_max]+1]=0,Ie=ce.heap_max+1;Ie<c;Ie++)(xe=Pe[2*Pe[2*(we=ce.heap[Ie])+1]+1]+1)>ge&&(xe=ge,G++),Pe[2*we+1]=xe,we>We||(ce.bl_count[xe]++,Be=0,we>=ae&&(Be=Me[we-ae]),Oe=Pe[2*we],ce.opt_len+=Oe*(xe+Be),te&&(ce.static_len+=Oe*(ke[2*we+1]+Be)));if(G!==0){do{for(xe=ge-1;ce.bl_count[xe]===0;)xe--;ce.bl_count[xe]--,ce.bl_count[xe+1]+=2,ce.bl_count[ge]--,G-=2}while(G>0);for(xe=ge;xe!==0;xe--)for(we=ce.bl_count[xe];we!==0;)(Ce=ce.heap[--Ie])>We||(Pe[2*Ce+1]!==xe&&(ce.opt_len+=(xe-Pe[2*Ce+1])*Pe[2*Ce],Pe[2*Ce+1]=xe),we--)}}(F,B),J(_,se,F.bl_count)}function ue(F,B,L){var z,ee,_=-1,A=B[1],j=0,U=7,se=4;for(A===0&&(U=138,se=3),B[2*(L+1)+1]=65535,z=0;z<=L;z++)ee=A,A=B[2*(z+1)+1],++j<U&&ee===A||(j<se?F.bl_tree[2*ee]+=j:ee!==0?(ee!==_&&F.bl_tree[2*ee]++,F.bl_tree[2*m]++):j<=10?F.bl_tree[2*g]++:F.bl_tree[2*v]++,j=0,_=ee,A===0?(U=138,se=3):ee===A?(U=6,se=3):(U=7,se=4))}function Q(F,B,L){var z,ee,_=-1,A=B[1],j=0,U=7,se=4;for(A===0&&(U=138,se=3),z=0;z<=L;z++)if(ee=A,A=B[2*(z+1)+1],!(++j<U&&ee===A)){if(j<se)do ne(F,ee,F.bl_tree);while(--j!=0);else ee!==0?(ee!==_&&(ne(F,ee,F.bl_tree),j--),ne(F,m,F.bl_tree),H(F,j-3,2)):j<=10?(ne(F,g,F.bl_tree),H(F,j-3,3)):(ne(F,v,F.bl_tree),H(F,j-11,7));j=0,_=ee,A===0?(U=138,se=3):ee===A?(U=6,se=3):(U=7,se=4)}}r(O);var x=!1;function q(F,B,L,z){H(F,(i<<1)+(z?1:0),3),function(ee,_,A,j){X(ee),Z(ee,A),Z(ee,~A),e.arraySet(ee.pending_buf,ee.window,_,A,ee.pending),ee.pending+=A}(F,B,L)}return vo._tr_init=function(F){x||(function(){var B,L,z,ee,_,A=new Array(d+1);for(z=0,ee=0;ee<o-1;ee++)for(k[ee]=z,B=0;B<1<<D[ee];B++)I[z++]=ee;for(I[z-1]=ee,_=0,ee=0;ee<16;ee++)for(O[ee]=_,B=0;B<1<<w[ee];B++)S[_++]=ee;for(_>>=7;ee<l;ee++)for(O[ee]=_<<7,B=0;B<1<<w[ee]-7;B++)S[256+_++]=ee;for(L=0;L<=d;L++)A[L]=0;for(B=0;B<=143;)C[2*B+1]=8,B++,A[8]++;for(;B<=255;)C[2*B+1]=9,B++,A[9]++;for(;B<=279;)C[2*B+1]=7,B++,A[7]++;for(;B<=287;)C[2*B+1]=8,B++,A[8]++;for(J(C,a+1,A),B=0;B<l;B++)M[2*B+1]=5,M[2*B]=$(B,5);y=new N(C,D,s+1,a,d),T=new N(M,w,0,l,d),V=new N(new Array(0),b,0,u,h)}(),x=!0),F.l_desc=new P(F.dyn_ltree,y),F.d_desc=new P(F.dyn_dtree,T),F.bl_desc=new P(F.bl_tree,V),F.bi_buf=0,F.bi_valid=0,ie(F)},vo._tr_stored_block=q,vo._tr_flush_block=function(F,B,L,z){var ee,_,A=0;F.level>0?(F.strm.data_type===2&&(F.strm.data_type=function(j){var U,se=4093624447;for(U=0;U<=31;U++,se>>>=1)if(1&se&&j.dyn_ltree[2*U]!==0)return t;if(j.dyn_ltree[18]!==0||j.dyn_ltree[20]!==0||j.dyn_ltree[26]!==0)return n;for(U=32;U<s;U++)if(j.dyn_ltree[2*U]!==0)return n;return t}(F)),le(F,F.l_desc),le(F,F.d_desc),A=function(j){var U;for(ue(j,j.dyn_ltree,j.l_desc.max_code),ue(j,j.dyn_dtree,j.d_desc.max_code),le(j,j.bl_desc),U=u-1;U>=3&&j.bl_tree[2*E[U]+1]===0;U--);return j.opt_len+=3*(U+1)+5+5+4,U}(F),ee=F.opt_len+3+7>>>3,(_=F.static_len+3+7>>>3)<=ee&&(ee=_)):ee=_=L+5,L+4<=ee&&B!==-1?q(F,B,L,z):F.strategy===4||_===ee?(H(F,2+(z?1:0),3),re(F,C,M)):(H(F,4+(z?1:0),3),function(j,U,se,ce){var De;for(H(j,U-257,5),H(j,se-1,5),H(j,ce-4,4),De=0;De<ce;De++)H(j,j.bl_tree[2*E[De]+1],3);Q(j,j.dyn_ltree,U-1),Q(j,j.dyn_dtree,se-1)}(F,F.l_desc.max_code+1,F.d_desc.max_code+1,A+1),re(F,F.dyn_ltree,F.dyn_dtree)),ie(F),z&&X(F)},vo._tr_tally=function(F,B,L){return F.pending_buf[F.d_buf+2*F.last_lit]=B>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&B,F.pending_buf[F.l_buf+F.last_lit]=255&L,F.last_lit++,B===0?F.dyn_ltree[2*L]++:(F.matches++,B--,F.dyn_ltree[2*(I[L]+s+1)]++,F.dyn_dtree[2*K(B)]++),F.last_lit===F.lit_bufsize-1},vo._tr_align=function(F){H(F,2,3),ne(F,p,C),function(B){B.bi_valid===16?(Z(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):B.bi_valid>=8&&(B.pending_buf[B.pending++]=255&B.bi_buf,B.bi_buf>>=8,B.bi_valid-=8)}(F)},vo}function tE(){return Vb||(Vb=1,jm=function(e,t,n,r){for(var i=65535&e,o=e>>>16&65535,s=0;n!==0;){n-=s=n>2e3?2e3:n;do o=o+(i=i+t[r++]|0)|0;while(--s);i%=65521,o%=65521}return i|o<<16}),jm}function nE(){if(zb)return Um;zb=1;var e=function(){for(var t,n=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;n[r]=t}return n}();return Um=function(t,n,r,i){var o=e,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^n[a])];return~t},Um}function Pg(){return $b?Hb:($b=1,Hb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function IR(){if(Gb)return vr;Gb=1;var e,t=zi(),n=MR(),r=tE(),i=nE(),o=Pg(),s=0,a=4,l=0,u=-2,c=-1,d=4,f=2,h=8,p=9,m=286,g=30,v=19,D=2*m+1,w=15,b=3,E=258,C=E+b+1,M=42,S=103,I=113,k=666,y=1,T=2,V=3,O=4;function N(x,q){return x.msg=o[q],q}function P(x){return(x<<1)-(x>4?9:0)}function K(x){for(var q=x.length;--q>=0;)x[q]=0}function Z(x){var q=x.state,F=q.pending;F>x.avail_out&&(F=x.avail_out),F!==0&&(t.arraySet(x.output,q.pending_buf,q.pending_out,F,x.next_out),x.next_out+=F,q.pending_out+=F,x.total_out+=F,x.avail_out-=F,q.pending-=F,q.pending===0&&(q.pending_out=0))}function H(x,q){n._tr_flush_block(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,q),x.block_start=x.strstart,Z(x.strm)}function ne(x,q){x.pending_buf[x.pending++]=q}function $(x,q){x.pending_buf[x.pending++]=q>>>8&255,x.pending_buf[x.pending++]=255&q}function J(x,q){var F,B,L=x.max_chain_length,z=x.strstart,ee=x.prev_length,_=x.nice_match,A=x.strstart>x.w_size-C?x.strstart-(x.w_size-C):0,j=x.window,U=x.w_mask,se=x.prev,ce=x.strstart+E,De=j[z+ee-1],Ie=j[z+ee];x.prev_length>=x.good_match&&(L>>=2),_>x.lookahead&&(_=x.lookahead);do if(j[(F=q)+ee]===Ie&&j[F+ee-1]===De&&j[F]===j[z]&&j[++F]===j[z+1]){z+=2,F++;do;while(j[++z]===j[++F]&&j[++z]===j[++F]&&j[++z]===j[++F]&&j[++z]===j[++F]&&j[++z]===j[++F]&&j[++z]===j[++F]&&j[++z]===j[++F]&&j[++z]===j[++F]&&z<ce);if(B=E-(ce-z),z=ce-E,B>ee){if(x.match_start=q,ee=B,B>=_)break;De=j[z+ee-1],Ie=j[z+ee]}}while((q=se[q&U])>A&&--L!=0);return ee<=x.lookahead?ee:x.lookahead}function ie(x){var q,F,B,L,z,ee,_,A,j,U,se=x.w_size;do{if(L=x.window_size-x.lookahead-x.strstart,x.strstart>=se+(se-C)){t.arraySet(x.window,x.window,se,se,0),x.match_start-=se,x.strstart-=se,x.block_start-=se,q=F=x.hash_size;do B=x.head[--q],x.head[q]=B>=se?B-se:0;while(--F);q=F=se;do B=x.prev[--q],x.prev[q]=B>=se?B-se:0;while(--F);L+=se}if(x.strm.avail_in===0)break;if(ee=x.strm,_=x.window,A=x.strstart+x.lookahead,j=L,U=void 0,(U=ee.avail_in)>j&&(U=j),F=U===0?0:(ee.avail_in-=U,t.arraySet(_,ee.input,ee.next_in,U,A),ee.state.wrap===1?ee.adler=r(ee.adler,_,U,A):ee.state.wrap===2&&(ee.adler=i(ee.adler,_,U,A)),ee.next_in+=U,ee.total_in+=U,U),x.lookahead+=F,x.lookahead+x.insert>=b)for(z=x.strstart-x.insert,x.ins_h=x.window[z],x.ins_h=(x.ins_h<<x.hash_shift^x.window[z+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[z+b-1])&x.hash_mask,x.prev[z&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=z,z++,x.insert--,!(x.lookahead+x.insert<b)););}while(x.lookahead<C&&x.strm.avail_in!==0)}function X(x,q){for(var F,B;;){if(x.lookahead<C){if(ie(x),x.lookahead<C&&q===s)return y;if(x.lookahead===0)break}if(F=0,x.lookahead>=b&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+b-1])&x.hash_mask,F=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),F!==0&&x.strstart-F<=x.w_size-C&&(x.match_length=J(x,F)),x.match_length>=b)if(B=n._tr_tally(x,x.strstart-x.match_start,x.match_length-b),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=b){x.match_length--;do x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+b-1])&x.hash_mask,F=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!=0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else B=n._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(B&&(H(x,!1),x.strm.avail_out===0))return y}return x.insert=x.strstart<b-1?x.strstart:b-1,q===a?(H(x,!0),x.strm.avail_out===0?V:O):x.last_lit&&(H(x,!1),x.strm.avail_out===0)?y:T}function W(x,q){for(var F,B,L;;){if(x.lookahead<C){if(ie(x),x.lookahead<C&&q===s)return y;if(x.lookahead===0)break}if(F=0,x.lookahead>=b&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+b-1])&x.hash_mask,F=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=b-1,F!==0&&x.prev_length<x.max_lazy_match&&x.strstart-F<=x.w_size-C&&(x.match_length=J(x,F),x.match_length<=5&&(x.strategy===1||x.match_length===b&&x.strstart-x.match_start>4096)&&(x.match_length=b-1)),x.prev_length>=b&&x.match_length<=x.prev_length){L=x.strstart+x.lookahead-b,B=n._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-b),x.lookahead-=x.prev_length-1,x.prev_length-=2;do++x.strstart<=L&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+b-1])&x.hash_mask,F=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);while(--x.prev_length!=0);if(x.match_available=0,x.match_length=b-1,x.strstart++,B&&(H(x,!1),x.strm.avail_out===0))return y}else if(x.match_available){if((B=n._tr_tally(x,0,x.window[x.strstart-1]))&&H(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return y}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(B=n._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<b-1?x.strstart:b-1,q===a?(H(x,!0),x.strm.avail_out===0?V:O):x.last_lit&&(H(x,!1),x.strm.avail_out===0)?y:T}function Y(x,q,F,B,L){this.good_length=x,this.max_lazy=q,this.nice_length=F,this.max_chain=B,this.func=L}function re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(2*D),this.dyn_dtree=new t.Buf16(2*(2*g+1)),this.bl_tree=new t.Buf16(2*(2*v+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(w+1),this.heap=new t.Buf16(2*m+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*m+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function le(x){var q;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=f,(q=x.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?M:I,x.adler=q.wrap===2?0:1,q.last_flush=s,n._tr_init(q),l):N(x,u)}function ue(x){var q=le(x);return q===l&&function(F){F.window_size=2*F.w_size,K(F.head),F.max_lazy_match=e[F.level].max_lazy,F.good_match=e[F.level].good_length,F.nice_match=e[F.level].nice_length,F.max_chain_length=e[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=b-1,F.match_available=0,F.ins_h=0}(x.state),q}function Q(x,q,F,B,L,z){if(!x)return u;var ee=1;if(q===c&&(q=6),B<0?(ee=0,B=-B):B>15&&(ee=2,B-=16),L<1||L>p||F!==h||B<8||B>15||q<0||q>9||z<0||z>d)return N(x,u);B===8&&(B=9);var _=new re;return x.state=_,_.strm=x,_.wrap=ee,_.gzhead=null,_.w_bits=B,_.w_size=1<<_.w_bits,_.w_mask=_.w_size-1,_.hash_bits=L+7,_.hash_size=1<<_.hash_bits,_.hash_mask=_.hash_size-1,_.hash_shift=~~((_.hash_bits+b-1)/b),_.window=new t.Buf8(2*_.w_size),_.head=new t.Buf16(_.hash_size),_.prev=new t.Buf16(_.w_size),_.lit_bufsize=1<<L+6,_.pending_buf_size=4*_.lit_bufsize,_.pending_buf=new t.Buf8(_.pending_buf_size),_.d_buf=1*_.lit_bufsize,_.l_buf=3*_.lit_bufsize,_.level=q,_.strategy=z,_.method=F,ue(x)}return e=[new Y(0,0,0,0,function(x,q){var F=65535;for(F>x.pending_buf_size-5&&(F=x.pending_buf_size-5);;){if(x.lookahead<=1){if(ie(x),x.lookahead===0&&q===s)return y;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var B=x.block_start+F;if((x.strstart===0||x.strstart>=B)&&(x.lookahead=x.strstart-B,x.strstart=B,H(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-C&&(H(x,!1),x.strm.avail_out===0))return y}return x.insert=0,q===a?(H(x,!0),x.strm.avail_out===0?V:O):(x.strstart>x.block_start&&(H(x,!1),x.strm.avail_out),y)}),new Y(4,4,8,4,X),new Y(4,5,16,8,X),new Y(4,6,32,32,X),new Y(4,4,16,16,W),new Y(8,16,32,32,W),new Y(8,16,128,128,W),new Y(8,32,128,256,W),new Y(32,128,258,1024,W),new Y(32,258,258,4096,W)],vr.deflateInit=function(x,q){return Q(x,q,h,15,8,0)},vr.deflateInit2=Q,vr.deflateReset=ue,vr.deflateResetKeep=le,vr.deflateSetHeader=function(x,q){return x&&x.state?x.state.wrap!==2?u:(x.state.gzhead=q,l):u},vr.deflate=function(x,q){var F,B,L,z;if(!x||!x.state||q>5||q<0)return x?N(x,u):u;if(B=x.state,!x.output||!x.input&&x.avail_in!==0||B.status===k&&q!==a)return N(x,x.avail_out===0?-5:u);if(B.strm=x,F=B.last_flush,B.last_flush=q,B.status===M)if(B.wrap===2)x.adler=0,ne(B,31),ne(B,139),ne(B,8),B.gzhead?(ne(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),ne(B,255&B.gzhead.time),ne(B,B.gzhead.time>>8&255),ne(B,B.gzhead.time>>16&255),ne(B,B.gzhead.time>>24&255),ne(B,B.level===9?2:B.strategy>=2||B.level<2?4:0),ne(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(ne(B,255&B.gzhead.extra.length),ne(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(x.adler=i(x.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(ne(B,0),ne(B,0),ne(B,0),ne(B,0),ne(B,0),ne(B,B.level===9?2:B.strategy>=2||B.level<2?4:0),ne(B,3),B.status=I);else{var ee=h+(B.w_bits-8<<4)<<8;ee|=(B.strategy>=2||B.level<2?0:B.level<6?1:B.level===6?2:3)<<6,B.strstart!==0&&(ee|=32),ee+=31-ee%31,B.status=I,$(B,ee),B.strstart!==0&&($(B,x.adler>>>16),$(B,65535&x.adler)),x.adler=1}if(B.status===69)if(B.gzhead.extra){for(L=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>L&&(x.adler=i(x.adler,B.pending_buf,B.pending-L,L)),Z(x),L=B.pending,B.pending!==B.pending_buf_size));)ne(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>L&&(x.adler=i(x.adler,B.pending_buf,B.pending-L,L)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(B.status===73)if(B.gzhead.name){L=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>L&&(x.adler=i(x.adler,B.pending_buf,B.pending-L,L)),Z(x),L=B.pending,B.pending===B.pending_buf_size)){z=1;break}z=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,ne(B,z)}while(z!==0);B.gzhead.hcrc&&B.pending>L&&(x.adler=i(x.adler,B.pending_buf,B.pending-L,L)),z===0&&(B.gzindex=0,B.status=91)}else B.status=91;if(B.status===91)if(B.gzhead.comment){L=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>L&&(x.adler=i(x.adler,B.pending_buf,B.pending-L,L)),Z(x),L=B.pending,B.pending===B.pending_buf_size)){z=1;break}z=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,ne(B,z)}while(z!==0);B.gzhead.hcrc&&B.pending>L&&(x.adler=i(x.adler,B.pending_buf,B.pending-L,L)),z===0&&(B.status=S)}else B.status=S;if(B.status===S&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&Z(x),B.pending+2<=B.pending_buf_size&&(ne(B,255&x.adler),ne(B,x.adler>>8&255),x.adler=0,B.status=I)):B.status=I),B.pending!==0){if(Z(x),x.avail_out===0)return B.last_flush=-1,l}else if(x.avail_in===0&&P(q)<=P(F)&&q!==a)return N(x,-5);if(B.status===k&&x.avail_in!==0)return N(x,-5);if(x.avail_in!==0||B.lookahead!==0||q!==s&&B.status!==k){var _=B.strategy===2?function(A,j){for(var U;;){if(A.lookahead===0&&(ie(A),A.lookahead===0)){if(j===s)return y;break}if(A.match_length=0,U=n._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++,U&&(H(A,!1),A.strm.avail_out===0))return y}return A.insert=0,j===a?(H(A,!0),A.strm.avail_out===0?V:O):A.last_lit&&(H(A,!1),A.strm.avail_out===0)?y:T}(B,q):B.strategy===3?function(A,j){for(var U,se,ce,De,Ie=A.window;;){if(A.lookahead<=E){if(ie(A),A.lookahead<=E&&j===s)return y;if(A.lookahead===0)break}if(A.match_length=0,A.lookahead>=b&&A.strstart>0&&(se=Ie[ce=A.strstart-1])===Ie[++ce]&&se===Ie[++ce]&&se===Ie[++ce]){De=A.strstart+E;do;while(se===Ie[++ce]&&se===Ie[++ce]&&se===Ie[++ce]&&se===Ie[++ce]&&se===Ie[++ce]&&se===Ie[++ce]&&se===Ie[++ce]&&se===Ie[++ce]&&ce<De);A.match_length=E-(De-ce),A.match_length>A.lookahead&&(A.match_length=A.lookahead)}if(A.match_length>=b?(U=n._tr_tally(A,1,A.match_length-b),A.lookahead-=A.match_length,A.strstart+=A.match_length,A.match_length=0):(U=n._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++),U&&(H(A,!1),A.strm.avail_out===0))return y}return A.insert=0,j===a?(H(A,!0),A.strm.avail_out===0?V:O):A.last_lit&&(H(A,!1),A.strm.avail_out===0)?y:T}(B,q):e[B.level].func(B,q);if(_!==V&&_!==O||(B.status=k),_===y||_===V)return x.avail_out===0&&(B.last_flush=-1),l;if(_===T&&(q===1?n._tr_align(B):q!==5&&(n._tr_stored_block(B,0,0,!1),q===3&&(K(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),Z(x),x.avail_out===0))return B.last_flush=-1,l}return q!==a?l:B.wrap<=0?1:(B.wrap===2?(ne(B,255&x.adler),ne(B,x.adler>>8&255),ne(B,x.adler>>16&255),ne(B,x.adler>>24&255),ne(B,255&x.total_in),ne(B,x.total_in>>8&255),ne(B,x.total_in>>16&255),ne(B,x.total_in>>24&255)):($(B,x.adler>>>16),$(B,65535&x.adler)),Z(x),B.wrap>0&&(B.wrap=-B.wrap),B.pending!==0?l:1)},vr.deflateEnd=function(x){var q;return x&&x.state?(q=x.state.status)!==M&&q!==69&&q!==73&&q!==91&&q!==S&&q!==I&&q!==k?N(x,u):(x.state=null,q===I?N(x,-3):l):u},vr.deflateSetDictionary=function(x,q){var F,B,L,z,ee,_,A,j,U=q.length;if(!x||!x.state||(z=(F=x.state).wrap)===2||z===1&&F.status!==M||F.lookahead)return u;for(z===1&&(x.adler=r(x.adler,q,U,0)),F.wrap=0,U>=F.w_size&&(z===0&&(K(F.head),F.strstart=0,F.block_start=0,F.insert=0),j=new t.Buf8(F.w_size),t.arraySet(j,q,U-F.w_size,F.w_size,0),q=j,U=F.w_size),ee=x.avail_in,_=x.next_in,A=x.input,x.avail_in=U,x.next_in=0,x.input=q,ie(F);F.lookahead>=b;){B=F.strstart,L=F.lookahead-(b-1);do F.ins_h=(F.ins_h<<F.hash_shift^F.window[B+b-1])&F.hash_mask,F.prev[B&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=B,B++;while(--L);F.strstart=B,F.lookahead=b-1,ie(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=b-1,F.match_available=0,x.next_in=_,x.input=A,x.avail_in=ee,F.wrap=z,l},vr.deflateInfo="pako deflate (from Nodeca project)",vr}function rE(){if(Wb)return bo;Wb=1;var e=zi(),t=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var r=new e.Buf8(256),i=0;i<256;i++)r[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;function o(s,a){if(a<65534&&(s.subarray&&n||!s.subarray&&t))return String.fromCharCode.apply(null,e.shrinkBuf(s,a));for(var l="",u=0;u<a;u++)l+=String.fromCharCode(s[u]);return l}return r[254]=r[254]=1,bo.string2buf=function(s){var a,l,u,c,d,f=s.length,h=0;for(c=0;c<f;c++)(64512&(l=s.charCodeAt(c)))==55296&&c+1<f&&(64512&(u=s.charCodeAt(c+1)))==56320&&(l=65536+(l-55296<<10)+(u-56320),c++),h+=l<128?1:l<2048?2:l<65536?3:4;for(a=new e.Buf8(h),d=0,c=0;d<h;c++)(64512&(l=s.charCodeAt(c)))==55296&&c+1<f&&(64512&(u=s.charCodeAt(c+1)))==56320&&(l=65536+(l-55296<<10)+(u-56320),c++),l<128?a[d++]=l:l<2048?(a[d++]=192|l>>>6,a[d++]=128|63&l):l<65536?(a[d++]=224|l>>>12,a[d++]=128|l>>>6&63,a[d++]=128|63&l):(a[d++]=240|l>>>18,a[d++]=128|l>>>12&63,a[d++]=128|l>>>6&63,a[d++]=128|63&l);return a},bo.buf2binstring=function(s){return o(s,s.length)},bo.binstring2buf=function(s){for(var a=new e.Buf8(s.length),l=0,u=a.length;l<u;l++)a[l]=s.charCodeAt(l);return a},bo.buf2string=function(s,a){var l,u,c,d,f=a||s.length,h=new Array(2*f);for(u=0,l=0;l<f;)if((c=s[l++])<128)h[u++]=c;else if((d=r[c])>4)h[u++]=65533,l+=d-1;else{for(c&=d===2?31:d===3?15:7;d>1&&l<f;)c=c<<6|63&s[l++],d--;d>1?h[u++]=65533:c<65536?h[u++]=c:(c-=65536,h[u++]=55296|c>>10&1023,h[u++]=56320|1023&c)}return o(h,u)},bo.utf8border=function(s,a){var l;for((a=a||s.length)>s.length&&(a=s.length),l=a-1;l>=0&&(192&s[l])==128;)l--;return l<0||l===0?a:l+r[s[l]]>a?l:a},bo}function iE(){return Zb?qb:(Zb=1,qb=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0})}function CR(){if(Yb)return Os;Yb=1;var e=IR(),t=zi(),n=rE(),r=Pg(),i=iE(),o=Object.prototype.toString,s=0,a=-1,l=0,u=8;function c(f){if(!(this instanceof c))return new c(f);this.options=t.assign({level:a,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},f||{});var h=this.options;h.raw&&h.windowBits>0?h.windowBits=-h.windowBits:h.gzip&&h.windowBits>0&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var p=e.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(p!==s)throw new Error(r[p]);if(h.header&&e.deflateSetHeader(this.strm,h.header),h.dictionary){var m;if(m=typeof h.dictionary=="string"?n.string2buf(h.dictionary):o.call(h.dictionary)==="[object ArrayBuffer]"?new Uint8Array(h.dictionary):h.dictionary,(p=e.deflateSetDictionary(this.strm,m))!==s)throw new Error(r[p]);this._dict_set=!0}}function d(f,h){var p=new c(h);if(p.push(f,!0),p.err)throw p.msg||r[p.err];return p.result}return c.prototype.push=function(f,h){var p,m,g=this.strm,v=this.options.chunkSize;if(this.ended)return!1;m=h===~~h?h:h===!0?4:0,typeof f=="string"?g.input=n.string2buf(f):o.call(f)==="[object ArrayBuffer]"?g.input=new Uint8Array(f):g.input=f,g.next_in=0,g.avail_in=g.input.length;do{if(g.avail_out===0&&(g.output=new t.Buf8(v),g.next_out=0,g.avail_out=v),(p=e.deflate(g,m))!==1&&p!==s)return this.onEnd(p),this.ended=!0,!1;g.avail_out!==0&&(g.avail_in!==0||m!==4&&m!==2)||(this.options.to==="string"?this.onData(n.buf2binstring(t.shrinkBuf(g.output,g.next_out))):this.onData(t.shrinkBuf(g.output,g.next_out)))}while((g.avail_in>0||g.avail_out===0)&&p!==1);return m===4?(p=e.deflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===s):m!==2||(this.onEnd(s),g.avail_out=0,!0)},c.prototype.onData=function(f){this.chunks.push(f)},c.prototype.onEnd=function(f){f===s&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},Os.Deflate=c,Os.deflate=d,Os.deflateRaw=function(f,h){return(h=h||{}).raw=!0,d(f,h)},Os.gzip=function(f,h){return(h=h||{}).gzip=!0,d(f,h)},Os}function SR(){return Qb?Vm:(Qb=1,Vm=function(e,t){var n,r,i,o,s,a,l,u,c,d,f,h,p,m,g,v,D,w,b,E,C,M,S,I,k;n=e.state,r=e.next_in,I=e.input,i=r+(e.avail_in-5),o=e.next_out,k=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,f=n.window,h=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,D=(1<<n.distbits)-1;e:do{p<15&&(h+=I[r++]<<p,p+=8,h+=I[r++]<<p,p+=8),w=m[h&v];t:for(;;){if(h>>>=b=w>>>24,p-=b,(b=w>>>16&255)===0)k[o++]=65535&w;else{if(!(16&b)){if(64&b){if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=m[(65535&w)+(h&(1<<b)-1)];continue t}for(E=65535&w,(b&=15)&&(p<b&&(h+=I[r++]<<p,p+=8),E+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=I[r++]<<p,p+=8,h+=I[r++]<<p,p+=8),w=g[h&D];;){if(h>>>=b=w>>>24,p-=b,16&(b=w>>>16&255)){if(C=65535&w,p<(b&=15)&&(h+=I[r++]<<p,(p+=8)<b&&(h+=I[r++]<<p,p+=8)),(C+=h&(1<<b)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=b,p-=b,C>(b=o-s)){if((b=C-b)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(M=0,S=f,d===0){if(M+=u-b,b<E){E-=b;do k[o++]=f[M++];while(--b);M=o-C,S=k}}else if(d<b){if(M+=u+d-b,(b-=d)<E){E-=b;do k[o++]=f[M++];while(--b);if(M=0,d<E){E-=b=d;do k[o++]=f[M++];while(--b);M=o-C,S=k}}}else if(M+=d-b,b<E){E-=b;do k[o++]=f[M++];while(--b);M=o-C,S=k}for(;E>2;)k[o++]=S[M++],k[o++]=S[M++],k[o++]=S[M++],E-=3;E&&(k[o++]=S[M++],E>1&&(k[o++]=S[M++]))}else{M=o-C;do k[o++]=k[M++],k[o++]=k[M++],k[o++]=k[M++],E-=3;while(E>2);E&&(k[o++]=k[M++],E>1&&(k[o++]=k[M++]))}break}if(64&b){e.msg="invalid distance code",n.mode=30;break e}w=g[(65535&w)+(h&(1<<b)-1)]}}break}}while(r<i&&o<a);r-=E=p>>3,h&=(1<<(p-=E<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=h,n.bits=p},Vm)}function AR(){if(Jb)return Kb;Jb=1;var e=zi(),t=15,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Kb=function(s,a,l,u,c,d,f,h){var p,m,g,v,D,w,b,E,C,M=h.bits,S=0,I=0,k=0,y=0,T=0,V=0,O=0,N=0,P=0,K=0,Z=null,H=0,ne=new e.Buf16(16),$=new e.Buf16(16),J=null,ie=0;for(S=0;S<=t;S++)ne[S]=0;for(I=0;I<u;I++)ne[a[l+I]]++;for(T=M,y=t;y>=1&&ne[y]===0;y--);if(T>y&&(T=y),y===0)return c[d++]=20971520,c[d++]=20971520,h.bits=1,0;for(k=1;k<y&&ne[k]===0;k++);for(T<k&&(T=k),N=1,S=1;S<=t;S++)if(N<<=1,(N-=ne[S])<0)return-1;if(N>0&&(s===0||y!==1))return-1;for($[1]=0,S=1;S<t;S++)$[S+1]=$[S]+ne[S];for(I=0;I<u;I++)a[l+I]!==0&&(f[$[a[l+I]]++]=I);if(s===0?(Z=J=f,w=19):s===1?(Z=n,H-=257,J=r,ie-=257,w=256):(Z=i,J=o,w=-1),K=0,I=0,S=k,D=d,V=T,O=0,g=-1,v=(P=1<<T)-1,s===1&&P>852||s===2&&P>592)return 1;for(;;){b=S-O,f[I]<w?(E=0,C=f[I]):f[I]>w?(E=J[ie+f[I]],C=Z[H+f[I]]):(E=96,C=0),p=1<<S-O,k=m=1<<V;do c[D+(K>>O)+(m-=p)]=b<<24|E<<16|C;while(m!==0);for(p=1<<S-1;K&p;)p>>=1;if(p!==0?(K&=p-1,K+=p):K=0,I++,--ne[S]==0){if(S===y)break;S=a[l+f[I]]}if(S>T&&(K&v)!==g){for(O===0&&(O=T),D+=k,N=1<<(V=S-O);V+O<y&&!((N-=ne[V+O])<=0);)V++,N<<=1;if(P+=1<<V,s===1&&P>852||s===2&&P>592)return 1;c[g=K&v]=T<<24|V<<16|D-d}}return K!==0&&(c[D+K]=S-O<<24|64<<16),h.bits=T,0}}function TR(){if(Xb)return nr;Xb=1;var e=zi(),t=tE(),n=nE(),r=SR(),i=AR(),o=1,s=2,a=0,l=-2,u=1,c=12,d=30,f=852,h=592;function p(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(I){var k;return I&&I.state?(k=I.state,I.total_in=I.total_out=k.total=0,I.msg="",k.wrap&&(I.adler=1&k.wrap),k.mode=u,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new e.Buf32(f),k.distcode=k.distdyn=new e.Buf32(h),k.sane=1,k.back=-1,a):l}function v(I){var k;return I&&I.state?((k=I.state).wsize=0,k.whave=0,k.wnext=0,g(I)):l}function D(I,k){var y,T;return I&&I.state?(T=I.state,k<0?(y=0,k=-k):(y=1+(k>>4),k<48&&(k&=15)),k&&(k<8||k>15)?l:(T.window!==null&&T.wbits!==k&&(T.window=null),T.wrap=y,T.wbits=k,v(I))):l}function w(I,k){var y,T;return I?(T=new m,I.state=T,T.window=null,(y=D(I,k))!==a&&(I.state=null),y):l}var b,E,C=!0;function M(I){if(C){var k;for(b=new e.Buf32(512),E=new e.Buf32(32),k=0;k<144;)I.lens[k++]=8;for(;k<256;)I.lens[k++]=9;for(;k<280;)I.lens[k++]=7;for(;k<288;)I.lens[k++]=8;for(i(o,I.lens,0,288,b,0,I.work,{bits:9}),k=0;k<32;)I.lens[k++]=5;i(s,I.lens,0,32,E,0,I.work,{bits:5}),C=!1}I.lencode=b,I.lenbits=9,I.distcode=E,I.distbits=5}function S(I,k,y,T){var V,O=I.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new e.Buf8(O.wsize)),T>=O.wsize?(e.arraySet(O.window,k,y-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):((V=O.wsize-O.wnext)>T&&(V=T),e.arraySet(O.window,k,y-T,V,O.wnext),(T-=V)?(e.arraySet(O.window,k,y-T,T,0),O.wnext=T,O.whave=O.wsize):(O.wnext+=V,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=V))),0}return nr.inflateReset=v,nr.inflateReset2=D,nr.inflateResetKeep=g,nr.inflateInit=function(I){return w(I,15)},nr.inflateInit2=w,nr.inflate=function(I,k){var y,T,V,O,N,P,K,Z,H,ne,$,J,ie,X,W,Y,re,le,ue,Q,x,q,F,B,L=0,z=new e.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return l;(y=I.state).mode===c&&(y.mode=13),N=I.next_out,V=I.output,K=I.avail_out,O=I.next_in,T=I.input,P=I.avail_in,Z=y.hold,H=y.bits,ne=P,$=K,q=a;e:for(;;)switch(y.mode){case u:if(y.wrap===0){y.mode=13;break}for(;H<16;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}if(2&y.wrap&&Z===35615){y.check=0,z[0]=255&Z,z[1]=Z>>>8&255,y.check=n(y.check,z,2,0),Z=0,H=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&Z)<<8)+(Z>>8))%31){I.msg="incorrect header check",y.mode=d;break}if((15&Z)!=8){I.msg="unknown compression method",y.mode=d;break}if(H-=4,x=8+(15&(Z>>>=4)),y.wbits===0)y.wbits=x;else if(x>y.wbits){I.msg="invalid window size",y.mode=d;break}y.dmax=1<<x,I.adler=y.check=1,y.mode=512&Z?10:c,Z=0,H=0;break;case 2:for(;H<16;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}if(y.flags=Z,(255&y.flags)!=8){I.msg="unknown compression method",y.mode=d;break}if(57344&y.flags){I.msg="unknown header flags set",y.mode=d;break}y.head&&(y.head.text=Z>>8&1),512&y.flags&&(z[0]=255&Z,z[1]=Z>>>8&255,y.check=n(y.check,z,2,0)),Z=0,H=0,y.mode=3;case 3:for(;H<32;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}y.head&&(y.head.time=Z),512&y.flags&&(z[0]=255&Z,z[1]=Z>>>8&255,z[2]=Z>>>16&255,z[3]=Z>>>24&255,y.check=n(y.check,z,4,0)),Z=0,H=0,y.mode=4;case 4:for(;H<16;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}y.head&&(y.head.xflags=255&Z,y.head.os=Z>>8),512&y.flags&&(z[0]=255&Z,z[1]=Z>>>8&255,y.check=n(y.check,z,2,0)),Z=0,H=0,y.mode=5;case 5:if(1024&y.flags){for(;H<16;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}y.length=Z,y.head&&(y.head.extra_len=Z),512&y.flags&&(z[0]=255&Z,z[1]=Z>>>8&255,y.check=n(y.check,z,2,0)),Z=0,H=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&((J=y.length)>P&&(J=P),J&&(y.head&&(x=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),e.arraySet(y.head.extra,T,O,J,x)),512&y.flags&&(y.check=n(y.check,T,J,O)),P-=J,O+=J,y.length-=J),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(P===0)break e;J=0;do x=T[O+J++],y.head&&x&&y.length<65536&&(y.head.name+=String.fromCharCode(x));while(x&&J<P);if(512&y.flags&&(y.check=n(y.check,T,J,O)),P-=J,O+=J,x)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(P===0)break e;J=0;do x=T[O+J++],y.head&&x&&y.length<65536&&(y.head.comment+=String.fromCharCode(x));while(x&&J<P);if(512&y.flags&&(y.check=n(y.check,T,J,O)),P-=J,O+=J,x)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;H<16;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}if(Z!==(65535&y.check)){I.msg="header crc mismatch",y.mode=d;break}Z=0,H=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),I.adler=y.check=0,y.mode=c;break;case 10:for(;H<32;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}I.adler=y.check=p(Z),Z=0,H=0,y.mode=11;case 11:if(y.havedict===0)return I.next_out=N,I.avail_out=K,I.next_in=O,I.avail_in=P,y.hold=Z,y.bits=H,2;I.adler=y.check=1,y.mode=c;case c:if(k===5||k===6)break e;case 13:if(y.last){Z>>>=7&H,H-=7&H,y.mode=27;break}for(;H<3;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}switch(y.last=1&Z,H-=1,3&(Z>>>=1)){case 0:y.mode=14;break;case 1:if(M(y),y.mode=20,k===6){Z>>>=2,H-=2;break e}break;case 2:y.mode=17;break;case 3:I.msg="invalid block type",y.mode=d}Z>>>=2,H-=2;break;case 14:for(Z>>>=7&H,H-=7&H;H<32;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}if((65535&Z)!=(Z>>>16^65535)){I.msg="invalid stored block lengths",y.mode=d;break}if(y.length=65535&Z,Z=0,H=0,y.mode=15,k===6)break e;case 15:y.mode=16;case 16:if(J=y.length){if(J>P&&(J=P),J>K&&(J=K),J===0)break e;e.arraySet(V,T,O,J,N),P-=J,O+=J,K-=J,N+=J,y.length-=J;break}y.mode=c;break;case 17:for(;H<14;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}if(y.nlen=257+(31&Z),Z>>>=5,H-=5,y.ndist=1+(31&Z),Z>>>=5,H-=5,y.ncode=4+(15&Z),Z>>>=4,H-=4,y.nlen>286||y.ndist>30){I.msg="too many length or distance symbols",y.mode=d;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;H<3;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}y.lens[ee[y.have++]]=7&Z,Z>>>=3,H-=3}for(;y.have<19;)y.lens[ee[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,F={bits:y.lenbits},q=i(0,y.lens,0,19,y.lencode,0,y.work,F),y.lenbits=F.bits,q){I.msg="invalid code lengths set",y.mode=d;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;Y=(L=y.lencode[Z&(1<<y.lenbits)-1])>>>16&255,re=65535&L,!((W=L>>>24)<=H);){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}if(re<16)Z>>>=W,H-=W,y.lens[y.have++]=re;else{if(re===16){for(B=W+2;H<B;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}if(Z>>>=W,H-=W,y.have===0){I.msg="invalid bit length repeat",y.mode=d;break}x=y.lens[y.have-1],J=3+(3&Z),Z>>>=2,H-=2}else if(re===17){for(B=W+3;H<B;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}H-=W,x=0,J=3+(7&(Z>>>=W)),Z>>>=3,H-=3}else{for(B=W+7;H<B;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}H-=W,x=0,J=11+(127&(Z>>>=W)),Z>>>=7,H-=7}if(y.have+J>y.nlen+y.ndist){I.msg="invalid bit length repeat",y.mode=d;break}for(;J--;)y.lens[y.have++]=x}}if(y.mode===d)break;if(y.lens[256]===0){I.msg="invalid code -- missing end-of-block",y.mode=d;break}if(y.lenbits=9,F={bits:y.lenbits},q=i(o,y.lens,0,y.nlen,y.lencode,0,y.work,F),y.lenbits=F.bits,q){I.msg="invalid literal/lengths set",y.mode=d;break}if(y.distbits=6,y.distcode=y.distdyn,F={bits:y.distbits},q=i(s,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,F),y.distbits=F.bits,q){I.msg="invalid distances set",y.mode=d;break}if(y.mode=20,k===6)break e;case 20:y.mode=21;case 21:if(P>=6&&K>=258){I.next_out=N,I.avail_out=K,I.next_in=O,I.avail_in=P,y.hold=Z,y.bits=H,r(I,$),N=I.next_out,V=I.output,K=I.avail_out,O=I.next_in,T=I.input,P=I.avail_in,Z=y.hold,H=y.bits,y.mode===c&&(y.back=-1);break}for(y.back=0;Y=(L=y.lencode[Z&(1<<y.lenbits)-1])>>>16&255,re=65535&L,!((W=L>>>24)<=H);){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}if(Y&&!(240&Y)){for(le=W,ue=Y,Q=re;Y=(L=y.lencode[Q+((Z&(1<<le+ue)-1)>>le)])>>>16&255,re=65535&L,!(le+(W=L>>>24)<=H);){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}Z>>>=le,H-=le,y.back+=le}if(Z>>>=W,H-=W,y.back+=W,y.length=re,Y===0){y.mode=26;break}if(32&Y){y.back=-1,y.mode=c;break}if(64&Y){I.msg="invalid literal/length code",y.mode=d;break}y.extra=15&Y,y.mode=22;case 22:if(y.extra){for(B=y.extra;H<B;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}y.length+=Z&(1<<y.extra)-1,Z>>>=y.extra,H-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;Y=(L=y.distcode[Z&(1<<y.distbits)-1])>>>16&255,re=65535&L,!((W=L>>>24)<=H);){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}if(!(240&Y)){for(le=W,ue=Y,Q=re;Y=(L=y.distcode[Q+((Z&(1<<le+ue)-1)>>le)])>>>16&255,re=65535&L,!(le+(W=L>>>24)<=H);){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}Z>>>=le,H-=le,y.back+=le}if(Z>>>=W,H-=W,y.back+=W,64&Y){I.msg="invalid distance code",y.mode=d;break}y.offset=re,y.extra=15&Y,y.mode=24;case 24:if(y.extra){for(B=y.extra;H<B;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}y.offset+=Z&(1<<y.extra)-1,Z>>>=y.extra,H-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){I.msg="invalid distance too far back",y.mode=d;break}y.mode=25;case 25:if(K===0)break e;if(J=$-K,y.offset>J){if((J=y.offset-J)>y.whave&&y.sane){I.msg="invalid distance too far back",y.mode=d;break}J>y.wnext?(J-=y.wnext,ie=y.wsize-J):ie=y.wnext-J,J>y.length&&(J=y.length),X=y.window}else X=V,ie=N-y.offset,J=y.length;J>K&&(J=K),K-=J,y.length-=J;do V[N++]=X[ie++];while(--J);y.length===0&&(y.mode=21);break;case 26:if(K===0)break e;V[N++]=y.length,K--,y.mode=21;break;case 27:if(y.wrap){for(;H<32;){if(P===0)break e;P--,Z|=T[O++]<<H,H+=8}if($-=K,I.total_out+=$,y.total+=$,$&&(I.adler=y.check=y.flags?n(y.check,V,$,N-$):t(y.check,V,$,N-$)),$=K,(y.flags?Z:p(Z))!==y.check){I.msg="incorrect data check",y.mode=d;break}Z=0,H=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;H<32;){if(P===0)break e;P--,Z+=T[O++]<<H,H+=8}if(Z!==(4294967295&y.total)){I.msg="incorrect length check",y.mode=d;break}Z=0,H=0}y.mode=29;case 29:q=1;break e;case d:q=-3;break e;case 31:return-4;default:return l}return I.next_out=N,I.avail_out=K,I.next_in=O,I.avail_in=P,y.hold=Z,y.bits=H,(y.wsize||$!==I.avail_out&&y.mode<d&&(y.mode<27||k!==4))&&S(I,I.output,I.next_out,$-I.avail_out),ne-=I.avail_in,$-=I.avail_out,I.total_in+=ne,I.total_out+=$,y.total+=$,y.wrap&&$&&(I.adler=y.check=y.flags?n(y.check,V,$,I.next_out-$):t(y.check,V,$,I.next_out-$)),I.data_type=y.bits+(y.last?64:0)+(y.mode===c?128:0)+(y.mode===20||y.mode===15?256:0),(ne===0&&$===0||k===4)&&q===a&&(q=-5),q},nr.inflateEnd=function(I){if(!I||!I.state)return l;var k=I.state;return k.window&&(k.window=null),I.state=null,a},nr.inflateGetHeader=function(I,k){var y;return I&&I.state&&2&(y=I.state).wrap?(y.head=k,k.done=!1,a):l},nr.inflateSetDictionary=function(I,k){var y,T=k.length;return I&&I.state?(y=I.state).wrap!==0&&y.mode!==11?l:y.mode===11&&t(1,k,T,0)!==y.check?-3:S(I,k,T,T)?(y.mode=31,-4):(y.havedict=1,a):l},nr.inflateInfo="pako inflate (from Nodeca project)",nr}function oE(){return tw?ew:(tw=1,ew={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function kR(){return rw?nw:(rw=1,nw=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1})}function RR(){if(iw)return Ps;iw=1;var e=TR(),t=zi(),n=rE(),r=oE(),i=Pg(),o=iE(),s=kR(),a=Object.prototype.toString;function l(c){if(!(this instanceof l))return new l(c);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},c||{});var d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),!(d.windowBits>=0&&d.windowBits<16)||c&&c.windowBits||(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&(15&d.windowBits||(d.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var f=e.inflateInit2(this.strm,d.windowBits);if(f!==r.Z_OK)throw new Error(i[f]);if(this.header=new s,e.inflateGetHeader(this.strm,this.header),d.dictionary&&(typeof d.dictionary=="string"?d.dictionary=n.string2buf(d.dictionary):a.call(d.dictionary)==="[object ArrayBuffer]"&&(d.dictionary=new Uint8Array(d.dictionary)),d.raw&&(f=e.inflateSetDictionary(this.strm,d.dictionary))!==r.Z_OK))throw new Error(i[f])}function u(c,d){var f=new l(d);if(f.push(c,!0),f.err)throw f.msg||i[f.err];return f.result}return l.prototype.push=function(c,d){var f,h,p,m,g,v=this.strm,D=this.options.chunkSize,w=this.options.dictionary,b=!1;if(this.ended)return!1;h=d===~~d?d:d===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof c=="string"?v.input=n.binstring2buf(c):a.call(c)==="[object ArrayBuffer]"?v.input=new Uint8Array(c):v.input=c,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new t.Buf8(D),v.next_out=0,v.avail_out=D),(f=e.inflate(v,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&w&&(f=e.inflateSetDictionary(this.strm,w)),f===r.Z_BUF_ERROR&&b===!0&&(f=r.Z_OK,b=!1),f!==r.Z_STREAM_END&&f!==r.Z_OK)return this.onEnd(f),this.ended=!0,!1;v.next_out&&(v.avail_out!==0&&f!==r.Z_STREAM_END&&(v.avail_in!==0||h!==r.Z_FINISH&&h!==r.Z_SYNC_FLUSH)||(this.options.to==="string"?(p=n.utf8border(v.output,v.next_out),m=v.next_out-p,g=n.buf2string(v.output,p),v.next_out=m,v.avail_out=D-m,m&&t.arraySet(v.output,v.output,p,m,0),this.onData(g)):this.onData(t.shrinkBuf(v.output,v.next_out)))),v.avail_in===0&&v.avail_out===0&&(b=!0)}while((v.avail_in>0||v.avail_out===0)&&f!==r.Z_STREAM_END);return f===r.Z_STREAM_END&&(h=r.Z_FINISH),h===r.Z_FINISH?(f=e.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===r.Z_OK):h!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),v.avail_out=0,!0)},l.prototype.onData=function(c){this.chunks.push(c)},l.prototype.onEnd=function(c){c===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},Ps.Inflate=l,Ps.inflate=u,Ps.inflateRaw=function(c,d){return(d=d||{}).raw=!0,u(c,d)},Ps.ungzip=u,Ps}function NR(){if(sw)return ow;sw=1;var e={};return(0,zi().assign)(e,CR(),RR(),oE()),ow=e}function aw(e){return typeof e=="number"?e:e instanceof Uint8Array?e[0]:typeof e[0]=="string"?parseInt(e[0]):e[0]}function sE(){return{mime:"image/tiff",encode:e=>{let t=ad.encodeImage(e.data,e.width,e.height);return _e.from(t)},decode:e=>{let t=ad.decode(e),n=t[0];if(!n)throw new Error("No page found in TIFF");if(!n.t256)throw new Error("No image width found in TIFF");if(!n.t257)throw new Error("No image height found in TIFF");t.forEach(i=>{ad.decodeImage(e,i)});let r=ad.toRGBA8(n);return{data:_e.from(r),width:aw(n.t256),height:aw(n.t257)}}}}function FR(e){aE=e}function xd(){return aE}function Ne(e,t){let n=xd(),r=Md({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ys?void 0:Ys].filter(i=>!!i)});e.common.issues.push(r)}function Cd(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function lE(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function ot(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,s)=>{var a,l;let{message:u}=e;return o.code==="invalid_enum_value"?{message:u??s.defaultError}:s.data===void 0?{message:(a=u??r)!==null&&a!==void 0?a:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:s.defaultError}},description:i}}function cE(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function QR(e){return new RegExp(`^${cE(e)}$`)}function dE(e){let t=`${uE}T${cE(e)}`,n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function KR(e,t){return!(t!=="v4"&&t||!WR.test(e))||!(t!=="v6"&&t||!qR.test(e))}function JR(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}function $s(e){if(e instanceof On){let t={};for(let n in e.shape){let r=e.shape[n];t[n]=Bi.create($s(r))}return new On(Ae(he({},e._def),{shape:()=>t}))}return e instanceof mi?new mi(Ae(he({},e._def),{type:$s(e.element)})):e instanceof Bi?Bi.create($s(e.unwrap())):e instanceof Ks?Ks.create($s(e.unwrap())):e instanceof Qs?Qs.create(e.items.map(t=>$s(t))):e}function fg(e,t){let n=Li(e),r=Li(t);if(e===t)return{valid:!0,data:e};if(n===Le.object&&r===Le.object){let i=bt.objectKeys(t),o=bt.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s=he(he({},e),t);for(let a of o){let l=fg(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}if(n===Le.array&&r===Le.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let o=0;o<e.length;o++){let s=fg(e[o],t[o]);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}return n===Le.date&&r===Le.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}function gE(e,t){return new So(he({values:e,typeName:qe.ZodEnum},ot(t)))}function _E(e,t={},n){return e?Sd.create().superRefine((r,i)=>{var o,s;if(!e(r)){let a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(s=(o=a.fatal)!==null&&o!==void 0?o:n)===null||s===void 0||s,u=typeof a=="string"?{message:a}:a;i.addIssue(Ae(he({code:"custom"},u),{fatal:l}))}}):Sd.create()}function cw(e,t,n,r){let i=[0,0,0,0],o=(t.length-1)/2;for(let s=0;s<t.length;s+=1)for(let a=0;a<t[s].length;a+=1){let l=e.getPixelIndex(n+s-o,r+a-o);i[0]+=e.bitmap.data[l]*t[s][a],i[1]+=e.bitmap.data[l+1]*t[s][a],i[2]+=e.bitmap.data[l+2]*t[s][a],i[3]+=e.bitmap.data[l+3]*t[s][a]}return i}function Hm(e,t,n=50){return{r:(t.r-e.r)*(n/100)+e.r,g:(t.g-e.g)*(n/100)+e.g,b:(t.b-e.b)*(n/100)+e.b}}function f4(e){let t={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return e.scan((n,r,i)=>{t.r[e.bitmap.data[i+0]]++,t.g[e.bitmap.data[i+1]]++,t.b[e.bitmap.data[i+2]]++}),t}function D4(e){return Ve(this,null,function*(){let t=yield Yd.fromStream(e);try{return yield Qd(t)}finally{yield t.close()}})}function IE(e){return Ve(this,null,function*(){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||_e.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);let t=e instanceof _e?e:_e.from(e);if(t&&t.length>1)return Qd(Yd.fromBuffer(t))})}function Fr(e,t,n){n=he({offset:0},n);for(let[r,i]of t.entries())if(n.mask){if(i!==(n.mask[r]&e[r+n.offset]))return!1}else if(i!==e[r+n.offset])return!1;return!0}function Qd(e){return Ve(this,null,function*(){try{return x4(e)}catch(t){if(!(t instanceof Yd.EndOfStreamError))throw t}})}function x4(e){return Ve(this,null,function*(){let t=_e.alloc(ME),n=(i,o)=>Fr(t,i,o),r=(i,o)=>n(b4(i),o);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),yield e.peekBuffer(t,{length:12,mayBeLess:!0}),n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(n([37,33]))return yield e.peekBuffer(t,{length:24,mayBeLess:!0}),r("PS-Adobe-",{offset:2})&&r(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r("ID3")){yield e.ignore(6);let i=yield e.readToken(E4);return e.position+i>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(yield e.ignore(i),Qd(e))}if(r("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((t[0]===67||t[0]===70)&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r("FLIF"))return{ext:"flif",mime:"image/flif"};if(r("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(r("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(r("FORM"))return{ext:"aif",mime:"audio/aiff"};if(r("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(n([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){yield e.readBuffer(t,{length:30});let i={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(i.filename=yield e.readToken(new ui.StringType(i.filenameLength,"utf-8")),yield e.ignore(i.extraFieldLength),i.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(i.filename.endsWith(".rels")||i.filename.endsWith(".xml"))switch(i.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(i.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(i.filename.startsWith("3D/")&&i.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(i.filename==="mimetype"&&i.compressedSize===i.uncompressedSize)switch(yield e.readToken(new ui.StringType(i.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(i.compressedSize===0){let o=-1;for(;o<0&&e.position<e.fileInfo.size;)yield e.peekBuffer(t,{mayBeLess:!0}),o=t.indexOf("504B0304",0,"hex"),yield e.ignore(o>=0?o:t.length)}else yield e.ignore(i.compressedSize)}}catch(i){if(!(i instanceof Yd.EndOfStreamError))throw i}return{ext:"zip",mime:"application/zip"}}if(r("OggS")){yield e.ignore(28);let i=_e.alloc(8);return yield e.readBuffer(i),Fr(i,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:Fr(i,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:Fr(i,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:Fr(i,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:Fr(i,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:Fr(i,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(n([80,75])&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8))return{ext:"zip",mime:"application/zip"};if(r("ftyp",{offset:4})&&96&t[8]){let i=t.toString("binary",8,12).replace("\0"," ").trim();switch(i){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return i.startsWith("3g")?i.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(r("MThd"))return{ext:"mid",mime:"audio/midi"};if(r("wOFF")&&(n([0,1,0,0],{offset:4})||r("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(r("wOF2")&&(n([0,1,0,0],{offset:4})||r("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([212,195,178,161])||n([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(r("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(r("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(r("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(r("%PDF")){yield e.ignore(1350);let i=10485760,o=_e.alloc(Math.min(i,e.fileInfo.size));return yield e.readBuffer(o,{mayBeLess:!0}),o.includes(_e.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([73,73,42,0]))return r("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:n([28,0,254,0],{offset:8})||n([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:n([8,0,0,0],{offset:4})&&(n([45,0,254,0],{offset:8})||n([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=_e.alloc(24),yield e.peekBuffer(t),(n([16,251,134,1],{offset:4})||n([8,0,0,0],{offset:4}))&&n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r("MAC "))return{ext:"ape",mime:"audio/ape"};if(n([26,69,223,163])){function i(){return Ve(this,null,function*(){let l=yield e.peekNumber(ui.UINT8),u=128,c=0;for(;!(l&u)&&u!==0;)++c,u>>=1;let d=_e.alloc(c+1);return yield e.readBuffer(d),d})}function o(){return Ve(this,null,function*(){let l=yield i(),u=yield i();u[0]^=128>>u.length-1;let c=Math.min(6,u.length);return{id:l.readUIntBE(0,l.length),len:u.readUIntBE(u.length-c,c)}})}function s(l,u){return Ve(this,null,function*(){for(;u>0;){let c=yield o();if(c.id===17026)return e.readToken(new ui.StringType(c.len,"utf-8"));yield e.ignore(c.len),--u}})}let a=yield o();switch(yield s(0,a.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r("MSCF")||r("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(n([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(r("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r("IMPM"))return{ext:"it",mime:"audio/x-it"};if(r("-lh0-",{offset:2})||r("-lh1-",{offset:2})||r("-lh2-",{offset:2})||r("-lh3-",{offset:2})||r("-lh4-",{offset:2})||r("-lh5-",{offset:2})||r("-lh6-",{offset:2})||r("-lh7-",{offset:2})||r("-lzs-",{offset:2})||r("-lz4-",{offset:2})||r("-lz5-",{offset:2})||r("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(n([0,0,1,186])){if(n([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(n([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(r("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([82,97,114,33,26,7])&&(t[6]===0||t[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(r("solid "))return{ext:"stl",mime:"model/stl"};if(r("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(r("!<arch>"))return yield e.ignore(8),(yield e.readToken(new ui.StringType(13,"ascii")))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(n([137,80,78,71,13,10,26,10])){function i(){return Ve(this,null,function*(){return{length:yield e.readToken(ui.INT32_BE),type:yield e.readToken(new ui.StringType(4,"binary"))}})}yield e.ignore(8);do{let o=yield i();if(o.length<0)return;switch(o.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:yield e.ignore(o.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(n([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(n([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(r("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(n([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(n([48,38,178,117,142,102,207,17,166,217])){function i(){return Ve(this,null,function*(){let o=_e.alloc(16);return yield e.readBuffer(o),{id:o,size:Number(yield e.readToken(ui.UINT64_LE))}})}for(yield e.ignore(30);e.position+24<e.fileInfo.size;){let o=yield i(),s=o.size-24;if(Fr(o.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let a=_e.alloc(16);if(s-=yield e.readBuffer(a),Fr(a,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(Fr(a,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}yield e.ignore(s)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((n([126,16,4])||n([126,24,4]))&&n([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(n([0,0,0,12,106,80,32,32,13,10,135,10]))switch(yield e.ignore(20),yield e.readToken(new ui.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(n([255,10])||n([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(yield e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),r("BEGIN:")){if(r("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(r("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(r("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(r("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(r("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(n([4,0,0,0])&&t.length>=16){let i=t.readUInt32LE(12);if(i>12&&t.length>=i+16)try{let o=t.slice(16,i+16).toString();if(JSON.parse(o).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(yield e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),w4(t))return{ext:"tar",mime:"application/x-tar"};if(n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(r("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&n([255,224],{offset:0,mask:[255,224]})){if(n([16],{offset:1,mask:[22]}))return n([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(n([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}})}function hw(e,t){return e.then(function(n){return[null,n]}).catch(function(n){return[n,void 0]})}function md(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}function CE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a;return{r:(e.r*e.a+t.r*t.a*(1-e.a))/r,g:(e.g*e.a+t.g*t.a*(1-e.a))/r,b:(e.b*e.a+t.b*t.a*(1-e.a))/r,a:r}}function SE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a;return{r:(t.r*t.a+e.r*e.a*(1-t.a))/r,g:(t.g*t.a+e.g*e.a*(1-t.a))/r,b:(t.b*t.a+e.b*e.a*(1-t.a))/r,a:r}}function AE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(i*a+i*(1-t.a)+a*(1-e.a))/r,g:(o*l+o*(1-t.a)+l*(1-e.a))/r,b:(s*u+s*(1-t.a)+u*(1-e.a))/r,a:r}}function TE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a;return{r:(i+t.r*t.a)/r,g:(o+t.g*t.a)/r,b:(s+t.b*t.a)/r,a:r}}function kE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(i*t.a+a*e.a-i*a+i*(1-t.a)+a*(1-e.a))/r,g:(o*t.a+l*e.a-o*l+o*(1-t.a)+l*(1-e.a))/r,b:(s*t.a+u*e.a-s*u+s*(1-t.a)+u*(1-e.a))/r,a:r}}function RE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(2*a<=t.a?2*i*a+i*(1-t.a)+a*(1-e.a):i*(1+t.a)+a*(1+e.a)-2*a*i-t.a*e.a)/r,g:(2*l<=t.a?2*o*l+o*(1-t.a)+l*(1-e.a):o*(1+t.a)+l*(1+e.a)-2*l*o-t.a*e.a)/r,b:(2*u<=t.a?2*s*u+s*(1-t.a)+u*(1-e.a):s*(1+t.a)+u*(1+e.a)-2*u*s-t.a*e.a)/r,a:r}}function NE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(Math.min(i*t.a,a*e.a)+i*(1-t.a)+a*(1-e.a))/r,g:(Math.min(o*t.a,l*e.a)+o*(1-t.a)+l*(1-e.a))/r,b:(Math.min(s*t.a,u*e.a)+s*(1-t.a)+u*(1-e.a))/r,a:r}}function OE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(Math.max(i*t.a,a*e.a)+i*(1-t.a)+a*(1-e.a))/r,g:(Math.max(o*t.a,l*e.a)+o*(1-t.a)+l*(1-e.a))/r,b:(Math.max(s*t.a,u*e.a)+s*(1-t.a)+u*(1-e.a))/r,a:r}}function PE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(2*i<=e.a?2*i*a+i*(1-t.a)+a*(1-e.a):i*(1+t.a)+a*(1+e.a)-2*a*i-t.a*e.a)/r,g:(2*o<=e.a?2*o*l+o*(1-t.a)+l*(1-e.a):o*(1+t.a)+l*(1+e.a)-2*l*o-t.a*e.a)/r,b:(2*s<=e.a?2*s*u+s*(1-t.a)+u*(1-e.a):s*(1+t.a)+u*(1+e.a)-2*u*s-t.a*e.a)/r,a:r}}function FE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(i+a-2*Math.min(i*t.a,a*e.a))/r,g:(o+l-2*Math.min(o*t.a,l*e.a))/r,b:(s+u-2*Math.min(s*t.a,u*e.a))/r,a:r}}function LE(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(i*t.a+a*e.a-2*i*a+i*(1-t.a)+a*(1-e.a))/r,g:(o*t.a+l*e.a-2*o*l+o*(1-t.a)+l*(1-e.a))/r,b:(s*t.a+u*e.a-2*s*u+s*(1-t.a)+u*(1-e.a))/r,a:r}}function vg(e,t,n=0,r=0,i={}){if(!(t instanceof e.constructor))throw new Error("The source must be a Jimp image");if(typeof n!="number"||typeof r!="number")throw new Error("x and y must be numbers");let{mode:o=Pd.SRC_OVER}=i,{opacitySource:s=1,opacityDest:a=1}=i;(typeof s!="number"||s<0||s>1)&&(s=1),(typeof a!="number"||a<0||a>1)&&(a=1);let l=P4[o];return n=Math.round(n),r=Math.round(r),a!==1&&e.scan((u,c,d)=>{let f=e.bitmap.data[d+3]*a;e.bitmap.data[d+3]=f}),t.scan((u,c,d)=>{let f=e.getPixelIndex(n+u,r+c,ji.CROP);if(f===-1)return;let h=l({r:t.bitmap.data[d+0]/255,g:t.bitmap.data[d+1]/255,b:t.bitmap.data[d+2]/255,a:t.bitmap.data[d+3]/255},{r:e.bitmap.data[f+0]/255,g:e.bitmap.data[f+1]/255,b:e.bitmap.data[f+2]/255,a:e.bitmap.data[f+3]/255},s);e.bitmap.data[f+0]=Zt(255*h.r),e.bitmap.data[f+1]=Zt(255*h.g),e.bitmap.data[f+2]=Zt(255*h.b),e.bitmap.data[f+3]=Zt(255*h.a)}),e}function L4(e,t){switch(e){case 1:return t.nextUInt8();case 3:case 8:return t.nextUInt16();case 4:case 9:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function B4(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function j4(e,t){var n,r,i=t.nextUInt16(),o=t.nextUInt16(),s=B4(o),a=t.nextUInt32(),l=s*a;if(l>4&&(t=e.openWithOffset(t.nextUInt32())),o===2){var u=(n=t.nextString(a)).indexOf("\0");u!==-1&&(n=n.substr(0,u))}else if(o===7)n=t.nextBuffer(a);else if(o!==0)for(n=[],r=0;r<a;++r)n.push(L4(o,t));return l<4&&t.skip(4-l),[i,n,o]}function sl(e,t,n){var r,i,o=t.nextUInt16();for(i=0;i<o;++i)n((r=j4(e,t))[0],r[1],r[2])}function U4(e){if(e.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var t=e.mark(),n=e.nextUInt16();if(n===18761)e.setBigEndian(!1);else{if(n!==19789)throw new Error("Invalid TIFF header");e.setBigEndian(!0)}if(e.nextUInt16()!==42)throw new Error("Invalid TIFF data");return t}function bg(e){return parseInt(e,10)}function jE(e,t){e=e.map(bg),t=t.map(bg);var n=e[0],r=e[1]-1,i=e[2],o=t[0],s=t[1],a=t[2];return Date.UTC(n,r,i,o,s,a,0)/1e3}function UE(e){var t=e.substr(0,10).split("-"),n=e.substr(11,8).split(":"),r=e.substr(19,6).split(":").map(bg),i=r[0]*V4+r[1]*z4,o=jE(t,n);if(typeof(o-=i)=="number"&&!isNaN(o))return o}function VE(e){var t=e.split(" "),n=jE(t[0].split(":"),t[1].split(":"));if(typeof n=="number"&&!isNaN(n))return n}function H4(e){var t=e.length===19&&e.charAt(4)===":";return e.length===25&&e.charAt(10)==="T"?UE(e):t?VE(e):void 0}function Y4(){return mw?pw:(mw=1,pw={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})}function yw(e,t,n,r,i,o,s){this.startMarker=e,this.tags=t,this.imageSize=n,this.thumbnailOffset=r,this.thumbnailLength=i,this.thumbnailType=o,this.app1Offset=s}function zE(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}function K4(){if(vw)return _w;function e(t,n,r,i,o,s){this.global=o,n=n||0,r=r||t.byteLength-n,this.arrayBuffer=t.slice(n,n+r),this.view=new o.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(i),this.offset=0,this.parentOffset=(s||0)+n}return vw=1,e.prototype={setBigEndian:function(t){this.littleEndian=!t},nextUInt8:function(){var t=this.view.getUint8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.view.getInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},nextUInt32:function(){var t=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},nextInt16:function(){var t=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},nextInt32:function(){var t=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},nextFloat:function(){var t=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},nextDouble:function(){var t=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},nextBuffer:function(t){var n=this.arrayBuffer.slice(this.offset,this.offset+t);return this.offset+=t,n},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(t){var n=this.arrayBuffer.slice(this.offset,this.offset+t);return n=String.fromCharCode.apply(null,new this.global.Uint8Array(n)),this.offset+=t,n},mark:function(){var t=this;return{openWithOffset:function(n){return n=(n||0)+this.offset,new e(t.arrayBuffer,n,t.arrayBuffer.byteLength-n,!t.littleEndian,t.global,t.parentOffset)},offset:this.offset,getParentOffset:function(){return t.parentOffset}}},offsetFrom:function(t){return this.parentOffset+this.offset-(t.offset+t.getParentOffset())},skip:function(t){this.offset+=t},branch:function(t,n){return n=typeof n=="number"?n:this.arrayBuffer.byteLength-(this.offset+t),new e(this.arrayBuffer,this.offset+t,n,!this.littleEndian,this.global,this.parentOffset)}},_w=e}function J4(){if(ww)return bw;function e(t,n,r,i){this.buffer=t,this.offset=n||0,r=typeof r=="number"?r:t.length,this.endPosition=this.offset+r,this.setBigEndian(i)}return ww=1,e.prototype={setBigEndian:function(t){this.bigEndian=!!t},nextUInt8:function(){var t=this.buffer.readUInt8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.buffer.readInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,t},nextUInt32:function(){var t=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,t},nextInt16:function(){var t=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,t},nextInt32:function(){var t=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,t},nextFloat:function(){var t=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,t},nextDouble:function(){var t=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,t},nextBuffer:function(t){var n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n},remainingLength:function(){return this.endPosition-this.offset},nextString:function(t){var n=this.buffer.toString("utf8",this.offset,this.offset+t);return this.offset+=t,n},mark:function(){var t=this;return{openWithOffset:function(n){return n=(n||0)+this.offset,new e(t.buffer,n,t.endPosition-n,t.bigEndian)},offset:this.offset}},offsetFrom:function(t){return this.offset-t.offset},skip:function(t){this.offset+=t},branch:function(t,n){return n=typeof n=="number"?n:this.endPosition-(this.offset+t),new e(this.buffer,this.offset+t,n,this.bigEndian)}},bw=e}function X4(){return(0,eval)("this")}function wg(e){let t=e._exif;return t&&t.tags&&t.tags.Orientation||1}function nO(e){let t=e.bitmap.width,n=e.bitmap.height;switch(wg(e)){case 1:default:return null;case 2:return function(r,i){return[t-r-1,i]};case 3:return function(r,i){return[t-r-1,n-i-1]};case 4:return function(r,i){return[r,n-i-1]};case 5:return function(r,i){return[i,r]};case 6:return function(r,i){return[i,n-r-1]};case 7:return function(r,i){return[t-i-1,n-r-1]};case 8:return function(r,i){return[t-i-1,r]}}}function rO(e,t,n,r){let i=e.bitmap.data,o=e.bitmap.width,s=_e.alloc(i.length);for(let a=0;a<t;a++)for(let l=0;l<n;l++){let[u,c]=r(a,l),d=t*l+a<<2,f=o*c+u<<2,h=i.readUInt32BE(f);s.writeUInt32BE(h,d)}e.bitmap.data=s,e.bitmap.width=t,e.bitmap.height=n,e._exif.tags.Orientation=1}function iO(e){if(wg(e)<2)return;let t=nO(e),n=wg(e)>4,r=n?e.bitmap.height:e.bitmap.width,i=n?e.bitmap.width:e.bitmap.height;t&&rO(e,r,i,t)}function oO(e,t){return Ve(this,null,function*(){try{e._exif=tO.create(t).parse(),iO(e)}catch{}})}function Dw(e){let t=_e.alloc(e.byteLength),n=new Uint8Array(e);for(let r=0;r<t.length;++r)t[r]=n[r];return t}function HE({plugins:e,formats:t}={}){let n=e||[],r=(t||[]).map(o=>o()),i=class{constructor(o=qm){if(cd(this,"bitmap",qm),cd(this,"background",0),cd(this,"formats",[]),cd(this,"mime"),this.formats=r,"data"in o)this.bitmap=o;else if(this.bitmap={data:_e.alloc(o.width*o.height*4),width:o.width,height:o.height},o.color){this.background=typeof o.color=="string"?i2(o.color):o.color;for(let s=0;s<this.bitmap.data.length;s+=4)this.bitmap.data.writeUInt32BE(this.background,s)}for(let s of n)for(let a in s)this[a]=(...l)=>{let u=s[a]?.(this,...l);return typeof u=="object"&&"bitmap"in u?(this.bitmap=u.bitmap,this):u}}static read(o,s){return Ve(this,null,function*(){if(_e.isBuffer(o)||o instanceof ArrayBuffer)return this.fromBuffer(o);let[a,l]=yield hw(fetch(o));if(a)throw new Error(`Could not load Buffer from URL: ${o}`);if(!l.ok)throw new Error(`HTTP Status ${l.status} for url ${o}`);let[u,c]=yield hw(l.arrayBuffer());if(u)throw new Error(`Could not load Buffer from ${o}`);let d=Dw(c);return this.fromBuffer(d,s)})}static fromBitmap(o){let s;if(o.data instanceof _e&&(s=_e.from(o.data)),(o.data instanceof Uint8Array||o.data instanceof Uint8ClampedArray)&&(s=_e.from(o.data.buffer)),Array.isArray(o.data)&&(s=_e.concat(o.data.map(a=>_e.from(a.toString(16).padStart(8,"0"),"hex")))),!s)throw new Error("data must be a Buffer");if(typeof o.height!="number"||typeof o.width!="number")throw new Error("bitmap must have width and height");return new i({height:o.height,width:o.width,data:s})}static fromBuffer(o,s){return Ve(this,null,function*(){let a=o instanceof ArrayBuffer?Dw(o):o,l=yield C4.fromBuffer(a);if(!l||!l.mime)throw new Error("Could not find MIME for Buffer");let u=r.find(d=>d.mime===l.mime);if(!u||!u.decode)throw new Error(`Mime type ${l.mime} does not support decoding`);let c=new i(yield u.decode(a,s?.[u.mime]));return c.mime=l.mime,oO(c,a),c})}inspect(){return"<Jimp "+(this.bitmap===qm?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}getBuffer(o,s){return Ve(this,null,function*(){let a=this.formats.find(u=>u.mime===o);if(!a||!a.encode)throw new Error(`Unsupported MIME type: ${o}`);let l;return a.hasAlpha?l=this:(l=new i({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),vg(l,this)),a.encode(l.bitmap,s)})}getBase64(o,s){return Ve(this,null,function*(){return"data:"+o+";base64,"+(yield this.getBuffer(o,s)).toString("base64")})}write(o,s){return Ve(this,null,function*(){let a=N4.getType(o);yield S4(o,yield this.getBuffer(a,s))})}clone(){return new i(Ae(he({},this.bitmap),{data:_e.from(this.bitmap.data)}))}getPixelIndex(o,s,a){let l,u;if(a||(a=ji.EXTEND),typeof o!="number"||typeof s!="number")throw new Error("x and y must be numbers");l=o=Math.round(o),u=s=Math.round(s),a===ji.EXTEND&&(o<0&&(l=0),o>=this.bitmap.width&&(l=this.bitmap.width-1),s<0&&(u=0),s>=this.bitmap.height&&(u=this.bitmap.height-1)),a===ji.WRAP&&(o<0&&(l=this.bitmap.width+o),o>=this.bitmap.width&&(l=o%this.bitmap.width),s<0&&(u=this.bitmap.height+s),s>=this.bitmap.height&&(u=s%this.bitmap.height));let c=this.bitmap.width*u+l<<2;return(l<0||l>=this.bitmap.width)&&(c=-1),(u<0||u>=this.bitmap.height)&&(c=-1),c}getPixelColor(o,s){if(typeof o!="number"||typeof s!="number")throw new Error("x and y must be numbers");let a=this.getPixelIndex(o,s);return this.bitmap.data.readUInt32BE(a)}setPixelColor(o,s,a){if(typeof o!="number"||typeof s!="number"||typeof a!="number")throw new Error("hex, x and y must be numbers");let l=this.getPixelIndex(s,a);return this.bitmap.data.writeUInt32BE(o,l),this}hasAlpha(){let{width:o,height:s,data:a}=this.bitmap,l=o*s<<2;for(let u=3;u<l;u+=4)if(a[u]!==255)return!0;return!1}composite(o,s=0,a=0,l={}){return vg(this,o,s,a,l)}scan(o,s,a,l,u){return Io(this,o,s,a,l,u)}scanIterator(o=0,s=0,a=this.bitmap.width,l=this.bitmap.height){if(typeof o!="number"||typeof s!="number")throw new Error("x and y must be numbers");if(typeof a!="number"||typeof l!="number")throw new Error("w and h must be numbers");return Ck(this,o,s,a,l)}};return i}function qt(e,t,n,r,i,o,s){this.widthOriginal=Math.abs(Math.floor(e)||0),this.heightOriginal=Math.abs(Math.floor(t)||0),this.targetWidth=Math.abs(Math.floor(n)||0),this.targetHeight=Math.abs(Math.floor(r)||0),this.colorChannels=i?4:3,this.interpolationPass=!!o,this.resizeCallback=typeof s=="function"?s:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}function Eg(e,t){if(!(e&&t&&e.length&&t.length))throw new Error("Bad alphabet");this.srcAlphabet=e,this.dstAlphabet=t}function hl(e,t){var n=new MO(e,t);return function(r){return n.convert(r)}}function AO(e){let t=255&e,n=255&(e>>>=8),r=255&(e>>>=8);return{r:255&(e>>>=8),g:r,b:n,a:t}}function TO(e){for(let t=1;t<e;t++)Ld[t]=1;Ld[0]=1/Math.sqrt(2)}function kO(e,t){let n=t,r=[];for(let i=0;i<n;i++){let o=[];for(let s=0;s<n;s++){let a=0;for(let l=0;l<n;l++)for(let u=0;u<n;u++)a+=Math.cos((2*l+1)/(2*n)*i*Math.PI)*Math.cos((2*u+1)/(2*n)*s*Math.PI)*e[l][u];a*=Ld[i]*Ld[s]/4,o[s]=a,r[i]=o}}return r}function NO(e,t){let n=new Js,r=n.getHash(e),i=n.getHash(t);return n.distance(r,i)}function OO(e,t){return new Js().distance(e,t)}function Zs(e,t){let n=0;for(let r=0;r<t.length;r++){let i=t[r],o=e.chars[i];if(o){let s=e.kernings[i],a=t[r+1],l=s&&a&&s[a]&&s[a]||0;n+=(o.xadvance||0)+l}}return n}function WE(e,t,n){let r=t.replace(/[\r\n]+/g,` 
`).split(" "),i=[],o=[],s=0;return r.forEach(a=>{if(Zs(e,a+(r.length>1?" ":""))>n){let c=a[Symbol.iterator](),d="";for(let f of c){let h=[...o,d+f].join(" "),p=Zs(e,h);p<n?d+=f:p>n?(i.push([...o,d]),o=[],d=f):(i.push([...o,d+f]),o=[],d="")}return}let l=[...o,a].join(" "),u=Zs(e,l);u<=n&&!a.includes(`
`)?(u>s&&(s=u),o.push(a)):(i.push(o),o=[a.replace(`
`,"")])}),i.push(o),{lines:i,longestLine:s}}function Dg(e,t,n){let{lines:r}=WE(e,t,n);return r.length*e.common.lineHeight}function jO(e,t,n,r){return r===Hr.LEFT?0:r===Hr.CENTER?(n-Zs(e,t))/2:n-Zs(e,t)}function UO(e,t,n,r,i){if(i.width>0&&i.height>0){let o=t.pages[i.page];o&&(e=qg.blit(e,{src:o,x:n+i.xoffset,y:r+i.yoffset,srcX:i.x,srcY:i.y,srcW:i.width,srcH:i.height}))}return e}function VO(e,t,n,r,i,o){for(let s=0;s<i.length;s++){let a=i[s],l;l=t.chars[a]?a:/\s/.test(a)?"":"?";let u=t.chars[l]||{xadvance:void 0},c=t.kernings[l];u&&UO(e,t,n,r,u);let d=i[s+1];n+=(c&&d&&c[d]&&c[d]||0)+(u.xadvance||o)}}function Iw(e){return function(t,n){return n*e+t<<2}}function $O(e,t){if(Math.abs(t)%90!=0)throw new Error("Unsupported matrix rotation degree");let n=e.bitmap.width,r=e.bitmap.height,i;switch(t){case 90:case-270:i=90;break;case 180:case-180:i=180;break;case 270:case-90:i=-90;break;default:throw new Error("Unsupported matrix rotation degree")}let o=i===180?n:r,s=i===180?r:n,a=_e.alloc(e.bitmap.data.length),l=Iw(n),u=Iw(o);for(let c=0;c<n;c++)for(let d=0;d<r;d++){let f=l(c,d),h=e.bitmap.data.readUInt32BE(f),p;switch(i){case 90:p=u(d,n-c-1);break;case-90:p=u(r-d-1,c);break;case 180:p=u(n-c-1,r-d-1);break;default:throw new Error("Unsupported matrix rotation angle")}a.writeUInt32BE(h,p)}e.bitmap.data=a,e.bitmap.width=o,e.bitmap.height=s}function Cw(e,t){return function(n,r){return{x:n+e,y:r+t}}}function GO(e,t,n){let r=t*Math.PI/180,i=Math.cos(r),o=Math.sin(r),s=e.bitmap.width,a=e.bitmap.height;if(n===!0||typeof n=="string"){s=Math.ceil(Math.abs(e.bitmap.width*i)+Math.abs(e.bitmap.height*o))+1,a=Math.ceil(Math.abs(e.bitmap.width*o)+Math.abs(e.bitmap.height*i))+1,s%2!=0&&s++,a%2!=0&&a++;let h=pi(e);e.scan((m,g,v)=>{e.bitmap.data.writeUInt32BE(e.background,v)});let p=Math.max(s,a,e.bitmap.width,e.bitmap.height);e=vg(e=Vi.resize(e,{h:p,w:p,mode:n===!0?void 0:n}),h,e.bitmap.width/2-h.bitmap.width/2,e.bitmap.height/2-h.bitmap.height/2)}let l=e.bitmap.width,u=e.bitmap.height,c=_e.alloc(e.bitmap.data.length),d=Cw(-l/2,-u/2),f=Cw(l/2+.5,u/2+.5);for(let h=1;h<=u;h++)for(let p=1;p<=l;p++){let m=d(p,h),g=f(i*m.x-o*m.y,i*m.y+o*m.x),v=l*(h-1)+p-1<<2;if(g.x>=0&&g.x<l&&g.y>=0&&g.y<u){let D=l*(0|g.y)+g.x<<2,w=e.bitmap.data.readUInt32BE(D);c.writeUInt32BE(w,v)}else c.writeUInt32BE(e.background,v)}if(e.bitmap.data=c,n===!0||typeof n=="string"){let h=Math.max(l/2-s/2,0),p=Math.max(u/2-a/2,0);e=Yg.crop(e,{x:h,y:p,w:s,h:a})}}function Zm(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}function JE(e,t,n){return{x:.4124*(e=Zm(e/255))+.3576*(t=Zm(t/255))+.1805*(n=Zm(n/255)),y:.2126*e+.7152*t+.0722*n,z:.0193*e+.1192*t+.9505*n}}function Pi(e){return e*(Math.PI/180)}function eD(e,t,n){let r=e;return r<t&&(r=t),r<n&&(r=n),r}function tD(e,t,n){let r=e;return r>t&&(r=t),r>n&&(r=n),r}function JO(e,t,n){return e>n&&(e=n),e<t&&(e=t),0|e}function sr(e){return(e=Math.round(e))>255?e=255:e<0&&(e=0),e}function Wn(e){return e>255?e=255:e<0&&(e=0),e}function Qg(e,t){let n=typeof e[0],r;if(n==="number"||n==="string"){let i=Object.create(null);for(let o=0,s=e.length;o<s;o++){let a=e[o];i[a]||i[a]===0||(i[a]=o)}r=e.sort((o,s)=>t(o,s)||i[o]-i[s])}else{let i=e.slice(0);r=e.sort((o,s)=>t(o,s)||i.indexOf(o)-i.indexOf(s))}return r}function Bd(e,t,n){let r=tD(e,t,n),i=eD(e,t,n),o=i-r,s=(r+i)/510,a=0;s>0&&s<1&&(a=o/(s<.5?i+r:510-i-r));let l=0;return o>0&&(l=i===e?(t-n)/o:i===t?2+(n-e)/o:4+(e-t)/o,l*=60,l<0&&(l+=360)),{h:l,s:a,l:s}}function Ym(e){return e>.008856?e**(1/3):7.787*e+16/116}function nD(e,t,n){if(e=Ym(e/XO),t=Ym(t/eP),n=Ym(n/tP),116*t-16<0)throw new Error("xxx");return{L:Math.max(0,116*t-16),a:500*(e-t),b:200*(t-n)}}function Il(e,t,n){let r=JE(e,t,n);return nD(r.x,r.y,r.z)}function Qm(e){return e>.206893034?e**3:(e-16/116)/7.787}function rD(e,t,n){let r=(e+16)/116,i=r-n/200;return{x:nP*Qm(t/500+r),y:rP*Qm(r),z:iP*Qm(i)}}function Km(e){return e>.0031308?1.055*e**(1/2.4)-.055:12.92*e}function iD(e,t,n){let r=Km(3.2406*e+-1.5372*t+-.4986*n),i=Km(-.9689*e+1.8758*t+.0415*n),o=Km(.0557*e+-.204*t+1.057*n);return{r:sr(255*r),g:sr(255*i),b:sr(255*o)}}function oP(e,t,n){let r=rD(e,t,n);return iD(r.x,r.y,r.z)}function xg(e,t){let n=360/t;for(let r=1,i=n-n/2;r<t;r++,i+=n)if(e>=i&&e<i+n)return r;return 0}function Bs(e){let t=[];for(let n=0;n<e;n++)t[n]=0;return t}function js(e,t,n,r){let i=new Array(e);for(let o=0;o<e;o++){i[o]=new Array(t);for(let s=0;s<t;s++){i[o][s]=new Array(n);for(let a=0;a<n;a++){i[o][s][a]=new Array(r);for(let l=0;l<r;l++)i[o][s][a][l]=0}}}return i}function Us(e,t,n){let r=new Array(e);for(let i=0;i<e;i++){r[i]=new Array(t);for(let o=0;o<t;o++){r[i][o]=new Array(n);for(let s=0;s<n;s++)r[i][o][s]=0}}return r}function Vs(e,t,n,r,i){for(let o=0;o<t;o++){e[o]=[];for(let s=0;s<n;s++){e[o][s]=[];for(let a=0;a<r;a++)e[o][s][a]=i}}}function zs(e,t,n){for(let r=0;r<t;r++)e[r]=n}function*hP(e,t,n){let r=Math.max(e,t),i={width:e,height:t,level:Math.floor(Math.log(r)/Math.log(2)+1),callback:n,tracker:new _i(e*t,99),index:0,x:0,y:0};yield*Xe(un(i,1)),Hn(i,0)}function*un(e,t){if(!(e.level<1)){switch(e.tracker.shouldNotify(e.index)&&(yield{progress:e.tracker.progress}),e.level--,t){case 2:yield*Xe(un(e,1)),Hn(e,3),yield*Xe(un(e,2)),Hn(e,4),yield*Xe(un(e,2)),Hn(e,2),yield*Xe(un(e,4));break;case 3:yield*Xe(un(e,4)),Hn(e,2),yield*Xe(un(e,3)),Hn(e,1),yield*Xe(un(e,3)),Hn(e,3),yield*Xe(un(e,1));break;case 1:yield*Xe(un(e,2)),Hn(e,4),yield*Xe(un(e,1)),Hn(e,3),yield*Xe(un(e,1)),Hn(e,1),yield*Xe(un(e,3));break;case 4:yield*Xe(un(e,3)),Hn(e,1),yield*Xe(un(e,4)),Hn(e,2),yield*Xe(un(e,4)),Hn(e,4),yield*Xe(un(e,2))}e.level++}}function Hn(e,t){switch(e.x>=0&&e.x<e.width&&e.y>=0&&e.y<e.height&&(e.callback(e.x,e.y),e.index++),t){case 2:e.x--;break;case 3:e.x++;break;case 1:e.y--;break;case 4:e.y++}}function yP(e,t){if(e.getHeight()!==t.getHeight()||e.getWidth()!==t.getWidth())throw new Error("Images have different sizes!");let n=(255*mP)**2,r=(255*gP)**2,i=0,o=0;return _P(e,t,(s,a,l,u)=>{let c=0,d=0,f=0;for(let p=0;p<s.length;p++)d+=(s[p]-l)**2,f+=(a[p]-u)**2,c+=(s[p]-l)*(a[p]-u);let h=s.length-1;d/=h,f/=h,c/=h,o+=(2*l*u+n)*(2*c+r)/((l**2+u**2+n)*(d+f+r)),i++}),o/i}function _P(e,t,n){let r=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o+=8)for(let s=0;s<r;s+=8){let a=Math.min(8,r-s),l=Math.min(8,i-o),u=Aw(e,s,o,a,l),c=Aw(t,s,o,a,l);n(u,c,Tw(u),Tw(c))}}function Aw(e,t,n,r,i){let o=e.getPointArray(),s=[],a=0;for(let l=n;l<n+i;l++){let u=l*e.getWidth();for(let c=t;c<t+r;c++){let d=o[u+c];s[a]=.2126*d.r+.7152*d.g+.0722*d.b,a++}}return s}function Tw(e){let t=0;for(let n of e)t+=n;return t/e.length}function vP(e,{colorDistanceFormula:t,paletteQuantization:n,colors:r}={}){let i=EP(DD(t),n,r);return e.forEach(o=>i.sample(o)),i.quantizeSync()}function bP(e,t,{colorDistanceFormula:n,imageQuantization:r}={}){return wP(DD(n),r).quantizeSync(e,t)}function DD(e="euclidean-bt709"){switch(e){case"cie94-graphic-arts":return new aD;case"cie94-textiles":return new sD;case"ciede2000":return new Er;case"color-metric":return new lD;case"euclidean":return new uD;case"euclidean-bt709":return new cD;case"euclidean-bt709-noalpha":return new dD;case"manhattan":return new fD;case"manhattan-bt709":return new pD;case"manhattan-nommyde":return new hD;case"pngquant":return new mD;default:throw new Error(`Unknown colorDistanceFormula ${e}`)}}function wP(e,t="floyd-steinberg"){switch(t){case"nearest":return new wD(e);case"riemersma":return new Kg(e);case"floyd-steinberg":return new jr(e,0);case"false-floyd-steinberg":return new jr(e,1);case"stucki":return new jr(e,2);case"atkinson":return new jr(e,3);case"jarvis":return new jr(e,4);case"burkes":return new jr(e,5);case"sierra":return new jr(e,6);case"two-sierra":return new jr(e,7);case"sierra-lite":return new jr(e,8);default:throw new Error(`Unknown imageQuantization ${t}`)}}function EP(e,t="wuquant",n=256){switch(t){case"neuquant":return new Bt(e,n);case"rgbquant":return new vD(e,n);case"wuquant":return new qs(e,n);case"neuquant-float":return new jt(e,n);default:throw new Error(`Unknown paletteQuantization ${t}`)}}function IP(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(n===-1)throw new Error("no named row at line "+t);var r=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(l){return l.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var i=[],o=0;o<e.length;o++){var s=e[o];o===0?i.push({key:s[0],data:""}):o===e.length-1?i[i.length-1].data=kw(s[0]):(i[i.length-1].data=kw(s[0]),i.push({key:s[1],data:""}))}var a={key:r,data:{}};return i.forEach(function(l){a.data[l.key]=l.data}),a}function kw(e){return e&&e.length!==0?e.indexOf('"')===0||e.indexOf("'")===0?e.substring(1,e.length-1):e.indexOf(",")!==-1?CP(e):parseInt(e,10):""}function CP(e){return e.split(",").map(function(t){return parseInt(t,10)})}function TP(e){return e.split(",").map(function(t){return parseInt(t,10)})}function Nw(e){return PP(e).reduce(function(t,n){return t[FP(n.nodeName)]=n.nodeValue,t},{})}function PP(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}function FP(e){return NP[e.toLowerCase()]||e}function UP(e,t,n){if(n>t.length-1)return 0;var r=t.readUInt8(n++),i=t.readInt32LE(n);switch(n+=4,r){case 1:e.info=VP(t,n);break;case 2:e.common=zP(t,n);break;case 3:e.pages=HP(t,n,i);break;case 4:e.chars=$P(t,n,i);break;case 5:e.kernings=GP(t,n,i)}return 5+i}function VP(e,t){var n={};n.size=e.readInt16LE(t);var r=e.readUInt8(t+2);return n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1),n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=WP(e,t+14),n}function zP(e,t){var n={};return n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8),e.readUInt8(t+10),n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}function HP(e,t,n){for(var r=[],i=xD(e,t),o=i.length+1,s=n/o,a=0;a<s;a++)r[a]=e.slice(t,t+i.length).toString("utf8"),t+=o;return r}function $P(e,t,n){for(var r=[],i=n/20,o=0;o<i;o++){var s={},a=20*o;s.id=e.readUInt32LE(t+0+a),s.x=e.readUInt16LE(t+4+a),s.y=e.readUInt16LE(t+6+a),s.width=e.readUInt16LE(t+8+a),s.height=e.readUInt16LE(t+10+a),s.xoffset=e.readInt16LE(t+12+a),s.yoffset=e.readInt16LE(t+14+a),s.xadvance=e.readInt16LE(t+16+a),s.page=e.readUInt8(t+18+a),s.chnl=e.readUInt8(t+19+a),r[o]=s}return r}function GP(e,t,n){for(var r=[],i=n/10,o=0;o<i;o++){var s={},a=10*o;s.first=e.readUInt32LE(t+0+a),s.second=e.readUInt32LE(t+4+a),s.amount=e.readInt16LE(t+8+a),r[o]=s}return r}function xD(e,t){for(var n=t;n<e.length&&e[n]!==0;n++);return e.slice(t,n)}function WP(e,t){return xD(e,t).toString("utf8")}function MD(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];i==="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function Mg(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:"/";if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t=r.charAt(0)==="/")}return e=MD(Xg(e.split("/"),function(i){return!!i}),!t).join("/"),(t?"/":"")+e||"."}function ID(e){var t=CD(e),n=n8(e,-1)==="/";return e=MD(Xg(e.split("/"),function(r){return!!r}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function CD(e){return e.charAt(0)==="/"}function YP(){return ID(Xg(Array.prototype.slice.call(arguments,0),function(e,t){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function QP(e,t){function n(u){for(var c=0;c<u.length&&u[c]==="";c++);for(var d=u.length-1;d>=0&&u[d]==="";d--);return c>d?[]:u.slice(c,d-c+1)}e=Mg(e).substr(1),t=Mg(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),s=o,a=0;a<o;a++)if(r[a]!==i[a]){s=a;break}var l=[];for(a=s;a<r.length;a++)l.push("..");return(l=l.concat(i.slice(s))).join("/")}function XP(e){var t=Jg(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function e8(e,t){var n=Jg(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function t8(e){return Jg(e)[3]}function Xg(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function r8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function m8(e){let t=[],n="";return e.forEach(r=>{r.type===Dr.CONTENT?n+=r.value:(n.length&&(t.push(Ig(n)),n=""),t.push(r))}),n.length&&t.push(Ig(n)),t}function D8(e){if(typeof e=="string")return e.substring(0,3)==="BMF";let t=e.slice(0,4);return e.length>4&&t[0]===Xm[0]&&t[1]===Xm[1]&&t[2]===Xm[2]}function Uw(e,t){return D8(t)?(typeof t=="string"&&(t=_e.from(t,"binary")),qP(t)):(t=t.toString().trim(),/.json$/.test(e)||t.charAt(0)==="{"?JSON.parse(t):/.xml$/.test(e)||t.charAt(0)==="<"?LP(t):SP(t))}function gd(e){for(let t in e){try{e[t]=parseInt(e[t],10)}catch{}typeof e[t]=="object"&&gd(e[t])}return e}function x8(e){return Ve(this,null,function*(){if(RD&&typeof e=="string"){let t=yield fetch(e),n=yield t.text(),r=w8(n).font.children.reduce((a,l)=>he(he({},a),l),{}),i=[],o=[],s=[];for(let a=0;a<r.pages.children.length;a++){let l=r.pages.children[a].page;i[parseInt(l.id,10)]=gd(l.file)}for(let a=0;a<r.chars.children.length;a++)o.push(gd(r.chars.children[a].char));for(let a=0;a<r.kernings.children.length;a++)s.push(gd(r.kernings.children[a].kerning));return{info:r.info,common:r.common,pages:i,chars:o,kernings:s}}if(typeof e=="string"){let t=yield fetch(e);return Uw(e,yield t.text())}return Uw("",e)})}function M8(e,t){return Ve(this,null,function*(){let n={},r={};for(let i=0;i<t.chars.length;i++){let o=t.chars[i];n[String.fromCharCode(o.id)]=o}for(let i=0;i<t.kernings.length;i++){let o=String.fromCharCode(t.kernings[i].first);r[o]=r[o]||{},r[o][String.fromCharCode(t.kernings[i].second)]=t.kernings[i].amount}return Ae(he({},t),{chars:n,kernings:r,pages:yield Promise.all(t.pages.map(i=>Ve(null,null,function*(){return E8.read(Ow.join(Ow.dirname(e),i))})))})})}function I8(e){return Ve(this,null,function*(){let t=e;if(typeof window>"u"&&!RD){let{existsSync:n,promises:r}=yield Promise.resolve().then(function(){return l2});n(e)&&(t=yield r.readFile(e))}return M8(e,yield x8(t))})}function A8(e,t,n,r,i,o){if(!eg(e)||!eg(t)||n&&!eg(n))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(e.length!==t.length||n&&n.length!==e.length)throw new Error("Image sizes do not match.");if(e.length!==r*i*4)throw new Error("Image data size does not match width/height.");o=Object.assign({},S8,o);let s=r*i,a=new Uint32Array(e.buffer,e.byteOffset,s),l=new Uint32Array(t.buffer,t.byteOffset,s),u=!0;for(let f=0;f<s;f++)if(a[f]!==l[f]){u=!1;break}if(u){if(n&&!o.diffMask)for(let f=0;f<s;f++)$w(e,4*f,o.alpha,n);return 0}let c=35215*o.threshold*o.threshold,d=0;for(let f=0;f<i;f++)for(let h=0;h<r;h++){let p=4*(f*r+h),m=ND(e,t,p,p);Math.abs(m)>c?o.includeAA||!Vw(e,h,f,r,i,t)&&!Vw(t,h,f,r,i,e)?(n&&Sg(n,p,...m<0&&o.diffColorAlt||o.diffColor),d++):n&&!o.diffMask&&Sg(n,p,...o.aaColor):n&&(o.diffMask||$w(e,p,o.alpha,n))}return d}function eg(e){return ArrayBuffer.isView(e)&&e.constructor.BYTES_PER_ELEMENT===1}function Vw(e,t,n,r,i,o){let s=Math.max(t-1,0),a=Math.max(n-1,0),l=Math.min(t+1,r-1),u=Math.min(n+1,i-1),c=4*(n*r+t),d,f,h,p,m=t===s||t===l||n===a||n===u?1:0,g=0,v=0;for(let D=s;D<=l;D++)for(let w=a;w<=u;w++){if(D===t&&w===n)continue;let b=ND(e,e,c,4*(w*r+D),!0);if(b===0){if(m++,m>2)return!1}else b<g?(g=b,d=D,f=w):b>v&&(v=b,h=D,p=w)}return g!==0&&v!==0&&(dd(e,d,f,r,i)&&dd(o,d,f,r,i)||dd(e,h,p,r,i)&&dd(o,h,p,r,i))}function dd(e,t,n,r,i){let o=Math.max(t-1,0),s=Math.max(n-1,0),a=Math.min(t+1,r-1),l=Math.min(n+1,i-1),u=4*(n*r+t),c=t===o||t===a||n===s||n===l?1:0;for(let d=o;d<=a;d++)for(let f=s;f<=l;f++){if(d===t&&f===n)continue;let h=4*(f*r+d);if(e[u]===e[h]&&e[u+1]===e[h+1]&&e[u+2]===e[h+2]&&e[u+3]===e[h+3]&&c++,c>2)return!0}return!1}function ND(e,t,n,r,i){let o=e[n+0],s=e[n+1],a=e[n+2],l=e[n+3],u=t[r+0],c=t[r+1],d=t[r+2],f=t[r+3];if(l===f&&o===u&&s===c&&a===d)return 0;l<255&&(l/=255,o=xo(o,l),s=xo(s,l),a=xo(a,l)),f<255&&(f/=255,u=xo(u,f),c=xo(c,f),d=xo(d,f));let h=Cg(o,s,a),p=Cg(u,c,d),m=h-p;if(i)return m;let g=zw(o,s,a)-zw(u,c,d),v=Hw(o,s,a)-Hw(u,c,d),D=.5053*m*m+.299*g*g+.1957*v*v;return h>p?-D:D}function Cg(e,t,n){return .29889531*e+.58662247*t+.11448223*n}function zw(e,t,n){return .59597799*e-.2741761*t-.32180189*n}function Hw(e,t,n){return .21147017*e-.52261711*t+.31114694*n}function xo(e,t){return 255+(e-255)*t}function Sg(e,t,n,r,i){e[t+0]=n,e[t+1]=r,e[t+2]=i,e[t+3]=255}function $w(e,t,n,r){let i=xo(Cg(e[t+0],e[t+1],e[t+2]),n*e[t+3]/255);Sg(r,t,i,i,i)}function k8(e,t,n=.1){let r=e.bitmap,i=t.bitmap;if(r.width===i.width&&r.height===i.height||(r.width*r.height>i.width*i.height?r=Vi.resize(pi(e),{w:i.width,h:i.height}).bitmap:i=Vi.resize(pi(t),{w:r.width,h:r.height}).bitmap),typeof n!="number"||n<0||n>1)throw new Error("threshold must be a number between 0 and 1");let o=new e.constructor({width:r.width,height:r.height,color:4294967295});return{percent:T8(r.data,i.data,o.bitmap.data,o.bitmap.width,o.bitmap.height,{threshold:n})/(o.bitmap.width*o.bitmap.height),image:o}}var en,pb,Ur,ir,D3,Ag,C3,qw,S3,_b,G3,rg,Lr,Fi,ig,og,rk,ik,sg,wk,br,si,rd,id,bd,Tk,kk,Pk,kg,_l,hd,Fk,Nm,Ab,Lk,l2,Bk,Vd,jk,Uk,Vk,zk,Hk,Gr,$k,Gk,ve,u2,c2,d2,f2,h2,p2,m2,y2,qk,Zk,Yk,Qk,Kk,Jk,D2,ko,x2,M2,I2,Tt,wr,C2,zd,S2,A2,T2,Hd,k2,R2,N2,O2,P2,Sl,Zn,ci,Tb,Al,F2,eR,L2,B2,gi,wn,tR,ft,Ft,En,nR,ht,Lt,ul,ml,rR,j2,U2,Qe,Gs,V2,$d,z2,H2,Br,Ng,$2,oR,sR,Ed,hR,Wd,Nb,ol,Ob,Pb,pR,mR,gR,yR,_R,vR,od,Q2,bR,K2,Fb,sd,wR,ER,DR,xR,Lb,X2,Bm,Dd,Un,bl,li,eE,Bb,jb,Os,vr,vo,Ub,jm,Vb,Um,zb,Hb,$b,Gb,bo,Wb,qb,Zb,Yb,Ps,nr,Vm,Qb,Kb,Jb,Xb,ew,tw,nw,rw,iw,ow,sw,OR,ad,bt,ug,Le,Li,Se,PR,hi,Ys,aE,Md,LR,pn,Je,Id,Mn,cg,dg,wl,El,He,dl,fl,ar,lw,st,BR,jR,UR,VR,zR,HR,$R,GR,zm,WR,qR,ZR,uE,YR,Ui,Fg,Lg,Bg,jg,fE,Ug,Vg,Sd,gl,Mo,hE,mi,On,zg,Oi,Ad,Hg,Qs,Td,pE,mE,kd,$g,Co,So,Ao,qd,qn,Bi,Ks,Gg,Wg,yE,XR,Dl,xl,To,eN,qe,tN,vE,bE,nN,rN,wE,iN,oN,sN,aN,lN,uN,cN,dN,fN,hN,pN,mN,gN,yN,_N,vN,bN,wN,EN,DN,xN,MN,IN,CN,uw,SN,AN,TN,kN,RN,NN,ON,PN,FN,de,ji,wo,Tl,LN,BN,qg,jN,UN,VN,zN,HN,Zd,$N,GN,WN,qN,EE,ZN,YN,QN,KN,JN,hg,XN,e4,t4,n4,r4,i4,o4,s4,a4,l4,u4,c4,d4,$m,Gm,Zg,DE,h4,xE,Rd,Ml,kl,pd,dw,Nd,pg,ld,mg,p4,ud,m4,gg,Od,g4,y4,yg,_4,v4,ui,Yd,b4,w4,E4,fw,ME,M4,_g,I4,C4,S4,A4,T4,k4,R4,N4,Hr,Eo,zr,Do,Pd,rr,O4,P4,F4,BE,V4,z4,$4,Ws,G4,W4,q4,Z4,pw,mw,Fs,gw,Wm,Q4,_w,vw,bw,ww,Ew,eO,tO,sO,aO,cd,qm,$r,Ls,xw,lO,uO,cO,Vi,dO,fO,hO,pO,Yg,mO,gO,yO,_O,vO,bO,wO,EO,DO,xO,MO,IO,Fd,CO,SO,Mw,Js,Ld,$E,GE,RO,PO,FO,LO,BO,zO,HO,WO,qO,ZO,qE,YO,yi,be,QO,ZE,YE,QE,KE,KO,XE,XO,eP,tP,nP,rP,iP,sP,Ro,oD,sD,aD,kt,Er,lD,Kd,uD,cD,dD,Jd,fD,hD,pD,mD,aP,Rl,Yn,di,Sw,Nl,gD,lP,yD,_D,_i,Dn,uP,pt,Bt,xn,cP,mt,jt,pl,yl,dP,vD,bD,Ke,qs,fP,Xd,wD,ED,jr,Kg,pP,mP,gP,DP,xP,MP,SP,Jm,AP,kP,Rw,RP,NP,OP,LP,BP,jP,qP,ZP,Jg,KP,JP,Ow,n8,ef,i8,o8,s8,a8,SD,$n,Xt,Pw,Fw,Lw,l8,u8,c8,Dr,Bw,d8,f8,h8,Cl,Ig,AD,TD,kD,p8,g8,y8,jw,_8,v8,b8,w8,RD,E8,Xm,C8,S8,T8,OD,PD,R8,N8,LD=yx(()=>{"use strict";en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};typeof self>"u"&&typeof en=="object"&&(en.self=en);pb=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},Ur=[],ir=[],D3=typeof Uint8Array<"u"?Uint8Array:Array,Ag=!1;C3={}.toString,qw=Array.isArray||function(e){return C3.call(e)=="[object Array]"},S3=50;_e.TYPED_ARRAY_SUPPORT=pb.TYPED_ARRAY_SUPPORT===void 0||pb.TYPED_ARRAY_SUPPORT,yd(),_e.poolSize=8192,_e._augment=function(e){return e.__proto__=_e.prototype,e},_e.from=function(e,t,n){return Zw(null,e,t,n)},_e.TYPED_ARRAY_SUPPORT&&(_e.prototype.__proto__=Uint8Array.prototype,_e.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&_e[Symbol.species]),_e.alloc=function(e,t,n){return A3(null,e,t,n)},_e.allocUnsafe=function(e){return tg(null,e)},_e.allocUnsafeSlow=function(e){return tg(null,e)},_e.isBuffer=J3,_e.compare=function(e,t){if(!Vr(e)||!Vr(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},_e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_e.concat=function(e,t){if(!qw(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return _e.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=_e.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!Vr(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},_e.byteLength=Qw,_e.prototype._isBuffer=!0,_e.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_o(this,t,t+1);return this},_e.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_o(this,t,t+3),_o(this,t+1,t+2);return this},_e.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_o(this,t,t+7),_o(this,t+1,t+6),_o(this,t+2,t+5),_o(this,t+3,t+4);return this},_e.prototype.toString=function(){var e=0|this.length;return e===0?"":arguments.length===0?Jw(this,0,e):N3.apply(this,arguments)},_e.prototype.equals=function(e){if(!Vr(e))throw new TypeError("Argument must be a Buffer");return this===e||_e.compare(this,e)===0},_e.prototype.inspect=function(){var e="",t=S3;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},_e.prototype.compare=function(e,t,n,r,i){if(!Vr(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(r,i),u=e.slice(t,n),c=0;c<a;++c)if(l[c]!==u[c]){o=l[c],s=u[c];break}return o<s?-1:s<o?1:0},_e.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},_e.prototype.indexOf=function(e,t,n){return gb(this,e,t,n,!0)},_e.prototype.lastIndexOf=function(e,t,n){return gb(this,e,t,n,!1)},_e.prototype.write=function(e,t,n,r){if(t===void 0)r="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return O3(this,e,t,n);case"utf8":case"utf-8":return P3(this,e,t,n);case"ascii":return Kw(this,e,t,n);case"latin1":case"binary":return F3(this,e,t,n);case"base64":return L3(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B3(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},_e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};_b=4096;_e.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),_e.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=_e.prototype;else{var i=t-e;n=new _e(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},_e.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||rn(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},_e.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||rn(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},_e.prototype.readUInt8=function(e,t){return t||rn(e,1,this.length),this[e]},_e.prototype.readUInt16LE=function(e,t){return t||rn(e,2,this.length),this[e]|this[e+1]<<8},_e.prototype.readUInt16BE=function(e,t){return t||rn(e,2,this.length),this[e]<<8|this[e+1]},_e.prototype.readUInt32LE=function(e,t){return t||rn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},_e.prototype.readUInt32BE=function(e,t){return t||rn(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},_e.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||rn(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},_e.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||rn(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},_e.prototype.readInt8=function(e,t){return t||rn(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},_e.prototype.readInt16LE=function(e,t){t||rn(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},_e.prototype.readInt16BE=function(e,t){t||rn(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},_e.prototype.readInt32LE=function(e,t){return t||rn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},_e.prototype.readInt32BE=function(e,t){return t||rn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},_e.prototype.readFloatLE=function(e,t){return t||rn(e,4,this.length),ed(this,e,!0,23,4)},_e.prototype.readFloatBE=function(e,t){return t||rn(e,4,this.length),ed(this,e,!1,23,4)},_e.prototype.readDoubleLE=function(e,t){return t||rn(e,8,this.length),ed(this,e,!0,52,8)},_e.prototype.readDoubleBE=function(e,t){return t||rn(e,8,this.length),ed(this,e,!1,52,8)},_e.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||Nn(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},_e.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||Nn(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},_e.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||Nn(this,e,t,1,255,0),_e.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},_e.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||Nn(this,e,t,2,65535,0),_e.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):td(this,e,t,!0),t+2},_e.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||Nn(this,e,t,2,65535,0),_e.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):td(this,e,t,!1),t+2},_e.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||Nn(this,e,t,4,4294967295,0),_e.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):nd(this,e,t,!0),t+4},_e.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||Nn(this,e,t,4,4294967295,0),_e.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):nd(this,e,t,!1),t+4},_e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Nn(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},_e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Nn(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},_e.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||Nn(this,e,t,1,127,-128),_e.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},_e.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||Nn(this,e,t,2,32767,-32768),_e.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):td(this,e,t,!0),t+2},_e.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||Nn(this,e,t,2,32767,-32768),_e.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):td(this,e,t,!1),t+2},_e.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||Nn(this,e,t,4,2147483647,-2147483648),_e.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):nd(this,e,t,!0),t+4},_e.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||Nn(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),_e.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):nd(this,e,t,!1),t+4},_e.prototype.writeFloatLE=function(e,t,n){return vb(this,e,t,!0,n)},_e.prototype.writeFloatBE=function(e,t,n){return vb(this,e,t,!1,n)},_e.prototype.writeDoubleLE=function(e,t,n){return bb(this,e,t,!0,n)},_e.prototype.writeDoubleBE=function(e,t,n){return bb(this,e,t,!1,n)},_e.prototype.copy=function(e,t,n,r){if(n||(n=0),r||r===0||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!_e.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},_e.prototype.fill=function(e,t,n,r){if(typeof e=="string"){if(typeof t=="string"?(r=t,t=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),e.length===1){var i=e.charCodeAt(0);i<256&&(e=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!_e.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof e=="number"&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=n===void 0?this.length:n>>>0,e||(e=0),typeof e=="number")for(o=t;o<n;++o)this[o]=e;else{var s=Vr(e)?e:_d(new _e(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};G3=/[^+\/0-9A-Za-z-_]/g;(function(e){e[e.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",e[e.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",e[e.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",e[e.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",e[e.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"})(rg||(rg={}));Lr=rg;(function(e){e[e.NONE=0]="NONE",e[e.BI_RLE8=1]="BI_RLE8",e[e.BI_RLE4=2]="BI_RLE4",e[e.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",e[e.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"})(Fi||(Fi={}));ig=class{flag;fileSize;reserved1;reserved2;offset;headerSize;width;height;planes;bitPP;compression;rawSize;hr;vr;colors;importantColors;palette;data;maskRed;maskGreen;maskBlue;maskAlpha;toRGBA;pos;bottomUp;buffer;locRed;locGreen;locBlue;locAlpha;shiftRed;shiftGreen;shiftBlue;shiftAlpha;constructor(t,{toRGBA:n}={toRGBA:!1}){if(this.buffer=t,this.toRGBA=!!n,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!=="BM")throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in Lr))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>2147483647?this.height-4294967296:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),this.bitPP===32?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):this.bitPP===16&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>Lr.BITMAP_INFO_HEADER||this.compression===Fi.BI_BIT_FIELDS||this.compression===Fi.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>Lr.BITMAP_V2_INFO_HEADER||this.compression===Fi.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>Lr.BITMAP_V3_INFO_HEADER&&(this.pos+=Lr.BITMAP_V4_HEADER-Lr.BITMAP_V3_INFO_HEADER),this.headerSize>Lr.BITMAP_V4_HEADER&&(this.pos+=Lr.BITMAP_V5_HEADER-Lr.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){let n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(let r=0;r<n;r++){let i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.palette[r]={red:s,green:o,blue:i,quad:a}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);let t=ek(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=t.shiftRed,this.shiftGreen=t.shiftGreen,this.shiftBlue=t.shiftBlue,this.shiftAlpha=t.shiftAlpha}parseRGBA(){switch(this.data=_e.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){let t=Math.ceil(this.width/8),n=t%4,r=n!==0?4-n:0;this.scanImage(r,t,(i,o)=>{let s=this.buffer.readUInt8(this.pos++),a=o*this.width*4+8*i*4;for(let l=0;l<8&&8*i+l<this.width;l++){let u=this.palette[s>>7-l&1];this.data[a+l*this.locAlpha]=0,this.data[a+4*l+this.locBlue]=u.blue,this.data[a+4*l+this.locGreen]=u.green,this.data[a+4*l+this.locRed]=u.red}})}bit4(){if(this.compression===Fi.BI_RLE4){this.data.fill(0);let t=!1,n=this.bottomUp?this.height-1:0,r=0;for(;r<this.data.length;){let i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);if(i===0){if(o===0){n+=this.bottomUp?-1:1,r=n*this.width*4,t=!1;continue}if(o===1)break;if(o===2){let s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);n+=this.bottomUp?-a:a,r+=a*this.width*4+4*s}else{let s=this.buffer.readUInt8(this.pos++);for(let a=0;a<o;a++)r=this.setPixelData(r,t?15&s:(240&s)>>4),1&a&&a+1<o&&(s=this.buffer.readUInt8(this.pos++)),t=!t;(o+1>>1&1)==1&&this.pos++}}else for(let s=0;s<i;s++)r=this.setPixelData(r,t?15&o:(240&o)>>4),t=!t}}else{let t=Math.ceil(this.width/2),n=t%4,r=n!==0?4-n:0;this.scanImage(r,t,(i,o)=>{let s=this.buffer.readUInt8(this.pos++),a=o*this.width*4+2*i*4,l=s>>4,u=this.palette[l];if(this.data[a]=0,this.data[a+1]=u.blue,this.data[a+2]=u.green,this.data[a+3]=u.red,2*i+1>=this.width)return!1;let c=15&s;u=this.palette[c],this.data[a+4]=0,this.data[a+4+1]=u.blue,this.data[a+4+2]=u.green,this.data[a+4+3]=u.red})}}bit8(){if(this.compression===Fi.BI_RLE8){this.data.fill(0);let t=this.bottomUp?this.height-1:0,n=0;for(;n<this.data.length;){let r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(r===0){if(i===0){t+=this.bottomUp?-1:1,n=t*this.width*4;continue}if(i===1)break;if(i===2){let o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);t+=this.bottomUp?-s:s,n+=s*this.width*4+4*o}else{for(let o=0;o<i;o++){let s=this.buffer.readUInt8(this.pos++);n=this.setPixelData(n,s)}!0&i&&this.pos++}}else for(let o=0;o<r;o++)n=this.setPixelData(n,i)}}else{let t=this.width%4,n=t!==0?4-t:0;this.scanImage(n,this.width,(r,i)=>{let o=this.buffer.readUInt8(this.pos++),s=i*this.width*4+4*r;if(o<this.palette.length){let a=this.palette[o];this.data[s]=0,this.data[s+1]=a.blue,this.data[s+2]=a.green,this.data[s+3]=a.red}else this.data[s]=0,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255})}}bit16(){let t=this.width%2*2;this.scanImage(t,this.width,(n,r)=>{let i=r*this.width*4+4*n,o=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[i+this.locRed]=this.shiftRed(o),this.data[i+this.locGreen]=this.shiftGreen(o),this.data[i+this.locBlue]=this.shiftBlue(o),this.data[i+this.locAlpha]=this.shiftAlpha(o)})}bit24(){let t=this.width%4;this.scanImage(t,this.width,(n,r)=>{let i=r*this.width*4+4*n,o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.data[i+this.locRed]=a,this.data[i+this.locGreen]=s,this.data[i+this.locBlue]=o,this.data[i+this.locAlpha]=0})}bit32(){this.scanImage(0,this.width,(t,n)=>{let r=n*this.width*4+4*t,i=this.readUInt32LE();this.data[r+this.locRed]=this.shiftRed(i),this.data[r+this.locGreen]=this.shiftGreen(i),this.data[r+this.locBlue]=this.shiftBlue(i),this.data[r+this.locAlpha]=this.shiftAlpha(i)})}scanImage(t=0,n=this.width,r){for(let i=this.height-1;i>=0;i--){let o=this.bottomUp?i:this.height-1-i;for(let s=0;s<n;s++)if(r.call(this,s,o)===!1)return;this.pos+=t}}readUInt32LE(){let t=this.buffer.readUInt32LE(this.pos);return this.pos+=4,t}setPixelData(t,n){let{blue:r,green:i,red:o}=this.palette[n];return this.data[t+this.locAlpha]=0,this.data[t+1+this.locBlue]=r,this.data[t+2+this.locGreen]=i,this.data[t+3+this.locRed]=o,t+4}};og=class{fileSize;reserved1;reserved2;offset;width;flag;height;planes;bitPP;compress;hr;vr;colors;importantColors;rawSize;headerSize;data;palette;extraBytes;buffer;bytesInColor;pos;constructor(t){switch(this.buffer=t.data,this.width=t.width,this.height=t.height,this.headerSize=Lr.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=t.bitPP||24,this.offset=54,this.reserved1=t.reserved1||0,this.reserved2=t.reserved2||0,this.planes=1,this.compress=0,this.hr=t.hr||0,this.vr=t.vr||0,this.importantColors=t.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),t.colors||1/0),this.palette=t.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}let n=this.width*this.bitPP/32,r=Math.ceil(n);this.extraBytes=4*(r-n),this.rawSize=this.height*r*4+2,this.fileSize=this.rawSize+this.offset,this.data=_e.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&this.colors===2?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let t=[];this.writeImage((n,r,i)=>{let o=r;o++;let s=this.buffer[o++],a=this.buffer[o++],l=.2126*this.buffer[o++]+.7152*a+.0722*s;return t.push(l>127?0:1),(i+1)%8==0?(this.data[n-1]=wb(t),t=[]):i===this.width-1&&t.length>0&&(this.data[n-1]=wb(t)<<4,t=[]),o})}bit4(){let t=this.initColors(4),n=[];this.writeImage((r,i,o)=>{let s=i,a=Rm({quad:this.buffer[s++],blue:this.buffer[s++],green:this.buffer[s++],red:this.buffer[s++]}),l=t.findIndex(u=>u===a);return l!==-1?n.push(l):n.push(0),(o+1)%2==0&&(this.data[r]=n[0]<<4|n[1],n=[]),s})}bit8(){let t=this.initColors(8);this.writeImage((n,r)=>{let i=r,o=Rm({quad:this.buffer[i++],blue:this.buffer[i++],green:this.buffer[i++],red:this.buffer[i++]}),s=t.findIndex(a=>a===o);return this.data[n]=s!==-1?s:0,i})}bit16(){this.writeImage((t,n)=>{let r=n+1,i=this.buffer[r++]/8,o=this.buffer[r++]/8,s=this.buffer[r++]/8<<10|o<<5|i;return this.data[t]=255&s,this.data[t+1]=(65280&s)>>8,r})}bit24(){this.writeImage((t,n)=>{let r=n+1;return this.data[t]=this.buffer[r++],this.data[t+1]=this.buffer[r++],this.data[t+2]=this.buffer[r++],r})}bit32(){this.writeImage((t,n)=>{let r=n;return this.data[t+3]=this.buffer[r++],this.data[t]=this.buffer[r++],this.data[t+1]=this.buffer[r++],this.data[t+2]=this.buffer[r++],r})}writeImage(t){let n=this.extraBytes+this.width*this.bytesInColor,r=0;for(let i=0;i<this.height;i++)for(let o=0;o<this.width;o++){let s=Math.floor(this.pos+(this.height-1-i)*n+o*this.bytesInColor);r=t.call(this,s,r,o,i)}}initColors(t){let n=[];if(!this.palette.length)throw new Error(`To encode ${t}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);for(let r=0;r<this.colors;r++){let i=Rm(this.palette[r]);this.writeUInt32LE(i),n.push(i)}return n}writeUInt32LE(t){this.data.writeUInt32LE(t,this.pos),this.pos+=4}};rk=/^\s+/,ik=/\s+$/;ze.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=n2(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Db(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Db(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return this._a==1?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=Eb(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Eb(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return this._a==1?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return xb(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return uk(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Rt(this._r,255))+"%",g:Math.round(100*Rt(this._g,255))+"%",b:Math.round(100*Rt(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*Rt(this._r,255))+"%, "+Math.round(100*Rt(this._g,255))+"%, "+Math.round(100*Rt(this._b,255))+"%)":"rgba("+Math.round(100*Rt(this._r,255))+"%, "+Math.round(100*Rt(this._g,255))+"%, "+Math.round(100*Rt(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(wk[xb(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+Mb(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=ze(e);n="#"+Mb(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||e!=="hex"&&e!=="hex6"&&e!=="hex3"&&e!=="hex4"&&e!=="hex8"&&e!=="name"?(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),e!=="hex"&&e!=="hex6"||(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString()):e==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return ze(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(hk,arguments)},brighten:function(){return this._applyModification(pk,arguments)},darken:function(){return this._applyModification(mk,arguments)},desaturate:function(){return this._applyModification(ck,arguments)},saturate:function(){return this._applyModification(dk,arguments)},greyscale:function(){return this._applyModification(fk,arguments)},spin:function(){return this._applyModification(gk,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(vk,arguments)},complement:function(){return this._applyCombination(yk,arguments)},monochromatic:function(){return this._applyCombination(bk,arguments)},splitcomplement:function(){return this._applyCombination(_k,arguments)},triad:function(){return this._applyCombination(Ib,[3])},tetrad:function(){return this._applyCombination(Ib,[4])}},ze.fromRatio=function(e,t){if(vd(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=r==="a"?e[r]:al(e[r]));e=n}return ze(e,t)},ze.equals=function(e,t){return!(!e||!t)&&ze(e).toRgbString()==ze(t).toRgbString()},ze.random=function(){return ze.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},ze.mix=function(e,t,n){n=n===0?0:n||50;var r=ze(e).toRgb(),i=ze(t).toRgb(),o=n/100;return ze({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},ze.readability=function(e,t){var n=ze(e),r=ze(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},ze.isReadable=function(e,t,n){var r,i,o=ze.readability(e,t);switch(i=!1,(r=Ik(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},ze.mostReadable=function(e,t,n){var r,i,o,s,a=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var u=0;u<t.length;u++)(r=ze.readability(e,t[u]))>l&&(l=r,a=ze(t[u]));return ze.isReadable(e,a,{level:o,size:s})||!i?a:(n.includeFallbackColors=!1,ze.mostReadable(e,["#fff","#000"],n))};sg=ze.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},wk=ze.hexNames=Ek(sg);br=(si="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",rd="[\\s|\\(]+("+si+")[,|\\s]+("+si+")[,|\\s]+("+si+")\\s*\\)?",id="[\\s|\\(]+("+si+")[,|\\s]+("+si+")[,|\\s]+("+si+")[,|\\s]+("+si+")\\s*\\)?",{CSS_UNIT:new RegExp(si),rgb:new RegExp("rgb"+rd),rgba:new RegExp("rgba"+id),hsl:new RegExp("hsl"+rd),hsla:new RegExp("hsla"+id),hsv:new RegExp("hsv"+rd),hsva:new RegExp("hsva"+id),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});bd={};try{kk=bd.GifWriter=Rk,Tk=bd.GifReader=Ok}catch{}Pk=class fd{constructor(...t){if(t.length===0)throw new Error("constructor requires parameters");let n=t[0];if(n!==null&&typeof n=="object")if(n instanceof fd){let r=n.bitmap;this.bitmap={width:r.width,height:r.height,data:new _e(r.width*r.height*4)},r.data.copy(this.bitmap.data)}else{if(!(n.width&&n.height&&n.data))throw new Error("unrecognized constructor parameters");this.bitmap=n}else{if(typeof n!="number"||typeof t[1]!="number")throw new Error("unrecognized constructor parameters");{let r=n,i=t[1],o=t[2];this.bitmap={width:r,height:i},_e.isBuffer(o)?this.bitmap.data=o:(this.bitmap.data=new _e(r*i*4),typeof o=="number"&&this.fillRGBA(o))}}}blit(t,n,r,i,o,s,a){if(i+s>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(n+s>t.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(o+a>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(r+a>t.bitmap.height)throw new Erro("copy exceeds height of target bitmap");let l=this.bitmap.data,u=t.bitmap.data,c=4*this.bitmap.width,d=4*t.bitmap.width,f=4*s,h=o*c+4*i,p=r*d+4*n;for(;--a>=0;)l.copy(u,p,h,h+f),h+=c,p+=d;return this}fillRGBA(t){let n=this.bitmap.data,r=4*this.bitmap.height,i=0;for(;i<r;)n.writeUInt32BE(t,i),i+=4;for(;i<n.length;)n.copy(n,i,0,r),i+=r;return this}getRGBA(t,n){let r=4*(n*this.bitmap.width+t);return this.bitmap.data.readUInt32BE(r)}getRGBASet(){let t=new Set,n=this.bitmap.data;for(let r=0;r<n.length;r+=4)t.add(n.readUInt32BE(r,!0));return t}greyscale(){let t=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(n,r,i)=>{let o=Math.round(.299*t[i]+.587*t[i+1]+.114*t[i+2]);t[i]=o,t[i+1]=o,t[i+2]=o}),this}reframe(t,n,r,i,o){let s=t<0?0:t,a=n<0?0:n,l=r+s>this.bitmap.width?this.bitmap.width-s:r,u=i+a>this.bitmap.height?this.bitmap.height-a:i,c=t<0?-t:0,d=n<0?-n:0,f;if(o===void 0){if(s!==t||a!=n||l!==r||u!==i)throw new GifError("fillRGBA required for this reframing");f=new fd(r,i)}else f=new fd(r,i,o);return this.blit(f,c,d,s,a,l,u),this.bitmap=f.bitmap,this}scale(t){if(t===1)return;if(!Number.isInteger(t)||t<1)throw new Error("the scale must be an integer >= 1");let n=this.bitmap.width,r=this.bitmap.height,i=n*t*4,o=this.bitmap.data,s=new _e(r*i*t),a,l=0,u=0;for(let c=0;c<r;++c){a=u;for(let d=0;d<n;++d){let f=o.readUInt32BE(l,!0);for(let h=0;h<t;++h)s.writeUInt32BE(f,u),u+=4;l+=4}for(let d=1;d<t;++d)s.copy(s,u,a,u),u+=i,a+=i}return this.bitmap={width:n*t,height:r*t,data:s},this}scanAllCoords(t){let n=this.bitmap.width,r=this.bitmap.data.length,i=0,o=0;for(let s=0;s<r;s+=4)t(i,o,s),++i===n&&(i=0,++o)}scanAllIndexes(t){let n=this.bitmap.data.length;for(let r=0;r<n;r+=4)t(r)}},kg=Pk,_l={},hd=class{constructor(e,t,n){this.width=n.width,this.height=n.height,this.loops=n.loops,this.usesTransparency=n.usesTransparency,this.colorScope=n.colorScope,this.frames=t,this.buffer=e}};hd.GlobalColorsPreferred=0,hd.GlobalColorsOnly=1,hd.LocalColorsOnly=2;Fk=class extends Error{constructor(e){super(e),e instanceof Error&&(this.stack="Gif"+e.stack)}};_l.Gif=hd,_l.GifError=Fk;Nm={},Ab={},Lk={},l2=Object.freeze({__proto__:null,default:Lk}),Bk=E3(l2),Vd=Object.defineProperty,jk=Object.getOwnPropertyDescriptor,Uk=Object.getOwnPropertyNames,Vk=Object.prototype.hasOwnProperty,zk=(e,t,n)=>t in e?Vd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hk=e=>Vd(e,"__esModule",{value:!0}),Gr=(e,t)=>{for(var n in t)Vd(e,n,{get:t[n],enumerable:!0})},$k=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Uk(t))!Vk.call(e,i)&&n&&Vd(e,i,{get:()=>t[i],enumerable:!(r=jk(t,i))||r.enumerable});return e},Gk=(e=>(t,n)=>e&&e.get(t)||(n=$k(Hk({}),t,1),e&&e.set(t,n),n))(typeof WeakMap<"u"?new WeakMap:0),ve=(e,t,n)=>(zk(e,typeof t!="symbol"?t+"":t,n),n),u2={};Gr(u2,{applyPalette:()=>fR,applyPaletteSync:()=>dR,buildPalette:()=>cR,buildPaletteSync:()=>uR,constants:()=>c2,conversion:()=>m2,distance:()=>D2,image:()=>V2,palette:()=>P2,quality:()=>$2,utils:()=>F2});c2={};Gr(c2,{bt709:()=>d2});d2={};Gr(d2,{Y:()=>f2,x:()=>h2,y:()=>p2});f2=(e=>(e[e.RED=.2126]="RED",e[e.GREEN=.7152]="GREEN",e[e.BLUE=.0722]="BLUE",e[e.WHITE=1]="WHITE",e))(f2||{}),h2=(e=>(e[e.RED=.64]="RED",e[e.GREEN=.3]="GREEN",e[e.BLUE=.15]="BLUE",e[e.WHITE=.3127]="WHITE",e))(h2||{}),p2=(e=>(e[e.RED=.33]="RED",e[e.GREEN=.6]="GREEN",e[e.BLUE=.06]="BLUE",e[e.WHITE=.329]="WHITE",e))(p2||{}),m2={};Gr(m2,{lab2rgb:()=>Xk,lab2xyz:()=>w2,rgb2hsl:()=>wd,rgb2lab:()=>vl,rgb2xyz:()=>g2,xyz2lab:()=>b2,xyz2rgb:()=>E2});y2={};Gr(y2,{degrees2radians:()=>Ni,inRange0to255:()=>Gn,inRange0to255Rounded:()=>or,intInRange:()=>Wk,max3:()=>_2,min3:()=>v2,stableSort:()=>Rg});qk=.95047,Zk=1,Yk=1.08883;Qk=.95047,Kk=1,Jk=1.08883;D2={};Gr(D2,{AbstractDistanceCalculator:()=>ko,AbstractEuclidean:()=>zd,AbstractManhattan:()=>Hd,CIE94GraphicArts:()=>I2,CIE94Textiles:()=>M2,CIEDE2000:()=>wr,CMetric:()=>C2,Euclidean:()=>S2,EuclideanBT709:()=>A2,EuclideanBT709NoAlpha:()=>T2,Manhattan:()=>k2,ManhattanBT709:()=>N2,ManhattanNommyde:()=>R2,PNGQuant:()=>O2});ko=class{constructor(){ve(this,"_maxDistance"),ve(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(e,t,n,r){this._whitePoint={r:e>0?255/e:0,g:t>0?255/t:0,b:n>0?255/n:0,a:r>0?255/r:0},this._maxDistance=this.calculateRaw(e,t,n,r,0,0,0,0)}calculateNormalized(e,t){return this.calculateRaw(e.r,e.g,e.b,e.a,t.r,t.g,t.b,t.a)/this._maxDistance}},x2=class extends ko{calculateRaw(e,t,n,r,i,o,s,a){let l=vl(Gn(e*this._whitePoint.r),Gn(t*this._whitePoint.g),Gn(n*this._whitePoint.b)),u=vl(Gn(i*this._whitePoint.r),Gn(o*this._whitePoint.g),Gn(s*this._whitePoint.b)),c=l.L-u.L,d=l.a-u.a,f=l.b-u.b,h=Math.sqrt(l.a*l.a+l.b*l.b),p=h-Math.sqrt(u.a*u.a+u.b*u.b),m=d*d+f*f-p*p;m=m<0?0:Math.sqrt(m);let g=(a-r)*this._whitePoint.a*this._kA;return Math.sqrt((c/this._Kl)**2+(p/(1+this._K1*h))**2+(m/(1+this._K2*h))**2+g**2)}},M2=class extends x2{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},I2=class extends x2{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},Tt=class extends ko{_setDefaults(){}static _calculatehp(e,t){let n=Math.atan2(e,t);return n>=0?n:n+Tt._deg360InRad}static _calculateRT(e,t){let n=t**7,r=2*Math.sqrt(n/(n+Tt._pow25to7)),i=Tt._deg30InRad*Math.exp(-(((e-Tt._deg275InRad)/Tt._deg25InRad)**2));return-Math.sin(2*i)*r}static _calculateT(e){return 1-.17*Math.cos(e-Tt._deg30InRad)+.24*Math.cos(2*e)+.32*Math.cos(3*e+Tt._deg6InRad)-.2*Math.cos(4*e-Tt._deg63InRad)}static _calculate_ahp(e,t,n,r){let i=n+r;return e===0?i:t<=Tt._deg180InRad?i/2:i<Tt._deg360InRad?(i+Tt._deg360InRad)/2:(i-Tt._deg360InRad)/2}static _calculate_dHp(e,t,n,r){let i;return i=e===0?0:t<=Tt._deg180InRad?n-r:n<=r?n-r+Tt._deg360InRad:n-r-Tt._deg360InRad,2*Math.sqrt(e)*Math.sin(i/2)}calculateRaw(e,t,n,r,i,o,s,a){let l=vl(Gn(e*this._whitePoint.r),Gn(t*this._whitePoint.g),Gn(n*this._whitePoint.b)),u=vl(Gn(i*this._whitePoint.r),Gn(o*this._whitePoint.g),Gn(s*this._whitePoint.b)),c=(a-r)*this._whitePoint.a*Tt._kA,d=this.calculateRawInLab(l,u);return Math.sqrt(d+c*c)}calculateRawInLab(e,t){let n=e.L,r=e.a,i=e.b,o=t.L,s=t.a,a=t.b,l=((Math.sqrt(r*r+i*i)+Math.sqrt(s*s+a*a))/2)**7,u=.5*(1-Math.sqrt(l/(l+Tt._pow25to7))),c=(1+u)*r,d=(1+u)*s,f=Math.sqrt(c*c+i*i),h=Math.sqrt(d*d+a*a),p=f*h,m=Tt._calculatehp(i,c),g=Tt._calculatehp(a,d),v=Math.abs(m-g),D=o-n,w=h-f,b=Tt._calculate_dHp(p,v,g,m),E=Tt._calculate_ahp(p,v,m,g),C=(f+h)/2,M=((n+o)/2-50)**2,S=w/(1+.045*C),I=b/(1+.015*Tt._calculateT(E)*C);return(D/(1+.015*M/Math.sqrt(20+M)))**2+S**2+I**2+Tt._calculateRT(E,C)*S*I}},wr=Tt;ve(wr,"_kA",25/255),ve(wr,"_pow25to7",25**7),ve(wr,"_deg360InRad",Ni(360)),ve(wr,"_deg180InRad",Ni(180)),ve(wr,"_deg30InRad",Ni(30)),ve(wr,"_deg6InRad",Ni(6)),ve(wr,"_deg63InRad",Ni(63)),ve(wr,"_deg275InRad",Ni(275)),ve(wr,"_deg25InRad",Ni(25));C2=class extends ko{calculateRaw(e,t,n,r,i,o,s,a){let l=(e+i)/2*this._whitePoint.r,u=(e-i)*this._whitePoint.r,c=(t-o)*this._whitePoint.g,d=(n-s)*this._whitePoint.b,f=((512+l)*u*u>>8)+4*c*c+((767-l)*d*d>>8),h=(a-r)*this._whitePoint.a;return Math.sqrt(f+h*h)}_setDefaults(){}},zd=class extends ko{calculateRaw(e,t,n,r,i,o,s,a){let l=i-e,u=o-t,c=s-n,d=a-r;return Math.sqrt(this._kR*l*l+this._kG*u*u+this._kB*c*c+this._kA*d*d)}},S2=class extends zd{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},A2=class extends zd{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},T2=class extends zd{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},Hd=class extends ko{calculateRaw(e,t,n,r,i,o,s,a){let l=i-e,u=o-t,c=s-n,d=a-r;return l<0&&(l=0-l),u<0&&(u=0-u),c<0&&(c=0-c),d<0&&(d=0-d),this._kR*l+this._kG*u+this._kB*c+this._kA*d}},k2=class extends Hd{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},R2=class extends Hd{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},N2=class extends Hd{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},O2=class extends ko{calculateRaw(e,t,n,r,i,o,s,a){let l=(a-r)*this._whitePoint.a;return this._colordifferenceCh(e*this._whitePoint.r,i*this._whitePoint.r,l)+this._colordifferenceCh(t*this._whitePoint.g,o*this._whitePoint.g,l)+this._colordifferenceCh(n*this._whitePoint.b,s*this._whitePoint.b,l)}_colordifferenceCh(e,t,n){let r=e-t,i=r+n;return r*r+i*i}_setDefaults(){}},P2={};Gr(P2,{AbstractPaletteQuantizer:()=>Sl,ColorHistogram:()=>ml,NeuQuant:()=>Ft,NeuQuantFloat:()=>Lt,RGBQuant:()=>j2,WuColorCube:()=>U2,WuQuant:()=>Gs});Sl=class{quantizeSync(){for(let e of this.quantize())if(e.palette)return e.palette;throw new Error("unreachable")}},Zn=class{constructor(){ve(this,"r"),ve(this,"g"),ve(this,"b"),ve(this,"a"),ve(this,"uint32"),ve(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(e){let t=new Zn;return t.r=0|e[0],t.g=0|e[1],t.b=0|e[2],t.a=0|e[3],t._loadUINT32(),t._loadQuadruplet(),t}static createByRGBA(e,t,n,r){let i=new Zn;return i.r=0|e,i.g=0|t,i.b=0|n,i.a=0|r,i._loadUINT32(),i._loadQuadruplet(),i}static createByUint32(e){let t=new Zn;return t.uint32=e>>>0,t._loadRGBA(),t._loadQuadruplet(),t}from(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this.uint32=e.uint32,this.rgba[0]=e.r,this.rgba[1]=e.g,this.rgba[2]=e.b,this.rgba[3]=e.a}getLuminosity(e){let t=this.r,n=this.g,r=this.b;return e&&(t=Math.min(255,255-this.a+this.a*t/255),n=Math.min(255,255-this.a+this.a*n/255),r=Math.min(255,255-this.a+this.a*r/255)),.2126*t+.7152*n+.0722*r}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},ci=class{constructor(){ve(this,"_pointArray"),ve(this,"_width"),ve(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(e){this._width=e}setHeight(e){this._height=e}getPointArray(){return this._pointArray}clone(){let e=new ci;e._width=this._width,e._height=this._height;for(let t=0,n=this._pointArray.length;t<n;t++)e._pointArray[t]=Zn.createByUint32(0|this._pointArray[t].uint32);return e}toUint32Array(){let e=this._pointArray.length,t=new Uint32Array(e);for(let n=0;n<e;n++)t[n]=this._pointArray[n].uint32;return t}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(e){let t=e.naturalWidth,n=e.naturalHeight,r=document.createElement("canvas");return r.width=t,r.height=n,r.getContext("2d").drawImage(e,0,0,t,n,0,0,t,n),ci.fromHTMLCanvasElement(r)}static fromHTMLCanvasElement(e){let t=e.width,n=e.height,r=e.getContext("2d").getImageData(0,0,t,n);return ci.fromImageData(r)}static fromImageData(e){let t=e.width,n=e.height;return ci.fromUint8Array(e.data,t,n)}static fromUint8Array(e,t,n){switch(Object.prototype.toString.call(e)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:e=new Uint8Array(e)}let r=new Uint32Array(e.buffer);return ci.fromUint32Array(r,t,n)}static fromUint32Array(e,t,n){let r=new ci;r._width=t,r._height=n;for(let i=0,o=e.length;i<o;i++)r._pointArray[i]=Zn.createByUint32(0|e[i]);return r}static fromBuffer(e,t,n){let r=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/Uint32Array.BYTES_PER_ELEMENT);return ci.fromUint32Array(r,t,n)}},Tb=10;Al=class{constructor(){ve(this,"_pointContainer"),ve(this,"_pointArray",[]),ve(this,"_i32idx",{}),this._pointContainer=new ci,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(e){this._pointArray.push(e),this._pointContainer.setWidth(this._pointArray.length)}has(e){for(let t=this._pointArray.length-1;t>=0;t--)if(e.uint32===this._pointArray[t].uint32)return!0;return!1}getNearestColor(e,t){return this._pointArray[0|this._getNearestIndex(e,t)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(e){return typeof this._i32idx[e]=="number"?this._i32idx[e]:-1}_getNearestIndex(e,t){let n=this._nearestPointFromCache(""+t.uint32);if(n>=0)return n;let r=Number.MAX_VALUE;n=0;for(let i=0,o=this._pointArray.length;i<o;i++){let s=this._pointArray[i],a=e.calculateRaw(t.r,t.g,t.b,t.a,s.r,s.g,s.b,s.a);a<r&&(r=a,n=i)}return this._i32idx[t.uint32]=n,n}sort(){this._i32idx={},this._pointArray.sort((e,t)=>{let n=wd(e.r,e.g,e.b),r=wd(t.r,t.g,t.b),i=e.r===e.g&&e.g===e.b?0:1+ag(n.h,Tb),o=(t.r===t.g&&t.g===t.b?0:1+ag(r.h,Tb))-i;if(o)return-o;let s=e.getLuminosity(!0),a=t.getLuminosity(!0);if(a-s!=0)return a-s;let l=(100*r.s|0)-(100*n.s|0);return l?-l:0})}},F2={};Gr(F2,{HueStatistics:()=>L2,Palette:()=>Al,Point:()=>Zn,PointContainer:()=>ci,ProgressTracker:()=>gi,arithmetic:()=>y2});eR=class{constructor(){ve(this,"num",0),ve(this,"cols",[])}},L2=class{constructor(e,t){ve(this,"_numGroups"),ve(this,"_minCols"),ve(this,"_stats"),ve(this,"_groupsFull"),this._numGroups=e,this._minCols=t,this._stats=[];for(let n=0;n<=e;n++)this._stats[n]=new eR;this._groupsFull=0}check(e){this._groupsFull===this._numGroups+1&&(this.check=()=>{});let t=255&e,n=e>>>8&255,r=e>>>16&255,i=t===n&&n===r?0:1+ag(wd(t,n,r).h,this._numGroups),o=this._stats[i],s=this._minCols;o.num++,o.num>s||(o.num===s&&this._groupsFull++,o.num<=s&&this._stats[i].cols.push(e))}injectIntoDictionary(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(n=>{e[n]?e[n]++:e[n]=1})}injectIntoArray(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(n=>{e.indexOf(n)===-1&&e.push(n)})}},B2=class{constructor(e,t){ve(this,"progress"),ve(this,"_step"),ve(this,"_range"),ve(this,"_last"),ve(this,"_progressRange"),this._range=e,this._progressRange=t,this._step=Math.max(1,this._range/(B2.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(e){return e-this._last>=this._step&&(this._last=e,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},gi=B2;ve(gi,"steps",100);wn=3,tR=class{constructor(e){ve(this,"r"),ve(this,"g"),ve(this,"b"),ve(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return Zn.createByRGBA(this.r>>wn,this.g>>wn,this.b>>wn,this.a>>wn)}subtract(e,t,n,r){this.r-=0|e,this.g-=0|t,this.b-=0|n,this.a-=0|r}},ft=class extends Sl{constructor(e,t=256){super(),ve(this,"_pointArray"),ve(this,"_networkSize"),ve(this,"_network"),ve(this,"_sampleFactor"),ve(this,"_radPower"),ve(this,"_freq"),ve(this,"_bias"),ve(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<wn,255<<wn,255<<wn,255<<wn)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*Xe(this._learn()),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new tR((e<<wn+8)/this._networkSize|0),this._freq[e]=ft._initialBias/this._networkSize|0,this._bias[e]=0}*_learn(){let e=this._sampleFactor,t=this._pointArray.length;t<ft._minpicturebytes&&(e=1);let n=30+(e-1)/3|0,r=t/e|0,i,o=r/ft._nCycles|0,s=ft._initAlpha,a=(this._networkSize>>3)*ft._radiusBias,l=a>>ft._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=s*((l*l-c*c)*ft._radBias/(l*l))>>>0;i=t<ft._minpicturebytes?1:t%ft._prime1!=0?ft._prime1:t%ft._prime2!=0?ft._prime2:t%ft._prime3!=0?ft._prime3:ft._prime4;let u=new gi(r,99);for(let c=0,d=0;c<r;){u.shouldNotify(c)&&(yield{progress:u.progress});let f=this._pointArray[d],h=f.b<<wn,p=f.g<<wn,m=f.r<<wn,g=f.a<<wn,v=this._contest(h,p,m,g);if(this._alterSingle(s,v,h,p,m,g),l!==0&&this._alterNeighbour(l,v,h,p,m,g),d+=i,d>=t&&(d-=t),c++,o===0&&(o=1),c%o==0){s-=s/n|0,a-=a/ft._radiusDecrease|0,l=a>>ft._radiusBiasShift,l<=1&&(l=0);for(let D=0;D<l;D++)this._radPower[D]=s*((l*l-D*D)*ft._radBias/(l*l))>>>0}}}_buildPalette(){let e=new Al;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,n,r,i,o){let s=t-e;s<-1&&(s=-1);let a=t+e;a>this._networkSize&&(a=this._networkSize);let l=t+1,u=t-1,c=1;for(;l<a||u>s;){let d=this._radPower[c++]/ft._alphaRadBias;if(l<a){let f=this._network[l++];f.subtract(d*(f.r-i),d*(f.g-r),d*(f.b-n),d*(f.a-o))}if(u>s){let f=this._network[u--];f.subtract(d*(f.r-i),d*(f.g-r),d*(f.b-n),d*(f.a-o))}}}_alterSingle(e,t,n,r,i,o){e/=ft._initAlpha;let s=this._network[t];s.subtract(e*(s.r-i),e*(s.g-r),e*(s.b-n),e*(s.a-o))}_contest(e,t,n,r){let i=1020<<wn,o=~(1<<31),s=o,a=-1,l=a;for(let u=0;u<this._networkSize;u++){let c=this._network[u],d=this._distance.calculateNormalized(c,{r:n,g:t,b:e,a:r})*i|0;d<o&&(o=d,a=u);let f=d-(this._bias[u]>>ft._initialBiasShift-wn);f<s&&(s=f,l=u);let h=this._freq[u]>>ft._betaShift;this._freq[u]-=h,this._bias[u]+=h<<ft._gammaShift}return this._freq[a]+=ft._beta,this._bias[a]-=ft._betaGamma,l}},Ft=ft;ve(Ft,"_prime1",499),ve(Ft,"_prime2",491),ve(Ft,"_prime3",487),ve(Ft,"_prime4",503),ve(Ft,"_minpicturebytes",ft._prime4),ve(Ft,"_nCycles",100),ve(Ft,"_initialBiasShift",16),ve(Ft,"_initialBias",1<<ft._initialBiasShift),ve(Ft,"_gammaShift",10),ve(Ft,"_betaShift",10),ve(Ft,"_beta",ft._initialBias>>ft._betaShift),ve(Ft,"_betaGamma",ft._initialBias<<ft._gammaShift-ft._betaShift),ve(Ft,"_radiusBiasShift",6),ve(Ft,"_radiusBias",1<<ft._radiusBiasShift),ve(Ft,"_radiusDecrease",30),ve(Ft,"_alphaBiasShift",10),ve(Ft,"_initAlpha",1<<ft._alphaBiasShift),ve(Ft,"_radBiasShift",8),ve(Ft,"_radBias",1<<ft._radBiasShift),ve(Ft,"_alphaRadBiasShift",ft._alphaBiasShift+ft._radBiasShift),ve(Ft,"_alphaRadBias",1<<ft._alphaRadBiasShift);En=3,nR=class{constructor(e){ve(this,"r"),ve(this,"g"),ve(this,"b"),ve(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return Zn.createByRGBA(this.r>>En,this.g>>En,this.b>>En,this.a>>En)}subtract(e,t,n,r){this.r-=e,this.g-=t,this.b-=n,this.a-=r}},ht=class extends Sl{constructor(e,t=256){super(),ve(this,"_pointArray"),ve(this,"_networkSize"),ve(this,"_network"),ve(this,"_sampleFactor"),ve(this,"_radPower"),ve(this,"_freq"),ve(this,"_bias"),ve(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<En,255<<En,255<<En,255<<En)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*Xe(this._learn()),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new nR((e<<En+8)/this._networkSize),this._freq[e]=ht._initialBias/this._networkSize,this._bias[e]=0}*_learn(){let e=this._sampleFactor,t=this._pointArray.length;t<ht._minpicturebytes&&(e=1);let n=30+(e-1)/3,r=t/e,i,o=r/ht._nCycles|0,s=ht._initAlpha,a=(this._networkSize>>3)*ht._radiusBias,l=a>>ht._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=s*((l*l-c*c)*ht._radBias/(l*l));i=t<ht._minpicturebytes?1:t%ht._prime1!=0?ht._prime1:t%ht._prime2!=0?ht._prime2:t%ht._prime3!=0?ht._prime3:ht._prime4;let u=new gi(r,99);for(let c=0,d=0;c<r;){u.shouldNotify(c)&&(yield{progress:u.progress});let f=this._pointArray[d],h=f.b<<En,p=f.g<<En,m=f.r<<En,g=f.a<<En,v=this._contest(h,p,m,g);if(this._alterSingle(s,v,h,p,m,g),l!==0&&this._alterNeighbour(l,v,h,p,m,g),d+=i,d>=t&&(d-=t),c++,o===0&&(o=1),c%o==0){s-=s/n,a-=a/ht._radiusDecrease,l=a>>ht._radiusBiasShift,l<=1&&(l=0);for(let D=0;D<l;D++)this._radPower[D]=s*((l*l-D*D)*ht._radBias/(l*l))}}}_buildPalette(){let e=new Al;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,n,r,i,o){let s=t-e;s<-1&&(s=-1);let a=t+e;a>this._networkSize&&(a=this._networkSize);let l=t+1,u=t-1,c=1;for(;l<a||u>s;){let d=this._radPower[c++]/ht._alphaRadBias;if(l<a){let f=this._network[l++];f.subtract(d*(f.r-i),d*(f.g-r),d*(f.b-n),d*(f.a-o))}if(u>s){let f=this._network[u--];f.subtract(d*(f.r-i),d*(f.g-r),d*(f.b-n),d*(f.a-o))}}}_alterSingle(e,t,n,r,i,o){e/=ht._initAlpha;let s=this._network[t];s.subtract(e*(s.r-i),e*(s.g-r),e*(s.b-n),e*(s.a-o))}_contest(e,t,n,r){let i=1020<<En,o=~(1<<31),s=o,a=-1,l=a;for(let u=0;u<this._networkSize;u++){let c=this._network[u],d=this._distance.calculateNormalized(c,{r:n,g:t,b:e,a:r})*i;d<o&&(o=d,a=u);let f=d-(this._bias[u]>>ht._initialBiasShift-En);f<s&&(s=f,l=u);let h=this._freq[u]>>ht._betaShift;this._freq[u]-=h,this._bias[u]+=h<<ht._gammaShift}return this._freq[a]+=ht._beta,this._bias[a]-=ht._betaGamma,l}},Lt=ht;ve(Lt,"_prime1",499),ve(Lt,"_prime2",491),ve(Lt,"_prime3",487),ve(Lt,"_prime4",503),ve(Lt,"_minpicturebytes",ht._prime4),ve(Lt,"_nCycles",100),ve(Lt,"_initialBiasShift",16),ve(Lt,"_initialBias",1<<ht._initialBiasShift),ve(Lt,"_gammaShift",10),ve(Lt,"_betaShift",10),ve(Lt,"_beta",ht._initialBias>>ht._betaShift),ve(Lt,"_betaGamma",ht._initialBias<<ht._gammaShift-ht._betaShift),ve(Lt,"_radiusBiasShift",6),ve(Lt,"_radiusBias",1<<ht._radiusBiasShift),ve(Lt,"_radiusDecrease",30),ve(Lt,"_alphaBiasShift",10),ve(Lt,"_initAlpha",1<<ht._alphaBiasShift),ve(Lt,"_radBiasShift",8),ve(Lt,"_radBias",1<<ht._radBiasShift),ve(Lt,"_alphaRadBiasShift",ht._alphaBiasShift+ht._radBiasShift),ve(Lt,"_alphaRadBias",1<<ht._alphaRadBiasShift);ul=class{constructor(e,t){ve(this,"_method"),ve(this,"_hueStats"),ve(this,"_histogram"),ve(this,"_initColors"),ve(this,"_minHueCols"),this._method=e,this._minHueCols=t<<2,this._initColors=t<<2,this._hueStats=new L2(ul._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(e){switch(this._method){case 1:this._colorStats1D(e);break;case 2:this._colorStats2D(e)}}getImportanceSortedColorsIDXI32(){let e=Rg(Object.keys(this._histogram),(n,r)=>this._histogram[r]-this._histogram[n]);if(e.length===0)return[];let t;switch(this._method){case 1:let n=Math.min(e.length,this._initColors),r=e[n-1],i=this._histogram[r];t=e.slice(0,n);let o=n,s=e.length;for(;o<s&&this._histogram[e[o]]===i;)t.push(e[o++]);this._hueStats.injectIntoArray(t);break;case 2:t=e;break;default:throw new Error("Incorrect method")}return t.map(n=>+n)}_colorStats1D(e){let t=this._histogram,n=e.getPointArray(),r=n.length;for(let i=0;i<r;i++){let o=n[i].uint32;this._hueStats.check(o),o in t?t[o]++:t[o]=1}}_colorStats2D(e){let t=e.getWidth(),n=e.getHeight(),r=e.getPointArray(),i=ul._boxSize[0],o=ul._boxSize[1],s=i*o,a=this._makeBoxes(t,n,i,o),l=this._histogram;a.forEach(u=>{let c=Math.round(u.w*u.h/s)*ul._boxPixels;c<2&&(c=2);let d={};this._iterateBox(u,t,f=>{let h=r[f].uint32;this._hueStats.check(h),h in l?l[h]++:h in d?++d[h]>=c&&(l[h]=d[h]):d[h]=1})}),this._hueStats.injectIntoDictionary(l)}_iterateBox(e,t,n){let r=e,i=r.y*t+r.x,o=(r.y+r.h-1)*t+(r.x+r.w-1),s=t-r.w+1,a=0,l=i;do n.call(this,l),l+=++a%r.w==0?s:1;while(l<=o)}_makeBoxes(e,t,n,r){let i=e%n,o=t%r,s=e-i,a=t-o,l=[];for(let u=0;u<t;u+=r)for(let c=0;c<e;c+=n)l.push({x:c,y:u,w:c===s?i:n,h:u===a?o:r});return l}},ml=ul;ve(ml,"_boxSize",[64,64]),ve(ml,"_boxPixels",2),ve(ml,"_hueGroups",10);rR=class{constructor(e,t,n){ve(this,"index"),ve(this,"color"),ve(this,"distance"),this.index=e,this.color=t,this.distance=n}},j2=class extends Sl{constructor(e,t=256,n=2){super(),ve(this,"_colors"),ve(this,"_initialDistance"),ve(this,"_distanceIncrement"),ve(this,"_histogram"),ve(this,"_distance"),this._distance=e,this._colors=t,this._histogram=new ml(n,t),this._initialDistance=.01,this._distanceIncrement=.005}sample(e){this._histogram.sample(e)}*quantize(){let e=this._histogram.getImportanceSortedColorsIDXI32();if(e.length===0)throw new Error("No colors in image");yield*Xe(this._buildPalette(e))}*_buildPalette(e){let t=new Al,n=t.getPointContainer().getPointArray(),r=new Array(e.length);for(let c=0;c<e.length;c++)n.push(Zn.createByUint32(e[c])),r[c]=1;let i=n.length,o=[],s=i,a=this._initialDistance,l=new gi(s-this._colors,99);for(;s>this._colors;){o.length=0;for(let c=0;c<i;c++){if(l.shouldNotify(i-s)&&(yield{progress:l.progress}),r[c]===0)continue;let d=n[c];for(let f=c+1;f<i;f++){if(r[f]===0)continue;let h=n[f],p=this._distance.calculateNormalized(d,h);p<a&&(o.push(new rR(f,h,p)),r[f]=0,s--)}}a+=s>3*this._colors?this._initialDistance:this._distanceIncrement}if(s<this._colors){Rg(o,(d,f)=>f.distance-d.distance);let c=0;for(;s<this._colors&&c<o.length;)r[o[c].index]=1,s++,c++}let u=n.length;for(let c=u-1;c>=0;c--)r[c]===0&&(c!==u-1&&(n[c]=n[u-1]),--u);n.length=u,t.sort(),yield{palette:t,progress:100}}};U2=class{constructor(){ve(this,"redMinimum"),ve(this,"redMaximum"),ve(this,"greenMinimum"),ve(this,"greenMaximum"),ve(this,"blueMinimum"),ve(this,"blueMaximum"),ve(this,"volume"),ve(this,"alphaMinimum"),ve(this,"alphaMaximum")}},Qe=class extends Sl{constructor(e,t=256,n=5){super(),ve(this,"_reds"),ve(this,"_greens"),ve(this,"_blues"),ve(this,"_alphas"),ve(this,"_sums"),ve(this,"_weights"),ve(this,"_momentsRed"),ve(this,"_momentsGreen"),ve(this,"_momentsBlue"),ve(this,"_momentsAlpha"),ve(this,"_moments"),ve(this,"_table"),ve(this,"_pixels"),ve(this,"_cubes"),ve(this,"_colors"),ve(this,"_significantBitsPerChannel"),ve(this,"_maxSideIndex"),ve(this,"_alphaMaxSideIndex"),ve(this,"_sideSize"),ve(this,"_alphaSideSize"),ve(this,"_distance"),this._distance=e,this._setQuality(n),this._initialize(t)}sample(e){let t=e.getPointArray();for(let n=0,r=t.length;n<r;n++)this._addColor(t[n]);this._pixels=this._pixels.concat(t)}*quantize(){yield*Xe(this._preparePalette());let e=new Al;for(let t=0;t<this._colors;t++)if(this._sums[t]>0){let n=this._sums[t],r=this._reds[t]/n,i=this._greens[t]/n,o=this._blues[t]/n,s=this._alphas[t]/n,a=Zn.createByRGBA(0|r,0|i,0|o,0|s);e.add(a)}e.sort(),yield{palette:e,progress:100}}*_preparePalette(){yield*Xe(this._calculateMoments());let e=0,t=As(this._colors);for(let s=1;s<this._colors;++s){this._cut(this._cubes[e],this._cubes[s])?(t[e]=this._cubes[e].volume>1?this._calculateVariance(this._cubes[e]):0,t[s]=this._cubes[s].volume>1?this._calculateVariance(this._cubes[s]):0):(t[e]=0,s--),e=0;let a=t[0];for(let l=1;l<=s;++l)t[l]>a&&(a=t[l],e=l);if(a<=0){this._colors=s+1;break}}let n=[],r=[],i=[],o=[];for(let s=0;s<this._colors;++s){let a=Qe._volume(this._cubes[s],this._weights);a>0?(n[s]=Qe._volume(this._cubes[s],this._momentsRed)/a|0,r[s]=Qe._volume(this._cubes[s],this._momentsGreen)/a|0,i[s]=Qe._volume(this._cubes[s],this._momentsBlue)/a|0,o[s]=Qe._volume(this._cubes[s],this._momentsAlpha)/a|0):(n[s]=0,r[s]=0,i[s]=0,o[s]=0)}this._reds=As(this._colors+1),this._greens=As(this._colors+1),this._blues=As(this._colors+1),this._alphas=As(this._colors+1),this._sums=As(this._colors+1);for(let s=0,a=this._pixels.length;s<a;s++){let l=this._pixels[s],u=-1,c=Number.MAX_VALUE;for(let d=0;d<this._colors;d++){let f=n[d],h=r[d],p=i[d],m=o[d],g=this._distance.calculateRaw(f,h,p,m,l.r,l.g,l.b,l.a);g<c&&(c=g,u=d)}this._reds[u]+=l.r,this._greens[u]+=l.g,this._blues[u]+=l.b,this._alphas[u]+=l.a,this._sums[u]++}}_addColor(e){let t=8-this._significantBitsPerChannel,n=1+(e.r>>t),r=1+(e.g>>t),i=1+(e.b>>t),o=1+(e.a>>t);this._weights[o][n][r][i]++,this._momentsRed[o][n][r][i]+=e.r,this._momentsGreen[o][n][r][i]+=e.g,this._momentsBlue[o][n][r][i]+=e.b,this._momentsAlpha[o][n][r][i]+=e.a,this._moments[o][n][r][i]+=this._table[e.r]+this._table[e.g]+this._table[e.b]+this._table[e.a]}*_calculateMoments(){let e=[],t=[],n=[],r=[],i=[],o=[],s=ks(this._sideSize,this._sideSize,this._sideSize),a=ks(this._sideSize,this._sideSize,this._sideSize),l=ks(this._sideSize,this._sideSize,this._sideSize),u=ks(this._sideSize,this._sideSize,this._sideSize),c=ks(this._sideSize,this._sideSize,this._sideSize),d=ks(this._sideSize,this._sideSize,this._sideSize),f=0,h=new gi(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){Rs(s,this._sideSize,this._sideSize,this._sideSize,0),Rs(a,this._sideSize,this._sideSize,this._sideSize,0),Rs(l,this._sideSize,this._sideSize,this._sideSize,0),Rs(u,this._sideSize,this._sideSize,this._sideSize,0),Rs(c,this._sideSize,this._sideSize,this._sideSize,0),Rs(d,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++f){h.shouldNotify(f)&&(yield{progress:h.progress}),Ns(e,this._sideSize,0),Ns(t,this._sideSize,0),Ns(n,this._sideSize,0),Ns(r,this._sideSize,0),Ns(i,this._sideSize,0),Ns(o,this._sideSize,0);for(let g=1;g<=this._maxSideIndex;++g){let v=0,D=0,w=0,b=0,E=0,C=0;for(let M=1;M<=this._maxSideIndex;++M)v+=this._weights[p][m][g][M],D+=this._momentsRed[p][m][g][M],w+=this._momentsGreen[p][m][g][M],b+=this._momentsBlue[p][m][g][M],E+=this._momentsAlpha[p][m][g][M],C+=this._moments[p][m][g][M],e[M]+=v,t[M]+=D,n[M]+=w,r[M]+=b,i[M]+=E,o[M]+=C,s[m][g][M]=s[m-1][g][M]+e[M],a[m][g][M]=a[m-1][g][M]+t[M],l[m][g][M]=l[m-1][g][M]+n[M],u[m][g][M]=u[m-1][g][M]+r[M],c[m][g][M]=c[m-1][g][M]+i[M],d[m][g][M]=d[m-1][g][M]+o[M],this._weights[p][m][g][M]=this._weights[p-1][m][g][M]+s[m][g][M],this._momentsRed[p][m][g][M]=this._momentsRed[p-1][m][g][M]+a[m][g][M],this._momentsGreen[p][m][g][M]=this._momentsGreen[p-1][m][g][M]+l[m][g][M],this._momentsBlue[p][m][g][M]=this._momentsBlue[p-1][m][g][M]+u[m][g][M],this._momentsAlpha[p][m][g][M]=this._momentsAlpha[p-1][m][g][M]+c[m][g][M],this._moments[p][m][g][M]=this._moments[p-1][m][g][M]+d[m][g][M]}}}}static _volumeFloat(e,t){return t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMaximum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum])}static _volume(e,t){return 0|Qe._volumeFloat(e,t)}static _top(e,t,n,r){let i;switch(t){case Qe._alpha:i=r[n][e.redMaximum][e.greenMaximum][e.blueMaximum]-r[n][e.redMaximum][e.greenMinimum][e.blueMaximum]-r[n][e.redMinimum][e.greenMaximum][e.blueMaximum]+r[n][e.redMinimum][e.greenMinimum][e.blueMaximum]-(r[n][e.redMaximum][e.greenMaximum][e.blueMinimum]-r[n][e.redMaximum][e.greenMinimum][e.blueMinimum]-r[n][e.redMinimum][e.greenMaximum][e.blueMinimum]+r[n][e.redMinimum][e.greenMinimum][e.blueMinimum]);break;case Qe._red:i=r[e.alphaMaximum][n][e.greenMaximum][e.blueMaximum]-r[e.alphaMaximum][n][e.greenMinimum][e.blueMaximum]-r[e.alphaMinimum][n][e.greenMaximum][e.blueMaximum]+r[e.alphaMinimum][n][e.greenMinimum][e.blueMaximum]-(r[e.alphaMaximum][n][e.greenMaximum][e.blueMinimum]-r[e.alphaMaximum][n][e.greenMinimum][e.blueMinimum]-r[e.alphaMinimum][n][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][n][e.greenMinimum][e.blueMinimum]);break;case Qe._green:i=r[e.alphaMaximum][e.redMaximum][n][e.blueMaximum]-r[e.alphaMaximum][e.redMinimum][n][e.blueMaximum]-r[e.alphaMinimum][e.redMaximum][n][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][n][e.blueMaximum]-(r[e.alphaMaximum][e.redMaximum][n][e.blueMinimum]-r[e.alphaMaximum][e.redMinimum][n][e.blueMinimum]-r[e.alphaMinimum][e.redMaximum][n][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][n][e.blueMinimum]);break;case Qe._blue:i=r[e.alphaMaximum][e.redMaximum][e.greenMaximum][n]-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][n]-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][n]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][n]-(r[e.alphaMinimum][e.redMaximum][e.greenMaximum][n]-r[e.alphaMinimum][e.redMaximum][e.greenMinimum][n]-r[e.alphaMinimum][e.redMinimum][e.greenMaximum][n]+r[e.alphaMinimum][e.redMinimum][e.greenMinimum][n]);break;default:throw new Error("impossible")}return 0|i}static _bottom(e,t,n){switch(t){case Qe._alpha:return-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Qe._red:return-n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Qe._green:return-n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Qe._blue:return-n[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-(-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);default:return 0}}_calculateVariance(e){let t=Qe._volume(e,this._momentsRed),n=Qe._volume(e,this._momentsGreen),r=Qe._volume(e,this._momentsBlue),i=Qe._volume(e,this._momentsAlpha);return Qe._volumeFloat(e,this._moments)-(t*t+n*n+r*r+i*i)/Qe._volume(e,this._weights)}_maximize(e,t,n,r,i,o,s,a,l){let u=0|Qe._bottom(e,t,this._momentsRed),c=0|Qe._bottom(e,t,this._momentsGreen),d=0|Qe._bottom(e,t,this._momentsBlue),f=0|Qe._bottom(e,t,this._momentsAlpha),h=0|Qe._bottom(e,t,this._weights),p=0,m=-1;for(let g=n;g<r;++g){let v=u+Qe._top(e,t,g,this._momentsRed),D=c+Qe._top(e,t,g,this._momentsGreen),w=d+Qe._top(e,t,g,this._momentsBlue),b=f+Qe._top(e,t,g,this._momentsAlpha),E=h+Qe._top(e,t,g,this._weights);if(E!==0){let C=v*v+D*D+w*w+b*b,M=C/E;v=i-v,D=o-D,w=s-w,b=a-b,E=l-E,E!==0&&(C=v*v+D*D+w*w+b*b,M+=C/E,M>p&&(p=M,m=g))}}return{max:p,position:m}}_cut(e,t){let n,r=Qe._volume(e,this._momentsRed),i=Qe._volume(e,this._momentsGreen),o=Qe._volume(e,this._momentsBlue),s=Qe._volume(e,this._momentsAlpha),a=Qe._volume(e,this._weights),l=this._maximize(e,Qe._red,e.redMinimum+1,e.redMaximum,r,i,o,s,a),u=this._maximize(e,Qe._green,e.greenMinimum+1,e.greenMaximum,r,i,o,s,a),c=this._maximize(e,Qe._blue,e.blueMinimum+1,e.blueMaximum,r,i,o,s,a),d=this._maximize(e,Qe._alpha,e.alphaMinimum+1,e.alphaMaximum,r,i,o,s,a);if(d.max>=l.max&&d.max>=u.max&&d.max>=c.max){if(n=Qe._alpha,d.position<0)return!1}else n=l.max>=d.max&&l.max>=u.max&&l.max>=c.max?Qe._red:u.max>=d.max&&u.max>=l.max&&u.max>=c.max?Qe._green:Qe._blue;switch(t.redMaximum=e.redMaximum,t.greenMaximum=e.greenMaximum,t.blueMaximum=e.blueMaximum,t.alphaMaximum=e.alphaMaximum,n){case Qe._red:t.redMinimum=e.redMaximum=l.position,t.greenMinimum=e.greenMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case Qe._green:t.greenMinimum=e.greenMaximum=u.position,t.redMinimum=e.redMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case Qe._blue:t.blueMinimum=e.blueMaximum=c.position,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum,t.alphaMinimum=e.alphaMinimum;break;case Qe._alpha:t.alphaMinimum=e.alphaMaximum=d.position,t.blueMinimum=e.blueMinimum,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum}return e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),!0}_initialize(e){this._colors=e,this._cubes=[];for(let t=0;t<e;t++)this._cubes[t]=new U2;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=Ts(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=Ts(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=Ts(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=Ts(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=Ts(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=Ts(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let t=0;t<256;++t)this._table[t]=t*t;this._pixels=[]}_setQuality(e=5){this._significantBitsPerChannel=e,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},Gs=Qe;ve(Gs,"_alpha",3),ve(Gs,"_red",2),ve(Gs,"_green",1),ve(Gs,"_blue",0);V2={};Gr(V2,{AbstractImageQuantizer:()=>$d,ErrorDiffusionArray:()=>Br,ErrorDiffusionArrayKernel:()=>H2,ErrorDiffusionRiemersma:()=>Ng,NearestColor:()=>z2});$d=class{quantizeSync(e,t){for(let n of this.quantize(e,t))if(n.pointContainer)return n.pointContainer;throw new Error("unreachable")}},z2=class extends $d{constructor(e){super(),ve(this,"_distance"),this._distance=e}*quantize(e,t){let n=e.getPointArray(),r=e.getWidth(),i=e.getHeight(),o=new gi(i,99);for(let s=0;s<i;s++){o.shouldNotify(s)&&(yield{progress:o.progress});for(let a=0,l=s*r;a<r;a++,l++){let u=n[l];u.from(t.getNearestColor(this._distance,u))}}yield{pointContainer:e,progress:100}}},H2=(e=>(e[e.FloydSteinberg=0]="FloydSteinberg",e[e.FalseFloydSteinberg=1]="FalseFloydSteinberg",e[e.Stucki=2]="Stucki",e[e.Atkinson=3]="Atkinson",e[e.Jarvis=4]="Jarvis",e[e.Burkes=5]="Burkes",e[e.Sierra=6]="Sierra",e[e.TwoSierra=7]="TwoSierra",e[e.SierraLite=8]="SierraLite",e))(H2||{}),Br=class extends $d{constructor(e,t,n=!0,r=0,i=!1){super(),ve(this,"_minColorDistance"),ve(this,"_serpentine"),ve(this,"_kernel"),ve(this,"_calculateErrorLikeGIMP"),ve(this,"_distance"),this._setKernel(t),this._distance=e,this._minColorDistance=r,this._serpentine=n,this._calculateErrorLikeGIMP=i}*quantize(e,t){let n=e.getPointArray(),r=new Zn,i=e.getWidth(),o=e.getHeight(),s=[],a=1,l=1;for(let c of this._kernel){let d=c[2]+1;l<d&&(l=d)}for(let c=0;c<l;c++)this._fillErrorLine(s[c]=[],i);let u=new gi(o,99);for(let c=0;c<o;c++){u.shouldNotify(c)&&(yield{progress:u.progress}),this._serpentine&&(a*=-1);let d=c*i,f=a===1?0:i-1,h=a===1?i:-1;this._fillErrorLine(s[0],i),s.push(s.shift());let p=s[0];for(let m=f,g=d+f;m!==h;m+=a,g+=a){let v=n[g],D=p[m];r.from(v);let w=Zn.createByRGBA(or(v.r+D[0]),or(v.g+D[1]),or(v.b+D[2]),or(v.a+D[3])),b=t.getNearestColor(this._distance,w);if(v.from(b),this._minColorDistance&&this._distance.calculateNormalized(r,b)<this._minColorDistance)continue;let E,C,M,S;this._calculateErrorLikeGIMP?(E=w.r-b.r,C=w.g-b.g,M=w.b-b.b,S=w.a-b.a):(E=r.r-b.r,C=r.g-b.g,M=r.b-b.b,S=r.a-b.a);let I=a===1?0:this._kernel.length-1,k=a===1?this._kernel.length:-1;for(let y=I;y!==k;y+=a){let T=this._kernel[y][1]*a,V=this._kernel[y][2];if(T+m>=0&&T+m<i&&V+c>=0&&V+c<o){let O=this._kernel[y][0],N=s[V][T+m];N[0]+=E*O,N[1]+=C*O,N[2]+=M*O,N[3]+=S*O}}}}yield{pointContainer:e,progress:100}}_fillErrorLine(e,t){e.length>t&&(e.length=t);let n=e.length;for(let r=0;r<n;r++){let i=e[r];i[0]=i[1]=i[2]=i[3]=0}for(let r=n;r<t;r++)e[r]=[0,0,0,0]}_setKernel(e){switch(e){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${e}`)}}};Ng=class extends $d{constructor(e,t=16,n=1){super(),ve(this,"_distance"),ve(this,"_weights"),ve(this,"_errorQueueSize"),this._distance=e,this._errorQueueSize=t,this._weights=Ng._createWeights(n,t)}*quantize(e,t){let n=e.getPointArray(),r=e.getWidth(),i=e.getHeight(),o=[],s=0;for(let a=0;a<this._errorQueueSize;a++)o[a]={r:0,g:0,b:0,a:0};yield*Xe(iR(r,i,(a,l)=>{let u=n[a+l*r],{r:c,g:d,b:f,a:h}=u;for(let v=0;v<this._errorQueueSize;v++){let D=this._weights[v],w=o[(v+s)%this._errorQueueSize];c+=w.r*D,d+=w.g*D,f+=w.b*D,h+=w.a*D}let p=Zn.createByRGBA(or(c),or(d),or(f),or(h)),m=t.getNearestColor(this._distance,p);s=(s+1)%this._errorQueueSize;let g=(s+this._errorQueueSize-1)%this._errorQueueSize;o[g].r=u.r-m.r,o[g].g=u.g-m.g,o[g].b=u.b-m.b,o[g].a=u.a-m.a,u.from(m)})),yield{pointContainer:e,progress:100}}static _createWeights(e,t){let n=[],r=Math.exp(Math.log(t)/(t-1));for(let i=0,o=1;i<t;i++)n[i]=(o+.5|0)/t*e,o*=r;return n}},$2={};Gr($2,{ssim:()=>aR});oR=.01,sR=.03;Ed=typeof setImmediate=="function"?setImmediate:typeof process<"u"&&typeof(process==null?void 0:process.nextTick)=="function"?e=>process.nextTick(e):e=>setTimeout(e,0);hR=Gk(u2),Wd={},Nb=kg,ol=class lg extends Nb{constructor(...t){if(super(...t),t[0]instanceof lg){let n=t[0];this.xOffset=n.xOffset,this.yOffset=n.yOffset,this.disposalMethod=n.disposalMethod,this.delayCentisecs=n.delayCentisecs,this.interlaced=n.interlaced}else{let n=t[t.length-1],r={};typeof n!="object"||n instanceof Nb||(r=n),this.xOffset=r.xOffset||0,this.yOffset=r.yOffset||0,this.disposalMethod=r.disposalMethod!==void 0?r.disposalMethod:lg.DisposeToBackgroundColor,this.delayCentisecs=r.delayCentisecs||8,this.interlaced=r.interlaced||!1}}getPalette(){let t=new Set,n=this.bitmap.data,r=0,i=!1;for(;r<n.length;){if(n[r+3]===0)i=!0;else{let l=n.readUInt32BE(r,!0)>>8&16777215;t.add(l)}r+=4}let o=new Array(t.size),s=t.values();for(r=0;r<o.length;++r)o[r]=s.next().value;o.sort((l,u)=>l-u);let a=o.length;return i&&++a,{colors:o,usesTransparency:i,indexCount:a}}};ol.DisposeToAnything=0,ol.DisposeNothing=1,ol.DisposeToBackgroundColor=2,ol.DisposeToPrevious=3,Wd.GifFrame=ol;pR=kg,{Gif:mR,GifError:gR}=_l,{GifCodec:yR}=Z2(),{GifFrame:_R}=Wd,vR=q2(),od={BitmapImage:pR,Gif:mR,GifCodec:yR,GifFrame:_R,GifUtil:vR,GifError:gR};Q2={exports:{}};(function(e){function t(n){var r,i,o,s,a,l=Math.floor,u=new Array(64),c=new Array(64),d=new Array(64),f=new Array(64),h=new Array(65535),p=new Array(65535),m=new Array(64),g=new Array(64),v=[],D=0,w=7,b=new Array(64),E=new Array(64),C=new Array(64),M=new Array(256),S=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],y=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(X,W){for(var Y=0,re=0,le=new Array,ue=1;ue<=16;ue++){for(var Q=1;Q<=X[ue];Q++)le[W[re]]=[],le[W[re]][0]=Y,le[W[re]][1]=ue,re++,Y++;Y*=2}return le}function H(X){for(var W=X[0],Y=X[1]-1;Y>=0;)W&1<<Y&&(D|=1<<w),Y--,--w<0&&(D==255?(ne(255),ne(0)):ne(D),w=7,D=0)}function ne(X){v.push(X)}function $(X){ne(X>>8&255),ne(255&X)}function J(X,W,Y,re,le){for(var ue,Q=le[0],x=le[240],q=function(U,se){var ce,De,Ie,we,Ce,xe,Be,Oe,Pe,We,ke=0;for(Pe=0;Pe<8;++Pe){ce=U[ke],De=U[ke+1],Ie=U[ke+2],we=U[ke+3],Ce=U[ke+4],xe=U[ke+5],Be=U[ke+6];var te=ce+(Oe=U[ke+7]),Me=ce-Oe,ae=De+Be,ge=De-Be,G=Ie+xe,Ee=Ie-xe,Ue=we+Ce,R=we-Ce,ye=te+Ue,fe=te-Ue,oe=ae+G,pe=ae-G;U[ke]=ye+oe,U[ke+4]=ye-oe;var me=.707106781*(pe+fe);U[ke+2]=fe+me,U[ke+6]=fe-me;var je=.382683433*((ye=R+Ee)-(pe=ge+Me)),Te=.5411961*ye+je,Fe=1.306562965*pe+je,at=.707106781*(oe=Ee+ge),In=Me+at,It=Me-at;U[ke+5]=It+Te,U[ke+3]=It-Te,U[ke+1]=In+Fe,U[ke+7]=In-Fe,ke+=8}for(ke=0,Pe=0;Pe<8;++Pe){ce=U[ke],De=U[ke+8],Ie=U[ke+16],we=U[ke+24],Ce=U[ke+32],xe=U[ke+40],Be=U[ke+48];var Nt=ce+(Oe=U[ke+56]),zt=ce-Oe,Ht=De+Be,Hi=De-Be,$i=Ie+xe,Ot=Ie-xe,mn=we+Ce,lr=we-Ce,gn=Nt+mn,Yt=Nt-mn,Ut=Ht+$i,No=Ht-$i;U[ke]=gn+Ut,U[ke+32]=gn-Ut;var u0=.707106781*(No+Yt);U[ke+16]=Yt+u0,U[ke+48]=Yt-u0;var c0=.382683433*((gn=lr+Ot)-(No=Hi+zt)),d0=.5411961*gn+c0,f0=1.306562965*No+c0,h0=.707106781*(Ut=Ot+Hi),p0=zt+h0,m0=zt-h0;U[ke+40]=m0+d0,U[ke+24]=m0-d0,U[ke+8]=p0+f0,U[ke+56]=p0-f0,ke++}for(Pe=0;Pe<64;++Pe)We=U[Pe]*se[Pe],m[Pe]=We>0?We+.5|0:We-.5|0;return m}(X,W),F=0;F<64;++F)g[I[F]]=q[F];var B=g[0]-Y;Y=g[0],B==0?H(re[0]):(H(re[p[ue=32767+B]]),H(h[ue]));for(var L=63;L>0&&g[L]==0;L--);if(L==0)return H(Q),Y;for(var z,ee=1;ee<=L;){for(var _=ee;g[ee]==0&&ee<=L;++ee);var A=ee-_;if(A>=16){z=A>>4;for(var j=1;j<=z;++j)H(x);A&=15}ue=32767+g[ee],H(le[(A<<4)+p[ue]]),H(h[ue]),ee++}return L!=63&&H(Q),Y}function ie(X){X<=0&&(X=1),X>100&&(X=100),a!=X&&(function(W){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var le=l((Y[re]*W+50)/100);le<1?le=1:le>255&&(le=255),u[I[re]]=le}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var x=l((ue[Q]*W+50)/100);x<1?x=1:x>255&&(x=255),c[I[Q]]=x}for(var q=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],F=0,B=0;B<8;B++)for(var L=0;L<8;L++)d[F]=1/(u[I[F]]*q[B]*q[L]*8),f[F]=1/(c[I[F]]*q[B]*q[L]*8),F++}(X<50?Math.floor(5e3/X):Math.floor(200-2*X)),a=X)}this.encode=function(X,W){var Y;new Date().getTime(),W&&ie(W),v=new Array,D=0,w=7,$(65496),$(65504),$(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),$(1),$(1),ne(0),ne(0),(Y=X.comments)!==void 0&&Y.constructor===Array&&Y.forEach(Ie=>{if(typeof Ie=="string"){$(65534);var we,Ce=Ie.length;for($(Ce+2),we=0;we<Ce;we++)ne(Ie.charCodeAt(we))}}),function(Ie){if(Ie){$(65505),Ie[0]===69&&Ie[1]===120&&Ie[2]===105&&Ie[3]===102?$(Ie.length+2):($(Ie.length+5+2),ne(69),ne(120),ne(105),ne(102),ne(0));for(var we=0;we<Ie.length;we++)ne(Ie[we])}}(X.exifBuffer),function(){$(65499),$(132),ne(0);for(var Ie=0;Ie<64;Ie++)ne(u[Ie]);ne(1);for(var we=0;we<64;we++)ne(c[we])}(),function(Ie,we){$(65472),$(17),ne(8),$(we),$(Ie),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(X.width,X.height),function(){$(65476),$(418),ne(0);for(var Ie=0;Ie<16;Ie++)ne(k[Ie+1]);for(var we=0;we<=11;we++)ne(y[we]);ne(16);for(var Ce=0;Ce<16;Ce++)ne(T[Ce+1]);for(var xe=0;xe<=161;xe++)ne(V[xe]);ne(1);for(var Be=0;Be<16;Be++)ne(O[Be+1]);for(var Oe=0;Oe<=11;Oe++)ne(N[Oe]);ne(17);for(var Pe=0;Pe<16;Pe++)ne(P[Pe+1]);for(var We=0;We<=161;We++)ne(K[We])}(),$(65498),$(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var re=0,le=0,ue=0;D=0,w=7,this.encode.displayName="_encode_";for(var Q,x,q,F,B,L,z,ee,_,A=X.data,j=X.width,U=X.height,se=4*j,ce=0;ce<U;){for(Q=0;Q<se;){for(L=B=se*ce+Q,z=-1,ee=0,_=0;_<64;_++)L=B+(ee=_>>3)*se+(z=4*(7&_)),ce+ee>=U&&(L-=se*(ce+1+ee-U)),Q+z>=se&&(L-=Q+z-se+4),x=A[L++],q=A[L++],F=A[L++],b[_]=(S[x]+S[q+256|0]+S[F+512|0]>>16)-128,E[_]=(S[x+768|0]+S[q+1024|0]+S[F+1280|0]>>16)-128,C[_]=(S[x+1280|0]+S[q+1536|0]+S[F+1792|0]>>16)-128;re=J(b,d,re,r,o),le=J(E,f,le,i,s),ue=J(C,f,ue,i,s),Q+=32}ce+=8}if(w>=0){var De=[];De[1]=w+1,De[0]=(1<<w+1)-1,H(De)}return $(65497),_e.from(v)},new Date().getTime(),n||(n=50),function(){for(var X=String.fromCharCode,W=0;W<256;W++)M[W]=X(W)}(),r=Z(k,y),i=Z(O,N),o=Z(T,V),s=Z(P,K),function(){for(var X=1,W=2,Y=1;Y<=15;Y++){for(var re=X;re<W;re++)p[32767+re]=Y,h[32767+re]=[],h[32767+re][1]=Y,h[32767+re][0]=re;for(var le=-(W-1);le<=-X;le++)p[32767+le]=Y,h[32767+le]=[],h[32767+le][1]=Y,h[32767+le][0]=W-1+le;X<<=1,W<<=1}}(),function(){for(var X=0;X<256;X++)S[X]=19595*X,S[X+256|0]=38470*X,S[X+512|0]=7471*X+32768,S[X+768|0]=-11059*X,S[X+1024|0]=-21709*X,S[X+1280|0]=32768*X+8421375,S[X+1536|0]=-27439*X,S[X+1792|0]=-5329*X}(),ie(n),new Date().getTime()}Q2.exports=function(n,r){r===void 0&&(r=50);var i=new t(r),o=i.encode(n,r);return{data:o,width:n.width,height:n.height}}})();bR=Q2.exports,K2={exports:{}};Fb=K2,sd=function(){var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,n=799,r=3406,i=2276,o=1567,s=3784,a=5793,l=2896;function u(){}function c(v,D){for(var w,b,E=0,C=[],M=16;M>0&&!v[M-1];)M--;C.push({children:[],index:0});var S,I=C[0];for(w=0;w<M;w++){for(b=0;b<v[w];b++){for((I=C.pop()).children[I.index]=D[E];I.index>0;){if(C.length===0)throw new Error("Could not recreate Huffman Table");I=C.pop()}for(I.index++,C.push(I);C.length<=w;)C.push(S={children:[],index:0}),I.children[I.index]=S.children,I=S;E++}w+1<M&&(C.push(S={children:[],index:0}),I.children[I.index]=S.children,I=S)}return C[0].children}function d(v,D,w,b,E,C,M,S,I,k){w.precision,w.samplesPerLine,w.scanLines;var y=w.mcusPerLine,T=w.progressive;w.maxH,w.maxV;var V=D,O=0,N=0;function P(){if(N>0)return N--,O>>N&1;if((O=v[D++])==255){var ee=v[D++];if(ee)throw new Error("unexpected marker: "+(O<<8|ee).toString(16))}return N=7,O>>>7}function K(ee){for(var _,A=ee;(_=P())!==null;){if(typeof(A=A[_])=="number")return A;if(typeof A!="object")throw new Error("invalid huffman sequence")}return null}function Z(ee){for(var _=0;ee>0;){var A=P();if(A===null)return;_=_<<1|A,ee--}return _}function H(ee){var _=Z(ee);return _>=1<<ee-1?_:_+(-1<<ee)+1}var ne,$=0,J=0;function ie(ee,_,A,j,U){var se=A%y,ce=(A/y|0)*ee.v+j,De=se*ee.h+U;ee.blocks[ce]===void 0&&k.tolerantDecoding||_(ee,ee.blocks[ce][De])}function X(ee,_,A){var j=A/ee.blocksPerLine|0,U=A%ee.blocksPerLine;ee.blocks[j]===void 0&&k.tolerantDecoding||_(ee,ee.blocks[j][U])}var W,Y,re,le,ue,Q,x=b.length;Q=T?C===0?S===0?function(ee,_){var A=K(ee.huffmanTableDC),j=A===0?0:H(A)<<I;_[0]=ee.pred+=j}:function(ee,_){_[0]|=P()<<I}:S===0?function(ee,_){if($>0)$--;else for(var A=C,j=M;A<=j;){var U=K(ee.huffmanTableAC),se=15&U,ce=U>>4;if(se!==0)_[e[A+=ce]]=H(se)*(1<<I),A++;else{if(ce<15){$=Z(ce)+(1<<ce)-1;break}A+=16}}}:function(ee,_){for(var A=C,j=M,U=0;A<=j;){var se=e[A],ce=_[se]<0?-1:1;switch(J){case 0:var De=K(ee.huffmanTableAC),Ie=15&De;if(U=De>>4,Ie===0)U<15?($=Z(U)+(1<<U),J=4):(U=16,J=1);else{if(Ie!==1)throw new Error("invalid ACn encoding");ne=H(Ie),J=U?2:3}continue;case 1:case 2:_[se]?_[se]+=(P()<<I)*ce:--U==0&&(J=J==2?3:0);break;case 3:_[se]?_[se]+=(P()<<I)*ce:(_[se]=ne<<I,J=0);break;case 4:_[se]&&(_[se]+=(P()<<I)*ce)}A++}J===4&&--$==0&&(J=0)}:function(ee,_){var A=K(ee.huffmanTableDC),j=A===0?0:H(A);_[0]=ee.pred+=j;for(var U=1;U<64;){var se=K(ee.huffmanTableAC),ce=15&se,De=se>>4;if(ce!==0)_[e[U+=De]]=H(ce),U++;else{if(De<15)break;U+=16}}};var q,F,B,L,z=0;for(F=x==1?b[0].blocksPerLine*b[0].blocksPerColumn:y*w.mcusPerColumn,E||(E=F);z<F;){for(Y=0;Y<x;Y++)b[Y].pred=0;if($=0,x==1)for(W=b[0],ue=0;ue<E;ue++)X(W,Q,z),z++;else for(ue=0;ue<E;ue++){for(Y=0;Y<x;Y++)for(B=(W=b[Y]).h,L=W.v,re=0;re<L;re++)for(le=0;le<B;le++)ie(W,Q,z,re,le);if(++z===F)break}if(z===F)do{if(v[D]===255&&v[D+1]!==0)break;D+=1}while(D<v.length-2);if(N=0,(q=v[D]<<8|v[D+1])<65280)throw new Error("marker was not found");if(!(q>=65488&&q<=65495))break;D+=2}return D-V}function f(v,D){var w,b,E=[],C=D.blocksPerLine,M=D.blocksPerColumn,S=C<<3,I=new Int32Array(64),k=new Uint8Array(64);function y(Z,H,ne){var $,J,ie,X,W,Y,re,le,ue,Q,x=D.quantizationTable,q=ne;for(Q=0;Q<64;Q++)q[Q]=Z[Q]*x[Q];for(Q=0;Q<8;++Q){var F=8*Q;q[1+F]!=0||q[2+F]!=0||q[3+F]!=0||q[4+F]!=0||q[5+F]!=0||q[6+F]!=0||q[7+F]!=0?($=a*q[0+F]+128>>8,J=a*q[4+F]+128>>8,ie=q[2+F],X=q[6+F],W=l*(q[1+F]-q[7+F])+128>>8,le=l*(q[1+F]+q[7+F])+128>>8,Y=q[3+F]<<4,re=q[5+F]<<4,ue=$-J+1>>1,$=$+J+1>>1,J=ue,ue=ie*s+X*o+128>>8,ie=ie*o-X*s+128>>8,X=ue,ue=W-re+1>>1,W=W+re+1>>1,re=ue,ue=le+Y+1>>1,Y=le-Y+1>>1,le=ue,ue=$-X+1>>1,$=$+X+1>>1,X=ue,ue=J-ie+1>>1,J=J+ie+1>>1,ie=ue,ue=W*i+le*r+2048>>12,W=W*r-le*i+2048>>12,le=ue,ue=Y*n+re*t+2048>>12,Y=Y*t-re*n+2048>>12,re=ue,q[0+F]=$+le,q[7+F]=$-le,q[1+F]=J+re,q[6+F]=J-re,q[2+F]=ie+Y,q[5+F]=ie-Y,q[3+F]=X+W,q[4+F]=X-W):(ue=a*q[0+F]+512>>10,q[0+F]=ue,q[1+F]=ue,q[2+F]=ue,q[3+F]=ue,q[4+F]=ue,q[5+F]=ue,q[6+F]=ue,q[7+F]=ue)}for(Q=0;Q<8;++Q){var B=Q;q[8+B]!=0||q[16+B]!=0||q[24+B]!=0||q[32+B]!=0||q[40+B]!=0||q[48+B]!=0||q[56+B]!=0?($=a*q[0+B]+2048>>12,J=a*q[32+B]+2048>>12,ie=q[16+B],X=q[48+B],W=l*(q[8+B]-q[56+B])+2048>>12,le=l*(q[8+B]+q[56+B])+2048>>12,Y=q[24+B],re=q[40+B],ue=$-J+1>>1,$=$+J+1>>1,J=ue,ue=ie*s+X*o+2048>>12,ie=ie*o-X*s+2048>>12,X=ue,ue=W-re+1>>1,W=W+re+1>>1,re=ue,ue=le+Y+1>>1,Y=le-Y+1>>1,le=ue,ue=$-X+1>>1,$=$+X+1>>1,X=ue,ue=J-ie+1>>1,J=J+ie+1>>1,ie=ue,ue=W*i+le*r+2048>>12,W=W*r-le*i+2048>>12,le=ue,ue=Y*n+re*t+2048>>12,Y=Y*t-re*n+2048>>12,re=ue,q[0+B]=$+le,q[56+B]=$-le,q[8+B]=J+re,q[48+B]=J-re,q[16+B]=ie+Y,q[40+B]=ie-Y,q[24+B]=X+W,q[32+B]=X-W):(ue=a*ne[Q+0]+8192>>14,q[0+B]=ue,q[8+B]=ue,q[16+B]=ue,q[24+B]=ue,q[32+B]=ue,q[40+B]=ue,q[48+B]=ue,q[56+B]=ue)}for(Q=0;Q<64;++Q){var L=128+(q[Q]+8>>4);H[Q]=L<0?0:L>255?255:L}}g(S*M*8);for(var T=0;T<M;T++){var V=T<<3;for(w=0;w<8;w++)E.push(new Uint8Array(S));for(var O=0;O<C;O++){y(D.blocks[T][O],k,I);var N=0,P=O<<3;for(b=0;b<8;b++){var K=E[V+b];for(w=0;w<8;w++)K[P+w]=k[N++]}}}return E}function h(v){return v<0?0:v>255?255:v}u.prototype={load:function(v){var D=new XMLHttpRequest;D.open("GET",v,!0),D.responseType="arraybuffer",D.onload=function(){var w=new Uint8Array(D.response||D.mozResponseArrayBuffer);this.parse(w),this.onload&&this.onload()}.bind(this),D.send(null)},parse:function(v){var D=1e3*this.opts.maxResolutionInMP*1e3,w=0;function b(){var we=v[w]<<8|v[w+1];return w+=2,we}function E(we){var Ce,xe,Be=1,Oe=1;for(xe in we.components)we.components.hasOwnProperty(xe)&&(Be<(Ce=we.components[xe]).h&&(Be=Ce.h),Oe<Ce.v&&(Oe=Ce.v));var Pe=Math.ceil(we.samplesPerLine/8/Be),We=Math.ceil(we.scanLines/8/Oe);for(xe in we.components)if(we.components.hasOwnProperty(xe)){Ce=we.components[xe];var ke=Math.ceil(Math.ceil(we.samplesPerLine/8)*Ce.h/Be),te=Math.ceil(Math.ceil(we.scanLines/8)*Ce.v/Oe),Me=Pe*Ce.h,ae=We*Ce.v,ge=[];g(ae*Me*256);for(var G=0;G<ae;G++){for(var Ee=[],Ue=0;Ue<Me;Ue++)Ee.push(new Int32Array(64));ge.push(Ee)}Ce.blocksPerLine=ke,Ce.blocksPerColumn=te,Ce.blocks=ge}we.maxH=Be,we.maxV=Oe,we.mcusPerLine=Pe,we.mcusPerColumn=We}v.length;var C,M,S,I,k=null,y=null,T=[],V=[],O=[],N=[],P=b(),K=-1;if(this.comments=[],P!=65496)throw new Error("SOI not found");for(P=b();P!=65497;){switch(P){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Z=(S=void 0,I=void 0,S=b(),I=v.subarray(w,w+S-2),w+=I.length,I);if(P===65534){var H=String.fromCharCode.apply(null,Z);this.comments.push(H)}P===65504&&Z[0]===74&&Z[1]===70&&Z[2]===73&&Z[3]===70&&Z[4]===0&&(k={version:{major:Z[5],minor:Z[6]},densityUnits:Z[7],xDensity:Z[8]<<8|Z[9],yDensity:Z[10]<<8|Z[11],thumbWidth:Z[12],thumbHeight:Z[13],thumbData:Z.subarray(14,14+3*Z[12]*Z[13])}),P===65505&&Z[0]===69&&Z[1]===120&&Z[2]===105&&Z[3]===102&&Z[4]===0&&(this.exifBuffer=Z.subarray(5,Z.length)),P===65518&&Z[0]===65&&Z[1]===100&&Z[2]===111&&Z[3]===98&&Z[4]===101&&Z[5]===0&&(y={version:Z[6],flags0:Z[7]<<8|Z[8],flags1:Z[9]<<8|Z[10],transformCode:Z[11]});break;case 65499:for(var ne=b()+w-2;w<ne;){var $=v[w++];g(256);var J=new Int32Array(64);if($>>4){if($>>4!=1)throw new Error("DQT: invalid table spec");for(De=0;De<64;De++)J[e[De]]=b()}else for(De=0;De<64;De++)J[e[De]]=v[w++];T[15&$]=J}break;case 65472:case 65473:case 65474:b(),(C={}).extended=P===65473,C.progressive=P===65474,C.precision=v[w++],C.scanLines=b(),C.samplesPerLine=b(),C.components={},C.componentsOrder=[];var ie=C.scanLines*C.samplesPerLine;if(ie>D){var X=Math.ceil((ie-D)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${X}MP`)}var W,Y=v[w++];for(se=0;se<Y;se++){W=v[w];var re=v[w+1]>>4,le=15&v[w+1],ue=v[w+2];if(re<=0||le<=0)throw new Error("Invalid sampling factor, expected values above 0");C.componentsOrder.push(W),C.components[W]={h:re,v:le,quantizationIdx:ue},w+=3}E(C),V.push(C);break;case 65476:var Q=b();for(se=2;se<Q;){var x=v[w++],q=new Uint8Array(16),F=0;for(De=0;De<16;De++,w++)F+=q[De]=v[w];g(16+F);var B=new Uint8Array(F);for(De=0;De<F;De++,w++)B[De]=v[w];se+=17+F,(x>>4?O:N)[15&x]=c(q,B)}break;case 65501:b(),M=b();break;case 65500:b(),b();break;case 65498:b();var L=v[w++],z=[];for(se=0;se<L;se++){Ie=C.components[v[w++]];var ee=v[w++];Ie.huffmanTableDC=N[ee>>4],Ie.huffmanTableAC=O[15&ee],z.push(Ie)}var _=v[w++],A=v[w++],j=v[w++],U=d(v,w,C,z,M,_,A,j>>4,15&j,this.opts);w+=U;break;case 65535:v[w]!==255&&w--;break;default:if(v[w-3]==255&&v[w-2]>=192&&v[w-2]<=254){w-=3;break}if(P===224||P==225){if(K!==-1)throw new Error(`first unknown JPEG marker at offset ${K.toString(16)}, second unknown JPEG marker ${P.toString(16)} at offset ${(w-1).toString(16)}`);K=w-1;let we=b();if(v[w+we-2]===255){w+=we-2;break}}throw new Error("unknown JPEG marker "+P.toString(16))}P=b()}if(V.length!=1)throw new Error("only single frame JPEGs supported");for(var se=0;se<V.length;se++){var ce=V[se].components;for(var De in ce)ce[De].quantizationTable=T[ce[De].quantizationIdx],delete ce[De].quantizationIdx}for(this.width=C.samplesPerLine,this.height=C.scanLines,this.jfif=k,this.adobe=y,this.components=[],se=0;se<C.componentsOrder.length;se++){var Ie=C.components[C.componentsOrder[se]];this.components.push({lines:f(0,Ie),scaleX:Ie.h/C.maxH,scaleY:Ie.v/C.maxV})}},getData:function(v,D){var w,b,E,C,M,S,I,k,y,T,V,O,N,P,K,Z,H,ne,$,J,ie,X=this.width/v,W=this.height/D,Y=0,re=v*D*this.components.length;g(re);var le=new Uint8Array(re);switch(this.components.length){case 1:for(w=this.components[0],T=0;T<D;T++)for(M=w.lines[0|T*w.scaleY*W],y=0;y<v;y++)V=M[0|y*w.scaleX*X],le[Y++]=V;break;case 2:for(w=this.components[0],b=this.components[1],T=0;T<D;T++)for(M=w.lines[0|T*w.scaleY*W],S=b.lines[0|T*b.scaleY*W],y=0;y<v;y++)V=M[0|y*w.scaleX*X],le[Y++]=V,V=S[0|y*b.scaleX*X],le[Y++]=V;break;case 3:for(ie=!0,this.adobe&&this.adobe.transformCode?ie=!0:this.opts.colorTransform!==void 0&&(ie=!!this.opts.colorTransform),w=this.components[0],b=this.components[1],E=this.components[2],T=0;T<D;T++)for(M=w.lines[0|T*w.scaleY*W],S=b.lines[0|T*b.scaleY*W],I=E.lines[0|T*E.scaleY*W],y=0;y<v;y++)ie?(V=M[0|y*w.scaleX*X],O=S[0|y*b.scaleX*X],ne=h(V+1.402*((N=I[0|y*E.scaleX*X])-128)),$=h(V-.3441363*(O-128)-.71413636*(N-128)),J=h(V+1.772*(O-128))):(ne=M[0|y*w.scaleX*X],$=S[0|y*b.scaleX*X],J=I[0|y*E.scaleX*X]),le[Y++]=ne,le[Y++]=$,le[Y++]=J;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(ie=!1,this.adobe&&this.adobe.transformCode?ie=!0:this.opts.colorTransform!==void 0&&(ie=!!this.opts.colorTransform),w=this.components[0],b=this.components[1],E=this.components[2],C=this.components[3],T=0;T<D;T++)for(M=w.lines[0|T*w.scaleY*W],S=b.lines[0|T*b.scaleY*W],I=E.lines[0|T*E.scaleY*W],k=C.lines[0|T*C.scaleY*W],y=0;y<v;y++)ie?(V=M[0|y*w.scaleX*X],O=S[0|y*b.scaleX*X],N=I[0|y*E.scaleX*X],P=k[0|y*C.scaleX*X],K=255-h(V+1.402*(N-128)),Z=255-h(V-.3441363*(O-128)-.71413636*(N-128)),H=255-h(V+1.772*(O-128))):(K=M[0|y*w.scaleX*X],Z=S[0|y*b.scaleX*X],H=I[0|y*E.scaleX*X],P=k[0|y*C.scaleX*X]),le[Y++]=255-K,le[Y++]=255-Z,le[Y++]=255-H,le[Y++]=255-P;break;default:throw new Error("Unsupported color mode")}return le},copyToImageData:function(v,D){var w,b,E,C,M,S,I,k,y,T=v.width,V=v.height,O=v.data,N=this.getData(T,V),P=0,K=0;switch(this.components.length){case 1:for(b=0;b<V;b++)for(w=0;w<T;w++)E=N[P++],O[K++]=E,O[K++]=E,O[K++]=E,D&&(O[K++]=255);break;case 3:for(b=0;b<V;b++)for(w=0;w<T;w++)I=N[P++],k=N[P++],y=N[P++],O[K++]=I,O[K++]=k,O[K++]=y,D&&(O[K++]=255);break;case 4:for(b=0;b<V;b++)for(w=0;w<T;w++)M=N[P++],S=N[P++],E=N[P++],I=255-h(M*(1-(C=N[P++])/255)+C),k=255-h(S*(1-C/255)+C),y=255-h(E*(1-C/255)+C),O[K++]=I,O[K++]=k,O[K++]=y,D&&(O[K++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,m=0;function g(v=0){var D=p+v;if(D>m){var w=Math.ceil((D-m)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${w}MB`)}p=D}return u.resetMaxMemoryUsage=function(v){p=0,m=v},u.getBytesAllocated=function(){return p},u.requestMemoryAllocation=g,u}(),Fb.exports=function(e,t={}){var n=he({colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},t),r=new Uint8Array(e),i=new sd;i.opts=n,sd.resetMaxMemoryUsage(1024*n.maxMemoryUsageInMB*1024),i.parse(r);var o=n.formatAsRGBA?4:3,s=i.width*i.height*o;try{sd.requestMemoryAllocation(s);var a={width:i.width,height:i.height,exifBuffer:i.exifBuffer,data:n.useTArray?new Uint8Array(s):_e.alloc(s)};i.comments.length>0&&(a.comments=i.comments)}catch(l){throw l instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+s):l instanceof ReferenceError&&l.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):l}return i.copyToImageData(a,n.formatAsRGBA),a};wR=K2.exports,ER=bR,DR=wR,xR={encode:ER,decode:DR},Lb=Mr(xR);X2={exports:{}};X2.exports=function(){function e(t,n,r){function i(a,l){if(!n[a]){if(!t[a]){var u=typeof cl=="function"&&cl;if(!l&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(f){return i(t[a][1][f]||f)},d,d.exports,e,t,n,r)}return n[a].exports}for(var o=typeof cl=="function"&&cl,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(e,t,n){(function(r){(function(){let i=e("./interlace"),o=[function(){},function(c,d,f,h){if(h===d.length)throw new Error("Ran out of data");let p=d[h];c[f]=p,c[f+1]=p,c[f+2]=p,c[f+3]=255},function(c,d,f,h){if(h+1>=d.length)throw new Error("Ran out of data");let p=d[h];c[f]=p,c[f+1]=p,c[f+2]=p,c[f+3]=d[h+1]},function(c,d,f,h){if(h+2>=d.length)throw new Error("Ran out of data");c[f]=d[h],c[f+1]=d[h+1],c[f+2]=d[h+2],c[f+3]=255},function(c,d,f,h){if(h+3>=d.length)throw new Error("Ran out of data");c[f]=d[h],c[f+1]=d[h+1],c[f+2]=d[h+2],c[f+3]=d[h+3]}],s=[function(){},function(c,d,f,h){let p=d[0];c[f]=p,c[f+1]=p,c[f+2]=p,c[f+3]=h},function(c,d,f){let h=d[0];c[f]=h,c[f+1]=h,c[f+2]=h,c[f+3]=d[1]},function(c,d,f,h){c[f]=d[0],c[f+1]=d[1],c[f+2]=d[2],c[f+3]=h},function(c,d,f){c[f]=d[0],c[f+1]=d[1],c[f+2]=d[2],c[f+3]=d[3]}];function a(c,d){let f=[],h=0;function p(){if(h===c.length)throw new Error("Ran out of data");let m,g,v,D,w,b,E,C,M=c[h];switch(h++,d){default:throw new Error("unrecognised depth");case 16:E=c[h],h++,f.push((M<<8)+E);break;case 4:E=15&M,C=M>>4,f.push(C,E);break;case 2:w=3&M,b=M>>2&3,E=M>>4&3,C=M>>6&3,f.push(C,E,b,w);break;case 1:m=1&M,g=M>>1&1,v=M>>2&1,D=M>>3&1,w=M>>4&1,b=M>>5&1,E=M>>6&1,C=M>>7&1,f.push(C,E,b,w,D,v,g,m)}}return{get:function(m){for(;f.length<m;)p();let g=f.slice(0,m);return f=f.slice(m),g},resetAfterLine:function(){f.length=0},end:function(){if(h!==c.length)throw new Error("extra data found")}}}function l(c,d,f,h,p,m){let g=c.width,v=c.height,D=c.index;for(let w=0;w<v;w++)for(let b=0;b<g;b++){let E=f(b,w,D);o[h](d,p,E,m),m+=h}return m}function u(c,d,f,h,p,m){let g=c.width,v=c.height,D=c.index;for(let w=0;w<v;w++){for(let b=0;b<g;b++){let E=p.get(h),C=f(b,w,D);s[h](d,E,C,m)}p.resetAfterLine()}}n.dataToBitMap=function(c,d){let f,h,p=d.width,m=d.height,g=d.depth,v=d.bpp,D=d.interlace;g!==8&&(f=a(c,g)),h=g<=8?r.alloc(p*m*4):new Uint16Array(p*m*4);let w,b,E=Math.pow(2,g)-1,C=0;if(D)w=i.getImagePasses(p,m),b=i.getInterlaceIterator(p,m);else{let M=0;b=function(){let S=M;return M+=4,S},w=[{width:p,height:m}]}for(let M=0;M<w.length;M++)g===8?C=l(w[M],h,b,v,c,C):u(w[M],h,b,v,f,E);if(g===8){if(C!==c.length)throw new Error("extra data found")}else f.end();return h}}).call(this)}).call(this,e("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(e,t,n){(function(r){(function(){let i=e("./constants");t.exports=function(o,s,a,l){let u=[i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(l.colorType)!==-1;if(l.colorType===l.inputColorType){let w=function(){let b=new ArrayBuffer(2);return new DataView(b).setInt16(0,256,!0),new Int16Array(b)[0]!==256}();if(l.bitDepth===8||l.bitDepth===16&&w)return o}let c=l.bitDepth!==16?o:new Uint16Array(o.buffer),d=255,f=i.COLORTYPE_TO_BPP_MAP[l.inputColorType];f!==4||l.inputHasAlpha||(f=3);let h=i.COLORTYPE_TO_BPP_MAP[l.colorType];l.bitDepth===16&&(d=65535,h*=2);let p=r.alloc(s*a*h),m=0,g=0,v=l.bgColor||{};function D(){let w,b,E,C=d;switch(l.inputColorType){case i.COLORTYPE_COLOR_ALPHA:C=c[m+3],w=c[m],b=c[m+1],E=c[m+2];break;case i.COLORTYPE_COLOR:w=c[m],b=c[m+1],E=c[m+2];break;case i.COLORTYPE_ALPHA:C=c[m+1],w=c[m],b=w,E=w;break;case i.COLORTYPE_GRAYSCALE:w=c[m],b=w,E=w;break;default:throw new Error("input color type:"+l.inputColorType+" is not supported at present")}return l.inputHasAlpha&&(u||(C/=d,w=Math.min(Math.max(Math.round((1-C)*v.red+C*w),0),d),b=Math.min(Math.max(Math.round((1-C)*v.green+C*b),0),d),E=Math.min(Math.max(Math.round((1-C)*v.blue+C*E),0),d))),{red:w,green:b,blue:E,alpha:C}}v.red===void 0&&(v.red=d),v.green===void 0&&(v.green=d),v.blue===void 0&&(v.blue=d);for(let w=0;w<a;w++)for(let b=0;b<s;b++){let E=D();switch(l.colorType){case i.COLORTYPE_COLOR_ALPHA:case i.COLORTYPE_COLOR:l.bitDepth===8?(p[g]=E.red,p[g+1]=E.green,p[g+2]=E.blue,u&&(p[g+3]=E.alpha)):(p.writeUInt16BE(E.red,g),p.writeUInt16BE(E.green,g+2),p.writeUInt16BE(E.blue,g+4),u&&p.writeUInt16BE(E.alpha,g+6));break;case i.COLORTYPE_ALPHA:case i.COLORTYPE_GRAYSCALE:{let C=(E.red+E.green+E.blue)/3;l.bitDepth===8?(p[g]=C,u&&(p[g+1]=E.alpha)):(p.writeUInt16BE(C,g),u&&p.writeUInt16BE(E.alpha,g+2));break}default:throw new Error("unrecognised color Type "+l.colorType)}m+=f,g+=h}return p}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(e,t,n){(function(r,i){(function(){let o=e("util"),s=e("stream"),a=t.exports=function(){s.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};o.inherits(a,s),a.prototype.read=function(l,u){this._reads.push({length:Math.abs(l),allowLess:l<0,func:u}),r.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},a.prototype.write=function(l,u){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let c;return c=i.isBuffer(l)?l:i.from(l,u||this._encoding),this._buffers.push(c),this._buffered+=c.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},a.prototype.end=function(l,u){l&&this.write(l,u),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(l){this._reads.shift();let u=this._buffers[0];u.length>l.length?(this._buffered-=l.length,this._buffers[0]=u.slice(l.length),l.func.call(this,u.slice(0,l.length))):(this._buffered-=u.length,this._buffers.shift(),l.func.call(this,u))},a.prototype._processRead=function(l){this._reads.shift();let u=0,c=0,d=i.alloc(l.length);for(;u<l.length;){let f=this._buffers[c++],h=Math.min(f.length,l.length-u);f.copy(d,u,0,h),u+=h,h!==f.length&&(this._buffers[--c]=f.slice(h))}c>0&&this._buffers.splice(0,c),this._buffered-=l.length,l.func.call(this,d)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let l=this._reads[0];if(l.allowLess)this._processReadAllowingLess(l);else{if(!(this._buffered>=l.length))break;this._processRead(l)}}this._buffers&&!this.writable&&this._end()}catch(l){this.emit("error",l)}}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(e,t,n){t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(e,t,n){let r=[];(function(){for(let o=0;o<256;o++){let s=o;for(let a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;r[o]=s}})();let i=t.exports=function(){this._crc=-1};i.prototype.write=function(o){for(let s=0;s<o.length;s++)this._crc=r[255&(this._crc^o[s])]^this._crc>>>8;return!0},i.prototype.crc32=function(){return~this._crc},i.crc32=function(o){let s=-1;for(let a=0;a<o.length;a++)s=r[255&(s^o[a])]^s>>>8;return~s}},{}],6:[function(e,t,n){(function(r){(function(){let i=e("./paeth-predictor");function o(v,D,w,b,E){for(let C=0;C<w;C++)b[E+C]=v[D+C]}function s(v,D,w){let b=0,E=D+w;for(let C=D;C<E;C++)b+=Math.abs(v[C]);return b}function a(v,D,w,b,E,C){for(let M=0;M<w;M++){let S=M>=C?v[D+M-C]:0,I=v[D+M]-S;b[E+M]=I}}function l(v,D,w,b){let E=0;for(let C=0;C<w;C++){let M=C>=b?v[D+C-b]:0,S=v[D+C]-M;E+=Math.abs(S)}return E}function u(v,D,w,b,E){for(let C=0;C<w;C++){let M=D>0?v[D+C-w]:0,S=v[D+C]-M;b[E+C]=S}}function c(v,D,w){let b=0,E=D+w;for(let C=D;C<E;C++){let M=D>0?v[C-w]:0,S=v[C]-M;b+=Math.abs(S)}return b}function d(v,D,w,b,E,C){for(let M=0;M<w;M++){let S=M>=C?v[D+M-C]:0,I=D>0?v[D+M-w]:0,k=v[D+M]-(S+I>>1);b[E+M]=k}}function f(v,D,w,b){let E=0;for(let C=0;C<w;C++){let M=C>=b?v[D+C-b]:0,S=D>0?v[D+C-w]:0,I=v[D+C]-(M+S>>1);E+=Math.abs(I)}return E}function h(v,D,w,b,E,C){for(let M=0;M<w;M++){let S=M>=C?v[D+M-C]:0,I=D>0?v[D+M-w]:0,k=D>0&&M>=C?v[D+M-(w+C)]:0,y=v[D+M]-i(S,I,k);b[E+M]=y}}function p(v,D,w,b){let E=0;for(let C=0;C<w;C++){let M=C>=b?v[D+C-b]:0,S=D>0?v[D+C-w]:0,I=D>0&&C>=b?v[D+C-(w+b)]:0,k=v[D+C]-i(M,S,I);E+=Math.abs(k)}return E}let m={0:o,1:a,2:u,3:d,4:h},g={0:s,1:l,2:c,3:f,4:p};t.exports=function(v,D,w,b,E){let C;if("filterType"in b&&b.filterType!==-1){if(typeof b.filterType!="number")throw new Error("unrecognised filter types");C=[b.filterType]}else C=[0,1,2,3,4];b.bitDepth===16&&(E*=2);let M=D*E,S=0,I=0,k=r.alloc((M+1)*w),y=C[0];for(let T=0;T<w;T++){if(C.length>1){let V=1/0;for(let O=0;O<C.length;O++){let N=g[C[O]](v,I,M,E);N<V&&(y=C[O],V=N)}}k[S]=y,S++,m[y](v,I,M,k,S,E),S+=M,I+=M}return k}}).call(this)}).call(this,e("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(e,t,n){(function(r){(function(){let i=e("util"),o=e("./chunkstream"),s=e("./filter-parse"),a=t.exports=function(l){o.call(this);let u=[],c=this;this._filter=new s(l,{read:this.read.bind(this),write:function(d){u.push(d)},complete:function(){c.emit("complete",r.concat(u))}}),this._filter.start()};i.inherits(a,o)}).call(this)}).call(this,e("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(e,t,n){(function(r){(function(){let i=e("./sync-reader"),o=e("./filter-parse");n.process=function(s,a){let l=[],u=new i(s);return new o(a,{read:u.read.bind(u),write:function(c){l.push(c)},complete:function(){}}).start(),u.process(),r.concat(l)}}).call(this)}).call(this,e("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(e,t,n){(function(r){(function(){let i=e("./interlace"),o=e("./paeth-predictor");function s(l,u,c){let d=l*u;return c!==8&&(d=Math.ceil(d/(8/c))),d}let a=t.exports=function(l,u){let c=l.width,d=l.height,f=l.interlace,h=l.bpp,p=l.depth;if(this.read=u.read,this.write=u.write,this.complete=u.complete,this._imageIndex=0,this._images=[],f){let m=i.getImagePasses(c,d);for(let g=0;g<m.length;g++)this._images.push({byteWidth:s(m[g].width,h,p),height:m[g].height,lineIndex:0})}else this._images.push({byteWidth:s(c,h,p),height:d,lineIndex:0});this._xComparison=p===8?h:p===16?2*h:1};a.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},a.prototype._unFilterType1=function(l,u,c){let d=this._xComparison,f=d-1;for(let h=0;h<c;h++){let p=l[1+h],m=h>f?u[h-d]:0;u[h]=p+m}},a.prototype._unFilterType2=function(l,u,c){let d=this._lastLine;for(let f=0;f<c;f++){let h=l[1+f],p=d?d[f]:0;u[f]=h+p}},a.prototype._unFilterType3=function(l,u,c){let d=this._xComparison,f=d-1,h=this._lastLine;for(let p=0;p<c;p++){let m=l[1+p],g=h?h[p]:0,v=p>f?u[p-d]:0,D=Math.floor((v+g)/2);u[p]=m+D}},a.prototype._unFilterType4=function(l,u,c){let d=this._xComparison,f=d-1,h=this._lastLine;for(let p=0;p<c;p++){let m=l[1+p],g=h?h[p]:0,v=p>f?u[p-d]:0,D=p>f&&h?h[p-d]:0,w=o(v,g,D);u[p]=m+w}},a.prototype._reverseFilterLine=function(l){let u,c=l[0],d=this._images[this._imageIndex],f=d.byteWidth;if(c===0)u=l.slice(1,f+1);else switch(u=r.alloc(f),c){case 1:this._unFilterType1(l,u,f);break;case 2:this._unFilterType2(l,u,f);break;case 3:this._unFilterType3(l,u,f);break;case 4:this._unFilterType4(l,u,f);break;default:throw new Error("Unrecognised filter type - "+c)}this.write(u),d.lineIndex++,d.lineIndex>=d.height?(this._lastLine=null,this._imageIndex++,d=this._images[this._imageIndex]):this._lastLine=u,d?this.read(d.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,e("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(e,t,n){(function(r){(function(){function i(a,l,u,c,d){let f=0;for(let h=0;h<c;h++)for(let p=0;p<u;p++){let m=d[a[f]];if(!m)throw new Error("index "+a[f]+" not in palette");for(let g=0;g<4;g++)l[f+g]=m[g];f+=4}}function o(a,l,u,c,d){let f=0;for(let h=0;h<c;h++)for(let p=0;p<u;p++){let m=!1;if(d.length===1?d[0]===a[f]&&(m=!0):d[0]===a[f]&&d[1]===a[f+1]&&d[2]===a[f+2]&&(m=!0),m)for(let g=0;g<4;g++)l[f+g]=0;f+=4}}function s(a,l,u,c,d){let f=255,h=Math.pow(2,d)-1,p=0;for(let m=0;m<c;m++)for(let g=0;g<u;g++){for(let v=0;v<4;v++)l[p+v]=Math.floor(a[p+v]*f/h+.5);p+=4}}t.exports=function(a,l,u=!1){let c=l.depth,d=l.width,f=l.height,h=l.colorType,p=l.transColor,m=l.palette,g=a;return h===3?i(a,g,d,f,m):(p&&o(a,g,d,f,p),c===8||u||(c===16&&(g=r.alloc(d*f*4)),s(a,g,d,f,c))),g}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:32}],11:[function(e,t,n){let r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];n.getImagePasses=function(i,o){let s=[],a=i%8,l=o%8,u=(i-a)/8,c=(o-l)/8;for(let d=0;d<r.length;d++){let f=r[d],h=u*f.x.length,p=c*f.y.length;for(let m=0;m<f.x.length&&f.x[m]<a;m++)h++;for(let m=0;m<f.y.length&&f.y[m]<l;m++)p++;h>0&&p>0&&s.push({width:h,height:p,index:d})}return s},n.getInterlaceIterator=function(i){return function(o,s,a){let l=o%r[a].x.length,u=(o-l)/r[a].x.length*8+r[a].x[l],c=s%r[a].y.length;return 4*u+((s-c)/r[a].y.length*8+r[a].y[c])*i*4}}},{}],12:[function(e,t,n){(function(r){(function(){let i=e("util"),o=e("stream"),s=e("./constants"),a=e("./packer"),l=t.exports=function(u){o.call(this);let c=u||{};this._packer=new a(c),this._deflate=this._packer.createDeflate(),this.readable=!0};i.inherits(l,o),l.prototype.pack=function(u,c,d,f){this.emit("data",r.from(s.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(c,d)),f&&this.emit("data",this._packer.packGAMA(f));let h=this._packer.filterData(u,c,d);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(p){this.emit("data",this._packer.packIDAT(p))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(h)}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(e,t,n){(function(r){(function(){let i=!0,o=e("zlib");o.deflateSync||(i=!1);let s=e("./constants"),a=e("./packer");t.exports=function(l,u){if(!i)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let c=new a(u||{}),d=[];d.push(r.from(s.PNG_SIGNATURE)),d.push(c.packIHDR(l.width,l.height)),l.gamma&&d.push(c.packGAMA(l.gamma));let f=c.filterData(l.data,l.width,l.height),h=o.deflateSync(f,c.getDeflateOptions());if(f=null,!h||!h.length)throw new Error("bad png - invalid compressed data response");return d.push(c.packIDAT(h)),d.push(c.packIEND()),r.concat(d)}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(e,t,n){(function(r){(function(){let i=e("./constants"),o=e("./crc"),s=e("./bitpacker"),a=e("./filter-pack"),l=e("zlib"),u=t.exports=function(c){if(this._options=c,c.deflateChunkSize=c.deflateChunkSize||32768,c.deflateLevel=c.deflateLevel!=null?c.deflateLevel:9,c.deflateStrategy=c.deflateStrategy!=null?c.deflateStrategy:3,c.inputHasAlpha=c.inputHasAlpha==null||c.inputHasAlpha,c.deflateFactory=c.deflateFactory||l.createDeflate,c.bitDepth=c.bitDepth||8,c.colorType=typeof c.colorType=="number"?c.colorType:i.COLORTYPE_COLOR_ALPHA,c.inputColorType=typeof c.inputColorType=="number"?c.inputColorType:i.COLORTYPE_COLOR_ALPHA,[i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(c.colorType)===-1)throw new Error("option color type:"+c.colorType+" is not supported at present");if([i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(c.inputColorType)===-1)throw new Error("option input color type:"+c.inputColorType+" is not supported at present");if(c.bitDepth!==8&&c.bitDepth!==16)throw new Error("option bit depth:"+c.bitDepth+" is not supported at present")};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(c,d,f){let h=s(c,d,f,this._options),p=i.COLORTYPE_TO_BPP_MAP[this._options.colorType];return a(h,d,f,this._options,p)},u.prototype._packChunk=function(c,d){let f=d?d.length:0,h=r.alloc(f+12);return h.writeUInt32BE(f,0),h.writeUInt32BE(c,4),d&&d.copy(h,8),h.writeInt32BE(o.crc32(h.slice(4,h.length-4)),h.length-4),h},u.prototype.packGAMA=function(c){let d=r.alloc(4);return d.writeUInt32BE(Math.floor(c*i.GAMMA_DIVISION),0),this._packChunk(i.TYPE_gAMA,d)},u.prototype.packIHDR=function(c,d){let f=r.alloc(13);return f.writeUInt32BE(c,0),f.writeUInt32BE(d,4),f[8]=this._options.bitDepth,f[9]=this._options.colorType,f[10]=0,f[11]=0,f[12]=0,this._packChunk(i.TYPE_IHDR,f)},u.prototype.packIDAT=function(c){return this._packChunk(i.TYPE_IDAT,c)},u.prototype.packIEND=function(){return this._packChunk(i.TYPE_IEND,null)}}).call(this)}).call(this,e("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(e,t,n){t.exports=function(r,i,o){let s=r+i-o,a=Math.abs(s-r),l=Math.abs(s-i),u=Math.abs(s-o);return a<=l&&a<=u?r:l<=u?i:o}},{}],16:[function(e,t,n){let r=e("util"),i=e("zlib"),o=e("./chunkstream"),s=e("./filter-parse-async"),a=e("./parser"),l=e("./bitmapper"),u=e("./format-normaliser"),c=t.exports=function(d){o.call(this),this._parser=new a(d,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=d,this.writable=!0,this._parser.start()};r.inherits(c,o),c.prototype._handleError=function(d){this.emit("error",d),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},c.prototype._inflateData=function(d){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let f=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,h=Math.max(f,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:h});let p=f,m=this.emit.bind(this,"error");this._inflate.on("error",function(v){p&&m(v)}),this._filter.on("complete",this._complete.bind(this));let g=this._filter.write.bind(this._filter);this._inflate.on("data",function(v){p&&(v.length>p&&(v=v.slice(0,p)),p-=v.length,g(v))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(d)},c.prototype._handleMetaData=function(d){this._metaData=d,this._bitmapInfo=Object.create(d),this._filter=new s(this._bitmapInfo)},c.prototype._handleTransColor=function(d){this._bitmapInfo.transColor=d},c.prototype._handlePalette=function(d){this._bitmapInfo.palette=d},c.prototype._simpleTransparency=function(){this._metaData.alpha=!0},c.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},c.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},c.prototype._complete=function(d){if(this.errord)return;let f;try{let h=l.dataToBitMap(d,this._bitmapInfo);f=u(h,this._bitmapInfo,this._options.skipRescale),h=null}catch(h){return void this._handleError(h)}this.emit("parsed",f)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(e,t,n){(function(r){(function(){let i=!0,o=e("zlib"),s=e("./sync-inflate");o.deflateSync||(i=!1);let a=e("./sync-reader"),l=e("./filter-parse-sync"),u=e("./parser"),c=e("./bitmapper"),d=e("./format-normaliser");t.exports=function(f,h){if(!i)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let p,m,g;function v(N){p=N}function D(N){m=N}function w(N){m.transColor=N}function b(N){m.palette=N}function E(){m.alpha=!0}function C(N){g=N}let M=[];function S(N){M.push(N)}let I=new a(f);if(new u(h,{read:I.read.bind(I),error:v,metadata:D,gamma:C,palette:b,transColor:w,inflateData:S,simpleTransparency:E}).start(),I.process(),p)throw p;let k,y=r.concat(M);if(M.length=0,m.interlace)k=o.inflateSync(y);else{let N=(1+(m.width*m.bpp*m.depth+7>>3))*m.height;k=s(y,{chunkSize:N,maxLength:N})}if(y=null,!k||!k.length)throw new Error("bad png - invalid inflate data response");let T=l.process(k,m);y=null;let V=c.dataToBitMap(T,m);T=null;let O=d(V,m,h.skipRescale);return m.data=O,m.gamma=g||0,m}}).call(this)}).call(this,e("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(e,t,n){(function(r){(function(){let i=e("./constants"),o=e("./crc"),s=t.exports=function(a,l){this._options=a,a.checkCRC=a.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[i.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[i.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[i.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[i.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[i.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[i.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=l.read,this.error=l.error,this.metadata=l.metadata,this.gamma=l.gamma,this.transColor=l.transColor,this.palette=l.palette,this.parsed=l.parsed,this.inflateData=l.inflateData,this.finished=l.finished,this.simpleTransparency=l.simpleTransparency,this.headersFinished=l.headersFinished||function(){}};s.prototype.start=function(){this.read(i.PNG_SIGNATURE.length,this._parseSignature.bind(this))},s.prototype._parseSignature=function(a){let l=i.PNG_SIGNATURE;for(let u=0;u<l.length;u++)if(a[u]!==l[u])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},s.prototype._parseChunkBegin=function(a){let l=a.readUInt32BE(0),u=a.readUInt32BE(4),c="";for(let f=4;f<8;f++)c+=String.fromCharCode(a[f]);let d=!!(32&a[4]);if(this._hasIHDR||u===i.TYPE_IHDR){if(this._crc=new o,this._crc.write(r.from(c)),this._chunks[u])return this._chunks[u](l);d?this.read(l+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+c))}else this.error(new Error("Expected IHDR on beggining"))},s.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},s.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},s.prototype._parseChunkEnd=function(a){let l=a.readInt32BE(0),u=this._crc.crc32();this._options.checkCRC&&u!==l?this.error(new Error("Crc error - "+l+" - "+u)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},s.prototype._handleIHDR=function(a){this.read(a,this._parseIHDR.bind(this))},s.prototype._parseIHDR=function(a){this._crc.write(a);let l=a.readUInt32BE(0),u=a.readUInt32BE(4),c=a[8],d=a[9],f=a[10],h=a[11],p=a[12];if(c!==8&&c!==4&&c!==2&&c!==1&&c!==16)return void this.error(new Error("Unsupported bit depth "+c));if(!(d in i.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(f!==0)return void this.error(new Error("Unsupported compression method"));if(h!==0)return void this.error(new Error("Unsupported filter method"));if(p!==0&&p!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=d;let m=i.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:l,height:u,depth:c,interlace:!!p,palette:!!(d&i.COLORTYPE_PALETTE),color:!!(d&i.COLORTYPE_COLOR),alpha:!!(d&i.COLORTYPE_ALPHA),bpp:m,colorType:d}),this._handleChunkEnd()},s.prototype._handlePLTE=function(a){this.read(a,this._parsePLTE.bind(this))},s.prototype._parsePLTE=function(a){this._crc.write(a);let l=Math.floor(a.length/3);for(let u=0;u<l;u++)this._palette.push([a[3*u],a[3*u+1],a[3*u+2],255]);this.palette(this._palette),this._handleChunkEnd()},s.prototype._handleTRNS=function(a){this.simpleTransparency(),this.read(a,this._parseTRNS.bind(this))},s.prototype._parseTRNS=function(a){if(this._crc.write(a),this._colorType===i.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(a.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let l=0;l<a.length;l++)this._palette[l][3]=a[l];this.palette(this._palette)}this._colorType===i.COLORTYPE_GRAYSCALE&&this.transColor([a.readUInt16BE(0)]),this._colorType===i.COLORTYPE_COLOR&&this.transColor([a.readUInt16BE(0),a.readUInt16BE(2),a.readUInt16BE(4)]),this._handleChunkEnd()},s.prototype._handleGAMA=function(a){this.read(a,this._parseGAMA.bind(this))},s.prototype._parseGAMA=function(a){this._crc.write(a),this.gamma(a.readUInt32BE(0)/i.GAMMA_DIVISION),this._handleChunkEnd()},s.prototype._handleIDAT=function(a){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-a,this._parseIDAT.bind(this,a))},s.prototype._parseIDAT=function(a,l){if(this._crc.write(l),this._colorType===i.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(l);let u=a-l.length;u>0?this._handleIDAT(u):this._handleChunkEnd()},s.prototype._handleIEND=function(a){this.read(a,this._parseIEND.bind(this))},s.prototype._parseIEND=function(a){this._crc.write(a),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(e,t,n){let r=e("./parser-sync"),i=e("./packer-sync");n.read=function(o,s){return r(o,s||{})},n.write=function(o,s){return i(o,s)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(e,t,n){(function(r,i){(function(){let o=e("util"),s=e("stream"),a=e("./parser-async"),l=e("./packer-async"),u=e("./png-sync"),c=n.PNG=function(d){s.call(this),d=d||{},this.width=0|d.width,this.height=0|d.height,this.data=this.width>0&&this.height>0?i.alloc(4*this.width*this.height):null,d.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(d),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(f){this.data=f,this.emit("parsed",f)}.bind(this)),this._packer=new l(d),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};o.inherits(c,s),c.sync=u,c.prototype.pack=function(){return this.data&&this.data.length?(r.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},c.prototype.parse=function(d,f){if(f){let h,p;h=function(m){this.removeListener("error",p),this.data=m,f(null,this)}.bind(this),p=function(m){this.removeListener("parsed",h),f(m,null)}.bind(this),this.once("parsed",h),this.once("error",p)}return this.end(d),this},c.prototype.write=function(d){return this._parser.write(d),!0},c.prototype.end=function(d){this._parser.end(d)},c.prototype._metadata=function(d){this.width=d.width,this.height=d.height,this.emit("metadata",d)},c.prototype._gamma=function(d){this.gamma=d},c.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},c.bitblt=function(d,f,h,p,m,g,v,D){if(p|=0,m|=0,g|=0,v|=0,D|=0,(h|=0)>d.width||p>d.height||h+m>d.width||p+g>d.height)throw new Error("bitblt reading outside image");if(v>f.width||D>f.height||v+m>f.width||D+g>f.height)throw new Error("bitblt writing outside image");for(let w=0;w<g;w++)d.data.copy(f.data,(D+w)*f.width+v<<2,(p+w)*d.width+h<<2,(p+w)*d.width+h+m<<2)},c.prototype.bitblt=function(d,f,h,p,m,g,v){return c.bitblt(this,d,f,h,p,m,g,v),this},c.adjustGamma=function(d){if(d.gamma){for(let f=0;f<d.height;f++)for(let h=0;h<d.width;h++){let p=d.width*f+h<<2;for(let m=0;m<3;m++){let g=d.data[p+m]/255;g=Math.pow(g,1/2.2/d.gamma),d.data[p+m]=Math.round(255*g)}}d.gamma=0}},c.prototype.adjustGamma=function(){c.adjustGamma(this)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(e,t,n){(function(r,i){(function(){let o=e("assert").ok,s=e("zlib"),a=e("util"),l=e("buffer").kMaxLength;function u(p){if(!(this instanceof u))return new u(p);p&&p.chunkSize<s.Z_MIN_CHUNK&&(p.chunkSize=s.Z_MIN_CHUNK),s.Inflate.call(this,p),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,p&&p.maxLength!=null&&(this._maxLength=p.maxLength)}function c(p){return new u(p)}function d(p,m){p._handle&&(p._handle.close(),p._handle=null)}function f(p,m){if(typeof m=="string"&&(m=i.from(m)),!(m instanceof i))throw new TypeError("Not a string or buffer");let g=p._finishFlushFlag;return g==null&&(g=s.Z_FINISH),p._processChunk(m,g)}function h(p,m){return f(new u(m),p)}u.prototype._processChunk=function(p,m,g){if(typeof g=="function")return s.Inflate._processChunk.call(this,p,m,g);let v,D,w=this,b=p&&p.length,E=this._chunkSize-this._offset,C=this._maxLength,M=0,S=[],I=0;function k(T,V){if(w._hadError)return;let O=E-V;if(o(O>=0,"have should not go down"),O>0){let N=w._buffer.slice(w._offset,w._offset+O);if(w._offset+=O,N.length>C&&(N=N.slice(0,C)),S.push(N),I+=N.length,C-=N.length,C===0)return!1}return(V===0||w._offset>=w._chunkSize)&&(E=w._chunkSize,w._offset=0,w._buffer=i.allocUnsafe(w._chunkSize)),V===0&&(M+=b-T,b=T,!0)}this.on("error",function(T){v=T}),o(this._handle,"zlib binding closed");do D=this._handle.writeSync(m,p,M,b,this._buffer,this._offset,E),D=D||this._writeState;while(!this._hadError&&k(D[0],D[1]));if(this._hadError)throw v;if(I>=l)throw d(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes");let y=i.concat(S,I);return d(this),y},a.inherits(u,s.Inflate),t.exports=n=h,n.Inflate=u,n.createInflate=c,n.inflateSync=h}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(e,t,n){let r=t.exports=function(i){this._buffer=i,this._reads=[]};r.prototype.read=function(i,o){this._reads.push({length:Math.abs(i),allowLess:i<0,func:o})},r.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let i=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=i.length||i.allowLess))break;{this._reads.shift();let o=this._buffer;this._buffer=o.slice(i.length),i.func.call(this,o.slice(0,i.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(e,t,n){(function(r){(function(){var i=e("object-assign");function o(O,N){if(O===N)return 0;for(var P=O.length,K=N.length,Z=0,H=Math.min(P,K);Z<H;++Z)if(O[Z]!==N[Z]){P=O[Z],K=N[Z];break}return P<K?-1:K<P?1:0}function s(O){return r.Buffer&&typeof r.Buffer.isBuffer=="function"?r.Buffer.isBuffer(O):!(O==null||!O._isBuffer)}var a=e("util/"),l=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c=function(){}.name==="foo";function d(O){return Object.prototype.toString.call(O)}function f(O){return!s(O)&&typeof r.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(O):!!O&&(O instanceof DataView||!!(O.buffer&&O.buffer instanceof ArrayBuffer)))}var h=t.exports=b,p=/\s*function\s+([^\(\s]*)\s*/;function m(O){if(a.isFunction(O)){if(c)return O.name;var N=O.toString().match(p);return N&&N[1]}}function g(O,N){return typeof O=="string"?O.length<N?O:O.slice(0,N):O}function v(O){if(c||!a.isFunction(O))return a.inspect(O);var N=m(O);return"[Function"+(N?": "+N:"")+"]"}function D(O){return g(v(O.actual),128)+" "+O.operator+" "+g(v(O.expected),128)}function w(O,N,P,K,Z){throw new h.AssertionError({message:P,actual:O,expected:N,operator:K,stackStartFunction:Z})}function b(O,N){O||w(O,!0,N,"==",h.ok)}function E(O,N,P,K){if(O===N)return!0;if(s(O)&&s(N))return o(O,N)===0;if(a.isDate(O)&&a.isDate(N))return O.getTime()===N.getTime();if(a.isRegExp(O)&&a.isRegExp(N))return O.source===N.source&&O.global===N.global&&O.multiline===N.multiline&&O.lastIndex===N.lastIndex&&O.ignoreCase===N.ignoreCase;if(O!==null&&typeof O=="object"||N!==null&&typeof N=="object"){if(f(O)&&f(N)&&d(O)===d(N)&&!(O instanceof Float32Array||O instanceof Float64Array))return o(new Uint8Array(O.buffer),new Uint8Array(N.buffer))===0;if(s(O)!==s(N))return!1;var Z=(K=K||{actual:[],expected:[]}).actual.indexOf(O);return Z!==-1&&Z===K.expected.indexOf(N)||(K.actual.push(O),K.expected.push(N),M(O,N,P,K))}return P?O===N:O==N}function C(O){return Object.prototype.toString.call(O)=="[object Arguments]"}function M(O,N,P,K){if(O==null||N==null)return!1;if(a.isPrimitive(O)||a.isPrimitive(N))return O===N;if(P&&Object.getPrototypeOf(O)!==Object.getPrototypeOf(N))return!1;var Z=C(O),H=C(N);if(Z&&!H||!Z&&H)return!1;if(Z)return E(O=u.call(O),N=u.call(N),P);var ne,$,J=V(O),ie=V(N);if(J.length!==ie.length)return!1;for(J.sort(),ie.sort(),$=J.length-1;$>=0;$--)if(J[$]!==ie[$])return!1;for($=J.length-1;$>=0;$--)if(!E(O[ne=J[$]],N[ne],P,K))return!1;return!0}function S(O,N,P){E(O,N,!0)&&w(O,N,P,"notDeepStrictEqual",S)}function I(O,N){if(!O||!N)return!1;if(Object.prototype.toString.call(N)=="[object RegExp]")return N.test(O);try{if(O instanceof N)return!0}catch{}return!Error.isPrototypeOf(N)&&N.call({},O)===!0}function k(O){var N;try{O()}catch(P){N=P}return N}function y(O,N,P,K){var Z;if(typeof N!="function")throw new TypeError('"block" argument must be a function');typeof P=="string"&&(K=P,P=null),Z=k(N),K=(P&&P.name?" ("+P.name+").":".")+(K?" "+K:"."),O&&!Z&&w(Z,P,"Missing expected exception"+K);var H=typeof K=="string",ne=!O&&Z&&!P;if((!O&&a.isError(Z)&&H&&I(Z,P)||ne)&&w(Z,P,"Got unwanted exception"+K),O&&Z&&P&&!I(Z,P)||!O&&Z)throw Z}function T(O,N){O||w(O,!0,N,"==",T)}h.AssertionError=function(O){this.name="AssertionError",this.actual=O.actual,this.expected=O.expected,this.operator=O.operator,O.message?(this.message=O.message,this.generatedMessage=!1):(this.message=D(this),this.generatedMessage=!0);var N=O.stackStartFunction||w;if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var P=new Error;if(P.stack){var K=P.stack,Z=m(N),H=K.indexOf(`
`+Z);if(H>=0){var ne=K.indexOf(`
`,H+1);K=K.substring(ne+1)}this.stack=K}}},a.inherits(h.AssertionError,Error),h.fail=w,h.ok=b,h.equal=function(O,N,P){O!=N&&w(O,N,P,"==",h.equal)},h.notEqual=function(O,N,P){O==N&&w(O,N,P,"!=",h.notEqual)},h.deepEqual=function(O,N,P){E(O,N,!1)||w(O,N,P,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(O,N,P){E(O,N,!0)||w(O,N,P,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(O,N,P){E(O,N,!1)&&w(O,N,P,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=S,h.strictEqual=function(O,N,P){O!==N&&w(O,N,P,"===",h.strictEqual)},h.notStrictEqual=function(O,N,P){O===N&&w(O,N,P,"!==",h.notStrictEqual)},h.throws=function(O,N,P){y(!0,O,N,P)},h.doesNotThrow=function(O,N,P){y(!1,O,N,P)},h.ifError=function(O){if(O)throw O},h.strict=i(T,h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var V=Object.keys||function(O){var N=[];for(var P in O)l.call(O,P)&&N.push(P);return N}}).call(this)}).call(this,en!==void 0?en:typeof self<"u"?self:typeof window<"u"?window:{})},{"object-assign":51,"util/":26}],24:[function(e,t,n){typeof Object.create=="function"?t.exports=function(r,i){r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,i){r.super_=i;var o=function(){};o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}},{}],25:[function(e,t,n){t.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}},{}],26:[function(e,t,n){(function(r,i){(function(){var o=/%[sdj%]/g;n.format=function($){if(!M($)){for(var J=[],ie=0;ie<arguments.length;ie++)J.push(l(arguments[ie]));return J.join(" ")}ie=1;for(var X=arguments,W=X.length,Y=String($).replace(o,function(le){if(le==="%%")return"%";if(ie>=W)return le;switch(le){case"%s":return String(X[ie++]);case"%d":return Number(X[ie++]);case"%j":try{return JSON.stringify(X[ie++])}catch{return"[Circular]"}default:return le}}),re=X[ie];ie<W;re=X[++ie])b(re)||!y(re)?Y+=" "+re:Y+=" "+l(re);return Y},n.deprecate=function($,J){if(I(i.process))return function(){return n.deprecate($,J).apply(this,arguments)};if(r.noDeprecation===!0)return $;var ie=!1;function X(){if(!ie){if(r.throwDeprecation)throw new Error(J);r.traceDeprecation?console.trace(J):console.error(J),ie=!0}return $.apply(this,arguments)}return X};var s,a={};function l($,J){var ie={seen:[],stylize:c};return arguments.length>=3&&(ie.depth=arguments[2]),arguments.length>=4&&(ie.colors=arguments[3]),w(J)?ie.showHidden=J:J&&n._extend(ie,J),I(ie.showHidden)&&(ie.showHidden=!1),I(ie.depth)&&(ie.depth=2),I(ie.colors)&&(ie.colors=!1),I(ie.customInspect)&&(ie.customInspect=!0),ie.colors&&(ie.stylize=u),f(ie,$,ie.depth)}function u($,J){var ie=l.styles[J];return ie?"\x1B["+l.colors[ie][0]+"m"+$+"\x1B["+l.colors[ie][1]+"m":$}function c($,J){return $}function d($){var J={};return $.forEach(function(ie,X){J[ie]=!0}),J}function f($,J,ie){if($.customInspect&&J&&O(J.inspect)&&J.inspect!==n.inspect&&(!J.constructor||J.constructor.prototype!==J)){var X=J.inspect(ie,$);return M(X)||(X=f($,X,ie)),X}var W=h($,J);if(W)return W;var Y=Object.keys(J),re=d(Y);if($.showHidden&&(Y=Object.getOwnPropertyNames(J)),V(J)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return p(J);if(Y.length===0){if(O(J)){var le=J.name?": "+J.name:"";return $.stylize("[Function"+le+"]","special")}if(k(J))return $.stylize(RegExp.prototype.toString.call(J),"regexp");if(T(J))return $.stylize(Date.prototype.toString.call(J),"date");if(V(J))return p(J)}var ue,Q="",x=!1,q=["{","}"];return D(J)&&(x=!0,q=["[","]"]),O(J)&&(Q=" [Function"+(J.name?": "+J.name:"")+"]"),k(J)&&(Q=" "+RegExp.prototype.toString.call(J)),T(J)&&(Q=" "+Date.prototype.toUTCString.call(J)),V(J)&&(Q=" "+p(J)),Y.length!==0||x&&J.length!=0?ie<0?k(J)?$.stylize(RegExp.prototype.toString.call(J),"regexp"):$.stylize("[Object]","special"):($.seen.push(J),ue=x?m($,J,ie,re,Y):Y.map(function(F){return g($,J,ie,re,F,x)}),$.seen.pop(),v(ue,Q,q)):q[0]+Q+q[1]}function h($,J){if(I(J))return $.stylize("undefined","undefined");if(M(J)){var ie="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(ie,"string")}return C(J)?$.stylize(""+J,"number"):w(J)?$.stylize(""+J,"boolean"):b(J)?$.stylize("null","null"):void 0}function p($){return"["+Error.prototype.toString.call($)+"]"}function m($,J,ie,X,W){for(var Y=[],re=0,le=J.length;re<le;++re)ne(J,String(re))?Y.push(g($,J,ie,X,String(re),!0)):Y.push("");return W.forEach(function(ue){ue.match(/^\d+$/)||Y.push(g($,J,ie,X,ue,!0))}),Y}function g($,J,ie,X,W,Y){var re,le,ue;if((ue=Object.getOwnPropertyDescriptor(J,W)||{value:J[W]}).get?le=ue.set?$.stylize("[Getter/Setter]","special"):$.stylize("[Getter]","special"):ue.set&&(le=$.stylize("[Setter]","special")),ne(X,W)||(re="["+W+"]"),le||($.seen.indexOf(ue.value)<0?(le=b(ie)?f($,ue.value,null):f($,ue.value,ie-1)).indexOf(`
`)>-1&&(le=Y?le.split(`
`).map(function(Q){return"  "+Q}).join(`
`).substr(2):`
`+le.split(`
`).map(function(Q){return"   "+Q}).join(`
`)):le=$.stylize("[Circular]","special")),I(re)){if(Y&&W.match(/^\d+$/))return le;(re=JSON.stringify(""+W)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(re=re.substr(1,re.length-2),re=$.stylize(re,"name")):(re=re.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),re=$.stylize(re,"string"))}return re+": "+le}function v($,J,ie){return $.reduce(function(X,W){return W.indexOf(`
`),X+W.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ie[0]+(J===""?"":J+`
 `)+" "+$.join(`,
  `)+" "+ie[1]:ie[0]+J+" "+$.join(", ")+" "+ie[1]}function D($){return Array.isArray($)}function w($){return typeof $=="boolean"}function b($){return $===null}function E($){return $==null}function C($){return typeof $=="number"}function M($){return typeof $=="string"}function S($){return typeof $=="symbol"}function I($){return $===void 0}function k($){return y($)&&P($)==="[object RegExp]"}function y($){return typeof $=="object"&&$!==null}function T($){return y($)&&P($)==="[object Date]"}function V($){return y($)&&(P($)==="[object Error]"||$ instanceof Error)}function O($){return typeof $=="function"}function N($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||$===void 0}function P($){return Object.prototype.toString.call($)}function K($){return $<10?"0"+$.toString(10):$.toString(10)}n.debuglog=function($){if(I(s)&&(s=r.env.NODE_DEBUG||""),$=$.toUpperCase(),!a[$])if(new RegExp("\\b"+$+"\\b","i").test(s)){var J=r.pid;a[$]=function(){var ie=n.format.apply(n,arguments);console.error("%s %d: %s",$,J,ie)}}else a[$]=function(){};return a[$]},n.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=D,n.isBoolean=w,n.isNull=b,n.isNullOrUndefined=E,n.isNumber=C,n.isString=M,n.isSymbol=S,n.isUndefined=I,n.isRegExp=k,n.isObject=y,n.isDate=T,n.isError=V,n.isFunction=O,n.isPrimitive=N,n.isBuffer=e("./support/isBuffer");var Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var $=new Date,J=[K($.getHours()),K($.getMinutes()),K($.getSeconds())].join(":");return[$.getDate(),Z[$.getMonth()],J].join(" ")}function ne($,J){return Object.prototype.hasOwnProperty.call($,J)}n.log=function(){console.log("%s - %s",H(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function($,J){if(!J||!y(J))return $;for(var ie=Object.keys(J),X=ie.length;X--;)$[ie[X]]=J[ie[X]];return $}}).call(this)}).call(this,e("_process"),en!==void 0?en:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(e,t,n){(function(r){(function(){var i=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o=typeof globalThis>"u"?r:globalThis;t.exports=function(){for(var s=[],a=0;a<i.length;a++)typeof o[i[a]]=="function"&&(s[s.length]=i[a]);return s}}).call(this)}).call(this,en!==void 0?en:typeof self<"u"?self:typeof window<"u"?window:{})},{}],28:[function(e,t,n){n.byteLength=c,n.toByteArray=f,n.fromByteArray=m;for(var r=[],i=[],o=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(g){var v=g.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var D=g.indexOf("=");return D===-1&&(D=v),[D,D===v?0:4-D%4]}function c(g){var v=u(g),D=v[0],w=v[1];return 3*(D+w)/4-w}function d(g,v,D){return 3*(v+D)/4-D}function f(g){var v,D,w=u(g),b=w[0],E=w[1],C=new o(d(g,b,E)),M=0,S=E>0?b-4:b;for(D=0;D<S;D+=4)v=i[g.charCodeAt(D)]<<18|i[g.charCodeAt(D+1)]<<12|i[g.charCodeAt(D+2)]<<6|i[g.charCodeAt(D+3)],C[M++]=v>>16&255,C[M++]=v>>8&255,C[M++]=255&v;return E===2&&(v=i[g.charCodeAt(D)]<<2|i[g.charCodeAt(D+1)]>>4,C[M++]=255&v),E===1&&(v=i[g.charCodeAt(D)]<<10|i[g.charCodeAt(D+1)]<<4|i[g.charCodeAt(D+2)]>>2,C[M++]=v>>8&255,C[M++]=255&v),C}function h(g){return r[g>>18&63]+r[g>>12&63]+r[g>>6&63]+r[63&g]}function p(g,v,D){for(var w,b=[],E=v;E<D;E+=3)w=(g[E]<<16&16711680)+(g[E+1]<<8&65280)+(255&g[E+2]),b.push(h(w));return b.join("")}function m(g){for(var v,D=g.length,w=D%3,b=[],E=16383,C=0,M=D-w;C<M;C+=E)b.push(p(g,C,C+E>M?M:C+E));return w===1?(v=g[D-1],b.push(r[v>>2]+r[v<<4&63]+"==")):w===2&&(v=(g[D-2]<<8)+g[D-1],b.push(r[v>>10]+r[v>>4&63]+r[v<<2&63]+"=")),b.join("")}i[45]=62,i[95]=63},{}],29:[function(e,t,n){},{}],30:[function(e,t,n){(function(r,i){(function(){var o=e("assert"),s=e("pako/lib/zlib/zstream"),a=e("pako/lib/zlib/deflate.js"),l=e("pako/lib/zlib/inflate.js"),u=e("pako/lib/zlib/constants");for(var c in u)n[c]=u[c];n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7;var d=31,f=139;function h(p){if(typeof p!="number"||p<n.DEFLATE||p>n.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=p,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}h.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,o(this.init_done,"close before init"),o(this.mode<=n.UNZIP),this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==n.INFLATE&&this.mode!==n.GUNZIP&&this.mode!==n.INFLATERAW&&this.mode!==n.UNZIP||l.inflateEnd(this.strm),this.mode=n.NONE,this.dictionary=null)},h.prototype.write=function(p,m,g,v,D,w,b){return this._write(!0,p,m,g,v,D,w,b)},h.prototype.writeSync=function(p,m,g,v,D,w,b){return this._write(!1,p,m,g,v,D,w,b)},h.prototype._write=function(p,m,g,v,D,w,b,E){if(o.equal(arguments.length,8),o(this.init_done,"write before init"),o(this.mode!==n.NONE,"already finalized"),o.equal(!1,this.write_in_progress,"write already in progress"),o.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,o.equal(!1,m===void 0,"must provide flush value"),this.write_in_progress=!0,m!==n.Z_NO_FLUSH&&m!==n.Z_PARTIAL_FLUSH&&m!==n.Z_SYNC_FLUSH&&m!==n.Z_FULL_FLUSH&&m!==n.Z_FINISH&&m!==n.Z_BLOCK)throw new Error("Invalid flush value");if(g==null&&(g=i.alloc(0),D=0,v=0),this.strm.avail_in=D,this.strm.input=g,this.strm.next_in=v,this.strm.avail_out=E,this.strm.output=w,this.strm.next_out=b,this.flush=m,!p)return this._process(),this._checkError()?this._afterSync():void 0;var C=this;return r.nextTick(function(){C._process(),C._after()}),this},h.prototype._afterSync=function(){var p=this.strm.avail_out,m=this.strm.avail_in;return this.write_in_progress=!1,[m,p]},h.prototype._process=function(){var p=null;switch(this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case n.UNZIP:switch(this.strm.avail_in>0&&(p=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(p===null)break;if(this.strm.input[p]!==d){this.mode=n.INFLATE;break}if(this.gzip_id_bytes_read=1,p++,this.strm.avail_in===1)break;case 1:if(p===null)break;this.strm.input[p]===f?(this.gzip_id_bytes_read=2,this.mode=n.GUNZIP):this.mode=n.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:for(this.err=l.inflate(this.strm,this.flush),this.err===n.Z_NEED_DICT&&this.dictionary&&(this.err=l.inflateSetDictionary(this.strm,this.dictionary),this.err===n.Z_OK?this.err=l.inflate(this.strm,this.flush):this.err===n.Z_DATA_ERROR&&(this.err=n.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===n.GUNZIP&&this.err===n.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=l.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case n.Z_OK:case n.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===n.Z_FINISH)return this._error("unexpected end of file"),!1;break;case n.Z_STREAM_END:break;case n.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(this._checkError()){var p=this.strm.avail_out,m=this.strm.avail_in;this.write_in_progress=!1,this.callback(m,p),this.pending_close&&this.close()}},h.prototype._error=function(p){this.strm.msg&&(p=this.strm.msg),this.onerror(p,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(p,m,g,v,D){o(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),o(p>=8&&p<=15,"invalid windowBits"),o(m>=-1&&m<=9,"invalid compression level"),o(g>=1&&g<=9,"invalid memlevel"),o(v===n.Z_FILTERED||v===n.Z_HUFFMAN_ONLY||v===n.Z_RLE||v===n.Z_FIXED||v===n.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(m,p,g,v,D),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(p,m,g,v,D){switch(this.level=p,this.windowBits=m,this.memLevel=g,this.strategy=v,this.flush=n.Z_NO_FLUSH,this.err=n.Z_OK,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new s,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:this.err=l.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==n.Z_OK&&this._error("Init error"),this.dictionary=D,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==n.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:case n.GZIP:this.err=a.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:case n.GUNZIP:this.err=l.inflateReset(this.strm)}this.err!==n.Z_OK&&this._error("Failed to reset stream")},n.Zlib=h}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(e,t,n){(function(r){(function(){var i=e("buffer").Buffer,o=e("stream").Transform,s=e("./binding"),a=e("util"),l=e("assert").ok,u=e("buffer").kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";s.Z_MIN_WINDOWBITS=8,s.Z_MAX_WINDOWBITS=15,s.Z_DEFAULT_WINDOWBITS=15,s.Z_MIN_CHUNK=64,s.Z_MAX_CHUNK=1/0,s.Z_DEFAULT_CHUNK=16384,s.Z_MIN_MEMLEVEL=1,s.Z_MAX_MEMLEVEL=9,s.Z_DEFAULT_MEMLEVEL=8,s.Z_MIN_LEVEL=-1,s.Z_MAX_LEVEL=9,s.Z_DEFAULT_LEVEL=s.Z_DEFAULT_COMPRESSION;for(var d=Object.keys(s),f=0;f<d.length;f++){var h=d[f];h.match(/^Z/)&&Object.defineProperty(n,h,{enumerable:!0,value:s[h],writable:!1})}for(var p={Z_OK:s.Z_OK,Z_STREAM_END:s.Z_STREAM_END,Z_NEED_DICT:s.Z_NEED_DICT,Z_ERRNO:s.Z_ERRNO,Z_STREAM_ERROR:s.Z_STREAM_ERROR,Z_DATA_ERROR:s.Z_DATA_ERROR,Z_MEM_ERROR:s.Z_MEM_ERROR,Z_BUF_ERROR:s.Z_BUF_ERROR,Z_VERSION_ERROR:s.Z_VERSION_ERROR},m=Object.keys(p),g=0;g<m.length;g++){var v=m[g];p[p[v]]=v}function D(N,P,K){var Z=[],H=0;function ne(){for(var ie;(ie=N.read())!==null;)Z.push(ie),H+=ie.length;N.once("readable",ne)}function $(ie){N.removeListener("end",J),N.removeListener("readable",ne),K(ie)}function J(){var ie,X=null;H>=u?X=new RangeError(c):ie=i.concat(Z,H),Z=[],N.close(),K(X,ie)}N.on("error",$),N.on("end",J),N.end(P),ne()}function w(N,P){if(typeof P=="string"&&(P=i.from(P)),!i.isBuffer(P))throw new TypeError("Not a string or buffer");var K=N._finishFlushFlag;return N._processChunk(P,K)}function b(N){if(!(this instanceof b))return new b(N);T.call(this,N,s.DEFLATE)}function E(N){if(!(this instanceof E))return new E(N);T.call(this,N,s.INFLATE)}function C(N){if(!(this instanceof C))return new C(N);T.call(this,N,s.GZIP)}function M(N){if(!(this instanceof M))return new M(N);T.call(this,N,s.GUNZIP)}function S(N){if(!(this instanceof S))return new S(N);T.call(this,N,s.DEFLATERAW)}function I(N){if(!(this instanceof I))return new I(N);T.call(this,N,s.INFLATERAW)}function k(N){if(!(this instanceof k))return new k(N);T.call(this,N,s.UNZIP)}function y(N){return N===s.Z_NO_FLUSH||N===s.Z_PARTIAL_FLUSH||N===s.Z_SYNC_FLUSH||N===s.Z_FULL_FLUSH||N===s.Z_FINISH||N===s.Z_BLOCK}function T(N,P){var K=this;if(this._opts=N=N||{},this._chunkSize=N.chunkSize||n.Z_DEFAULT_CHUNK,o.call(this,N),N.flush&&!y(N.flush))throw new Error("Invalid flush flag: "+N.flush);if(N.finishFlush&&!y(N.finishFlush))throw new Error("Invalid flush flag: "+N.finishFlush);if(this._flushFlag=N.flush||s.Z_NO_FLUSH,this._finishFlushFlag=N.finishFlush!==void 0?N.finishFlush:s.Z_FINISH,N.chunkSize&&(N.chunkSize<n.Z_MIN_CHUNK||N.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+N.chunkSize);if(N.windowBits&&(N.windowBits<n.Z_MIN_WINDOWBITS||N.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+N.windowBits);if(N.level&&(N.level<n.Z_MIN_LEVEL||N.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+N.level);if(N.memLevel&&(N.memLevel<n.Z_MIN_MEMLEVEL||N.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+N.memLevel);if(N.strategy&&N.strategy!=n.Z_FILTERED&&N.strategy!=n.Z_HUFFMAN_ONLY&&N.strategy!=n.Z_RLE&&N.strategy!=n.Z_FIXED&&N.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+N.strategy);if(N.dictionary&&!i.isBuffer(N.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new s.Zlib(P);var Z=this;this._hadError=!1,this._handle.onerror=function($,J){V(Z),Z._hadError=!0;var ie=new Error($);ie.errno=J,ie.code=n.codes[J],Z.emit("error",ie)};var H=n.Z_DEFAULT_COMPRESSION;typeof N.level=="number"&&(H=N.level);var ne=n.Z_DEFAULT_STRATEGY;typeof N.strategy=="number"&&(ne=N.strategy),this._handle.init(N.windowBits||n.Z_DEFAULT_WINDOWBITS,H,N.memLevel||n.Z_DEFAULT_MEMLEVEL,ne,N.dictionary),this._buffer=i.allocUnsafe(this._chunkSize),this._offset=0,this._level=H,this._strategy=ne,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!K._handle},configurable:!0,enumerable:!0})}function V(N,P){P&&r.nextTick(P),N._handle&&(N._handle.close(),N._handle=null)}function O(N){N.emit("close")}Object.defineProperty(n,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),n.Deflate=b,n.Inflate=E,n.Gzip=C,n.Gunzip=M,n.DeflateRaw=S,n.InflateRaw=I,n.Unzip=k,n.createDeflate=function(N){return new b(N)},n.createInflate=function(N){return new E(N)},n.createDeflateRaw=function(N){return new S(N)},n.createInflateRaw=function(N){return new I(N)},n.createGzip=function(N){return new C(N)},n.createGunzip=function(N){return new M(N)},n.createUnzip=function(N){return new k(N)},n.deflate=function(N,P,K){return typeof P=="function"&&(K=P,P={}),D(new b(P),N,K)},n.deflateSync=function(N,P){return w(new b(P),N)},n.gzip=function(N,P,K){return typeof P=="function"&&(K=P,P={}),D(new C(P),N,K)},n.gzipSync=function(N,P){return w(new C(P),N)},n.deflateRaw=function(N,P,K){return typeof P=="function"&&(K=P,P={}),D(new S(P),N,K)},n.deflateRawSync=function(N,P){return w(new S(P),N)},n.unzip=function(N,P,K){return typeof P=="function"&&(K=P,P={}),D(new k(P),N,K)},n.unzipSync=function(N,P){return w(new k(P),N)},n.inflate=function(N,P,K){return typeof P=="function"&&(K=P,P={}),D(new E(P),N,K)},n.inflateSync=function(N,P){return w(new E(P),N)},n.gunzip=function(N,P,K){return typeof P=="function"&&(K=P,P={}),D(new M(P),N,K)},n.gunzipSync=function(N,P){return w(new M(P),N)},n.inflateRaw=function(N,P,K){return typeof P=="function"&&(K=P,P={}),D(new I(P),N,K)},n.inflateRawSync=function(N,P){return w(new I(P),N)},a.inherits(T,o),T.prototype.params=function(N,P,K){if(N<n.Z_MIN_LEVEL||N>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+N);if(P!=n.Z_FILTERED&&P!=n.Z_HUFFMAN_ONLY&&P!=n.Z_RLE&&P!=n.Z_FIXED&&P!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+P);if(this._level!==N||this._strategy!==P){var Z=this;this.flush(s.Z_SYNC_FLUSH,function(){l(Z._handle,"zlib binding closed"),Z._handle.params(N,P),Z._hadError||(Z._level=N,Z._strategy=P,K&&K())})}else r.nextTick(K)},T.prototype.reset=function(){return l(this._handle,"zlib binding closed"),this._handle.reset()},T.prototype._flush=function(N){this._transform(i.alloc(0),"",N)},T.prototype.flush=function(N,P){var K=this,Z=this._writableState;(typeof N=="function"||N===void 0&&!P)&&(P=N,N=s.Z_FULL_FLUSH),Z.ended?P&&r.nextTick(P):Z.ending?P&&this.once("end",P):Z.needDrain?P&&this.once("drain",function(){return K.flush(N,P)}):(this._flushFlag=N,this.write(i.alloc(0),"",P))},T.prototype.close=function(N){V(this,N),r.nextTick(O,this)},T.prototype._transform=function(N,P,K){var Z,H=this._writableState,ne=(H.ending||H.ended)&&(!N||H.length===N.length);return N===null||i.isBuffer(N)?this._handle?(ne?Z=this._finishFlushFlag:(Z=this._flushFlag,N.length>=H.length&&(this._flushFlag=this._opts.flush||s.Z_NO_FLUSH)),void this._processChunk(N,Z,K)):K(new Error("zlib binding closed")):K(new Error("invalid input"))},T.prototype._processChunk=function(N,P,K){var Z=N&&N.length,H=this._chunkSize-this._offset,ne=0,$=this,J=typeof K=="function";if(!J){var ie,X=[],W=0;this.on("error",function(Q){ie=Q}),l(this._handle,"zlib binding closed");do var Y=this._handle.writeSync(P,N,ne,Z,this._buffer,this._offset,H);while(!this._hadError&&ue(Y[0],Y[1]));if(this._hadError)throw ie;if(W>=u)throw V(this),new RangeError(c);var re=i.concat(X,W);return V(this),re}l(this._handle,"zlib binding closed");var le=this._handle.write(P,N,ne,Z,this._buffer,this._offset,H);function ue(Q,x){if(this&&(this.buffer=null,this.callback=null),!$._hadError){var q=H-x;if(l(q>=0,"have should not go down"),q>0){var F=$._buffer.slice($._offset,$._offset+q);$._offset+=q,J?$.push(F):(X.push(F),W+=F.length)}if((x===0||$._offset>=$._chunkSize)&&(H=$._chunkSize,$._offset=0,$._buffer=i.allocUnsafe($._chunkSize)),x===0){if(ne+=Z-Q,Z=Q,!J)return!0;var B=$._handle.write(P,N,ne,Z,$._buffer,$._offset,$._chunkSize);return B.callback=ue,void(B.buffer=N)}if(!J)return!1;K()}}le.buffer=N,le.callback=ue},a.inherits(b,T),a.inherits(E,T),a.inherits(C,T),a.inherits(M,T),a.inherits(S,T),a.inherits(I,T),a.inherits(k,T)}).call(this)}).call(this,e("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(e,t,n){(function(r){(function(){var i=e("base64-js"),o=e("ieee754");n.Buffer=u,n.SlowBuffer=w,n.INSPECT_MAX_BYTES=50;var s=2147483647;function a(){try{var _=new Uint8Array(1);return _.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},_.foo()===42}catch{return!1}}function l(_){if(_>s)throw new RangeError('The value "'+_+'" is invalid for option "size"');var A=new Uint8Array(_);return A.__proto__=u.prototype,A}function u(_,A,j){if(typeof _=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(_)}return c(_,A,j)}function c(_,A,j){if(typeof _=="string")return p(_,A);if(ArrayBuffer.isView(_))return m(_);if(_==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(z(_,ArrayBuffer)||_&&z(_.buffer,ArrayBuffer))return g(_,A,j);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=_.valueOf&&_.valueOf();if(U!=null&&U!==_)return u.from(U,A,j);var se=v(_);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return u.from(_[Symbol.toPrimitive]("string"),A,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}function d(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function f(_,A,j){return d(_),_<=0?l(_):A!==void 0?typeof j=="string"?l(_).fill(A,j):l(_).fill(A):l(_)}function h(_){return d(_),l(_<0?0:0|D(_))}function p(_,A){if(typeof A=="string"&&A!==""||(A="utf8"),!u.isEncoding(A))throw new TypeError("Unknown encoding: "+A);var j=0|b(_,A),U=l(j),se=U.write(_,A);return se!==j&&(U=U.slice(0,se)),U}function m(_){for(var A=_.length<0?0:0|D(_.length),j=l(A),U=0;U<A;U+=1)j[U]=255&_[U];return j}function g(_,A,j){if(A<0||_.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<A+(j||0))throw new RangeError('"length" is outside of buffer bounds');var U;return(U=A===void 0&&j===void 0?new Uint8Array(_):j===void 0?new Uint8Array(_,A):new Uint8Array(_,A,j)).__proto__=u.prototype,U}function v(_){if(u.isBuffer(_)){var A=0|D(_.length),j=l(A);return j.length===0||_.copy(j,0,0,A),j}return _.length!==void 0?typeof _.length!="number"||ee(_.length)?l(0):m(_):_.type==="Buffer"&&Array.isArray(_.data)?m(_.data):void 0}function D(_){if(_>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|_}function w(_){return+_!=_&&(_=0),u.alloc(+_)}function b(_,A){if(u.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||z(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);var j=_.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&j===0)return 0;for(var se=!1;;)switch(A){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return x(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return B(_).length;default:if(se)return U?-1:x(_).length;A=(""+A).toLowerCase(),se=!0}}function E(_,A,j){var U=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(A>>>=0))return"";for(_||(_="utf8");;)switch(_){case"hex":return $(this,A,j);case"utf8":case"utf-8":return P(this,A,j);case"ascii":return H(this,A,j);case"latin1":case"binary":return ne(this,A,j);case"base64":return N(this,A,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,A,j);default:if(U)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),U=!0}}function C(_,A,j){var U=_[A];_[A]=_[j],_[j]=U}function M(_,A,j,U,se){if(_.length===0)return-1;if(typeof j=="string"?(U=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),ee(j=+j)&&(j=se?0:_.length-1),j<0&&(j=_.length+j),j>=_.length){if(se)return-1;j=_.length-1}else if(j<0){if(!se)return-1;j=0}if(typeof A=="string"&&(A=u.from(A,U)),u.isBuffer(A))return A.length===0?-1:S(_,A,j,U,se);if(typeof A=="number")return A&=255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(_,A,j):Uint8Array.prototype.lastIndexOf.call(_,A,j):S(_,[A],j,U,se);throw new TypeError("val must be string, number or Buffer")}function S(_,A,j,U,se){var ce,De=1,Ie=_.length,we=A.length;if(U!==void 0&&((U=String(U).toLowerCase())==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(_.length<2||A.length<2)return-1;De=2,Ie/=2,we/=2,j/=2}function Ce(Pe,We){return De===1?Pe[We]:Pe.readUInt16BE(We*De)}if(se){var xe=-1;for(ce=j;ce<Ie;ce++)if(Ce(_,ce)===Ce(A,xe===-1?0:ce-xe)){if(xe===-1&&(xe=ce),ce-xe+1===we)return xe*De}else xe!==-1&&(ce-=ce-xe),xe=-1}else for(j+we>Ie&&(j=Ie-we),ce=j;ce>=0;ce--){for(var Be=!0,Oe=0;Oe<we;Oe++)if(Ce(_,ce+Oe)!==Ce(A,Oe)){Be=!1;break}if(Be)return ce}return-1}function I(_,A,j,U){j=Number(j)||0;var se=_.length-j;U?(U=Number(U))>se&&(U=se):U=se;var ce=A.length;U>ce/2&&(U=ce/2);for(var De=0;De<U;++De){var Ie=parseInt(A.substr(2*De,2),16);if(ee(Ie))return De;_[j+De]=Ie}return De}function k(_,A,j,U){return L(x(A,_.length-j),_,j,U)}function y(_,A,j,U){return L(q(A),_,j,U)}function T(_,A,j,U){return y(_,A,j,U)}function V(_,A,j,U){return L(B(A),_,j,U)}function O(_,A,j,U){return L(F(A,_.length-j),_,j,U)}function N(_,A,j){return A===0&&j===_.length?i.fromByteArray(_):i.fromByteArray(_.slice(A,j))}function P(_,A,j){j=Math.min(_.length,j);for(var U=[],se=A;se<j;){var ce,De,Ie,we,Ce=_[se],xe=null,Be=Ce>239?4:Ce>223?3:Ce>191?2:1;if(se+Be<=j)switch(Be){case 1:Ce<128&&(xe=Ce);break;case 2:(192&(ce=_[se+1]))==128&&(we=(31&Ce)<<6|63&ce)>127&&(xe=we);break;case 3:ce=_[se+1],De=_[se+2],(192&ce)==128&&(192&De)==128&&(we=(15&Ce)<<12|(63&ce)<<6|63&De)>2047&&(we<55296||we>57343)&&(xe=we);break;case 4:ce=_[se+1],De=_[se+2],Ie=_[se+3],(192&ce)==128&&(192&De)==128&&(192&Ie)==128&&(we=(15&Ce)<<18|(63&ce)<<12|(63&De)<<6|63&Ie)>65535&&we<1114112&&(xe=we)}xe===null?(xe=65533,Be=1):xe>65535&&(xe-=65536,U.push(xe>>>10&1023|55296),xe=56320|1023&xe),U.push(xe),se+=Be}return Z(U)}n.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=a(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(_,A,j){return c(_,A,j)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(_,A,j){return f(_,A,j)},u.allocUnsafe=function(_){return h(_)},u.allocUnsafeSlow=function(_){return h(_)},u.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==u.prototype},u.compare=function(_,A){if(z(_,Uint8Array)&&(_=u.from(_,_.offset,_.byteLength)),z(A,Uint8Array)&&(A=u.from(A,A.offset,A.byteLength)),!u.isBuffer(_)||!u.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===A)return 0;for(var j=_.length,U=A.length,se=0,ce=Math.min(j,U);se<ce;++se)if(_[se]!==A[se]){j=_[se],U=A[se];break}return j<U?-1:U<j?1:0},u.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(_,A){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return u.alloc(0);var j;if(A===void 0)for(A=0,j=0;j<_.length;++j)A+=_[j].length;var U=u.allocUnsafe(A),se=0;for(j=0;j<_.length;++j){var ce=_[j];if(z(ce,Uint8Array)&&(ce=u.from(ce)),!u.isBuffer(ce))throw new TypeError('"list" argument must be an Array of Buffers');ce.copy(U,se),se+=ce.length}return U},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<_;A+=2)C(this,A,A+1);return this},u.prototype.swap32=function(){var _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<_;A+=4)C(this,A,A+3),C(this,A+1,A+2);return this},u.prototype.swap64=function(){var _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<_;A+=8)C(this,A,A+7),C(this,A+1,A+6),C(this,A+2,A+5),C(this,A+3,A+4);return this},u.prototype.toString=function(){var _=this.length;return _===0?"":arguments.length===0?P(this,0,_):E.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(_){if(!u.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||u.compare(this,_)===0},u.prototype.inspect=function(){var _="",A=n.INSPECT_MAX_BYTES;return _=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(_+=" ... "),"<Buffer "+_+">"},u.prototype.compare=function(_,A,j,U,se){if(z(_,Uint8Array)&&(_=u.from(_,_.offset,_.byteLength)),!u.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(A===void 0&&(A=0),j===void 0&&(j=_?_.length:0),U===void 0&&(U=0),se===void 0&&(se=this.length),A<0||j>_.length||U<0||se>this.length)throw new RangeError("out of range index");if(U>=se&&A>=j)return 0;if(U>=se)return-1;if(A>=j)return 1;if(this===_)return 0;for(var ce=(se>>>=0)-(U>>>=0),De=(j>>>=0)-(A>>>=0),Ie=Math.min(ce,De),we=this.slice(U,se),Ce=_.slice(A,j),xe=0;xe<Ie;++xe)if(we[xe]!==Ce[xe]){ce=we[xe],De=Ce[xe];break}return ce<De?-1:De<ce?1:0},u.prototype.includes=function(_,A,j){return this.indexOf(_,A,j)!==-1},u.prototype.indexOf=function(_,A,j){return M(this,_,A,j,!0)},u.prototype.lastIndexOf=function(_,A,j){return M(this,_,A,j,!1)},u.prototype.write=function(_,A,j,U){if(A===void 0)U="utf8",j=this.length,A=0;else if(j===void 0&&typeof A=="string")U=A,j=this.length,A=0;else{if(!isFinite(A))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");A>>>=0,isFinite(j)?(j>>>=0,U===void 0&&(U="utf8")):(U=j,j=void 0)}var se=this.length-A;if((j===void 0||j>se)&&(j=se),_.length>0&&(j<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var ce=!1;;)switch(U){case"hex":return I(this,_,A,j);case"utf8":case"utf-8":return k(this,_,A,j);case"ascii":return y(this,_,A,j);case"latin1":case"binary":return T(this,_,A,j);case"base64":return V(this,_,A,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,_,A,j);default:if(ce)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;function Z(_){var A=_.length;if(A<=K)return String.fromCharCode.apply(String,_);for(var j="",U=0;U<A;)j+=String.fromCharCode.apply(String,_.slice(U,U+=K));return j}function H(_,A,j){var U="";j=Math.min(_.length,j);for(var se=A;se<j;++se)U+=String.fromCharCode(127&_[se]);return U}function ne(_,A,j){var U="";j=Math.min(_.length,j);for(var se=A;se<j;++se)U+=String.fromCharCode(_[se]);return U}function $(_,A,j){var U=_.length;(!A||A<0)&&(A=0),(!j||j<0||j>U)&&(j=U);for(var se="",ce=A;ce<j;++ce)se+=Q(_[ce]);return se}function J(_,A,j){for(var U=_.slice(A,j),se="",ce=0;ce<U.length;ce+=2)se+=String.fromCharCode(U[ce]+256*U[ce+1]);return se}function ie(_,A,j){if(_%1!=0||_<0)throw new RangeError("offset is not uint");if(_+A>j)throw new RangeError("Trying to access beyond buffer length")}function X(_,A,j,U,se,ce){if(!u.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>se||A<ce)throw new RangeError('"value" argument is out of bounds');if(j+U>_.length)throw new RangeError("Index out of range")}function W(_,A,j,U,se,ce){if(j+U>_.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function Y(_,A,j,U,se){return A=+A,j>>>=0,se||W(_,A,j,4),o.write(_,A,j,U,23,4),j+4}function re(_,A,j,U,se){return A=+A,j>>>=0,se||W(_,A,j,8),o.write(_,A,j,U,52,8),j+8}u.prototype.slice=function(_,A){var j=this.length;(_=~~_)<0?(_+=j)<0&&(_=0):_>j&&(_=j),(A=A===void 0?j:~~A)<0?(A+=j)<0&&(A=0):A>j&&(A=j),A<_&&(A=_);var U=this.subarray(_,A);return U.__proto__=u.prototype,U},u.prototype.readUIntLE=function(_,A,j){_>>>=0,A>>>=0,j||ie(_,A,this.length);for(var U=this[_],se=1,ce=0;++ce<A&&(se*=256);)U+=this[_+ce]*se;return U},u.prototype.readUIntBE=function(_,A,j){_>>>=0,A>>>=0,j||ie(_,A,this.length);for(var U=this[_+--A],se=1;A>0&&(se*=256);)U+=this[_+--A]*se;return U},u.prototype.readUInt8=function(_,A){return _>>>=0,A||ie(_,1,this.length),this[_]},u.prototype.readUInt16LE=function(_,A){return _>>>=0,A||ie(_,2,this.length),this[_]|this[_+1]<<8},u.prototype.readUInt16BE=function(_,A){return _>>>=0,A||ie(_,2,this.length),this[_]<<8|this[_+1]},u.prototype.readUInt32LE=function(_,A){return _>>>=0,A||ie(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},u.prototype.readUInt32BE=function(_,A){return _>>>=0,A||ie(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},u.prototype.readIntLE=function(_,A,j){_>>>=0,A>>>=0,j||ie(_,A,this.length);for(var U=this[_],se=1,ce=0;++ce<A&&(se*=256);)U+=this[_+ce]*se;return U>=(se*=128)&&(U-=Math.pow(2,8*A)),U},u.prototype.readIntBE=function(_,A,j){_>>>=0,A>>>=0,j||ie(_,A,this.length);for(var U=A,se=1,ce=this[_+--U];U>0&&(se*=256);)ce+=this[_+--U]*se;return ce>=(se*=128)&&(ce-=Math.pow(2,8*A)),ce},u.prototype.readInt8=function(_,A){return _>>>=0,A||ie(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},u.prototype.readInt16LE=function(_,A){_>>>=0,A||ie(_,2,this.length);var j=this[_]|this[_+1]<<8;return 32768&j?4294901760|j:j},u.prototype.readInt16BE=function(_,A){_>>>=0,A||ie(_,2,this.length);var j=this[_+1]|this[_]<<8;return 32768&j?4294901760|j:j},u.prototype.readInt32LE=function(_,A){return _>>>=0,A||ie(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},u.prototype.readInt32BE=function(_,A){return _>>>=0,A||ie(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},u.prototype.readFloatLE=function(_,A){return _>>>=0,A||ie(_,4,this.length),o.read(this,_,!0,23,4)},u.prototype.readFloatBE=function(_,A){return _>>>=0,A||ie(_,4,this.length),o.read(this,_,!1,23,4)},u.prototype.readDoubleLE=function(_,A){return _>>>=0,A||ie(_,8,this.length),o.read(this,_,!0,52,8)},u.prototype.readDoubleBE=function(_,A){return _>>>=0,A||ie(_,8,this.length),o.read(this,_,!1,52,8)},u.prototype.writeUIntLE=function(_,A,j,U){_=+_,A>>>=0,j>>>=0,U||X(this,_,A,j,Math.pow(2,8*j)-1,0);var se=1,ce=0;for(this[A]=255&_;++ce<j&&(se*=256);)this[A+ce]=_/se&255;return A+j},u.prototype.writeUIntBE=function(_,A,j,U){_=+_,A>>>=0,j>>>=0,U||X(this,_,A,j,Math.pow(2,8*j)-1,0);var se=j-1,ce=1;for(this[A+se]=255&_;--se>=0&&(ce*=256);)this[A+se]=_/ce&255;return A+j},u.prototype.writeUInt8=function(_,A,j){return _=+_,A>>>=0,j||X(this,_,A,1,255,0),this[A]=255&_,A+1},u.prototype.writeUInt16LE=function(_,A,j){return _=+_,A>>>=0,j||X(this,_,A,2,65535,0),this[A]=255&_,this[A+1]=_>>>8,A+2},u.prototype.writeUInt16BE=function(_,A,j){return _=+_,A>>>=0,j||X(this,_,A,2,65535,0),this[A]=_>>>8,this[A+1]=255&_,A+2},u.prototype.writeUInt32LE=function(_,A,j){return _=+_,A>>>=0,j||X(this,_,A,4,4294967295,0),this[A+3]=_>>>24,this[A+2]=_>>>16,this[A+1]=_>>>8,this[A]=255&_,A+4},u.prototype.writeUInt32BE=function(_,A,j){return _=+_,A>>>=0,j||X(this,_,A,4,4294967295,0),this[A]=_>>>24,this[A+1]=_>>>16,this[A+2]=_>>>8,this[A+3]=255&_,A+4},u.prototype.writeIntLE=function(_,A,j,U){if(_=+_,A>>>=0,!U){var se=Math.pow(2,8*j-1);X(this,_,A,j,se-1,-se)}var ce=0,De=1,Ie=0;for(this[A]=255&_;++ce<j&&(De*=256);)_<0&&Ie===0&&this[A+ce-1]!==0&&(Ie=1),this[A+ce]=(_/De|0)-Ie&255;return A+j},u.prototype.writeIntBE=function(_,A,j,U){if(_=+_,A>>>=0,!U){var se=Math.pow(2,8*j-1);X(this,_,A,j,se-1,-se)}var ce=j-1,De=1,Ie=0;for(this[A+ce]=255&_;--ce>=0&&(De*=256);)_<0&&Ie===0&&this[A+ce+1]!==0&&(Ie=1),this[A+ce]=(_/De|0)-Ie&255;return A+j},u.prototype.writeInt8=function(_,A,j){return _=+_,A>>>=0,j||X(this,_,A,1,127,-128),_<0&&(_=255+_+1),this[A]=255&_,A+1},u.prototype.writeInt16LE=function(_,A,j){return _=+_,A>>>=0,j||X(this,_,A,2,32767,-32768),this[A]=255&_,this[A+1]=_>>>8,A+2},u.prototype.writeInt16BE=function(_,A,j){return _=+_,A>>>=0,j||X(this,_,A,2,32767,-32768),this[A]=_>>>8,this[A+1]=255&_,A+2},u.prototype.writeInt32LE=function(_,A,j){return _=+_,A>>>=0,j||X(this,_,A,4,2147483647,-2147483648),this[A]=255&_,this[A+1]=_>>>8,this[A+2]=_>>>16,this[A+3]=_>>>24,A+4},u.prototype.writeInt32BE=function(_,A,j){return _=+_,A>>>=0,j||X(this,_,A,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[A]=_>>>24,this[A+1]=_>>>16,this[A+2]=_>>>8,this[A+3]=255&_,A+4},u.prototype.writeFloatLE=function(_,A,j){return Y(this,_,A,!0,j)},u.prototype.writeFloatBE=function(_,A,j){return Y(this,_,A,!1,j)},u.prototype.writeDoubleLE=function(_,A,j){return re(this,_,A,!0,j)},u.prototype.writeDoubleBE=function(_,A,j){return re(this,_,A,!1,j)},u.prototype.copy=function(_,A,j,U){if(!u.isBuffer(_))throw new TypeError("argument should be a Buffer");if(j||(j=0),U||U===0||(U=this.length),A>=_.length&&(A=_.length),A||(A=0),U>0&&U<j&&(U=j),U===j||_.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),_.length-A<U-j&&(U=_.length-A+j);var se=U-j;if(this===_&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(A,j,U);else if(this===_&&j<A&&A<U)for(var ce=se-1;ce>=0;--ce)_[ce+A]=this[ce+j];else Uint8Array.prototype.set.call(_,this.subarray(j,U),A);return se},u.prototype.fill=function(_,A,j,U){if(typeof _=="string"){if(typeof A=="string"?(U=A,A=0,j=this.length):typeof j=="string"&&(U=j,j=this.length),U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!u.isEncoding(U))throw new TypeError("Unknown encoding: "+U);if(_.length===1){var se=_.charCodeAt(0);(U==="utf8"&&se<128||U==="latin1")&&(_=se)}}else typeof _=="number"&&(_&=255);if(A<0||this.length<A||this.length<j)throw new RangeError("Out of range index");if(j<=A)return this;var ce;if(A>>>=0,j=j===void 0?this.length:j>>>0,_||(_=0),typeof _=="number")for(ce=A;ce<j;++ce)this[ce]=_;else{var De=u.isBuffer(_)?_:u.from(_,U),Ie=De.length;if(Ie===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ce=0;ce<j-A;++ce)this[ce+A]=De[ce%Ie]}return this};var le=/[^+/0-9A-Za-z-_]/g;function ue(_){if((_=(_=_.split("=")[0]).trim().replace(le,"")).length<2)return"";for(;_.length%4!=0;)_+="=";return _}function Q(_){return _<16?"0"+_.toString(16):_.toString(16)}function x(_,A){var j;A=A||1/0;for(var U=_.length,se=null,ce=[],De=0;De<U;++De){if((j=_.charCodeAt(De))>55295&&j<57344){if(!se){if(j>56319){(A-=3)>-1&&ce.push(239,191,189);continue}if(De+1===U){(A-=3)>-1&&ce.push(239,191,189);continue}se=j;continue}if(j<56320){(A-=3)>-1&&ce.push(239,191,189),se=j;continue}j=65536+(se-55296<<10|j-56320)}else se&&(A-=3)>-1&&ce.push(239,191,189);if(se=null,j<128){if((A-=1)<0)break;ce.push(j)}else if(j<2048){if((A-=2)<0)break;ce.push(j>>6|192,63&j|128)}else if(j<65536){if((A-=3)<0)break;ce.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;ce.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return ce}function q(_){for(var A=[],j=0;j<_.length;++j)A.push(255&_.charCodeAt(j));return A}function F(_,A){for(var j,U,se,ce=[],De=0;De<_.length&&!((A-=2)<0);++De)U=(j=_.charCodeAt(De))>>8,se=j%256,ce.push(se),ce.push(U);return ce}function B(_){return i.toByteArray(ue(_))}function L(_,A,j,U){for(var se=0;se<U&&!(se+j>=A.length||se>=_.length);++se)A[se+j]=_[se];return se}function z(_,A){return _ instanceof A||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===A.name}function ee(_){return _!=_}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(e,t,n){var r=e("get-intrinsic"),i=e("./"),o=i(r("String.prototype.indexOf"));t.exports=function(s,a){var l=r(s,!!a);return typeof l=="function"&&o(s,".prototype.")>-1?i(l):l}},{"./":34,"get-intrinsic":39}],34:[function(e,t,n){var r=e("function-bind"),i=e("get-intrinsic"),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),l=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(f){var h=a(r,s,arguments);return l&&u&&l(h,"length").configurable&&u(h,"length",{value:1+c(0,f.length-(arguments.length-1))}),h};var d=function(){return a(r,o,arguments)};u?u(t.exports,"apply",{value:d}):t.exports.apply=d},{"function-bind":38,"get-intrinsic":39}],35:[function(e,t,n){var r,i=typeof Reflect=="object"?Reflect:null,o=i&&typeof i.apply=="function"?i.apply:function(M,S,I){return Function.prototype.apply.call(M,S,I)};function s(M){console&&console.warn&&console.warn(M)}r=i&&typeof i.ownKeys=="function"?i.ownKeys:Object.getOwnPropertySymbols?function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:function(M){return Object.getOwnPropertyNames(M)};var a=Number.isNaN||function(M){return M!=M};function l(){l.init.call(this)}t.exports=l,t.exports.once=b,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function c(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}function d(M){return M._maxListeners===void 0?l.defaultMaxListeners:M._maxListeners}function f(M,S,I,k){var y,T,V;if(c(I),(T=M._events)===void 0?(T=M._events=Object.create(null),M._eventsCount=0):(T.newListener!==void 0&&(M.emit("newListener",S,I.listener?I.listener:I),T=M._events),V=T[S]),V===void 0)V=T[S]=I,++M._eventsCount;else if(typeof V=="function"?V=T[S]=k?[I,V]:[V,I]:k?V.unshift(I):V.push(I),(y=d(M))>0&&V.length>y&&!V.warned){V.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+V.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=M,O.type=S,O.count=V.length,s(O)}return M}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(M,S,I){var k={fired:!1,wrapFn:void 0,target:M,type:S,listener:I},y=h.bind(k);return y.listener=I,k.wrapFn=y,y}function m(M,S,I){var k=M._events;if(k===void 0)return[];var y=k[S];return y===void 0?[]:typeof y=="function"?I?[y.listener||y]:[y]:I?w(y):v(y,y.length)}function g(M){var S=this._events;if(S!==void 0){var I=S[M];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}function v(M,S){for(var I=new Array(S),k=0;k<S;++k)I[k]=M[k];return I}function D(M,S){for(;S+1<M.length;S++)M[S]=M[S+1];M.pop()}function w(M){for(var S=new Array(M.length),I=0;I<S.length;++I)S[I]=M[I].listener||M[I];return S}function b(M,S){return new Promise(function(I,k){function y(V){M.removeListener(S,T),k(V)}function T(){typeof M.removeListener=="function"&&M.removeListener("error",y),I([].slice.call(arguments))}C(M,S,T,{once:!0}),S!=="error"&&E(M,y,{once:!0})})}function E(M,S,I){typeof M.on=="function"&&C(M,"error",S,I)}function C(M,S,I,k){if(typeof M.on=="function")k.once?M.once(S,I):M.on(S,I);else{if(typeof M.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M);M.addEventListener(S,function y(T){k.once&&M.removeEventListener(S,y),I(T)})}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(M){if(typeof M!="number"||M<0||a(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");u=M}}),l.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||a(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(M){for(var S=[],I=1;I<arguments.length;I++)S.push(arguments[I]);var k=M==="error",y=this._events;if(y!==void 0)k=k&&y.error===void 0;else if(!k)return!1;if(k){var T;if(S.length>0&&(T=S[0]),T instanceof Error)throw T;var V=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw V.context=T,V}var O=y[M];if(O===void 0)return!1;if(typeof O=="function")o(O,this,S);else{var N=O.length,P=v(O,N);for(I=0;I<N;++I)o(P[I],this,S)}return!0},l.prototype.addListener=function(M,S){return f(this,M,S,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(M,S){return f(this,M,S,!0)},l.prototype.once=function(M,S){return c(S),this.on(M,p(this,M,S)),this},l.prototype.prependOnceListener=function(M,S){return c(S),this.prependListener(M,p(this,M,S)),this},l.prototype.removeListener=function(M,S){var I,k,y,T,V;if(c(S),(k=this._events)===void 0)return this;if((I=k[M])===void 0)return this;if(I===S||I.listener===S)--this._eventsCount==0?this._events=Object.create(null):(delete k[M],k.removeListener&&this.emit("removeListener",M,I.listener||S));else if(typeof I!="function"){for(y=-1,T=I.length-1;T>=0;T--)if(I[T]===S||I[T].listener===S){V=I[T].listener,y=T;break}if(y<0)return this;y===0?I.shift():D(I,y),I.length===1&&(k[M]=I[0]),k.removeListener!==void 0&&this.emit("removeListener",M,V||S)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(M){var S,I,k;if((I=this._events)===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[M]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete I[M]),this;if(arguments.length===0){var y,T=Object.keys(I);for(k=0;k<T.length;++k)(y=T[k])!=="removeListener"&&this.removeAllListeners(y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(S=I[M])=="function")this.removeListener(M,S);else if(S!==void 0)for(k=S.length-1;k>=0;k--)this.removeListener(M,S[k]);return this},l.prototype.listeners=function(M){return m(this,M,!0)},l.prototype.rawListeners=function(M){return m(this,M,!1)},l.listenerCount=function(M,S){return typeof M.listenerCount=="function"?M.listenerCount(S):g.call(M,S)},l.prototype.listenerCount=g,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],36:[function(e,t,n){var r=e("is-callable"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,s=function(c,d,f){for(var h=0,p=c.length;h<p;h++)o.call(c,h)&&(f==null?d(c[h],h,c):d.call(f,c[h],h,c))},a=function(c,d,f){for(var h=0,p=c.length;h<p;h++)f==null?d(c.charAt(h),h,c):d.call(f,c.charAt(h),h,c)},l=function(c,d,f){for(var h in c)o.call(c,h)&&(f==null?d(c[h],h,c):d.call(f,c[h],h,c))},u=function(c,d,f){if(!r(d))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=f),i.call(c)==="[object Array]"?s(c,d,h):typeof c=="string"?a(c,d,h):l(c,d,h)};t.exports=u},{"is-callable":48}],37:[function(e,t,n){var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,s="[object Function]";t.exports=function(a){var l=this;if(typeof l!="function"||o.call(l)!==s)throw new TypeError(r+l);for(var u,c=i.call(arguments,1),d=function(){if(this instanceof u){var g=l.apply(this,c.concat(i.call(arguments)));return Object(g)===g?g:this}return l.apply(a,c.concat(i.call(arguments)))},f=Math.max(0,l.length-c.length),h=[],p=0;p<f;p++)h.push("$"+p);if(u=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(d),l.prototype){var m=function(){};m.prototype=l.prototype,u.prototype=new m,m.prototype=null}return u}},{}],38:[function(e,t,n){var r=e("./implementation");t.exports=Function.prototype.bind||r},{"./implementation":37}],39:[function(e,t,n){var r,i=SyntaxError,o=Function,s=TypeError,a=function(O){try{return o('"use strict"; return ('+O+").constructor;")()}catch{}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch{l=null}var u=function(){throw new s},c=l?function(){try{return u}catch{try{return l(arguments,"callee").get}catch{return u}}}():u,d=e("has-symbols")(),f=Object.getPrototypeOf||function(O){return O.__proto__},h={},p=typeof Uint8Array>"u"?r:f(Uint8Array),m={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?f(f([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map<"u"&&d?f(new Map()[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set<"u"&&d?f(new Set()[Symbol.iterator]()):r,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?f(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};try{null.error}catch(O){var g=f(f(O));m["%Error.prototype%"]=g}var v=function O(N){var P;if(N==="%AsyncFunction%")P=a("async function () {}");else if(N==="%GeneratorFunction%")P=a("function* () {}");else if(N==="%AsyncGeneratorFunction%")P=a("async function* () {}");else if(N==="%AsyncGenerator%"){var K=O("%AsyncGeneratorFunction%");K&&(P=K.prototype)}else if(N==="%AsyncIteratorPrototype%"){var Z=O("%AsyncGenerator%");Z&&(P=f(Z.prototype))}return m[N]=P,P},D={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=e("function-bind"),b=e("has"),E=w.call(Function.call,Array.prototype.concat),C=w.call(Function.apply,Array.prototype.splice),M=w.call(Function.call,String.prototype.replace),S=w.call(Function.call,String.prototype.slice),I=w.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,y=/\\(\\)?/g,T=function(O){var N=S(O,0,1),P=S(O,-1);if(N==="%"&&P!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(P==="%"&&N!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var K=[];return M(O,k,function(Z,H,ne,$){K[K.length]=ne?M($,y,"$1"):H||Z}),K},V=function(O,N){var P,K=O;if(b(D,K)&&(K="%"+(P=D[K])[0]+"%"),b(m,K)){var Z=m[K];if(Z===h&&(Z=v(K)),Z===void 0&&!N)throw new s("intrinsic "+O+" exists, but is not available. Please file an issue!");return{alias:P,name:K,value:Z}}throw new i("intrinsic "+O+" does not exist!")};t.exports=function(O,N){if(typeof O!="string"||O.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof N!="boolean")throw new s('"allowMissing" argument must be a boolean');if(I(/^%?[^%]*%?$/,O)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var P=T(O),K=P.length>0?P[0]:"",Z=V("%"+K+"%",N),H=Z.name,ne=Z.value,$=!1,J=Z.alias;J&&(K=J[0],C(P,E([0,1],J)));for(var ie=1,X=!0;ie<P.length;ie+=1){var W=P[ie],Y=S(W,0,1),re=S(W,-1);if((Y==='"'||Y==="'"||Y==="`"||re==='"'||re==="'"||re==="`")&&Y!==re)throw new i("property names with quotes must have matching quotes");if(W!=="constructor"&&X||($=!0),b(m,H="%"+(K+="."+W)+"%"))ne=m[H];else if(ne!=null){if(!(W in ne)){if(!N)throw new s("base intrinsic for "+O+" exists, but the property is not available.");return}if(l&&ie+1>=P.length){var le=l(ne,W);ne=(X=!!le)&&"get"in le&&!("originalValue"in le.get)?le.get:ne[W]}else X=b(ne,W),ne=ne[W];X&&!$&&(m[H]=ne)}}return ne}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(e,t,n){var r=e("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch{r=null}t.exports=r},{"get-intrinsic":39}],41:[function(e,t,n){var r=typeof Symbol<"u"&&Symbol,i=e("./shams");t.exports=function(){return typeof r=="function"&&typeof Symbol=="function"&&typeof r("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&i()}},{"./shams":42}],42:[function(e,t,n){t.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},i=Symbol("test"),o=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;for(i in r[i]=s,r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var a=Object.getOwnPropertySymbols(r);if(a.length!==1||a[0]!==i||!Object.prototype.propertyIsEnumerable.call(r,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(r,i);if(l.value!==s||l.enumerable!==!0)return!1}return!0}},{}],43:[function(e,t,n){var r=e("has-symbols/shams");t.exports=function(){return r()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(e,t,n){var r=e("function-bind");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(e,t,n){n.read=function(r,i,o,s,a){var l,u,c=8*a-s-1,d=(1<<c)-1,f=d>>1,h=-7,p=o?a-1:0,m=o?-1:1,g=r[i+p];for(p+=m,l=g&(1<<-h)-1,g>>=-h,h+=c;h>0;l=256*l+r[i+p],p+=m,h-=8);for(u=l&(1<<-h)-1,l>>=-h,h+=s;h>0;u=256*u+r[i+p],p+=m,h-=8);if(l===0)l=1-f;else{if(l===d)return u?NaN:1/0*(g?-1:1);u+=Math.pow(2,s),l-=f}return(g?-1:1)*u*Math.pow(2,l-s)},n.write=function(r,i,o,s,a,l){var u,c,d,f=8*l-a-1,h=(1<<f)-1,p=h>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=s?0:l-1,v=s?1:-1,D=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(c=isNaN(i)?1:0,u=h):(u=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-u))<1&&(u--,d*=2),(i+=u+p>=1?m/d:m*Math.pow(2,1-p))*d>=2&&(u++,d/=2),u+p>=h?(c=0,u=h):u+p>=1?(c=(i*d-1)*Math.pow(2,a),u+=p):(c=i*Math.pow(2,p-1)*Math.pow(2,a),u=0));a>=8;r[o+g]=255&c,g+=v,c/=256,a-=8);for(u=u<<a|c,f+=a;f>0;r[o+g]=255&u,g+=v,u/=256,f-=8);r[o+g-v]|=128*D}},{}],46:[function(e,t,n){typeof Object.create=="function"?t.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,i){if(i){r.super_=i;var o=function(){};o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}}},{}],47:[function(e,t,n){var r=e("has-tostringtag/shams")(),i=e("call-bind/callBound")("Object.prototype.toString"),o=function(l){return!(r&&l&&typeof l=="object"&&Symbol.toStringTag in l)&&i(l)==="[object Arguments]"},s=function(l){return!!o(l)||l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&i(l)!=="[object Array]"&&i(l.callee)==="[object Function]"},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(e,t,n){var r,i,o=Function.prototype.toString,s=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof s=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw i}}),i={},s(function(){throw 42},null,r)}catch(E){E!==i&&(s=null)}else s=null;var a=/^\s*class\b/,l=function(E){try{var C=o.call(E);return a.test(C)}catch{return!1}},u=function(E){try{return!l(E)&&(o.call(E),!0)}catch{return!1}},c=Object.prototype.toString,d="[object Object]",f="[object Function]",h="[object GeneratorFunction]",p="[object HTMLAllCollection]",m="[object HTML document.all class]",g="[object HTMLCollection]",v=typeof Symbol=="function"&&!!Symbol.toStringTag,D=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var b=document.all;c.call(b)===c.call(document.all)&&(w=function(E){if((D||!E)&&(E===void 0||typeof E=="object"))try{var C=c.call(E);return(C===p||C===m||C===g||C===d)&&E("")==null}catch{}return!1})}t.exports=s?function(E){if(w(E))return!0;if(!E||typeof E!="function"&&typeof E!="object")return!1;try{s(E,null,r)}catch(C){if(C!==i)return!1}return!l(E)&&u(E)}:function(E){if(w(E))return!0;if(!E||typeof E!="function"&&typeof E!="object")return!1;if(v)return u(E);if(l(E))return!1;var C=c.call(E);return!(C!==f&&C!==h&&!/^\[object HTML/.test(C))&&u(E)}},{}],49:[function(e,t,n){var r,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=e("has-tostringtag/shams")(),l=Object.getPrototypeOf,u=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch{}};t.exports=function(c){if(typeof c!="function")return!1;if(s.test(o.call(c)))return!0;if(!a)return i.call(c)==="[object GeneratorFunction]";if(!l)return!1;if(r===void 0){var d=u();r=!!d&&l(d)}return l(c)===r}},{"has-tostringtag/shams":43}],50:[function(e,t,n){(function(r){(function(){var i=e("for-each"),o=e("available-typed-arrays"),s=e("call-bind/callBound"),a=s("Object.prototype.toString"),l=e("has-tostringtag/shams")(),u=e("gopd"),c=typeof globalThis>"u"?r:globalThis,d=o(),f=s("Array.prototype.indexOf",!0)||function(v,D){for(var w=0;w<v.length;w+=1)if(v[w]===D)return w;return-1},h=s("String.prototype.slice"),p={},m=Object.getPrototypeOf;l&&u&&m&&i(d,function(v){var D=new c[v];if(Symbol.toStringTag in D){var w=m(D),b=u(w,Symbol.toStringTag);if(!b){var E=m(w);b=u(E,Symbol.toStringTag)}p[v]=b.get}});var g=function(v){var D=!1;return i(p,function(w,b){if(!D)try{D=w.call(v)===b}catch{}}),D};t.exports=function(v){if(!v||typeof v!="object")return!1;if(!l||!(Symbol.toStringTag in v)){var D=h(a(v),8,-1);return f(d,D)>-1}return!!u&&g(v)}}).call(this)}).call(this,en!==void 0?en:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(e,t,n){var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function a(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var u={},c=0;c<10;c++)u["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(u).map(function(h){return u[h]});if(d.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(h){f[h]=h}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}t.exports=a()?Object.assign:function(l,u){for(var c,d,f=s(l),h=1;h<arguments.length;h++){for(var p in c=Object(arguments[h]))i.call(c,p)&&(f[p]=c[p]);if(r){d=r(c);for(var m=0;m<d.length;m++)o.call(c,d[m])&&(f[d[m]]=c[d[m]])}}return f}},{}],52:[function(e,t,n){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function i(a,l){return Object.prototype.hasOwnProperty.call(a,l)}n.assign=function(a){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var c in u)i(u,c)&&(a[c]=u[c])}}return a},n.shrinkBuf=function(a,l){return a.length===l?a:a.subarray?a.subarray(0,l):(a.length=l,a)};var o={arraySet:function(a,l,u,c,d){if(l.subarray&&a.subarray)a.set(l.subarray(u,u+c),d);else for(var f=0;f<c;f++)a[d+f]=l[u+f]},flattenChunks:function(a){var l,u,c,d,f,h;for(c=0,l=0,u=a.length;l<u;l++)c+=a[l].length;for(h=new Uint8Array(c),d=0,l=0,u=a.length;l<u;l++)f=a[l],h.set(f,d),d+=f.length;return h}},s={arraySet:function(a,l,u,c,d){for(var f=0;f<c;f++)a[d+f]=l[u+f]},flattenChunks:function(a){return[].concat.apply([],a)}};n.setTyped=function(a){a?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],53:[function(e,t,n){function r(i,o,s,a){for(var l=65535&i,u=i>>>16&65535,c=0;s!==0;){s-=c=s>2e3?2e3:s;do u=u+(l=l+o[a++]|0)|0;while(--c);l%=65521,u%=65521}return l|u<<16}t.exports=r},{}],54:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(e,t,n){function r(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}var i=r();function o(s,a,l,u){var c=i,d=u+l;s^=-1;for(var f=u;f<d;f++)s=s>>>8^c[255&(s^a[f])];return~s}t.exports=o},{}],56:[function(e,t,n){var r,i=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),u=0,c=1,d=3,f=4,h=5,p=0,m=1,g=-2,v=-3,D=-5,w=-1,b=1,E=2,C=3,M=4,S=0,I=2,k=8,y=9,T=15,V=8,O=286,N=30,P=19,K=2*O+1,Z=15,H=3,ne=258,$=ne+H+1,J=32,ie=42,X=69,W=73,Y=91,re=103,le=113,ue=666,Q=1,x=2,q=3,F=4,B=3;function L(R,ye){return R.msg=l[ye],ye}function z(R){return(R<<1)-(R>4?9:0)}function ee(R){for(var ye=R.length;--ye>=0;)R[ye]=0}function _(R){var ye=R.state,fe=ye.pending;fe>R.avail_out&&(fe=R.avail_out),fe!==0&&(i.arraySet(R.output,ye.pending_buf,ye.pending_out,fe,R.next_out),R.next_out+=fe,ye.pending_out+=fe,R.total_out+=fe,R.avail_out-=fe,ye.pending-=fe,ye.pending===0&&(ye.pending_out=0))}function A(R,ye){o._tr_flush_block(R,R.block_start>=0?R.block_start:-1,R.strstart-R.block_start,ye),R.block_start=R.strstart,_(R.strm)}function j(R,ye){R.pending_buf[R.pending++]=ye}function U(R,ye){R.pending_buf[R.pending++]=ye>>>8&255,R.pending_buf[R.pending++]=255&ye}function se(R,ye,fe,oe){var pe=R.avail_in;return pe>oe&&(pe=oe),pe===0?0:(R.avail_in-=pe,i.arraySet(ye,R.input,R.next_in,pe,fe),R.state.wrap===1?R.adler=s(R.adler,ye,pe,fe):R.state.wrap===2&&(R.adler=a(R.adler,ye,pe,fe)),R.next_in+=pe,R.total_in+=pe,pe)}function ce(R,ye){var fe,oe,pe=R.max_chain_length,me=R.strstart,je=R.prev_length,Te=R.nice_match,Fe=R.strstart>R.w_size-$?R.strstart-(R.w_size-$):0,at=R.window,In=R.w_mask,It=R.prev,Nt=R.strstart+ne,zt=at[me+je-1],Ht=at[me+je];R.prev_length>=R.good_match&&(pe>>=2),Te>R.lookahead&&(Te=R.lookahead);do if(at[(fe=ye)+je]===Ht&&at[fe+je-1]===zt&&at[fe]===at[me]&&at[++fe]===at[me+1]){me+=2,fe++;do;while(at[++me]===at[++fe]&&at[++me]===at[++fe]&&at[++me]===at[++fe]&&at[++me]===at[++fe]&&at[++me]===at[++fe]&&at[++me]===at[++fe]&&at[++me]===at[++fe]&&at[++me]===at[++fe]&&me<Nt);if(oe=ne-(Nt-me),me=Nt-ne,oe>je){if(R.match_start=ye,je=oe,oe>=Te)break;zt=at[me+je-1],Ht=at[me+je]}}while((ye=It[ye&In])>Fe&&--pe!=0);return je<=R.lookahead?je:R.lookahead}function De(R){var ye,fe,oe,pe,me,je=R.w_size;do{if(pe=R.window_size-R.lookahead-R.strstart,R.strstart>=je+(je-$)){i.arraySet(R.window,R.window,je,je,0),R.match_start-=je,R.strstart-=je,R.block_start-=je,ye=fe=R.hash_size;do oe=R.head[--ye],R.head[ye]=oe>=je?oe-je:0;while(--fe);ye=fe=je;do oe=R.prev[--ye],R.prev[ye]=oe>=je?oe-je:0;while(--fe);pe+=je}if(R.strm.avail_in===0)break;if(fe=se(R.strm,R.window,R.strstart+R.lookahead,pe),R.lookahead+=fe,R.lookahead+R.insert>=H)for(me=R.strstart-R.insert,R.ins_h=R.window[me],R.ins_h=(R.ins_h<<R.hash_shift^R.window[me+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[me+H-1])&R.hash_mask,R.prev[me&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=me,me++,R.insert--,!(R.lookahead+R.insert<H)););}while(R.lookahead<$&&R.strm.avail_in!==0)}function Ie(R,ye){var fe=65535;for(fe>R.pending_buf_size-5&&(fe=R.pending_buf_size-5);;){if(R.lookahead<=1){if(De(R),R.lookahead===0&&ye===u)return Q;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var oe=R.block_start+fe;if((R.strstart===0||R.strstart>=oe)&&(R.lookahead=R.strstart-oe,R.strstart=oe,A(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-$&&(A(R,!1),R.strm.avail_out===0))return Q}return R.insert=0,ye===f?(A(R,!0),R.strm.avail_out===0?q:F):(R.strstart>R.block_start&&(A(R,!1),R.strm.avail_out),Q)}function we(R,ye){for(var fe,oe;;){if(R.lookahead<$){if(De(R),R.lookahead<$&&ye===u)return Q;if(R.lookahead===0)break}if(fe=0,R.lookahead>=H&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+H-1])&R.hash_mask,fe=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),fe!==0&&R.strstart-fe<=R.w_size-$&&(R.match_length=ce(R,fe)),R.match_length>=H)if(oe=o._tr_tally(R,R.strstart-R.match_start,R.match_length-H),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=H){R.match_length--;do R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+H-1])&R.hash_mask,fe=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart;while(--R.match_length!=0);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else oe=o._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(oe&&(A(R,!1),R.strm.avail_out===0))return Q}return R.insert=R.strstart<H-1?R.strstart:H-1,ye===f?(A(R,!0),R.strm.avail_out===0?q:F):R.last_lit&&(A(R,!1),R.strm.avail_out===0)?Q:x}function Ce(R,ye){for(var fe,oe,pe;;){if(R.lookahead<$){if(De(R),R.lookahead<$&&ye===u)return Q;if(R.lookahead===0)break}if(fe=0,R.lookahead>=H&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+H-1])&R.hash_mask,fe=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=H-1,fe!==0&&R.prev_length<R.max_lazy_match&&R.strstart-fe<=R.w_size-$&&(R.match_length=ce(R,fe),R.match_length<=5&&(R.strategy===b||R.match_length===H&&R.strstart-R.match_start>4096)&&(R.match_length=H-1)),R.prev_length>=H&&R.match_length<=R.prev_length){pe=R.strstart+R.lookahead-H,oe=o._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-H),R.lookahead-=R.prev_length-1,R.prev_length-=2;do++R.strstart<=pe&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+H-1])&R.hash_mask,fe=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart);while(--R.prev_length!=0);if(R.match_available=0,R.match_length=H-1,R.strstart++,oe&&(A(R,!1),R.strm.avail_out===0))return Q}else if(R.match_available){if((oe=o._tr_tally(R,0,R.window[R.strstart-1]))&&A(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return Q}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(oe=o._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<H-1?R.strstart:H-1,ye===f?(A(R,!0),R.strm.avail_out===0?q:F):R.last_lit&&(A(R,!1),R.strm.avail_out===0)?Q:x}function xe(R,ye){for(var fe,oe,pe,me,je=R.window;;){if(R.lookahead<=ne){if(De(R),R.lookahead<=ne&&ye===u)return Q;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=H&&R.strstart>0&&(oe=je[pe=R.strstart-1])===je[++pe]&&oe===je[++pe]&&oe===je[++pe]){me=R.strstart+ne;do;while(oe===je[++pe]&&oe===je[++pe]&&oe===je[++pe]&&oe===je[++pe]&&oe===je[++pe]&&oe===je[++pe]&&oe===je[++pe]&&oe===je[++pe]&&pe<me);R.match_length=ne-(me-pe),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=H?(fe=o._tr_tally(R,1,R.match_length-H),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(fe=o._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),fe&&(A(R,!1),R.strm.avail_out===0))return Q}return R.insert=0,ye===f?(A(R,!0),R.strm.avail_out===0?q:F):R.last_lit&&(A(R,!1),R.strm.avail_out===0)?Q:x}function Be(R,ye){for(var fe;;){if(R.lookahead===0&&(De(R),R.lookahead===0)){if(ye===u)return Q;break}if(R.match_length=0,fe=o._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,fe&&(A(R,!1),R.strm.avail_out===0))return Q}return R.insert=0,ye===f?(A(R,!0),R.strm.avail_out===0?q:F):R.last_lit&&(A(R,!1),R.strm.avail_out===0)?Q:x}function Oe(R,ye,fe,oe,pe){this.good_length=R,this.max_lazy=ye,this.nice_length=fe,this.max_chain=oe,this.func=pe}function Pe(R){R.window_size=2*R.w_size,ee(R.head),R.max_lazy_match=r[R.level].max_lazy,R.good_match=r[R.level].good_length,R.nice_match=r[R.level].nice_length,R.max_chain_length=r[R.level].max_chain,R.strstart=0,R.block_start=0,R.lookahead=0,R.insert=0,R.match_length=R.prev_length=H-1,R.match_available=0,R.ins_h=0}function We(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*K),this.dyn_dtree=new i.Buf16(2*(2*N+1)),this.bl_tree=new i.Buf16(2*(2*P+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(Z+1),this.heap=new i.Buf16(2*O+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*O+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ke(R){var ye;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=I,(ye=R.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?ie:le,R.adler=ye.wrap===2?0:1,ye.last_flush=u,o._tr_init(ye),p):L(R,g)}function te(R){var ye=ke(R);return ye===p&&Pe(R.state),ye}function Me(R,ye){return R&&R.state?R.state.wrap!==2?g:(R.state.gzhead=ye,p):g}function ae(R,ye,fe,oe,pe,me){if(!R)return g;var je=1;if(ye===w&&(ye=6),oe<0?(je=0,oe=-oe):oe>15&&(je=2,oe-=16),pe<1||pe>y||fe!==k||oe<8||oe>15||ye<0||ye>9||me<0||me>M)return L(R,g);oe===8&&(oe=9);var Te=new We;return R.state=Te,Te.strm=R,Te.wrap=je,Te.gzhead=null,Te.w_bits=oe,Te.w_size=1<<Te.w_bits,Te.w_mask=Te.w_size-1,Te.hash_bits=pe+7,Te.hash_size=1<<Te.hash_bits,Te.hash_mask=Te.hash_size-1,Te.hash_shift=~~((Te.hash_bits+H-1)/H),Te.window=new i.Buf8(2*Te.w_size),Te.head=new i.Buf16(Te.hash_size),Te.prev=new i.Buf16(Te.w_size),Te.lit_bufsize=1<<pe+6,Te.pending_buf_size=4*Te.lit_bufsize,Te.pending_buf=new i.Buf8(Te.pending_buf_size),Te.d_buf=1*Te.lit_bufsize,Te.l_buf=3*Te.lit_bufsize,Te.level=ye,Te.strategy=me,Te.method=fe,te(R)}function ge(R,ye){return ae(R,ye,k,T,V,S)}function G(R,ye){var fe,oe,pe,me;if(!R||!R.state||ye>h||ye<0)return R?L(R,g):g;if(oe=R.state,!R.output||!R.input&&R.avail_in!==0||oe.status===ue&&ye!==f)return L(R,R.avail_out===0?D:g);if(oe.strm=R,fe=oe.last_flush,oe.last_flush=ye,oe.status===ie)if(oe.wrap===2)R.adler=0,j(oe,31),j(oe,139),j(oe,8),oe.gzhead?(j(oe,(oe.gzhead.text?1:0)+(oe.gzhead.hcrc?2:0)+(oe.gzhead.extra?4:0)+(oe.gzhead.name?8:0)+(oe.gzhead.comment?16:0)),j(oe,255&oe.gzhead.time),j(oe,oe.gzhead.time>>8&255),j(oe,oe.gzhead.time>>16&255),j(oe,oe.gzhead.time>>24&255),j(oe,oe.level===9?2:oe.strategy>=E||oe.level<2?4:0),j(oe,255&oe.gzhead.os),oe.gzhead.extra&&oe.gzhead.extra.length&&(j(oe,255&oe.gzhead.extra.length),j(oe,oe.gzhead.extra.length>>8&255)),oe.gzhead.hcrc&&(R.adler=a(R.adler,oe.pending_buf,oe.pending,0)),oe.gzindex=0,oe.status=X):(j(oe,0),j(oe,0),j(oe,0),j(oe,0),j(oe,0),j(oe,oe.level===9?2:oe.strategy>=E||oe.level<2?4:0),j(oe,B),oe.status=le);else{var je=k+(oe.w_bits-8<<4)<<8;je|=(oe.strategy>=E||oe.level<2?0:oe.level<6?1:oe.level===6?2:3)<<6,oe.strstart!==0&&(je|=J),je+=31-je%31,oe.status=le,U(oe,je),oe.strstart!==0&&(U(oe,R.adler>>>16),U(oe,65535&R.adler)),R.adler=1}if(oe.status===X)if(oe.gzhead.extra){for(pe=oe.pending;oe.gzindex<(65535&oe.gzhead.extra.length)&&(oe.pending!==oe.pending_buf_size||(oe.gzhead.hcrc&&oe.pending>pe&&(R.adler=a(R.adler,oe.pending_buf,oe.pending-pe,pe)),_(R),pe=oe.pending,oe.pending!==oe.pending_buf_size));)j(oe,255&oe.gzhead.extra[oe.gzindex]),oe.gzindex++;oe.gzhead.hcrc&&oe.pending>pe&&(R.adler=a(R.adler,oe.pending_buf,oe.pending-pe,pe)),oe.gzindex===oe.gzhead.extra.length&&(oe.gzindex=0,oe.status=W)}else oe.status=W;if(oe.status===W)if(oe.gzhead.name){pe=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>pe&&(R.adler=a(R.adler,oe.pending_buf,oe.pending-pe,pe)),_(R),pe=oe.pending,oe.pending===oe.pending_buf_size)){me=1;break}me=oe.gzindex<oe.gzhead.name.length?255&oe.gzhead.name.charCodeAt(oe.gzindex++):0,j(oe,me)}while(me!==0);oe.gzhead.hcrc&&oe.pending>pe&&(R.adler=a(R.adler,oe.pending_buf,oe.pending-pe,pe)),me===0&&(oe.gzindex=0,oe.status=Y)}else oe.status=Y;if(oe.status===Y)if(oe.gzhead.comment){pe=oe.pending;do{if(oe.pending===oe.pending_buf_size&&(oe.gzhead.hcrc&&oe.pending>pe&&(R.adler=a(R.adler,oe.pending_buf,oe.pending-pe,pe)),_(R),pe=oe.pending,oe.pending===oe.pending_buf_size)){me=1;break}me=oe.gzindex<oe.gzhead.comment.length?255&oe.gzhead.comment.charCodeAt(oe.gzindex++):0,j(oe,me)}while(me!==0);oe.gzhead.hcrc&&oe.pending>pe&&(R.adler=a(R.adler,oe.pending_buf,oe.pending-pe,pe)),me===0&&(oe.status=re)}else oe.status=re;if(oe.status===re&&(oe.gzhead.hcrc?(oe.pending+2>oe.pending_buf_size&&_(R),oe.pending+2<=oe.pending_buf_size&&(j(oe,255&R.adler),j(oe,R.adler>>8&255),R.adler=0,oe.status=le)):oe.status=le),oe.pending!==0){if(_(R),R.avail_out===0)return oe.last_flush=-1,p}else if(R.avail_in===0&&z(ye)<=z(fe)&&ye!==f)return L(R,D);if(oe.status===ue&&R.avail_in!==0)return L(R,D);if(R.avail_in!==0||oe.lookahead!==0||ye!==u&&oe.status!==ue){var Te=oe.strategy===E?Be(oe,ye):oe.strategy===C?xe(oe,ye):r[oe.level].func(oe,ye);if(Te!==q&&Te!==F||(oe.status=ue),Te===Q||Te===q)return R.avail_out===0&&(oe.last_flush=-1),p;if(Te===x&&(ye===c?o._tr_align(oe):ye!==h&&(o._tr_stored_block(oe,0,0,!1),ye===d&&(ee(oe.head),oe.lookahead===0&&(oe.strstart=0,oe.block_start=0,oe.insert=0))),_(R),R.avail_out===0))return oe.last_flush=-1,p}return ye!==f?p:oe.wrap<=0?m:(oe.wrap===2?(j(oe,255&R.adler),j(oe,R.adler>>8&255),j(oe,R.adler>>16&255),j(oe,R.adler>>24&255),j(oe,255&R.total_in),j(oe,R.total_in>>8&255),j(oe,R.total_in>>16&255),j(oe,R.total_in>>24&255)):(U(oe,R.adler>>>16),U(oe,65535&R.adler)),_(R),oe.wrap>0&&(oe.wrap=-oe.wrap),oe.pending!==0?p:m)}function Ee(R){var ye;return R&&R.state?(ye=R.state.status)!==ie&&ye!==X&&ye!==W&&ye!==Y&&ye!==re&&ye!==le&&ye!==ue?L(R,g):(R.state=null,ye===le?L(R,v):p):g}function Ue(R,ye){var fe,oe,pe,me,je,Te,Fe,at,In=ye.length;if(!R||!R.state||(me=(fe=R.state).wrap)===2||me===1&&fe.status!==ie||fe.lookahead)return g;for(me===1&&(R.adler=s(R.adler,ye,In,0)),fe.wrap=0,In>=fe.w_size&&(me===0&&(ee(fe.head),fe.strstart=0,fe.block_start=0,fe.insert=0),at=new i.Buf8(fe.w_size),i.arraySet(at,ye,In-fe.w_size,fe.w_size,0),ye=at,In=fe.w_size),je=R.avail_in,Te=R.next_in,Fe=R.input,R.avail_in=In,R.next_in=0,R.input=ye,De(fe);fe.lookahead>=H;){oe=fe.strstart,pe=fe.lookahead-(H-1);do fe.ins_h=(fe.ins_h<<fe.hash_shift^fe.window[oe+H-1])&fe.hash_mask,fe.prev[oe&fe.w_mask]=fe.head[fe.ins_h],fe.head[fe.ins_h]=oe,oe++;while(--pe);fe.strstart=oe,fe.lookahead=H-1,De(fe)}return fe.strstart+=fe.lookahead,fe.block_start=fe.strstart,fe.insert=fe.lookahead,fe.lookahead=0,fe.match_length=fe.prev_length=H-1,fe.match_available=0,R.next_in=Te,R.input=Fe,R.avail_in=je,fe.wrap=me,p}r=[new Oe(0,0,0,0,Ie),new Oe(4,4,8,4,we),new Oe(4,5,16,8,we),new Oe(4,6,32,32,we),new Oe(4,4,16,16,Ce),new Oe(8,16,32,32,Ce),new Oe(8,16,128,128,Ce),new Oe(8,32,128,256,Ce),new Oe(32,128,258,1024,Ce),new Oe(32,258,258,4096,Ce)],n.deflateInit=ge,n.deflateInit2=ae,n.deflateReset=te,n.deflateResetKeep=ke,n.deflateSetHeader=Me,n.deflate=G,n.deflateEnd=Ee,n.deflateSetDictionary=Ue,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(e,t,n){var r=30,i=12;t.exports=function(o,s){var a,l,u,c,d,f,h,p,m,g,v,D,w,b,E,C,M,S,I,k,y,T,V,O,N;a=o.state,l=o.next_in,O=o.input,u=l+(o.avail_in-5),c=o.next_out,N=o.output,d=c-(s-o.avail_out),f=c+(o.avail_out-257),h=a.dmax,p=a.wsize,m=a.whave,g=a.wnext,v=a.window,D=a.hold,w=a.bits,b=a.lencode,E=a.distcode,C=(1<<a.lenbits)-1,M=(1<<a.distbits)-1;e:do{w<15&&(D+=O[l++]<<w,w+=8,D+=O[l++]<<w,w+=8),S=b[D&C];t:for(;;){if(D>>>=I=S>>>24,w-=I,(I=S>>>16&255)==0)N[c++]=65535&S;else{if(!(16&I)){if(64&I){if(32&I){a.mode=i;break e}o.msg="invalid literal/length code",a.mode=r;break e}S=b[(65535&S)+(D&(1<<I)-1)];continue t}for(k=65535&S,(I&=15)&&(w<I&&(D+=O[l++]<<w,w+=8),k+=D&(1<<I)-1,D>>>=I,w-=I),w<15&&(D+=O[l++]<<w,w+=8,D+=O[l++]<<w,w+=8),S=E[D&M];;){if(D>>>=I=S>>>24,w-=I,16&(I=S>>>16&255)){if(y=65535&S,w<(I&=15)&&(D+=O[l++]<<w,(w+=8)<I&&(D+=O[l++]<<w,w+=8)),(y+=D&(1<<I)-1)>h){o.msg="invalid distance too far back",a.mode=r;break e}if(D>>>=I,w-=I,y>(I=c-d)){if((I=y-I)>m&&a.sane){o.msg="invalid distance too far back",a.mode=r;break e}if(T=0,V=v,g===0){if(T+=p-I,I<k){k-=I;do N[c++]=v[T++];while(--I);T=c-y,V=N}}else if(g<I){if(T+=p+g-I,(I-=g)<k){k-=I;do N[c++]=v[T++];while(--I);if(T=0,g<k){k-=I=g;do N[c++]=v[T++];while(--I);T=c-y,V=N}}}else if(T+=g-I,I<k){k-=I;do N[c++]=v[T++];while(--I);T=c-y,V=N}for(;k>2;)N[c++]=V[T++],N[c++]=V[T++],N[c++]=V[T++],k-=3;k&&(N[c++]=V[T++],k>1&&(N[c++]=V[T++]))}else{T=c-y;do N[c++]=N[T++],N[c++]=N[T++],N[c++]=N[T++],k-=3;while(k>2);k&&(N[c++]=N[T++],k>1&&(N[c++]=N[T++]))}break}if(64&I){o.msg="invalid distance code",a.mode=r;break e}S=E[(65535&S)+(D&(1<<I)-1)]}}break}}while(l<u&&c<f);l-=k=w>>3,D&=(1<<(w-=k<<3))-1,o.next_in=l,o.next_out=c,o.avail_in=l<u?u-l+5:5-(l-u),o.avail_out=c<f?f-c+257:257-(c-f),a.hold=D,a.bits=w}},{}],58:[function(e,t,n){var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=0,u=1,c=2,d=4,f=5,h=6,p=0,m=1,g=2,v=-2,D=-3,w=-4,b=-5,E=8,C=1,M=2,S=3,I=4,k=5,y=6,T=7,V=8,O=9,N=10,P=11,K=12,Z=13,H=14,ne=15,$=16,J=17,ie=18,X=19,W=20,Y=21,re=22,le=23,ue=24,Q=25,x=26,q=27,F=28,B=29,L=30,z=31,ee=852,_=592,A=15;function j(ae){return(ae>>>24&255)+(ae>>>8&65280)+((65280&ae)<<8)+((255&ae)<<24)}function U(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function se(ae){var ge;return ae&&ae.state?(ge=ae.state,ae.total_in=ae.total_out=ge.total=0,ae.msg="",ge.wrap&&(ae.adler=1&ge.wrap),ge.mode=C,ge.last=0,ge.havedict=0,ge.dmax=32768,ge.head=null,ge.hold=0,ge.bits=0,ge.lencode=ge.lendyn=new r.Buf32(ee),ge.distcode=ge.distdyn=new r.Buf32(_),ge.sane=1,ge.back=-1,p):v}function ce(ae){var ge;return ae&&ae.state?((ge=ae.state).wsize=0,ge.whave=0,ge.wnext=0,se(ae)):v}function De(ae,ge){var G,Ee;return ae&&ae.state?(Ee=ae.state,ge<0?(G=0,ge=-ge):(G=1+(ge>>4),ge<48&&(ge&=15)),ge&&(ge<8||ge>15)?v:(Ee.window!==null&&Ee.wbits!==ge&&(Ee.window=null),Ee.wrap=G,Ee.wbits=ge,ce(ae))):v}function Ie(ae,ge){var G,Ee;return ae?(Ee=new U,ae.state=Ee,Ee.window=null,(G=De(ae,ge))!==p&&(ae.state=null),G):v}function we(ae){return Ie(ae,A)}var Ce,xe,Be=!0;function Oe(ae){if(Be){var ge;for(Ce=new r.Buf32(512),xe=new r.Buf32(32),ge=0;ge<144;)ae.lens[ge++]=8;for(;ge<256;)ae.lens[ge++]=9;for(;ge<280;)ae.lens[ge++]=7;for(;ge<288;)ae.lens[ge++]=8;for(a(u,ae.lens,0,288,Ce,0,ae.work,{bits:9}),ge=0;ge<32;)ae.lens[ge++]=5;a(c,ae.lens,0,32,xe,0,ae.work,{bits:5}),Be=!1}ae.lencode=Ce,ae.lenbits=9,ae.distcode=xe,ae.distbits=5}function Pe(ae,ge,G,Ee){var Ue,R=ae.state;return R.window===null&&(R.wsize=1<<R.wbits,R.wnext=0,R.whave=0,R.window=new r.Buf8(R.wsize)),Ee>=R.wsize?(r.arraySet(R.window,ge,G-R.wsize,R.wsize,0),R.wnext=0,R.whave=R.wsize):((Ue=R.wsize-R.wnext)>Ee&&(Ue=Ee),r.arraySet(R.window,ge,G-Ee,Ue,R.wnext),(Ee-=Ue)?(r.arraySet(R.window,ge,G-Ee,Ee,0),R.wnext=Ee,R.whave=R.wsize):(R.wnext+=Ue,R.wnext===R.wsize&&(R.wnext=0),R.whave<R.wsize&&(R.whave+=Ue))),0}function We(ae,ge){var G,Ee,Ue,R,ye,fe,oe,pe,me,je,Te,Fe,at,In,It,Nt,zt,Ht,Hi,$i,Ot,mn,lr,gn,Yt=0,Ut=new r.Buf8(4),No=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ae||!ae.state||!ae.output||!ae.input&&ae.avail_in!==0)return v;(G=ae.state).mode===K&&(G.mode=Z),ye=ae.next_out,Ue=ae.output,oe=ae.avail_out,R=ae.next_in,Ee=ae.input,fe=ae.avail_in,pe=G.hold,me=G.bits,je=fe,Te=oe,mn=p;e:for(;;)switch(G.mode){case C:if(G.wrap===0){G.mode=Z;break}for(;me<16;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}if(2&G.wrap&&pe===35615){G.check=0,Ut[0]=255&pe,Ut[1]=pe>>>8&255,G.check=o(G.check,Ut,2,0),pe=0,me=0,G.mode=M;break}if(G.flags=0,G.head&&(G.head.done=!1),!(1&G.wrap)||(((255&pe)<<8)+(pe>>8))%31){ae.msg="incorrect header check",G.mode=L;break}if((15&pe)!==E){ae.msg="unknown compression method",G.mode=L;break}if(me-=4,Ot=8+(15&(pe>>>=4)),G.wbits===0)G.wbits=Ot;else if(Ot>G.wbits){ae.msg="invalid window size",G.mode=L;break}G.dmax=1<<Ot,ae.adler=G.check=1,G.mode=512&pe?N:K,pe=0,me=0;break;case M:for(;me<16;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}if(G.flags=pe,(255&G.flags)!==E){ae.msg="unknown compression method",G.mode=L;break}if(57344&G.flags){ae.msg="unknown header flags set",G.mode=L;break}G.head&&(G.head.text=pe>>8&1),512&G.flags&&(Ut[0]=255&pe,Ut[1]=pe>>>8&255,G.check=o(G.check,Ut,2,0)),pe=0,me=0,G.mode=S;case S:for(;me<32;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}G.head&&(G.head.time=pe),512&G.flags&&(Ut[0]=255&pe,Ut[1]=pe>>>8&255,Ut[2]=pe>>>16&255,Ut[3]=pe>>>24&255,G.check=o(G.check,Ut,4,0)),pe=0,me=0,G.mode=I;case I:for(;me<16;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}G.head&&(G.head.xflags=255&pe,G.head.os=pe>>8),512&G.flags&&(Ut[0]=255&pe,Ut[1]=pe>>>8&255,G.check=o(G.check,Ut,2,0)),pe=0,me=0,G.mode=k;case k:if(1024&G.flags){for(;me<16;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}G.length=pe,G.head&&(G.head.extra_len=pe),512&G.flags&&(Ut[0]=255&pe,Ut[1]=pe>>>8&255,G.check=o(G.check,Ut,2,0)),pe=0,me=0}else G.head&&(G.head.extra=null);G.mode=y;case y:if(1024&G.flags&&((Fe=G.length)>fe&&(Fe=fe),Fe&&(G.head&&(Ot=G.head.extra_len-G.length,G.head.extra||(G.head.extra=new Array(G.head.extra_len)),r.arraySet(G.head.extra,Ee,R,Fe,Ot)),512&G.flags&&(G.check=o(G.check,Ee,Fe,R)),fe-=Fe,R+=Fe,G.length-=Fe),G.length))break e;G.length=0,G.mode=T;case T:if(2048&G.flags){if(fe===0)break e;Fe=0;do Ot=Ee[R+Fe++],G.head&&Ot&&G.length<65536&&(G.head.name+=String.fromCharCode(Ot));while(Ot&&Fe<fe);if(512&G.flags&&(G.check=o(G.check,Ee,Fe,R)),fe-=Fe,R+=Fe,Ot)break e}else G.head&&(G.head.name=null);G.length=0,G.mode=V;case V:if(4096&G.flags){if(fe===0)break e;Fe=0;do Ot=Ee[R+Fe++],G.head&&Ot&&G.length<65536&&(G.head.comment+=String.fromCharCode(Ot));while(Ot&&Fe<fe);if(512&G.flags&&(G.check=o(G.check,Ee,Fe,R)),fe-=Fe,R+=Fe,Ot)break e}else G.head&&(G.head.comment=null);G.mode=O;case O:if(512&G.flags){for(;me<16;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}if(pe!==(65535&G.check)){ae.msg="header crc mismatch",G.mode=L;break}pe=0,me=0}G.head&&(G.head.hcrc=G.flags>>9&1,G.head.done=!0),ae.adler=G.check=0,G.mode=K;break;case N:for(;me<32;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}ae.adler=G.check=j(pe),pe=0,me=0,G.mode=P;case P:if(G.havedict===0)return ae.next_out=ye,ae.avail_out=oe,ae.next_in=R,ae.avail_in=fe,G.hold=pe,G.bits=me,g;ae.adler=G.check=1,G.mode=K;case K:if(ge===f||ge===h)break e;case Z:if(G.last){pe>>>=7&me,me-=7&me,G.mode=q;break}for(;me<3;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}switch(G.last=1&pe,me-=1,3&(pe>>>=1)){case 0:G.mode=H;break;case 1:if(Oe(G),G.mode=W,ge===h){pe>>>=2,me-=2;break e}break;case 2:G.mode=J;break;case 3:ae.msg="invalid block type",G.mode=L}pe>>>=2,me-=2;break;case H:for(pe>>>=7&me,me-=7&me;me<32;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}if((65535&pe)!=(pe>>>16^65535)){ae.msg="invalid stored block lengths",G.mode=L;break}if(G.length=65535&pe,pe=0,me=0,G.mode=ne,ge===h)break e;case ne:G.mode=$;case $:if(Fe=G.length){if(Fe>fe&&(Fe=fe),Fe>oe&&(Fe=oe),Fe===0)break e;r.arraySet(Ue,Ee,R,Fe,ye),fe-=Fe,R+=Fe,oe-=Fe,ye+=Fe,G.length-=Fe;break}G.mode=K;break;case J:for(;me<14;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}if(G.nlen=257+(31&pe),pe>>>=5,me-=5,G.ndist=1+(31&pe),pe>>>=5,me-=5,G.ncode=4+(15&pe),pe>>>=4,me-=4,G.nlen>286||G.ndist>30){ae.msg="too many length or distance symbols",G.mode=L;break}G.have=0,G.mode=ie;case ie:for(;G.have<G.ncode;){for(;me<3;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}G.lens[No[G.have++]]=7&pe,pe>>>=3,me-=3}for(;G.have<19;)G.lens[No[G.have++]]=0;if(G.lencode=G.lendyn,G.lenbits=7,lr={bits:G.lenbits},mn=a(l,G.lens,0,19,G.lencode,0,G.work,lr),G.lenbits=lr.bits,mn){ae.msg="invalid code lengths set",G.mode=L;break}G.have=0,G.mode=X;case X:for(;G.have<G.nlen+G.ndist;){for(;Nt=(Yt=G.lencode[pe&(1<<G.lenbits)-1])>>>16&255,zt=65535&Yt,!((It=Yt>>>24)<=me);){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}if(zt<16)pe>>>=It,me-=It,G.lens[G.have++]=zt;else{if(zt===16){for(gn=It+2;me<gn;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}if(pe>>>=It,me-=It,G.have===0){ae.msg="invalid bit length repeat",G.mode=L;break}Ot=G.lens[G.have-1],Fe=3+(3&pe),pe>>>=2,me-=2}else if(zt===17){for(gn=It+3;me<gn;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}me-=It,Ot=0,Fe=3+(7&(pe>>>=It)),pe>>>=3,me-=3}else{for(gn=It+7;me<gn;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}me-=It,Ot=0,Fe=11+(127&(pe>>>=It)),pe>>>=7,me-=7}if(G.have+Fe>G.nlen+G.ndist){ae.msg="invalid bit length repeat",G.mode=L;break}for(;Fe--;)G.lens[G.have++]=Ot}}if(G.mode===L)break;if(G.lens[256]===0){ae.msg="invalid code -- missing end-of-block",G.mode=L;break}if(G.lenbits=9,lr={bits:G.lenbits},mn=a(u,G.lens,0,G.nlen,G.lencode,0,G.work,lr),G.lenbits=lr.bits,mn){ae.msg="invalid literal/lengths set",G.mode=L;break}if(G.distbits=6,G.distcode=G.distdyn,lr={bits:G.distbits},mn=a(c,G.lens,G.nlen,G.ndist,G.distcode,0,G.work,lr),G.distbits=lr.bits,mn){ae.msg="invalid distances set",G.mode=L;break}if(G.mode=W,ge===h)break e;case W:G.mode=Y;case Y:if(fe>=6&&oe>=258){ae.next_out=ye,ae.avail_out=oe,ae.next_in=R,ae.avail_in=fe,G.hold=pe,G.bits=me,s(ae,Te),ye=ae.next_out,Ue=ae.output,oe=ae.avail_out,R=ae.next_in,Ee=ae.input,fe=ae.avail_in,pe=G.hold,me=G.bits,G.mode===K&&(G.back=-1);break}for(G.back=0;Nt=(Yt=G.lencode[pe&(1<<G.lenbits)-1])>>>16&255,zt=65535&Yt,!((It=Yt>>>24)<=me);){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}if(Nt&&!(240&Nt)){for(Ht=It,Hi=Nt,$i=zt;Nt=(Yt=G.lencode[$i+((pe&(1<<Ht+Hi)-1)>>Ht)])>>>16&255,zt=65535&Yt,!(Ht+(It=Yt>>>24)<=me);){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}pe>>>=Ht,me-=Ht,G.back+=Ht}if(pe>>>=It,me-=It,G.back+=It,G.length=zt,Nt===0){G.mode=x;break}if(32&Nt){G.back=-1,G.mode=K;break}if(64&Nt){ae.msg="invalid literal/length code",G.mode=L;break}G.extra=15&Nt,G.mode=re;case re:if(G.extra){for(gn=G.extra;me<gn;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}G.length+=pe&(1<<G.extra)-1,pe>>>=G.extra,me-=G.extra,G.back+=G.extra}G.was=G.length,G.mode=le;case le:for(;Nt=(Yt=G.distcode[pe&(1<<G.distbits)-1])>>>16&255,zt=65535&Yt,!((It=Yt>>>24)<=me);){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}if(!(240&Nt)){for(Ht=It,Hi=Nt,$i=zt;Nt=(Yt=G.distcode[$i+((pe&(1<<Ht+Hi)-1)>>Ht)])>>>16&255,zt=65535&Yt,!(Ht+(It=Yt>>>24)<=me);){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}pe>>>=Ht,me-=Ht,G.back+=Ht}if(pe>>>=It,me-=It,G.back+=It,64&Nt){ae.msg="invalid distance code",G.mode=L;break}G.offset=zt,G.extra=15&Nt,G.mode=ue;case ue:if(G.extra){for(gn=G.extra;me<gn;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}G.offset+=pe&(1<<G.extra)-1,pe>>>=G.extra,me-=G.extra,G.back+=G.extra}if(G.offset>G.dmax){ae.msg="invalid distance too far back",G.mode=L;break}G.mode=Q;case Q:if(oe===0)break e;if(Fe=Te-oe,G.offset>Fe){if((Fe=G.offset-Fe)>G.whave&&G.sane){ae.msg="invalid distance too far back",G.mode=L;break}Fe>G.wnext?(Fe-=G.wnext,at=G.wsize-Fe):at=G.wnext-Fe,Fe>G.length&&(Fe=G.length),In=G.window}else In=Ue,at=ye-G.offset,Fe=G.length;Fe>oe&&(Fe=oe),oe-=Fe,G.length-=Fe;do Ue[ye++]=In[at++];while(--Fe);G.length===0&&(G.mode=Y);break;case x:if(oe===0)break e;Ue[ye++]=G.length,oe--,G.mode=Y;break;case q:if(G.wrap){for(;me<32;){if(fe===0)break e;fe--,pe|=Ee[R++]<<me,me+=8}if(Te-=oe,ae.total_out+=Te,G.total+=Te,Te&&(ae.adler=G.check=G.flags?o(G.check,Ue,Te,ye-Te):i(G.check,Ue,Te,ye-Te)),Te=oe,(G.flags?pe:j(pe))!==G.check){ae.msg="incorrect data check",G.mode=L;break}pe=0,me=0}G.mode=F;case F:if(G.wrap&&G.flags){for(;me<32;){if(fe===0)break e;fe--,pe+=Ee[R++]<<me,me+=8}if(pe!==(4294967295&G.total)){ae.msg="incorrect length check",G.mode=L;break}pe=0,me=0}G.mode=B;case B:mn=m;break e;case L:mn=D;break e;case z:return w;default:return v}return ae.next_out=ye,ae.avail_out=oe,ae.next_in=R,ae.avail_in=fe,G.hold=pe,G.bits=me,(G.wsize||Te!==ae.avail_out&&G.mode<L&&(G.mode<q||ge!==d))&&Pe(ae,ae.output,ae.next_out,Te-ae.avail_out),je-=ae.avail_in,Te-=ae.avail_out,ae.total_in+=je,ae.total_out+=Te,G.total+=Te,G.wrap&&Te&&(ae.adler=G.check=G.flags?o(G.check,Ue,Te,ae.next_out-Te):i(G.check,Ue,Te,ae.next_out-Te)),ae.data_type=G.bits+(G.last?64:0)+(G.mode===K?128:0)+(G.mode===W||G.mode===ne?256:0),(je===0&&Te===0||ge===d)&&mn===p&&(mn=b),mn}function ke(ae){if(!ae||!ae.state)return v;var ge=ae.state;return ge.window&&(ge.window=null),ae.state=null,p}function te(ae,ge){var G;return ae&&ae.state&&2&(G=ae.state).wrap?(G.head=ge,ge.done=!1,p):v}function Me(ae,ge){var G,Ee=ge.length;return ae&&ae.state?(G=ae.state).wrap!==0&&G.mode!==P?v:G.mode===P&&i(1,ge,Ee,0)!==G.check?D:Pe(ae,ge,Ee,Ee)?(G.mode=z,w):(G.havedict=1,p):v}n.inflateReset=ce,n.inflateReset2=De,n.inflateResetKeep=se,n.inflateInit=we,n.inflateInit2=Ie,n.inflate=We,n.inflateEnd=ke,n.inflateGetHeader=te,n.inflateSetDictionary=Me,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(e,t,n){var r=e("../utils/common"),i=15,o=852,s=592,a=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(p,m,g,v,D,w,b,E){var C,M,S,I,k,y,T,V,O,N=E.bits,P=0,K=0,Z=0,H=0,ne=0,$=0,J=0,ie=0,X=0,W=0,Y=null,re=0,le=new r.Buf16(i+1),ue=new r.Buf16(i+1),Q=null,x=0;for(P=0;P<=i;P++)le[P]=0;for(K=0;K<v;K++)le[m[g+K]]++;for(ne=N,H=i;H>=1&&le[H]===0;H--);if(ne>H&&(ne=H),H===0)return D[w++]=20971520,D[w++]=20971520,E.bits=1,0;for(Z=1;Z<H&&le[Z]===0;Z++);for(ne<Z&&(ne=Z),ie=1,P=1;P<=i;P++)if(ie<<=1,(ie-=le[P])<0)return-1;if(ie>0&&(p===a||H!==1))return-1;for(ue[1]=0,P=1;P<i;P++)ue[P+1]=ue[P]+le[P];for(K=0;K<v;K++)m[g+K]!==0&&(b[ue[m[g+K]]++]=K);if(p===a?(Y=Q=b,y=19):p===l?(Y=c,re-=257,Q=d,x-=257,y=256):(Y=f,Q=h,y=-1),W=0,K=0,P=Z,k=w,$=ne,J=0,S=-1,I=(X=1<<ne)-1,p===l&&X>o||p===u&&X>s)return 1;for(;;){T=P-J,b[K]<y?(V=0,O=b[K]):b[K]>y?(V=Q[x+b[K]],O=Y[re+b[K]]):(V=96,O=0),C=1<<P-J,Z=M=1<<$;do D[k+(W>>J)+(M-=C)]=T<<24|V<<16|O;while(M!==0);for(C=1<<P-1;W&C;)C>>=1;if(C!==0?(W&=C-1,W+=C):W=0,K++,--le[P]==0){if(P===H)break;P=m[g+b[K]]}if(P>ne&&(W&I)!==S){for(J===0&&(J=ne),k+=Z,ie=1<<($=P-J);$+J<H&&!((ie-=le[$+J])<=0);)$++,ie<<=1;if(X+=1<<$,p===l&&X>o||p===u&&X>s)return 1;D[S=W&I]=ne<<24|$<<16|k-w}}return W!==0&&(D[k+W]=P-J<<24|64<<16),E.bits=ne,0}},{"../utils/common":52}],60:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(e,t,n){var r=e("../utils/common"),i=4,o=0,s=1,a=2;function l(te){for(var Me=te.length;--Me>=0;)te[Me]=0}var u=0,c=1,d=2,f=3,h=258,p=29,m=256,g=m+1+p,v=30,D=19,w=2*g+1,b=15,E=16,C=7,M=256,S=16,I=17,k=18,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=512,P=new Array(2*(g+2));l(P);var K=new Array(2*v);l(K);var Z=new Array(N);l(Z);var H=new Array(h-f+1);l(H);var ne=new Array(p);l(ne);var $,J,ie,X=new Array(v);function W(te,Me,ae,ge,G){this.static_tree=te,this.extra_bits=Me,this.extra_base=ae,this.elems=ge,this.max_length=G,this.has_stree=te&&te.length}function Y(te,Me){this.dyn_tree=te,this.max_code=0,this.stat_desc=Me}function re(te){return te<256?Z[te]:Z[256+(te>>>7)]}function le(te,Me){te.pending_buf[te.pending++]=255&Me,te.pending_buf[te.pending++]=Me>>>8&255}function ue(te,Me,ae){te.bi_valid>E-ae?(te.bi_buf|=Me<<te.bi_valid&65535,le(te,te.bi_buf),te.bi_buf=Me>>E-te.bi_valid,te.bi_valid+=ae-E):(te.bi_buf|=Me<<te.bi_valid&65535,te.bi_valid+=ae)}function Q(te,Me,ae){ue(te,ae[2*Me],ae[2*Me+1])}function x(te,Me){var ae=0;do ae|=1&te,te>>>=1,ae<<=1;while(--Me>0);return ae>>>1}function q(te){te.bi_valid===16?(le(te,te.bi_buf),te.bi_buf=0,te.bi_valid=0):te.bi_valid>=8&&(te.pending_buf[te.pending++]=255&te.bi_buf,te.bi_buf>>=8,te.bi_valid-=8)}function F(te,Me){var ae,ge,G,Ee,Ue,R,ye=Me.dyn_tree,fe=Me.max_code,oe=Me.stat_desc.static_tree,pe=Me.stat_desc.has_stree,me=Me.stat_desc.extra_bits,je=Me.stat_desc.extra_base,Te=Me.stat_desc.max_length,Fe=0;for(Ee=0;Ee<=b;Ee++)te.bl_count[Ee]=0;for(ye[2*te.heap[te.heap_max]+1]=0,ae=te.heap_max+1;ae<w;ae++)(Ee=ye[2*ye[2*(ge=te.heap[ae])+1]+1]+1)>Te&&(Ee=Te,Fe++),ye[2*ge+1]=Ee,ge>fe||(te.bl_count[Ee]++,Ue=0,ge>=je&&(Ue=me[ge-je]),R=ye[2*ge],te.opt_len+=R*(Ee+Ue),pe&&(te.static_len+=R*(oe[2*ge+1]+Ue)));if(Fe!==0){do{for(Ee=Te-1;te.bl_count[Ee]===0;)Ee--;te.bl_count[Ee]--,te.bl_count[Ee+1]+=2,te.bl_count[Te]--,Fe-=2}while(Fe>0);for(Ee=Te;Ee!==0;Ee--)for(ge=te.bl_count[Ee];ge!==0;)(G=te.heap[--ae])>fe||(ye[2*G+1]!==Ee&&(te.opt_len+=(Ee-ye[2*G+1])*ye[2*G],ye[2*G+1]=Ee),ge--)}}function B(te,Me,ae){var ge,G,Ee=new Array(b+1),Ue=0;for(ge=1;ge<=b;ge++)Ee[ge]=Ue=Ue+ae[ge-1]<<1;for(G=0;G<=Me;G++){var R=te[2*G+1];R!==0&&(te[2*G]=x(Ee[R]++,R))}}function L(){var te,Me,ae,ge,G,Ee=new Array(b+1);for(ae=0,ge=0;ge<p-1;ge++)for(ne[ge]=ae,te=0;te<1<<y[ge];te++)H[ae++]=ge;for(H[ae-1]=ge,G=0,ge=0;ge<16;ge++)for(X[ge]=G,te=0;te<1<<T[ge];te++)Z[G++]=ge;for(G>>=7;ge<v;ge++)for(X[ge]=G<<7,te=0;te<1<<T[ge]-7;te++)Z[256+G++]=ge;for(Me=0;Me<=b;Me++)Ee[Me]=0;for(te=0;te<=143;)P[2*te+1]=8,te++,Ee[8]++;for(;te<=255;)P[2*te+1]=9,te++,Ee[9]++;for(;te<=279;)P[2*te+1]=7,te++,Ee[7]++;for(;te<=287;)P[2*te+1]=8,te++,Ee[8]++;for(B(P,g+1,Ee),te=0;te<v;te++)K[2*te+1]=5,K[2*te]=x(te,5);$=new W(P,y,m+1,g,b),J=new W(K,T,0,v,b),ie=new W(new Array(0),V,0,D,C)}function z(te){var Me;for(Me=0;Me<g;Me++)te.dyn_ltree[2*Me]=0;for(Me=0;Me<v;Me++)te.dyn_dtree[2*Me]=0;for(Me=0;Me<D;Me++)te.bl_tree[2*Me]=0;te.dyn_ltree[2*M]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0}function ee(te){te.bi_valid>8?le(te,te.bi_buf):te.bi_valid>0&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0}function _(te,Me,ae,ge){ee(te),le(te,ae),le(te,~ae),r.arraySet(te.pending_buf,te.window,Me,ae,te.pending),te.pending+=ae}function A(te,Me,ae,ge){var G=2*Me,Ee=2*ae;return te[G]<te[Ee]||te[G]===te[Ee]&&ge[Me]<=ge[ae]}function j(te,Me,ae){for(var ge=te.heap[ae],G=ae<<1;G<=te.heap_len&&(G<te.heap_len&&A(Me,te.heap[G+1],te.heap[G],te.depth)&&G++,!A(Me,ge,te.heap[G],te.depth));)te.heap[ae]=te.heap[G],ae=G,G<<=1;te.heap[ae]=ge}function U(te,Me,ae){var ge,G,Ee,Ue,R=0;if(te.last_lit!==0)do ge=te.pending_buf[te.d_buf+2*R]<<8|te.pending_buf[te.d_buf+2*R+1],G=te.pending_buf[te.l_buf+R],R++,ge===0?Q(te,G,Me):(Q(te,(Ee=H[G])+m+1,Me),(Ue=y[Ee])!==0&&ue(te,G-=ne[Ee],Ue),Q(te,Ee=re(--ge),ae),(Ue=T[Ee])!==0&&ue(te,ge-=X[Ee],Ue));while(R<te.last_lit);Q(te,M,Me)}function se(te,Me){var ae,ge,G,Ee=Me.dyn_tree,Ue=Me.stat_desc.static_tree,R=Me.stat_desc.has_stree,ye=Me.stat_desc.elems,fe=-1;for(te.heap_len=0,te.heap_max=w,ae=0;ae<ye;ae++)Ee[2*ae]!==0?(te.heap[++te.heap_len]=fe=ae,te.depth[ae]=0):Ee[2*ae+1]=0;for(;te.heap_len<2;)Ee[2*(G=te.heap[++te.heap_len]=fe<2?++fe:0)]=1,te.depth[G]=0,te.opt_len--,R&&(te.static_len-=Ue[2*G+1]);for(Me.max_code=fe,ae=te.heap_len>>1;ae>=1;ae--)j(te,Ee,ae);G=ye;do ae=te.heap[1],te.heap[1]=te.heap[te.heap_len--],j(te,Ee,1),ge=te.heap[1],te.heap[--te.heap_max]=ae,te.heap[--te.heap_max]=ge,Ee[2*G]=Ee[2*ae]+Ee[2*ge],te.depth[G]=(te.depth[ae]>=te.depth[ge]?te.depth[ae]:te.depth[ge])+1,Ee[2*ae+1]=Ee[2*ge+1]=G,te.heap[1]=G++,j(te,Ee,1);while(te.heap_len>=2);te.heap[--te.heap_max]=te.heap[1],F(te,Me),B(Ee,fe,te.bl_count)}function ce(te,Me,ae){var ge,G,Ee=-1,Ue=Me[1],R=0,ye=7,fe=4;for(Ue===0&&(ye=138,fe=3),Me[2*(ae+1)+1]=65535,ge=0;ge<=ae;ge++)G=Ue,Ue=Me[2*(ge+1)+1],++R<ye&&G===Ue||(R<fe?te.bl_tree[2*G]+=R:G!==0?(G!==Ee&&te.bl_tree[2*G]++,te.bl_tree[2*S]++):R<=10?te.bl_tree[2*I]++:te.bl_tree[2*k]++,R=0,Ee=G,Ue===0?(ye=138,fe=3):G===Ue?(ye=6,fe=3):(ye=7,fe=4))}function De(te,Me,ae){var ge,G,Ee=-1,Ue=Me[1],R=0,ye=7,fe=4;for(Ue===0&&(ye=138,fe=3),ge=0;ge<=ae;ge++)if(G=Ue,Ue=Me[2*(ge+1)+1],!(++R<ye&&G===Ue)){if(R<fe)do Q(te,G,te.bl_tree);while(--R!=0);else G!==0?(G!==Ee&&(Q(te,G,te.bl_tree),R--),Q(te,S,te.bl_tree),ue(te,R-3,2)):R<=10?(Q(te,I,te.bl_tree),ue(te,R-3,3)):(Q(te,k,te.bl_tree),ue(te,R-11,7));R=0,Ee=G,Ue===0?(ye=138,fe=3):G===Ue?(ye=6,fe=3):(ye=7,fe=4)}}function Ie(te){var Me;for(ce(te,te.dyn_ltree,te.l_desc.max_code),ce(te,te.dyn_dtree,te.d_desc.max_code),se(te,te.bl_desc),Me=D-1;Me>=3&&te.bl_tree[2*O[Me]+1]===0;Me--);return te.opt_len+=3*(Me+1)+5+5+4,Me}function we(te,Me,ae,ge){var G;for(ue(te,Me-257,5),ue(te,ae-1,5),ue(te,ge-4,4),G=0;G<ge;G++)ue(te,te.bl_tree[2*O[G]+1],3);De(te,te.dyn_ltree,Me-1),De(te,te.dyn_dtree,ae-1)}function Ce(te){var Me,ae=4093624447;for(Me=0;Me<=31;Me++,ae>>>=1)if(1&ae&&te.dyn_ltree[2*Me]!==0)return o;if(te.dyn_ltree[18]!==0||te.dyn_ltree[20]!==0||te.dyn_ltree[26]!==0)return s;for(Me=32;Me<m;Me++)if(te.dyn_ltree[2*Me]!==0)return s;return o}l(X);var xe=!1;function Be(te){xe||(L(),xe=!0),te.l_desc=new Y(te.dyn_ltree,$),te.d_desc=new Y(te.dyn_dtree,J),te.bl_desc=new Y(te.bl_tree,ie),te.bi_buf=0,te.bi_valid=0,z(te)}function Oe(te,Me,ae,ge){ue(te,(u<<1)+(ge?1:0),3),_(te,Me,ae)}function Pe(te){ue(te,c<<1,3),Q(te,M,P),q(te)}function We(te,Me,ae,ge){var G,Ee,Ue=0;te.level>0?(te.strm.data_type===a&&(te.strm.data_type=Ce(te)),se(te,te.l_desc),se(te,te.d_desc),Ue=Ie(te),G=te.opt_len+3+7>>>3,(Ee=te.static_len+3+7>>>3)<=G&&(G=Ee)):G=Ee=ae+5,ae+4<=G&&Me!==-1?Oe(te,Me,ae,ge):te.strategy===i||Ee===G?(ue(te,(c<<1)+(ge?1:0),3),U(te,P,K)):(ue(te,(d<<1)+(ge?1:0),3),we(te,te.l_desc.max_code+1,te.d_desc.max_code+1,Ue+1),U(te,te.dyn_ltree,te.dyn_dtree)),z(te),ge&&ee(te)}function ke(te,Me,ae){return te.pending_buf[te.d_buf+2*te.last_lit]=Me>>>8&255,te.pending_buf[te.d_buf+2*te.last_lit+1]=255&Me,te.pending_buf[te.l_buf+te.last_lit]=255&ae,te.last_lit++,Me===0?te.dyn_ltree[2*ae]++:(te.matches++,Me--,te.dyn_ltree[2*(H[ae]+m+1)]++,te.dyn_dtree[2*re(Me)]++),te.last_lit===te.lit_bufsize-1}n._tr_init=Be,n._tr_stored_block=Oe,n._tr_flush_block=We,n._tr_tally=ke,n._tr_align=Pe},{"../utils/common":52}],62:[function(e,t,n){function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],63:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(D){if(r===setTimeout)return setTimeout(D,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(D,0);try{return r(D,0)}catch{try{return r.call(null,D,0)}catch{return r.call(this,D,0)}}}function u(D){if(i===clearTimeout)return clearTimeout(D);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(D);try{return i(D)}catch{try{return i.call(null,D)}catch{return i.call(this,D)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:s}catch{r=s}try{i=typeof clearTimeout=="function"?clearTimeout:a}catch{i=a}})();var c,d=[],f=!1,h=-1;function p(){f&&c&&(f=!1,c.length?d=c.concat(d):h=-1,d.length&&m())}function m(){if(!f){var D=l(p);f=!0;for(var w=d.length;w;){for(c=d,d=[];++h<w;)c&&c[h].run();h=-1,w=d.length}c=null,f=!1,u(D)}}function g(D,w){this.fun=D,this.array=w}function v(){}o.nextTick=function(D){var w=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)w[b-1]=arguments[b];d.push(new g(D,w)),d.length!==1||f||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(D){return[]},o.binding=function(D){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(D){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],64:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(a,l){for(var u in a)l[u]=a[u]}function s(a,l,u){return i(a,l,u)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(a,l,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,l,u)},s.alloc=function(a,l,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=i(a);return l!==void 0?typeof u=="string"?c.fill(l,u):c.fill(l):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:32}],65:[function(e,t,n){t.exports=i;var r=e("events").EventEmitter;function i(){r.call(this)}e("inherits")(i,r),i.Readable=e("readable-stream/lib/_stream_readable.js"),i.Writable=e("readable-stream/lib/_stream_writable.js"),i.Duplex=e("readable-stream/lib/_stream_duplex.js"),i.Transform=e("readable-stream/lib/_stream_transform.js"),i.PassThrough=e("readable-stream/lib/_stream_passthrough.js"),i.finished=e("readable-stream/lib/internal/streams/end-of-stream.js"),i.pipeline=e("readable-stream/lib/internal/streams/pipeline.js"),i.Stream=i,i.prototype.pipe=function(o,s){var a=this;function l(m){o.writable&&o.write(m)===!1&&a.pause&&a.pause()}function u(){a.readable&&a.resume&&a.resume()}a.on("data",l),o.on("drain",u),o._isStdio||s&&s.end===!1||(a.on("end",d),a.on("close",f));var c=!1;function d(){c||(c=!0,o.end())}function f(){c||(c=!0,typeof o.destroy=="function"&&o.destroy())}function h(m){if(p(),r.listenerCount(this,"error")===0)throw m}function p(){a.removeListener("data",l),o.removeListener("drain",u),a.removeListener("end",d),a.removeListener("close",f),a.removeListener("error",h),o.removeListener("error",h),a.removeListener("end",p),a.removeListener("close",p),o.removeListener("close",p)}return a.on("error",h),o.on("error",h),a.on("end",p),a.on("close",p),o.on("close",p),o.emit("pipe",a),o}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(e,t,n){function r(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var i={};function o(c,d,f){function h(m,g,v){return typeof d=="string"?d:d(m,g,v)}f||(f=Error);var p=function(m){function g(v,D,w){return m.call(this,h(v,D,w))||this}return r(g,m),g}(f);p.prototype.name=f.name,p.prototype.code=c,i[c]=p}function s(c,d){if(Array.isArray(c)){var f=c.length;return c=c.map(function(h){return String(h)}),f>2?"one of ".concat(d," ").concat(c.slice(0,f-1).join(", "),", or ")+c[f-1]:f===2?"one of ".concat(d," ").concat(c[0]," or ").concat(c[1]):"of ".concat(d," ").concat(c[0])}return"of ".concat(d," ").concat(String(c))}function a(c,d,f){return c.substr(0,d.length)===d}function l(c,d,f){return(f===void 0||f>c.length)&&(f=c.length),c.substring(f-d.length,f)===d}function u(c,d,f){return typeof f!="number"&&(f=0),!(f+d.length>c.length)&&c.indexOf(d,f)!==-1}o("ERR_INVALID_OPT_VALUE",function(c,d){return'The value "'+d+'" is invalid for option "'+c+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(c,d,f){var h,p;if(typeof d=="string"&&a(d,"not ")?(h="must not be",d=d.replace(/^not /,"")):h="must be",l(c," argument"))p="The ".concat(c," ").concat(h," ").concat(s(d,"type"));else{var m=u(c,".")?"property":"argument";p='The "'.concat(c,'" ').concat(m," ").concat(h," ").concat(s(d,"type"))}return p+=". Received type ".concat(typeof f)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],67:[function(e,t,n){(function(r){(function(){var i=Object.keys||function(h){var p=[];for(var m in h)p.push(m);return p};t.exports=c;var o=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,o);for(var a=i(s.prototype),l=0;l<a.length;l++){var u=a[l];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(h){if(!(this instanceof c))return new c(h);o.call(this,h),s.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||r.nextTick(f,this)}function f(h){h.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(e,t,n){t.exports=i;var r=e("./_stream_transform");function i(o){if(!(this instanceof i))return new i(o);r.call(this,o)}e("inherits")(i,r),i.prototype._transform=function(o,s,a){a(null,o)}},{"./_stream_transform":70,inherits:46}],69:[function(e,t,n){(function(r,i){(function(){var o;t.exports=V,V.ReadableState=T,e("events").EventEmitter;var s=function(L,z){return L.listeners(z).length},a=e("./internal/streams/stream"),l=e("buffer").Buffer,u=i.Uint8Array||function(){};function c(L){return l.from(L)}function d(L){return l.isBuffer(L)||L instanceof u}var f,h=e("util");f=h&&h.debuglog?h.debuglog("stream"):function(){};var p,m,g,v=e("./internal/streams/buffer_list"),D=e("./internal/streams/destroy"),w=e("./internal/streams/state").getHighWaterMark,b=e("../errors").codes,E=b.ERR_INVALID_ARG_TYPE,C=b.ERR_STREAM_PUSH_AFTER_EOF,M=b.ERR_METHOD_NOT_IMPLEMENTED,S=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(V,a);var I=D.errorOrDestroy,k=["error","close","destroy","pause","resume"];function y(L,z,ee){if(typeof L.prependListener=="function")return L.prependListener(z,ee);L._events&&L._events[z]?Array.isArray(L._events[z])?L._events[z].unshift(ee):L._events[z]=[ee,L._events[z]]:L.on(z,ee)}function T(L,z,ee){o=o||e("./_stream_duplex"),L=L||{},typeof ee!="boolean"&&(ee=z instanceof o),this.objectMode=!!L.objectMode,ee&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=w(this,L,"readableHighWaterMark",ee),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(L.encoding),this.encoding=L.encoding)}function V(L){if(o=o||e("./_stream_duplex"),!(this instanceof V))return new V(L);var z=this instanceof o;this._readableState=new T(L,this,z),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),a.call(this)}function O(L,z,ee,_,A){f("readableAddChunk",z);var j,U=L._readableState;if(z===null)U.reading=!1,ne(L,U);else if(A||(j=P(U,z)),j)I(L,j);else if(U.objectMode||z&&z.length>0)if(typeof z=="string"||U.objectMode||Object.getPrototypeOf(z)===l.prototype||(z=c(z)),_)U.endEmitted?I(L,new S):N(L,U,z,!0);else if(U.ended)I(L,new C);else{if(U.destroyed)return!1;U.reading=!1,U.decoder&&!ee?(z=U.decoder.write(z),U.objectMode||z.length!==0?N(L,U,z,!1):ie(L,U)):N(L,U,z,!1)}else _||(U.reading=!1,ie(L,U));return!U.ended&&(U.length<U.highWaterMark||U.length===0)}function N(L,z,ee,_){z.flowing&&z.length===0&&!z.sync?(z.awaitDrain=0,L.emit("data",ee)):(z.length+=z.objectMode?1:ee.length,_?z.buffer.unshift(ee):z.buffer.push(ee),z.needReadable&&$(L)),ie(L,z)}function P(L,z){var ee;return d(z)||typeof z=="string"||z===void 0||L.objectMode||(ee=new E("chunk",["string","Buffer","Uint8Array"],z)),ee}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),V.prototype.destroy=D.destroy,V.prototype._undestroy=D.undestroy,V.prototype._destroy=function(L,z){z(L)},V.prototype.push=function(L,z){var ee,_=this._readableState;return _.objectMode?ee=!0:typeof L=="string"&&((z=z||_.defaultEncoding)!==_.encoding&&(L=l.from(L,z),z=""),ee=!0),O(this,L,z,!1,ee)},V.prototype.unshift=function(L){return O(this,L,null,!0,!1)},V.prototype.isPaused=function(){return this._readableState.flowing===!1},V.prototype.setEncoding=function(L){p||(p=e("string_decoder/").StringDecoder);var z=new p(L);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;for(var ee=this._readableState.buffer.head,_="";ee!==null;)_+=z.write(ee.data),ee=ee.next;return this._readableState.buffer.clear(),_!==""&&this._readableState.buffer.push(_),this._readableState.length=_.length,this};var K=1073741824;function Z(L){return L>=K?L=K:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function H(L,z){return L<=0||z.length===0&&z.ended?0:z.objectMode?1:L!=L?z.flowing&&z.length?z.buffer.head.data.length:z.length:(L>z.highWaterMark&&(z.highWaterMark=Z(L)),L<=z.length?L:z.ended?z.length:(z.needReadable=!0,0))}function ne(L,z){if(f("onEofChunk"),!z.ended){if(z.decoder){var ee=z.decoder.end();ee&&ee.length&&(z.buffer.push(ee),z.length+=z.objectMode?1:ee.length)}z.ended=!0,z.sync?$(L):(z.needReadable=!1,z.emittedReadable||(z.emittedReadable=!0,J(L)))}}function $(L){var z=L._readableState;f("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(f("emitReadable",z.flowing),z.emittedReadable=!0,r.nextTick(J,L))}function J(L){var z=L._readableState;f("emitReadable_",z.destroyed,z.length,z.ended),z.destroyed||!z.length&&!z.ended||(L.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,Q(L)}function ie(L,z){z.readingMore||(z.readingMore=!0,r.nextTick(X,L,z))}function X(L,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){var ee=z.length;if(f("maybeReadMore read 0"),L.read(0),ee===z.length)break}z.readingMore=!1}function W(L){return function(){var z=L._readableState;f("pipeOnDrain",z.awaitDrain),z.awaitDrain&&z.awaitDrain--,z.awaitDrain===0&&s(L,"data")&&(z.flowing=!0,Q(L))}}function Y(L){var z=L._readableState;z.readableListening=L.listenerCount("readable")>0,z.resumeScheduled&&!z.paused?z.flowing=!0:L.listenerCount("data")>0&&L.resume()}function re(L){f("readable nexttick read 0"),L.read(0)}function le(L,z){z.resumeScheduled||(z.resumeScheduled=!0,r.nextTick(ue,L,z))}function ue(L,z){f("resume",z.reading),z.reading||L.read(0),z.resumeScheduled=!1,L.emit("resume"),Q(L),z.flowing&&!z.reading&&L.read(0)}function Q(L){var z=L._readableState;for(f("flow",z.flowing);z.flowing&&L.read()!==null;);}function x(L,z){return z.length===0?null:(z.objectMode?ee=z.buffer.shift():!L||L>=z.length?(ee=z.decoder?z.buffer.join(""):z.buffer.length===1?z.buffer.first():z.buffer.concat(z.length),z.buffer.clear()):ee=z.buffer.consume(L,z.decoder),ee);var ee}function q(L){var z=L._readableState;f("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,r.nextTick(F,z,L))}function F(L,z){if(f("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,z.readable=!1,z.emit("end"),L.autoDestroy)){var ee=z._writableState;(!ee||ee.autoDestroy&&ee.finished)&&z.destroy()}}function B(L,z){for(var ee=0,_=L.length;ee<_;ee++)if(L[ee]===z)return ee;return-1}V.prototype.read=function(L){f("read",L),L=parseInt(L,10);var z=this._readableState,ee=L;if(L!==0&&(z.emittedReadable=!1),L===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return f("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?q(this):$(this),null;if((L=H(L,z))===0&&z.ended)return z.length===0&&q(this),null;var _,A=z.needReadable;return f("need readable",A),(z.length===0||z.length-L<z.highWaterMark)&&f("length less than watermark",A=!0),z.ended||z.reading?f("reading or ended",A=!1):A&&(f("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(L=H(ee,z))),(_=L>0?x(L,z):null)===null?(z.needReadable=z.length<=z.highWaterMark,L=0):(z.length-=L,z.awaitDrain=0),z.length===0&&(z.ended||(z.needReadable=!0),ee!==L&&z.ended&&q(this)),_!==null&&this.emit("data",_),_},V.prototype._read=function(L){I(this,new M("_read()"))},V.prototype.pipe=function(L,z){var ee=this,_=this._readableState;switch(_.pipesCount){case 0:_.pipes=L;break;case 1:_.pipes=[_.pipes,L];break;default:_.pipes.push(L)}_.pipesCount+=1,f("pipe count=%d opts=%j",_.pipesCount,z);var A=z&&z.end===!1||L===r.stdout||L===r.stderr?Be:U;function j(Oe,Pe){f("onunpipe"),Oe===ee&&Pe&&Pe.hasUnpiped===!1&&(Pe.hasUnpiped=!0,De())}function U(){f("onend"),L.end()}_.endEmitted?r.nextTick(A):ee.once("end",A),L.on("unpipe",j);var se=W(ee);L.on("drain",se);var ce=!1;function De(){f("cleanup"),L.removeListener("close",Ce),L.removeListener("finish",xe),L.removeListener("drain",se),L.removeListener("error",we),L.removeListener("unpipe",j),ee.removeListener("end",U),ee.removeListener("end",Be),ee.removeListener("data",Ie),ce=!0,!_.awaitDrain||L._writableState&&!L._writableState.needDrain||se()}function Ie(Oe){f("ondata");var Pe=L.write(Oe);f("dest.write",Pe),Pe===!1&&((_.pipesCount===1&&_.pipes===L||_.pipesCount>1&&B(_.pipes,L)!==-1)&&!ce&&(f("false write response, pause",_.awaitDrain),_.awaitDrain++),ee.pause())}function we(Oe){f("onerror",Oe),Be(),L.removeListener("error",we),s(L,"error")===0&&I(L,Oe)}function Ce(){L.removeListener("finish",xe),Be()}function xe(){f("onfinish"),L.removeListener("close",Ce),Be()}function Be(){f("unpipe"),ee.unpipe(L)}return ee.on("data",Ie),y(L,"error",we),L.once("close",Ce),L.once("finish",xe),L.emit("pipe",ee),_.flowing||(f("pipe resume"),ee.resume()),L},V.prototype.unpipe=function(L){var z=this._readableState,ee={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return L&&L!==z.pipes||(L||(L=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,L&&L.emit("unpipe",this,ee)),this;if(!L){var _=z.pipes,A=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var j=0;j<A;j++)_[j].emit("unpipe",this,{hasUnpiped:!1});return this}var U=B(z.pipes,L);return U===-1||(z.pipes.splice(U,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),L.emit("unpipe",this,ee)),this},V.prototype.on=function(L,z){var ee=a.prototype.on.call(this,L,z),_=this._readableState;return L==="data"?(_.readableListening=this.listenerCount("readable")>0,_.flowing!==!1&&this.resume()):L==="readable"&&(_.endEmitted||_.readableListening||(_.readableListening=_.needReadable=!0,_.flowing=!1,_.emittedReadable=!1,f("on readable",_.length,_.reading),_.length?$(this):_.reading||r.nextTick(re,this))),ee},V.prototype.addListener=V.prototype.on,V.prototype.removeListener=function(L,z){var ee=a.prototype.removeListener.call(this,L,z);return L==="readable"&&r.nextTick(Y,this),ee},V.prototype.removeAllListeners=function(L){var z=a.prototype.removeAllListeners.apply(this,arguments);return L!=="readable"&&L!==void 0||r.nextTick(Y,this),z},V.prototype.resume=function(){var L=this._readableState;return L.flowing||(f("resume"),L.flowing=!L.readableListening,le(this,L)),L.paused=!1,this},V.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},V.prototype.wrap=function(L){var z=this,ee=this._readableState,_=!1;for(var A in L.on("end",function(){if(f("wrapped end"),ee.decoder&&!ee.ended){var U=ee.decoder.end();U&&U.length&&z.push(U)}z.push(null)}),L.on("data",function(U){f("wrapped data"),ee.decoder&&(U=ee.decoder.write(U)),ee.objectMode&&U==null||(ee.objectMode||U&&U.length)&&(z.push(U)||(_=!0,L.pause()))}),L)this[A]===void 0&&typeof L[A]=="function"&&(this[A]=function(U){return function(){return L[U].apply(L,arguments)}}(A));for(var j=0;j<k.length;j++)L.on(k[j],this.emit.bind(this,k[j]));return this._read=function(U){f("wrapped _read",U),_&&(_=!1,L.resume())},this},typeof Symbol=="function"&&(V.prototype[Symbol.asyncIterator]=function(){return m===void 0&&(m=e("./internal/streams/async_iterator")),m(this)}),Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(V.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(V.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),V._fromList=x,Object.defineProperty(V.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(V.from=function(L,z){return g===void 0&&(g=e("./internal/streams/from")),g(V,L,z)})}).call(this)}).call(this,e("_process"),en!==void 0?en:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(e,t,n){t.exports=c;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function u(h,p){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new o);m.writechunk=null,m.writecb=null,p!=null&&this.push(p),g(h);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function c(h){if(!(this instanceof c))return new c(h);l.call(this,h),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",d)}function d(){var h=this;typeof this._flush!="function"||this._readableState.destroyed?f(this,null,null):this._flush(function(p,m){f(h,p,m)})}function f(h,p,m){if(p)return h.emit("error",p);if(m!=null&&h.push(m),h._writableState.length)throw new a;if(h._transformState.transforming)throw new s;return h.push(null)}e("inherits")(c,l),c.prototype.push=function(h,p){return this._transformState.needTransform=!1,l.prototype.push.call(this,h,p)},c.prototype._transform=function(h,p,m){m(new i("_transform()"))},c.prototype._write=function(h,p,m){var g=this._transformState;if(g.writecb=m,g.writechunk=h,g.writeencoding=p,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},c.prototype._read=function(h){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},c.prototype._destroy=function(h,p){l.prototype._destroy.call(this,h,function(m){p(m)})}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(e,t,n){(function(r,i){(function(){function o(Q){var x=this;this.next=null,this.entry=null,this.finish=function(){ue(x,Q)}}var s;t.exports=T,T.WritableState=y;var a={deprecate:e("util-deprecate")},l=e("./internal/streams/stream"),u=e("buffer").Buffer,c=i.Uint8Array||function(){};function d(Q){return u.from(Q)}function f(Q){return u.isBuffer(Q)||Q instanceof c}var h,p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,v=g.ERR_INVALID_ARG_TYPE,D=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_MULTIPLE_CALLBACK,b=g.ERR_STREAM_CANNOT_PIPE,E=g.ERR_STREAM_DESTROYED,C=g.ERR_STREAM_NULL_VALUES,M=g.ERR_STREAM_WRITE_AFTER_END,S=g.ERR_UNKNOWN_ENCODING,I=p.errorOrDestroy;function k(){}function y(Q,x,q){s=s||e("./_stream_duplex"),Q=Q||{},typeof q!="boolean"&&(q=x instanceof s),this.objectMode=!!Q.objectMode,q&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=m(this,Q,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=Q.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(B){ne(x,B)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function T(Q){var x=this instanceof(s=s||e("./_stream_duplex"));if(!x&&!h.call(T,this))return new T(Q);this._writableState=new y(Q,this,x),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),l.call(this)}function V(Q,x){var q=new M;I(Q,q),r.nextTick(x,q)}function O(Q,x,q,F){var B;return q===null?B=new C:typeof q=="string"||x.objectMode||(B=new v("chunk",["string","Buffer"],q)),!B||(I(Q,B),r.nextTick(F,B),!1)}function N(Q,x,q){return Q.objectMode||Q.decodeStrings===!1||typeof x!="string"||(x=u.from(x,q)),x}function P(Q,x,q,F,B,L){if(!q){var z=N(x,F,B);F!==z&&(q=!0,B="buffer",F=z)}var ee=x.objectMode?1:F.length;x.length+=ee;var _=x.length<x.highWaterMark;if(_||(x.needDrain=!0),x.writing||x.corked){var A=x.lastBufferedRequest;x.lastBufferedRequest={chunk:F,encoding:B,isBuf:q,callback:L,next:null},A?A.next=x.lastBufferedRequest:x.bufferedRequest=x.lastBufferedRequest,x.bufferedRequestCount+=1}else K(Q,x,!1,ee,F,B,L);return _}function K(Q,x,q,F,B,L,z){x.writelen=F,x.writecb=z,x.writing=!0,x.sync=!0,x.destroyed?x.onwrite(new E("write")):q?Q._writev(B,x.onwrite):Q._write(B,L,x.onwrite),x.sync=!1}function Z(Q,x,q,F,B){--x.pendingcb,q?(r.nextTick(B,F),r.nextTick(re,Q,x),Q._writableState.errorEmitted=!0,I(Q,F)):(B(F),Q._writableState.errorEmitted=!0,I(Q,F),re(Q,x))}function H(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function ne(Q,x){var q=Q._writableState,F=q.sync,B=q.writecb;if(typeof B!="function")throw new w;if(H(q),x)Z(Q,q,F,x,B);else{var L=X(q)||Q.destroyed;L||q.corked||q.bufferProcessing||!q.bufferedRequest||ie(Q,q),F?r.nextTick($,Q,q,L,B):$(Q,q,L,B)}}function $(Q,x,q,F){q||J(Q,x),x.pendingcb--,F(),re(Q,x)}function J(Q,x){x.length===0&&x.needDrain&&(x.needDrain=!1,Q.emit("drain"))}function ie(Q,x){x.bufferProcessing=!0;var q=x.bufferedRequest;if(Q._writev&&q&&q.next){var F=x.bufferedRequestCount,B=new Array(F),L=x.corkedRequestsFree;L.entry=q;for(var z=0,ee=!0;q;)B[z]=q,q.isBuf||(ee=!1),q=q.next,z+=1;B.allBuffers=ee,K(Q,x,!0,x.length,B,"",L.finish),x.pendingcb++,x.lastBufferedRequest=null,L.next?(x.corkedRequestsFree=L.next,L.next=null):x.corkedRequestsFree=new o(x),x.bufferedRequestCount=0}else{for(;q;){var _=q.chunk,A=q.encoding,j=q.callback;if(K(Q,x,!1,x.objectMode?1:_.length,_,A,j),q=q.next,x.bufferedRequestCount--,x.writing)break}q===null&&(x.lastBufferedRequest=null)}x.bufferedRequest=q,x.bufferProcessing=!1}function X(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function W(Q,x){Q._final(function(q){x.pendingcb--,q&&I(Q,q),x.prefinished=!0,Q.emit("prefinish"),re(Q,x)})}function Y(Q,x){x.prefinished||x.finalCalled||(typeof Q._final!="function"||x.destroyed?(x.prefinished=!0,Q.emit("prefinish")):(x.pendingcb++,x.finalCalled=!0,r.nextTick(W,Q,x)))}function re(Q,x){var q=X(x);if(q&&(Y(Q,x),x.pendingcb===0&&(x.finished=!0,Q.emit("finish"),x.autoDestroy))){var F=Q._readableState;(!F||F.autoDestroy&&F.endEmitted)&&Q.destroy()}return q}function le(Q,x,q){x.ending=!0,re(Q,x),q&&(x.finished?r.nextTick(q):Q.once("finish",q)),x.ended=!0,Q.writable=!1}function ue(Q,x,q){var F=Q.entry;for(Q.entry=null;F;){var B=F.callback;x.pendingcb--,B(q),F=F.next}x.corkedRequestsFree.next=Q}e("inherits")(T,l),y.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,x=[];Q;)x.push(Q),Q=Q.next;return x},function(){try{Object.defineProperty(y.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(Q){return!!h.call(this,Q)||this===T&&Q&&Q._writableState instanceof y}})):h=function(Q){return Q instanceof this},T.prototype.pipe=function(){I(this,new b)},T.prototype.write=function(Q,x,q){var F=this._writableState,B=!1,L=!F.objectMode&&f(Q);return L&&!u.isBuffer(Q)&&(Q=d(Q)),typeof x=="function"&&(q=x,x=null),L?x="buffer":x||(x=F.defaultEncoding),typeof q!="function"&&(q=k),F.ending?V(this,q):(L||O(this,F,Q,q))&&(F.pendingcb++,B=P(this,F,L,Q,x,q)),B},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,Q.writing||Q.corked||Q.bufferProcessing||!Q.bufferedRequest||ie(this,Q))},T.prototype.setDefaultEncoding=function(Q){if(typeof Q=="string"&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new S(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(Q,x,q){q(new D("_write()"))},T.prototype._writev=null,T.prototype.end=function(Q,x,q){var F=this._writableState;return typeof Q=="function"?(q=Q,Q=null,x=null):typeof x=="function"&&(q=x,x=null),Q!=null&&this.write(Q,x),F.corked&&(F.corked=1,this.uncork()),F.ending||le(this,F,q),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Q){this._writableState&&(this._writableState.destroyed=Q)}}),T.prototype.destroy=p.destroy,T.prototype._undestroy=p.undestroy,T.prototype._destroy=function(Q,x){x(Q)}}).call(this)}).call(this,e("_process"),en!==void 0?en:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(e,t,n){(function(r){(function(){var i;function o(E,C,M){return C in E?Object.defineProperty(E,C,{value:M,enumerable:!0,configurable:!0,writable:!0}):E[C]=M,E}var s=e("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),h=Symbol("stream");function p(E,C){return{value:E,done:C}}function m(E){var C=E[a];if(C!==null){var M=E[h].read();M!==null&&(E[d]=null,E[a]=null,E[l]=null,C(p(M,!1)))}}function g(E){r.nextTick(m,E)}function v(E,C){return function(M,S){E.then(function(){C[c]?M(p(void 0,!0)):C[f](M,S)},S)}}var D=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((i={get stream(){return this[h]},next:function(){var E=this,C=this[u];if(C!==null)return Promise.reject(C);if(this[c])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise(function(k,y){r.nextTick(function(){E[u]?y(E[u]):k(p(void 0,!0))})});var M,S=this[d];if(S)M=new Promise(v(S,this));else{var I=this[h].read();if(I!==null)return Promise.resolve(p(I,!1));M=new Promise(this[f])}return this[d]=M,M}},o(i,Symbol.asyncIterator,function(){return this}),o(i,"return",function(){var E=this;return new Promise(function(C,M){E[h].destroy(null,function(S){S?M(S):C(p(void 0,!0))})})}),i),D),b=function(E){var C,M=Object.create(w,(o(C={},h,{value:E,writable:!0}),o(C,a,{value:null,writable:!0}),o(C,l,{value:null,writable:!0}),o(C,u,{value:null,writable:!0}),o(C,c,{value:E._readableState.endEmitted,writable:!0}),o(C,f,{value:function(S,I){var k=M[h].read();k?(M[d]=null,M[a]=null,M[l]=null,S(p(k,!1))):(M[a]=S,M[l]=I)},writable:!0}),C));return M[d]=null,s(E,function(S){if(S&&S.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=M[l];return I!==null&&(M[d]=null,M[a]=null,M[l]=null,I(S)),void(M[u]=S)}var k=M[a];k!==null&&(M[d]=null,M[a]=null,M[l]=null,k(p(void 0,!0))),M[c]=!0}),E.on("readable",g.bind(null,M)),M};t.exports=b}).call(this)}).call(this,e("_process"))},{"./end-of-stream":75,_process:63}],73:[function(e,t,n){function r(h,p){var m=Object.keys(h);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(h);p&&(g=g.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),m.push.apply(m,g)}return m}function i(h){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?r(Object(m),!0).forEach(function(g){o(h,g,m[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(m)):r(Object(m)).forEach(function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(m,g))})}return h}function o(h,p,m){return p in h?Object.defineProperty(h,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[p]=m,h}function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function a(h,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}function l(h,p,m){return p&&a(h.prototype,p),h}var u=e("buffer").Buffer,c=e("util").inspect,d=c&&c.custom||"inspect";function f(h,p,m){u.prototype.copy.call(h,p,m)}t.exports=function(){function h(){s(this,h),this.head=null,this.tail=null,this.length=0}return l(h,[{key:"push",value:function(p){var m={data:p,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(p){var m={data:p,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var m=this.head,g=""+m.data;m=m.next;)g+=p+m.data;return g}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var m=u.allocUnsafe(p>>>0),g=this.head,v=0;g;)f(g.data,m,v),v+=g.data.length,g=g.next;return m}},{key:"consume",value:function(p,m){var g;return p<this.head.data.length?(g=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):g=p===this.head.data.length?this.shift():m?this._getString(p):this._getBuffer(p),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var m=this.head,g=1,v=m.data;for(p-=v.length;m=m.next;){var D=m.data,w=p>D.length?D.length:p;if(w===D.length?v+=D:v+=D.slice(0,p),(p-=w)==0){w===D.length?(++g,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=D.slice(w));break}++g}return this.length-=g,v}},{key:"_getBuffer",value:function(p){var m=u.allocUnsafe(p),g=this.head,v=1;for(g.data.copy(m),p-=g.data.length;g=g.next;){var D=g.data,w=p>D.length?D.length:p;if(D.copy(m,m.length-p,0,w),(p-=w)==0){w===D.length?(++v,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=D.slice(w));break}++v}return this.length-=v,m}},{key:d,value:function(p,m){return c(this,i({},m,{depth:0,customInspect:!1}))}}]),h}()},{buffer:32,util:29}],74:[function(e,t,n){(function(r){(function(){function i(c,d){var f=this,h=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return h||p?(d?d(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(l,this,c)):r.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(m){!d&&m?f._writableState?f._writableState.errorEmitted?r.nextTick(s,f):(f._writableState.errorEmitted=!0,r.nextTick(o,f,m)):r.nextTick(o,f,m):d?(r.nextTick(s,f),d(m)):r.nextTick(s,f)}),this)}function o(c,d){l(c,d),s(c)}function s(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(c,d){c.emit("error",d)}function u(c,d){var f=c._readableState,h=c._writableState;f&&f.autoDestroy||h&&h.autoDestroy?c.destroy(d):c.emit("error",d)}t.exports={destroy:i,undestroy:a,errorOrDestroy:u}}).call(this)}).call(this,e("_process"))},{_process:63}],75:[function(e,t,n){var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(l){var u=!1;return function(){if(!u){u=!0;for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];l.apply(this,d)}}}function o(){}function s(l){return l.setHeader&&typeof l.abort=="function"}function a(l,u,c){if(typeof u=="function")return a(l,null,u);u||(u={}),c=i(c||o);var d=u.readable||u.readable!==!1&&l.readable,f=u.writable||u.writable!==!1&&l.writable,h=function(){l.writable||m()},p=l._writableState&&l._writableState.finished,m=function(){f=!1,p=!0,d||c.call(l)},g=l._readableState&&l._readableState.endEmitted,v=function(){d=!1,g=!0,f||c.call(l)},D=function(E){c.call(l,E)},w=function(){var E;return d&&!g?(l._readableState&&l._readableState.ended||(E=new r),c.call(l,E)):f&&!p?(l._writableState&&l._writableState.ended||(E=new r),c.call(l,E)):void 0},b=function(){l.req.on("finish",m)};return s(l)?(l.on("complete",m),l.on("abort",w),l.req?b():l.on("request",b)):f&&!l._writableState&&(l.on("end",h),l.on("close",h)),l.on("end",v),l.on("finish",m),u.error!==!1&&l.on("error",D),l.on("close",w),function(){l.removeListener("complete",m),l.removeListener("abort",w),l.removeListener("request",b),l.req&&l.req.removeListener("finish",m),l.removeListener("end",h),l.removeListener("close",h),l.removeListener("finish",m),l.removeListener("end",v),l.removeListener("error",D),l.removeListener("close",w)}}t.exports=a},{"../../../errors":66}],76:[function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(e,t,n){var r;function i(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var o=e("../../../errors").codes,s=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function l(m){if(m)throw m}function u(m){return m.setHeader&&typeof m.abort=="function"}function c(m,g,v,D){D=i(D);var w=!1;m.on("close",function(){w=!0}),r===void 0&&(r=e("./end-of-stream")),r(m,{readable:g,writable:v},function(E){if(E)return D(E);w=!0,D()});var b=!1;return function(E){if(!w&&!b)return b=!0,u(m)?m.abort():typeof m.destroy=="function"?m.destroy():void D(E||new a("pipe"))}}function d(m){m()}function f(m,g){return m.pipe(g)}function h(m){return m.length?typeof m[m.length-1]!="function"?l:m.pop():l}function p(){for(var m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];var D,w=h(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new s("streams");var b=g.map(function(E,C){var M=C<g.length-1;return c(E,M,C>0,function(S){D||(D=S),S&&b.forEach(d),M||(b.forEach(d),w(D))})});return g.reduce(f)}t.exports=p},{"../../../errors":66,"./end-of-stream":75}],78:[function(e,t,n){var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function i(s,a,l){return s.highWaterMark!=null?s.highWaterMark:a?s[l]:null}function o(s,a,l,u){var c=i(a,u,l);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new r(u?l:"highWaterMark",c);return Math.floor(c)}return s.objectMode?16:16384}t.exports={getHighWaterMark:o}},{"../../../errors":66}],79:[function(e,t,n){t.exports=e("events").EventEmitter},{events:35}],80:[function(e,t,n){var r=e("safe-buffer").Buffer,i=r.isEncoding||function(b){switch((b=""+b)&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(b){if(!b)return"utf8";for(var E;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(E)return;b=(""+b).toLowerCase(),E=!0}}function s(b){var E=o(b);if(typeof E!="string"&&(r.isEncoding===i||!i(b)))throw new Error("Unknown encoding: "+b);return E||b}function a(b){var E;switch(this.encoding=s(b),this.encoding){case"utf16le":this.text=p,this.end=m,E=4;break;case"utf8":this.fillLast=d,E=4;break;case"base64":this.text=g,this.end=v,E=3;break;default:return this.write=D,void(this.end=w)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(E)}function l(b){return b<=127?0:b>>5==6?2:b>>4==14?3:b>>3==30?4:b>>6==2?-1:-2}function u(b,E,C){var M=E.length-1;if(M<C)return 0;var S=l(E[M]);return S>=0?(S>0&&(b.lastNeed=S-1),S):--M<C||S===-2?0:(S=l(E[M]))>=0?(S>0&&(b.lastNeed=S-2),S):--M<C||S===-2?0:(S=l(E[M]))>=0?(S>0&&(S===2?S=0:b.lastNeed=S-3),S):0}function c(b,E,C){if((192&E[0])!=128)return b.lastNeed=0,"\uFFFD";if(b.lastNeed>1&&E.length>1){if((192&E[1])!=128)return b.lastNeed=1,"\uFFFD";if(b.lastNeed>2&&E.length>2&&(192&E[2])!=128)return b.lastNeed=2,"\uFFFD"}}function d(b){var E=this.lastTotal-this.lastNeed,C=c(this,b);return C!==void 0?C:this.lastNeed<=b.length?(b.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,E,0,b.length),void(this.lastNeed-=b.length))}function f(b,E){var C=u(this,b,E);if(!this.lastNeed)return b.toString("utf8",E);this.lastTotal=C;var M=b.length-(C-this.lastNeed);return b.copy(this.lastChar,0,M),b.toString("utf8",E,M)}function h(b){var E=b&&b.length?this.write(b):"";return this.lastNeed?E+"\uFFFD":E}function p(b,E){if((b.length-E)%2==0){var C=b.toString("utf16le",E);if(C){var M=C.charCodeAt(C.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",E,b.length-1)}function m(b){var E=b&&b.length?this.write(b):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,C)}return E}function g(b,E){var C=(b.length-E)%3;return C===0?b.toString("base64",E):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",E,b.length-C))}function v(b){var E=b&&b.length?this.write(b):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function D(b){return b.toString(this.encoding)}function w(b){return b&&b.length?this.write(b):""}n.StringDecoder=a,a.prototype.write=function(b){if(b.length===0)return"";var E,C;if(this.lastNeed){if((E=this.fillLast(b))===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<b.length?E?E+this.text(b,C):this.text(b,C):E||""},a.prototype.end=h,a.prototype.text=f,a.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length}},{"safe-buffer":64}],81:[function(e,t,n){(function(r){(function(){function i(s,a){if(o("noDeprecation"))return s;var l=!1;function u(){if(!l){if(o("throwDeprecation"))throw new Error(a);o("traceDeprecation")?console.trace(a):console.warn(a),l=!0}return s.apply(this,arguments)}return u}function o(s){try{if(!r.localStorage)return!1}catch{return!1}var a=r.localStorage[s];return a!=null&&String(a).toLowerCase()==="true"}t.exports=i}).call(this)}).call(this,en!==void 0?en:typeof self<"u"?self:typeof window<"u"?window:{})},{}],82:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],83:[function(e,t,n){var r=e("is-arguments"),i=e("is-generator-function"),o=e("which-typed-array"),s=e("is-typed-array");function a(U){return U.call.bind(U)}var l=typeof BigInt<"u",u=typeof Symbol<"u",c=a(Object.prototype.toString),d=a(Number.prototype.valueOf),f=a(String.prototype.valueOf),h=a(Boolean.prototype.valueOf);if(l)var p=a(BigInt.prototype.valueOf);if(u)var m=a(Symbol.prototype.valueOf);function g(U,se){if(typeof U!="object")return!1;try{return se(U),!0}catch{return!1}}function v(U){return typeof Promise<"u"&&U instanceof Promise||U!==null&&typeof U=="object"&&typeof U.then=="function"&&typeof U.catch=="function"}function D(U){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(U):s(U)||W(U)}function w(U){return o(U)==="Uint8Array"}function b(U){return o(U)==="Uint8ClampedArray"}function E(U){return o(U)==="Uint16Array"}function C(U){return o(U)==="Uint32Array"}function M(U){return o(U)==="Int8Array"}function S(U){return o(U)==="Int16Array"}function I(U){return o(U)==="Int32Array"}function k(U){return o(U)==="Float32Array"}function y(U){return o(U)==="Float64Array"}function T(U){return o(U)==="BigInt64Array"}function V(U){return o(U)==="BigUint64Array"}function O(U){return c(U)==="[object Map]"}function N(U){return typeof Map<"u"&&(O.working?O(U):U instanceof Map)}function P(U){return c(U)==="[object Set]"}function K(U){return typeof Set<"u"&&(P.working?P(U):U instanceof Set)}function Z(U){return c(U)==="[object WeakMap]"}function H(U){return typeof WeakMap<"u"&&(Z.working?Z(U):U instanceof WeakMap)}function ne(U){return c(U)==="[object WeakSet]"}function $(U){return ne(U)}function J(U){return c(U)==="[object ArrayBuffer]"}function ie(U){return typeof ArrayBuffer<"u"&&(J.working?J(U):U instanceof ArrayBuffer)}function X(U){return c(U)==="[object DataView]"}function W(U){return typeof DataView<"u"&&(X.working?X(U):U instanceof DataView)}n.isArgumentsObject=r,n.isGeneratorFunction=i,n.isTypedArray=s,n.isPromise=v,n.isArrayBufferView=D,n.isUint8Array=w,n.isUint8ClampedArray=b,n.isUint16Array=E,n.isUint32Array=C,n.isInt8Array=M,n.isInt16Array=S,n.isInt32Array=I,n.isFloat32Array=k,n.isFloat64Array=y,n.isBigInt64Array=T,n.isBigUint64Array=V,O.working=typeof Map<"u"&&O(new Map),n.isMap=N,P.working=typeof Set<"u"&&P(new Set),n.isSet=K,Z.working=typeof WeakMap<"u"&&Z(new WeakMap),n.isWeakMap=H,ne.working=typeof WeakSet<"u"&&ne(new WeakSet),n.isWeakSet=$,J.working=typeof ArrayBuffer<"u"&&J(new ArrayBuffer),n.isArrayBuffer=ie,X.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&X(new DataView(new ArrayBuffer(1),0,1)),n.isDataView=W;var Y=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(U){return c(U)==="[object SharedArrayBuffer]"}function le(U){return Y!==void 0&&(re.working===void 0&&(re.working=re(new Y)),re.working?re(U):U instanceof Y)}function ue(U){return c(U)==="[object AsyncFunction]"}function Q(U){return c(U)==="[object Map Iterator]"}function x(U){return c(U)==="[object Set Iterator]"}function q(U){return c(U)==="[object Generator]"}function F(U){return c(U)==="[object WebAssembly.Module]"}function B(U){return g(U,d)}function L(U){return g(U,f)}function z(U){return g(U,h)}function ee(U){return l&&g(U,p)}function _(U){return u&&g(U,m)}function A(U){return B(U)||L(U)||z(U)||ee(U)||_(U)}function j(U){return typeof Uint8Array<"u"&&(ie(U)||le(U))}n.isSharedArrayBuffer=le,n.isAsyncFunction=ue,n.isMapIterator=Q,n.isSetIterator=x,n.isGeneratorObject=q,n.isWebAssemblyCompiledModule=F,n.isNumberObject=B,n.isStringObject=L,n.isBooleanObject=z,n.isBigIntObject=ee,n.isSymbolObject=_,n.isBoxedPrimitive=A,n.isAnyArrayBuffer=j,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(U){Object.defineProperty(n,U,{enumerable:!1,value:function(){throw new Error(U+" is not supported in userland")}})})},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(e,t,n){(function(r){(function(){var i=Object.getOwnPropertyDescriptors||function(W){for(var Y=Object.keys(W),re={},le=0;le<Y.length;le++)re[Y[le]]=Object.getOwnPropertyDescriptor(W,Y[le]);return re},o=/%[sdj%]/g;n.format=function(W){if(!S(W)){for(var Y=[],re=0;re<arguments.length;re++)Y.push(u(arguments[re]));return Y.join(" ")}re=1;for(var le=arguments,ue=le.length,Q=String(W).replace(o,function(q){if(q==="%%")return"%";if(re>=ue)return q;switch(q){case"%s":return String(le[re++]);case"%d":return Number(le[re++]);case"%j":try{return JSON.stringify(le[re++])}catch{return"[Circular]"}default:return q}}),x=le[re];re<ue;x=le[++re])E(x)||!T(x)?Q+=" "+x:Q+=" "+u(x);return Q},n.deprecate=function(W,Y){if(r!==void 0&&r.noDeprecation===!0)return W;if(r===void 0)return function(){return n.deprecate(W,Y).apply(this,arguments)};var re=!1;function le(){if(!re){if(r.throwDeprecation)throw new Error(Y);r.traceDeprecation?console.trace(Y):console.error(Y),re=!0}return W.apply(this,arguments)}return le};var s={},a=/^$/;if(r.env.NODE_DEBUG){var l=r.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i")}function u(W,Y){var re={seen:[],stylize:d};return arguments.length>=3&&(re.depth=arguments[2]),arguments.length>=4&&(re.colors=arguments[3]),b(Y)?re.showHidden=Y:Y&&n._extend(re,Y),k(re.showHidden)&&(re.showHidden=!1),k(re.depth)&&(re.depth=2),k(re.colors)&&(re.colors=!1),k(re.customInspect)&&(re.customInspect=!0),re.colors&&(re.stylize=c),h(re,W,re.depth)}function c(W,Y){var re=u.styles[Y];return re?"\x1B["+u.colors[re][0]+"m"+W+"\x1B["+u.colors[re][1]+"m":W}function d(W,Y){return W}function f(W){var Y={};return W.forEach(function(re,le){Y[re]=!0}),Y}function h(W,Y,re){if(W.customInspect&&Y&&N(Y.inspect)&&Y.inspect!==n.inspect&&(!Y.constructor||Y.constructor.prototype!==Y)){var le=Y.inspect(re,W);return S(le)||(le=h(W,le,re)),le}var ue=p(W,Y);if(ue)return ue;var Q=Object.keys(Y),x=f(Q);if(W.showHidden&&(Q=Object.getOwnPropertyNames(Y)),O(Y)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return m(Y);if(Q.length===0){if(N(Y)){var q=Y.name?": "+Y.name:"";return W.stylize("[Function"+q+"]","special")}if(y(Y))return W.stylize(RegExp.prototype.toString.call(Y),"regexp");if(V(Y))return W.stylize(Date.prototype.toString.call(Y),"date");if(O(Y))return m(Y)}var F,B="",L=!1,z=["{","}"];return w(Y)&&(L=!0,z=["[","]"]),N(Y)&&(B=" [Function"+(Y.name?": "+Y.name:"")+"]"),y(Y)&&(B=" "+RegExp.prototype.toString.call(Y)),V(Y)&&(B=" "+Date.prototype.toUTCString.call(Y)),O(Y)&&(B=" "+m(Y)),Q.length!==0||L&&Y.length!=0?re<0?y(Y)?W.stylize(RegExp.prototype.toString.call(Y),"regexp"):W.stylize("[Object]","special"):(W.seen.push(Y),F=L?g(W,Y,re,x,Q):Q.map(function(ee){return v(W,Y,re,x,ee,L)}),W.seen.pop(),D(F,B,z)):z[0]+B+z[1]}function p(W,Y){if(k(Y))return W.stylize("undefined","undefined");if(S(Y)){var re="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(re,"string")}return M(Y)?W.stylize(""+Y,"number"):b(Y)?W.stylize(""+Y,"boolean"):E(Y)?W.stylize("null","null"):void 0}function m(W){return"["+Error.prototype.toString.call(W)+"]"}function g(W,Y,re,le,ue){for(var Q=[],x=0,q=Y.length;x<q;++x)$(Y,String(x))?Q.push(v(W,Y,re,le,String(x),!0)):Q.push("");return ue.forEach(function(F){F.match(/^\d+$/)||Q.push(v(W,Y,re,le,F,!0))}),Q}function v(W,Y,re,le,ue,Q){var x,q,F;if((F=Object.getOwnPropertyDescriptor(Y,ue)||{value:Y[ue]}).get?q=F.set?W.stylize("[Getter/Setter]","special"):W.stylize("[Getter]","special"):F.set&&(q=W.stylize("[Setter]","special")),$(le,ue)||(x="["+ue+"]"),q||(W.seen.indexOf(F.value)<0?(q=E(re)?h(W,F.value,null):h(W,F.value,re-1)).indexOf(`
`)>-1&&(q=Q?q.split(`
`).map(function(B){return"  "+B}).join(`
`).slice(2):`
`+q.split(`
`).map(function(B){return"   "+B}).join(`
`)):q=W.stylize("[Circular]","special")),k(x)){if(Q&&ue.match(/^\d+$/))return q;(x=JSON.stringify(""+ue)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(x=x.slice(1,-1),x=W.stylize(x,"name")):(x=x.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),x=W.stylize(x,"string"))}return x+": "+q}function D(W,Y,re){return W.reduce(function(le,ue){return ue.indexOf(`
`),le+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?re[0]+(Y===""?"":Y+`
 `)+" "+W.join(`,
  `)+" "+re[1]:re[0]+Y+" "+W.join(", ")+" "+re[1]}function w(W){return Array.isArray(W)}function b(W){return typeof W=="boolean"}function E(W){return W===null}function C(W){return W==null}function M(W){return typeof W=="number"}function S(W){return typeof W=="string"}function I(W){return typeof W=="symbol"}function k(W){return W===void 0}function y(W){return T(W)&&K(W)==="[object RegExp]"}function T(W){return typeof W=="object"&&W!==null}function V(W){return T(W)&&K(W)==="[object Date]"}function O(W){return T(W)&&(K(W)==="[object Error]"||W instanceof Error)}function N(W){return typeof W=="function"}function P(W){return W===null||typeof W=="boolean"||typeof W=="number"||typeof W=="string"||typeof W=="symbol"||W===void 0}function K(W){return Object.prototype.toString.call(W)}function Z(W){return W<10?"0"+W.toString(10):W.toString(10)}n.debuglog=function(W){if(W=W.toUpperCase(),!s[W])if(a.test(W)){var Y=r.pid;s[W]=function(){var re=n.format.apply(n,arguments);console.error("%s %d: %s",W,Y,re)}}else s[W]=function(){};return s[W]},n.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.types=e("./support/types"),n.isArray=w,n.isBoolean=b,n.isNull=E,n.isNullOrUndefined=C,n.isNumber=M,n.isString=S,n.isSymbol=I,n.isUndefined=k,n.isRegExp=y,n.types.isRegExp=y,n.isObject=T,n.isDate=V,n.types.isDate=V,n.isError=O,n.types.isNativeError=O,n.isFunction=N,n.isPrimitive=P,n.isBuffer=e("./support/isBuffer");var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ne(){var W=new Date,Y=[Z(W.getHours()),Z(W.getMinutes()),Z(W.getSeconds())].join(":");return[W.getDate(),H[W.getMonth()],Y].join(" ")}function $(W,Y){return Object.prototype.hasOwnProperty.call(W,Y)}n.log=function(){console.log("%s - %s",ne(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(W,Y){if(!Y||!T(Y))return W;for(var re=Object.keys(Y),le=re.length;le--;)W[re[le]]=Y[re[le]];return W};var J=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function ie(W,Y){if(!W){var re=new Error("Promise was rejected with a falsy value");re.reason=W,W=re}return Y(W)}function X(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');function Y(){for(var re=[],le=0;le<arguments.length;le++)re.push(arguments[le]);var ue=re.pop();if(typeof ue!="function")throw new TypeError("The last argument must be of type Function");var Q=this,x=function(){return ue.apply(Q,arguments)};W.apply(this,re).then(function(q){r.nextTick(x.bind(null,null,q))},function(q){r.nextTick(ie.bind(null,q,x))})}return Object.setPrototypeOf(Y,Object.getPrototypeOf(W)),Object.defineProperties(Y,i(W)),Y}n.promisify=function(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');if(J&&W[J]){var Y;if(typeof(Y=W[J])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Y,J,{value:Y,enumerable:!1,writable:!1,configurable:!0}),Y}function Y(){for(var re,le,ue=new Promise(function(q,F){re=q,le=F}),Q=[],x=0;x<arguments.length;x++)Q.push(arguments[x]);Q.push(function(q,F){q?le(q):re(F)});try{W.apply(this,Q)}catch(q){le(q)}return ue}return Object.setPrototypeOf(Y,Object.getPrototypeOf(W)),J&&Object.defineProperty(Y,J,{value:Y,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Y,i(W))},n.promisify.custom=J,n.callbackify=X}).call(this)}).call(this,e("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(e,t,n){(function(r){(function(){var i=e("for-each"),o=e("available-typed-arrays"),s=e("call-bind/callBound"),a=e("gopd"),l=s("Object.prototype.toString"),u=e("has-tostringtag/shams")(),c=typeof globalThis>"u"?r:globalThis,d=o(),f=s("String.prototype.slice"),h={},p=Object.getPrototypeOf;u&&a&&p&&i(d,function(v){if(typeof c[v]=="function"){var D=new c[v];if(Symbol.toStringTag in D){var w=p(D),b=a(w,Symbol.toStringTag);if(!b){var E=p(w);b=a(E,Symbol.toStringTag)}h[v]=b.get}}});var m=function(v){var D=!1;return i(h,function(w,b){if(!D)try{var E=w.call(v);E===b&&(D=E)}catch{}}),D},g=e("is-typed-array");t.exports=function(v){return!!g(v)&&(u&&Symbol.toStringTag in v?m(v):f(l(v),8,-1))}}).call(this)}).call(this,en!==void 0?en:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20);Bm=X2.exports;Un=Dd||(Dd={}),Un[Un.AUTO=-1]="AUTO",Un[Un.NONE=0]="NONE",Un[Un.SUB=1]="SUB",Un[Un.UP=2]="UP",Un[Un.AVERAGE=3]="AVERAGE",Un[Un.PATH=4]="PATH",li=bl||(bl={}),li[li.GRAYSCALE=0]="GRAYSCALE",li[li.COLOR=2]="COLOR",li[li.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",li[li.COLOR_ALPHA=6]="COLOR_ALPHA";eE={exports:{}},Bb={};Os={},vr={},vo={};bo={};Ps={},nr={};(function(e){(function(){var t={};function n(){typeof process<"u"||console.log.apply(console,arguments)}e.exports=t,function(r,i){(function(){var o=function(){function l(u){this.message="JPEG error: "+u}return l.prototype=new Error,l.prototype.name="JpegError",l.constructor=l,l}(),s=function(){var l=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),u=4017,c=799,d=3406,f=2276,h=1567,p=3784,m=5793,g=2896;function v(S){S==null&&(S={}),S.w==null&&(S.w=-1),this.V=S.n,this.N=S.w}function D(S,I){for(var k,y,T,V=0,O=[],N=16;N>0&&!S[N-1];)N--;O.push({children:[],index:0});var P=O[0];for(k=0;k<N;k++){for(y=0;y<S[k];y++){for((P=O.pop()).children[P.index]=I[V];P.index>0;)P=O.pop();for(P.index++,O.push(P);O.length<=k;)O.push(T={children:[],index:0}),P.children[P.index]=T.children,P=T;V++}k+1<N&&(O.push(T={children:[],index:0}),P.children[P.index]=T.children,P=T)}return O[0].children}function w(S,I,k){return 64*((S.P+1)*I+k)}function b(S,I,k,y,T,V,O,N,P,K){K==null&&(K=!1);var Z,H,ne,$,J,ie,X,W,Y,re,le,ue=k.m,Q=k.Z,x=I,q=0,F=0,B=0,L=0,z=0,ee=0;function _(){if(F>0)return F--,q>>F&1;if((q=S[I++])===255){var we=S[I++];if(we){if(we===220&&K){var Ce=a(S,I+=2);if(I+=2,Ce>0&&Ce!==k.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",Ce)}else if(we===217){if(K){var xe=8*z;if(xe>0&&xe<k.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",xe)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new o("unexpected marker")}}return F=7,q>>>7}function A(we){for(var Ce=we;;){switch(typeof(Ce=Ce[_()])){case"number":return Ce;case"object":continue}throw new o("invalid huffman sequence")}}function j(we){for(var Ce=0;we>0;)Ce=Ce<<1|_(),we--;return Ce}function U(we){if(we===1)return _()===1?1:-1;var Ce=j(we);return Ce>=1<<we-1?Ce:Ce+(-1<<we)+1}function se(we,Ce,xe,Be,Oe){var Pe=xe%ue;z=(xe/ue|0)*we.A+Be;var We=Pe*we.h+Oe;Ce(we,w(we,z,We))}function ce(we,Ce,xe){z=xe/we.P|0;var Be=xe%we.P;Ce(we,w(we,z,Be))}var De=y.length;for(X=Q?V===0?N===0?function(we,Ce){var xe=A(we.J),Be=xe===0?0:U(xe)<<P;we.D[Ce]=we.Q+=Be}:function(we,Ce){we.D[Ce]|=_()<<P}:N===0?function(we,Ce){if(B>0)B--;else for(var xe=V,Be=O;xe<=Be;){var Oe=A(we.i),Pe=15&Oe,We=Oe>>4;if(Pe!==0){var ke=l[xe+=We];we.D[Ce+ke]=U(Pe)*(1<<P),xe++}else{if(We<15){B=j(We)+(1<<We)-1;break}xe+=16}}}:function(we,Ce){for(var xe,Be,Oe=V,Pe=O,We=0;Oe<=Pe;){var ke=Ce+l[Oe],te=we.D[ke]<0?-1:1;switch(L){case 0:if(We=(Be=A(we.i))>>4,(xe=15&Be)==0)We<15?(B=j(We)+(1<<We),L=4):(We=16,L=1);else{if(xe!==1)throw new o("invalid ACn encoding");Z=U(xe),L=We?2:3}continue;case 1:case 2:we.D[ke]?we.D[ke]+=te*(_()<<P):--We==0&&(L=L===2?3:0);break;case 3:we.D[ke]?we.D[ke]+=te*(_()<<P):(we.D[ke]=Z<<P,L=0);break;case 4:we.D[ke]&&(we.D[ke]+=te*(_()<<P))}Oe++}L===4&&--B==0&&(L=0)}:function(we,Ce){var xe=A(we.J),Be=xe===0?0:U(xe),Oe=1;for(we.D[Ce]=we.Q+=Be;Oe<64;){var Pe=A(we.i),We=15&Pe,ke=Pe>>4;if(We!==0){var te=l[Oe+=ke];we.D[Ce+te]=U(We),Oe++}else{if(ke<15)break;Oe+=16}}},Y=De===1?y[0].P*y[0].c:ue*k.R;ee<=Y;){var Ie=T?Math.min(Y-ee,T):Y;if(Ie>0){for(ne=0;ne<De;ne++)y[ne].Q=0;if(B=0,De===1)for(H=y[0],ie=0;ie<Ie;ie++)ce(H,X,ee),ee++;else for(ie=0;ie<Ie;ie++){for(ne=0;ne<De;ne++)for(re=(H=y[ne]).h,le=H.A,$=0;$<le;$++)for(J=0;J<re;J++)se(H,X,ee,$,J);ee++}}if(F=0,!(W=M(S,I))||(W.u&&(I=W.offset),!(W.M>=65488&&W.M<=65495)))break;I+=2}return I-x}function E(S,I,k){var y,T,V,O,N,P,K,Z,H,ne,$,J,ie,X,W,Y,re,le=S.$,ue=S.D;if(!le)throw new o("missing required Quantization Table.");for(var Q=0;Q<64;Q+=8)H=ue[I+Q],ne=ue[I+Q+1],$=ue[I+Q+2],J=ue[I+Q+3],ie=ue[I+Q+4],X=ue[I+Q+5],W=ue[I+Q+6],Y=ue[I+Q+7],H*=le[Q],ne|$|J|ie|X|W|Y?(ne*=le[Q+1],$*=le[Q+2],J*=le[Q+3],ie*=le[Q+4],X*=le[Q+5],W*=le[Q+6],Y*=le[Q+7],T=(y=(y=m*H+128>>8)+(T=m*ie+128>>8)+1>>1)-T,re=(V=$)*p+(O=W)*h+128>>8,V=V*h-O*p+128>>8,K=(N=(N=g*(ne-Y)+128>>8)+(K=X<<4)+1>>1)-K,P=(Z=(Z=g*(ne+Y)+128>>8)+(P=J<<4)+1>>1)-P,O=(y=y+(O=re)+1>>1)-O,V=(T=T+V+1>>1)-V,re=N*f+Z*d+2048>>12,N=N*d-Z*f+2048>>12,Z=re,re=P*c+K*u+2048>>12,P=P*u-K*c+2048>>12,K=re,k[Q]=y+Z,k[Q+7]=y-Z,k[Q+1]=T+K,k[Q+6]=T-K,k[Q+2]=V+P,k[Q+5]=V-P,k[Q+3]=O+N,k[Q+4]=O-N):(re=m*H+512>>10,k[Q]=re,k[Q+1]=re,k[Q+2]=re,k[Q+3]=re,k[Q+4]=re,k[Q+5]=re,k[Q+6]=re,k[Q+7]=re);for(var x=0;x<8;++x)H=k[x],(ne=k[x+8])|($=k[x+16])|(J=k[x+24])|(ie=k[x+32])|(X=k[x+40])|(W=k[x+48])|(Y=k[x+56])?(T=(y=4112+((y=m*H+2048>>12)+(T=m*ie+2048>>12)+1>>1))-T,re=(V=$)*p+(O=W)*h+2048>>12,V=V*h-O*p+2048>>12,O=re,K=(N=(N=g*(ne-Y)+2048>>12)+(K=X)+1>>1)-K,P=(Z=(Z=g*(ne+Y)+2048>>12)+(P=J)+1>>1)-P,re=N*f+Z*d+2048>>12,N=N*d-Z*f+2048>>12,Z=re,re=P*c+K*u+2048>>12,P=P*u-K*c+2048>>12,(H=(y=y+O+1>>1)+Z)<16?H=0:H>=4080?H=255:H>>=4,(ne=(T=T+V+1>>1)+(K=re))<16?ne=0:ne>=4080?ne=255:ne>>=4,($=(V=T-V)+P)<16?$=0:$>=4080?$=255:$>>=4,(J=(O=y-O)+N)<16?J=0:J>=4080?J=255:J>>=4,(ie=O-N)<16?ie=0:ie>=4080?ie=255:ie>>=4,(X=V-P)<16?X=0:X>=4080?X=255:X>>=4,(W=T-K)<16?W=0:W>=4080?W=255:W>>=4,(Y=y-Z)<16?Y=0:Y>=4080?Y=255:Y>>=4,ue[I+x]=H,ue[I+x+8]=ne,ue[I+x+16]=$,ue[I+x+24]=J,ue[I+x+32]=ie,ue[I+x+40]=X,ue[I+x+48]=W,ue[I+x+56]=Y):(re=(re=m*H+8192>>14)<-2040?0:re>=2024?255:re+2056>>4,ue[I+x]=re,ue[I+x+8]=re,ue[I+x+16]=re,ue[I+x+24]=re,ue[I+x+32]=re,ue[I+x+40]=re,ue[I+x+48]=re,ue[I+x+56]=re)}function C(S,I){for(var k=I.P,y=I.c,T=new Int16Array(64),V=0;V<y;V++)for(var O=0;O<k;O++)E(I,w(I,V,O),T);return I.D}function M(S,I,k){k==null&&(k=I);var y=S.length-1,T=k<I?k:I;if(I>=y)return null;var V=a(S,I);if(V>=65472&&V<=65534)return{u:null,M:V,offset:I};for(var O=a(S,T);!(O>=65472&&O<=65534);){if(++T>=y)return null;O=a(S,T)}return{u:V.toString(16),M:O,offset:T}}return v.prototype={parse(S,I){I==null&&(I={});var k,y,T=I.F,V=0,O=null,N=null,P=0;function K(){var ae=a(S,V),ge=(V+=2)+ae-2,G=M(S,ge,V);G&&G.u&&(ge=G.offset);var Ee=S.subarray(V,ge);return V+=Ee.length,Ee}function Z(ae){for(var ge=Math.ceil(ae.o/8/ae.X),G=Math.ceil(ae.s/8/ae.B),Ee=0;Ee<ae.W.length;Ee++){ce=ae.W[Ee];var Ue=Math.ceil(Math.ceil(ae.o/8)*ce.h/ae.X),R=Math.ceil(Math.ceil(ae.s/8)*ce.A/ae.B),ye=ge*ce.h,fe=64*(G*ce.A)*(ye+1);ce.D=new Int16Array(fe),ce.P=Ue,ce.c=R}ae.m=ge,ae.R=G}var H=[],ne=[],$=[],J=a(S,V);if(V+=2,J!==65496)throw new o("SOI not found");J=a(S,V),V+=2;e:for(;J!==65497;){var ie,X,W;switch(J){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Y=K();J===65504&&Y[0]===74&&Y[1]===70&&Y[2]===73&&Y[3]===70&&Y[4]===0&&(O={version:{d:Y[5],T:Y[6]},K:Y[7],j:Y[8]<<8|Y[9],H:Y[10]<<8|Y[11],S:Y[12],I:Y[13],C:Y.subarray(14,14+3*Y[12]*Y[13])}),J===65518&&Y[0]===65&&Y[1]===100&&Y[2]===111&&Y[3]===98&&Y[4]===101&&(N={version:Y[5]<<8|Y[6],k:Y[7]<<8|Y[8],q:Y[9]<<8|Y[10],a:Y[11]});break;case 65499:for(var re=a(S,V)+(V+=2)-2;V<re;){var le=S[V++],ue=new Uint16Array(64);if(le>>4){if(le>>4!=1)throw new o("DQT - invalid table spec");for(X=0;X<64;X++)ue[l[X]]=a(S,V),V+=2}else for(X=0;X<64;X++)ue[l[X]]=S[V++];H[15&le]=ue}break;case 65472:case 65473:case 65474:if(k)throw new o("Only single frame JPEGs supported");V+=2,(k={}).G=J===65473,k.Z=J===65474,k.precision=S[V++];var Q,x=a(S,V),q=0,F=0;V+=2,k.s=T||x,k.o=a(S,V),V+=2,k.W=[],k._={};var B=S[V++];for(ie=0;ie<B;ie++){Q=S[V];var L=S[V+1]>>4,z=15&S[V+1];q<L&&(q=L),F<z&&(F=z);var ee=S[V+2];W=k.W.push({h:L,A:z,L:ee,$:null}),k._[Q]=W-1,V+=3}k.X=q,k.B=F,Z(k);break;case 65476:var _=a(S,V);for(V+=2,ie=2;ie<_;){var A=S[V++],j=new Uint8Array(16),U=0;for(X=0;X<16;X++,V++)U+=j[X]=S[V];var se=new Uint8Array(U);for(X=0;X<U;X++,V++)se[X]=S[V];ie+=17+U,(A>>4?ne:$)[15&A]=D(j,se)}break;case 65501:y=a(S,V+=2),V+=2;break;case 65498:var ce,De=++P==1&&!T;V+=2;var Ie=S[V++],we=[];for(ie=0;ie<Ie;ie++){var Ce=S[V++],xe=k._[Ce];(ce=k.W[xe]).index=Ce;var Be=S[V++];ce.J=$[Be>>4],ce.i=ne[15&Be],we.push(ce)}var Oe=S[V++],Pe=S[V++],We=S[V++];try{var ke=b(S,V,k,we,y,Oe,Pe,We>>4,15&We,De);V+=ke}catch(ae){if(ae instanceof DNLMarkerError)return this.parse(S,{F:ae.s});if(ae instanceof EOIMarkerError)break e;throw ae}break;case 65500:V+=4;break;case 65535:S[V]!==255&&V--;break;default:var te=M(S,V-2,V-3);if(te&&te.u){V=te.offset;break}if(V>=S.length-1)break e;throw new o("JpegImage.parse - unknown marker: "+J.toString(16))}J=a(S,V),V+=2}for(this.width=k.o,this.height=k.s,this.g=O,this.b=N,this.W=[],ie=0;ie<k.W.length;ie++){var Me=H[(ce=k.W[ie]).L];Me&&(ce.$=Me),this.W.push({index:ce.index,e:C(0,ce),l:ce.h/k.X,t:ce.A/k.B,P:ce.P,c:ce.c})}this.p=this.W.length},Y(S,I,k){k==null&&(k=!1);var y,T,V,O,N,P,K,Z,H,ne,$,J,ie=this.width/S,X=this.height/I,W=0,Y=this.W.length,re=S*I*Y,le=new Uint8ClampedArray(re),ue=new Uint32Array(S),Q=4294967288;for(K=0;K<Y;K++){if(T=(y=this.W[K]).l*ie,V=y.t*X,W=K,$=y.e,O=y.P+1<<3,T!==J){for(N=0;N<S;N++)Z=0|N*T,ue[N]=(Z&Q)<<3|7&Z;J=T}for(P=0;P<I;P++)for(ne=O*((Z=0|P*V)&Q)|(7&Z)<<3,N=0;N<S;N++)le[W]=$[ne+ue[N]],W+=Y}var x=this.V;if(k||Y!==4||x||(x=new Int32Array([-256,255,-256,255,-256,255,-256,255])),x)for(K=0;K<re;)for(Z=0,H=0;Z<Y;Z++,K++,H+=2)le[K]=(le[K]*x[H]>>8)+x[H+1];return le},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(S){for(var I,k,y,T=0,V=S.length;T<V;T+=3)I=S[T],k=S[T+1],y=S[T+2],S[T]=I-179.456+1.402*y,S[T+1]=I+135.459-.344*k-.714*y,S[T+2]=I-226.816+1.772*k;return S},O:function(S){for(var I,k,y,T,V=0,O=0,N=S.length;O<N;O+=4)I=S[O],k=S[O+1],y=S[O+2],T=S[O+3],S[V++]=k*(-660635669420364e-19*k+.000437130475926232*y-54080610064599e-18*I+.00048449797120281*T-.154362151871126)-122.67195406894+y*(-.000957964378445773*y+.000817076911346625*I-.00477271405408747*T+1.53380253221734)+I*(.000961250184130688*I-.00266257332283933*T+.48357088451265)+T*(-.000336197177618394*T+.484791561490776),S[V++]=107.268039397724+k*(219927104525741e-19*k-.000640992018297945*y+.000659397001245577*I+.000426105652938837*T-.176491792462875)+y*(-.000778269941513683*y+.00130872261408275*I+.000770482631801132*T-.151051492775562)+I*(.00126935368114843*I-.00265090189010898*T+.25802910206845)+T*(-.000318913117588328*T-.213742400323665),S[V++]=k*(-.000570115196973677*k-263409051004589e-19*y+.0020741088115012*I-.00288260236853442*T+.814272968359295)-20.810012546947+y*(-153496057440975e-19*y-.000132689043961446*I+.000560833691242812*T-.195152027534049)+I*(.00174418132927582*I-.00255243321439347*T+.116935020465145)+T*(-.000343531996510555*T+.24165260232407);return S.subarray(0,V)},r:function(S){for(var I,k,y,T=0,V=S.length;T<V;T+=4)I=S[T],k=S[T+1],y=S[T+2],S[T]=434.456-I-1.402*y,S[T+1]=119.541-I+.344*k+.714*y,S[T+2]=481.816-I-1.772*k;return S},U:function(S){for(var I,k,y,T,V=0,O=0,N=S.length;O<N;O+=4)I=S[O],k=S[O+1],y=S[O+2],T=S[O+3],S[V++]=255+I*(-6747147073602441e-20*I+.0008379262121013727*k+.0002894718188643294*y+.003264231057537806*T-1.1185611867203937)+k*(26374107616089405e-21*k-8626949158638572e-20*y-.0002748769067499491*T-.02155688794978967)+y*(-3878099212869363e-20*y-.0003267808279485286*T+.0686742238595345)-T*(.0003361971776183937*T+.7430659151342254),S[V++]=255+I*(.00013596372813588848*I+.000924537132573585*k+.00010567359618683593*y+.0004791864687436512*T-.3109689587515875)+k*(-.00023545346108370344*k+.0002702845253534714*y+.0020200308977307156*T-.7488052167015494)+y*(6834815998235662e-20*y+.00015168452363460973*T-.09751927774728933)-T*(.0003189131175883281*T+.7364883807733168),S[V++]=255+I*(13598650411385307e-21*I+.00012423956175490851*k+.0004751985097583589*y-36729317476630422e-22*T-.05562186980264034)+k*(.00016141380598724676*k+.0009692239130725186*y+.0007782692450036253*T-.44015232367526463)+y*(5068882914068769e-22*y+.0017778369011375071*T-.7591454649749609)-T*(.0003435319965105553*T+.7063770186160144);return S.subarray(0,V)},getData:function(S){var I=S.width,k=S.height,y=S.forceRGB,T=S.isSourcePDF;if(this.p>4)throw new o("Unsupported color mode");var V=this.Y(I,k,T);if(this.p===1&&y){for(var O=V.length,N=new Uint8ClampedArray(3*O),P=0,K=0;K<O;K++){var Z=V[K];N[P++]=Z,N[P++]=Z,N[P++]=Z}return N}if(this.p===3&&this.f)return this.z(V);if(this.p===4){if(this.f)return y?this.O(V):this.r(V);if(y)return this.U(V)}return V}},v}();function a(l,u){return l[u]<<8|l[u+1]}r.JpegDecoder=s})(),r.encodeImage=function(o,s,a,l){var u={t256:[s],t257:[a],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[a],t279:[s*a*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(l)for(var c in l)u[c]=l[c];var d=new Uint8Array(r.encode([u])),f=new Uint8Array(o),h=new Uint8Array(1e3+s*a*4);for(c=0;c<d.length;c++)h[c]=d[c];for(c=0;c<f.length;c++)h[1e3+c]=f[c];return h.buffer},r.encode=function(o){var s=new Uint8Array(2e4),a=4,l=r._binBE;s[0]=s[1]=77,l.writeUshort(s,2,42);var u=8;l.writeUint(s,a,u),a+=4;for(var c=0;c<o.length;c++){var d=r._writeIFD(l,r._types.basic,s,u,o[c]);u=d[1],c<o.length-1&&(3&u&&(u+=4-(3&u)),l.writeUint(s,d[0],u))}return s.slice(0,u).buffer},r.decode=function(o,s){s==null&&(s={parseMN:!0,debug:!1});var a=new Uint8Array(o),l=0,u=r._binBE.readASCII(a,l,2);l+=2;var c=u=="II"?r._binLE:r._binBE;c.readUshort(a,l),l+=2;var d=c.readUint(a,l);l+=4;for(var f=[];;){var h=c.readUshort(a,d),p=c.readUshort(a,d+4);if(h!=0&&(p<1||13<p)){n("error in TIFF");break}if(r._readIFD(c,a,d,f,0,s),(d=c.readUint(a,d+2+12*h))==0)break}return f},r.decodeImage=function(o,s,a){if(!s.data){var l=new Uint8Array(o),u=r._binBE.readASCII(l,0,2);if(s.t256!=null){s.isLE=u=="II",s.width=s.t256[0],s.height=s.t257[0];var c=s.t259?s.t259[0]:1,d=s.t266?s.t266[0]:1;s.t284&&s.t284[0]==2&&n("PlanarConfiguration 2 should not be used!"),c==7&&s.t258&&s.t258.length>3&&(s.t258=s.t258.slice(0,3));var f=s.t277?s.t277[0]:1,h=(s.t258?s.t258[0]:1)*f;c==1&&s.t279!=null&&s.t278&&s.t262[0]==32803&&(h=Math.round(8*s.t279[0]/(s.width*s.t278[0]))),s.t50885&&s.t50885[0]==4&&(h=3*s.t258[0]);var p=8*Math.ceil(s.width*h/8),m=s.t273;(m==null||s.t322)&&(m=s.t324);var g=s.t279;c==1&&m.length==1&&(g=[s.height*(p>>>3)]),(g==null||s.t322)&&(g=s.t325);var v=new Uint8Array(s.height*(p>>>3)),D=0;if(s.t322!=null){var w=s.t322[0],b=s.t323[0],E=Math.floor((s.width+w-1)/w),C=Math.floor((s.height+b-1)/b),M=new Uint8Array(0|Math.ceil(w*b*h/8));console.log("====",E,C);for(var S=0;S<C;S++)for(var I=0;I<E;I++){var k=S*E+I;M.fill(0),r.decode._decompress(s,a,l,m[k],g[k],c,M,0,d,w,b),c==6?v=M:r._copyTile(M,0|Math.ceil(w*h/8),b,v,0|Math.ceil(s.width*h/8),s.height,0|Math.ceil(I*w*h/8),S*b)}D=8*v.length}else{if(m==null)return;var y=s.t278?s.t278[0]:s.height;for(y=Math.min(y,s.height),k=0;k<m.length;k++)r.decode._decompress(s,a,l,m[k],g[k],c,v,0|Math.ceil(D/8),d,s.width,y),D+=p*y;D=Math.min(D,8*v.length)}s.data=new Uint8Array(v.buffer,0,0|Math.ceil(D/8))}}},r.decode._decompress=function(o,s,a,l,u,c,d,f,h,p,m){if(o.t271&&o.t271[0]=="Panasonic"&&o.t45&&o.t45[0]==6&&(c=34316),c==1)for(var g=0;g<u;g++)d[f+g]=a[l+g];else if(c==2)r.decode._decodeG2(a,l,u,d,f,p,h);else if(c==3)r.decode._decodeG3(a,l,u,d,f,p,h,!!o.t292&&!(1&~o.t292[0]));else if(c==4)r.decode._decodeG4(a,l,u,d,f,p,h);else if(c==5)r.decode._decodeLZW(a,l,u,d,f,8);else if(c==6)r.decode._decodeOldJPEG(o,a,l,u,d,f);else if(c==7||c==34892)r.decode._decodeNewJPEG(o,a,l,u,d,f);else if(c==8||c==32946){var v=new Uint8Array(a.buffer,l+2,u-6),D=i.inflateRaw(v);f+D.length<=d.length&&d.set(D,f)}else c==9?r.decode._decodeVC5(a,l,u,d,f,o.t33422):c==32767?r.decode._decodeARW(o,a,l,u,d,f):c==32773?r.decode._decodePackBits(a,l,u,d,f):c==32809?r.decode._decodeThunder(a,l,u,d,f):c==34316?r.decode._decodePanasonic(o,a,l,u,d,f):c==34713?r.decode._decodeNikon(o,s,a,l,u,d,f):c==34676?r.decode._decodeLogLuv32(o,a,l,u,d,f):n("Unknown compression",c);var w=o.t258?Math.min(32,o.t258[0]):1,b=o.t277?o.t277[0]:1,E=w*b>>>3,C=Math.ceil(w*b*p/8);if(w==16&&!o.isLE&&o.t33422==null)for(var M=0;M<m;M++)for(var S=f+M*C,I=1;I<C;I+=2){var k=d[S+I];d[S+I]=d[S+I-1],d[S+I-1]=k}if(o.t317&&o.t317[0]==2)for(M=0;M<m;M++){var y=f+M*C;if(w==16)for(g=E;g<C;g+=2){var T=(d[y+g+1]<<8|d[y+g])+(d[y+g-E+1]<<8|d[y+g-E]);d[y+g]=255&T,d[y+g+1]=T>>>8&255}else if(b==3)for(g=3;g<C;g+=3)d[y+g]=d[y+g]+d[y+g-3]&255,d[y+g+1]=d[y+g+1]+d[y+g-2]&255,d[y+g+2]=d[y+g+2]+d[y+g-1]&255;else for(g=E;g<C;g++)d[y+g]=d[y+g]+d[y+g-E]&255}},r.decode._decodePanasonic=function(o,s,a,l,u,c){var d,f,h,p,m,g,v,D,w=s.buffer,b=o.t2[0],E=o.t3[0],C=o.t10[0],M=o.t45[0],S=0,I=0,k=0,y=0,T=M==6?new Uint32Array(18):new Uint8Array(16),V=[0,0],O=[0,0],N=0,P=new Uint8Array(16384),K=new Uint16Array(u.buffer);function Z(ee){if(k==0){var _=new Uint8Array(w,a+I+8184,8200),A=new Uint8Array(w,a+I,8184);P.set(_),P.set(A,_.length),I+=16384}if(M!=5)return(P[y=(k=k-ee&131071)>>3^16368]|P[y+1]<<8)>>(7&k)&~(-1<<ee);for(d=0;d<16;d++)T[d]=P[k++],k&=16383}function H(ee){return P[k+15-ee]}function ne(){V[0]=0,V[1]=0,O[0]=0,O[1]=0}if(M==7)throw M;if(M==6){var $=C==12,J=$?function(){T[0]=H(0)<<4|H(1)>>4,T[1]=4095&((15&H(1))<<8|H(2)),T[2]=H(3)>>6&3,T[3]=(63&H(3))<<2|H(4)>>6,T[4]=(63&H(4))<<2|H(5)>>6,T[5]=(63&H(5))<<2|H(6)>>6,T[6]=H(6)>>4&3,T[7]=(15&H(6))<<4|H(7)>>4,T[8]=(15&H(7))<<4|H(8)>>4,T[9]=(15&H(8))<<4|H(9)>>4,T[10]=H(9)>>2&3,T[11]=(3&H(9))<<6|H(10)>>2,T[12]=(3&H(10))<<6|H(11)>>2,T[13]=(3&H(11))<<6|H(12)>>2,T[14]=3&H(12),T[15]=H(13),T[16]=H(14),T[17]=H(15),k+=16,y=0}:function(){T[0]=H(0)<<6|H(1)>>2,T[1]=16383&((3&H(1))<<12|H(2)<<4|H(3)>>4),T[2]=H(3)>>2&3,T[3]=(3&H(3))<<8|H(4),T[4]=H(5)<<2|H(6)>>6,T[5]=(63&H(6))<<4|H(7)>>4,T[6]=H(7)>>2&3,T[7]=(3&H(7))<<8|H(8),T[8]=H(9)<<2&1020|H(10)>>6,T[9]=1023&(H(10)<<4|H(11)>>4),T[10]=H(11)>>2&3,T[11]=(3&H(11))<<8|H(12),T[12]=1023&(H(13)<<2&1020|H(14)>>6),T[13]=1023&(H(14)<<4|H(15)>>4),k+=16,y=0},ie=$?14:11,X=$?128:512,W=$?2048:8192,Y=$?16383:65535,re=$?4095:16383,le=b/ie,ue=16*le,Q=$?18:14;for(g=0;g<E-15;g+=16){var x=Math.min(16,E-g),q=ue*x;for(P=new Uint8Array(w,a+S,q),k=0,S+=q,D=0,v=0;D<x;D++,v=0){N=(g+D)*b;for(var F=0;F<le;F++)for(J(),ne(),h=0,m=0,d=0;d<ie;d++){if(p=1&d,d%3==2){var B=y<Q?T[y++]:0;B==3&&(B=4),m=X<<B,h=1<<B}var L=y<Q?T[y++]:0;V[p]?(L*=h,m<W&&O[p]>m&&(L+=O[p]-m),O[p]=L):(V[p]=L,L?O[p]=L:L=O[p]),K[N+v++]=L-15<=Y?L-15&Y:L+2147483633>>31&re}}}}else if(M==5){var z=C==12?10:9;for(g=0;g<E;g++)for(v=0;v<b;v+=z)Z(0),C==12?(K[N++]=((15&T[1])<<8)+T[0],K[N++]=16*T[2]+(T[1]>>4),K[N++]=((15&T[4])<<8)+T[3],K[N++]=16*T[5]+(T[4]>>4),K[N++]=((15&T[7])<<8)+T[6],K[N++]=16*T[8]+(T[7]>>4),K[N++]=((15&T[10])<<8)+T[9],K[N++]=16*T[11]+(T[10]>>4),K[N++]=((15&T[13])<<8)+T[12],K[N++]=16*T[14]+(T[13]>>4)):C==14&&(K[N++]=T[0]+((63&T[1])<<8),K[N++]=(T[1]>>6)+4*T[2]+((15&T[3])<<10),K[N++]=(T[3]>>4)+16*T[4]+((3&T[5])<<12),K[N++]=((252&T[5])>>2)+(T[6]<<6),K[N++]=T[7]+((63&T[8])<<8),K[N++]=(T[8]>>6)+4*T[9]+((15&T[10])<<10),K[N++]=(T[10]>>4)+16*T[11]+((3&T[12])<<12),K[N++]=((252&T[12])>>2)+(T[13]<<6),K[N++]=T[14]+((63&T[15])<<8))}else{if(M!=4)throw M;for(g=0;g<E;g++)for(v=0;v<b;v++)p=1&(d=v%14),d==0&&ne(),d%3==2&&(h=4>>3-Z(2)),O[p]?(f=Z(8))!=0&&(V[p]-=128<<h,(V[p]<0||h==4)&&(V[p]&=~(-1<<h)),V[p]+=f<<h):(O[p]=Z(8),(O[p]||d>11)&&(V[p]=O[p]<<4|Z(4))),K[N++]=V[1&v]}},r.decode._decodeVC5=function(){var o,s,a,l=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],u=[3,3,3,3,2,2,2,1,1,1];function c(D){var w=D[1],b=D[0][w>>>3]>>>7-(7&w)&1;return D[1]++,b}function d(D,w){if(o==null){o={};for(var b=0;b<l.length;b+=4)o[l[b+1]]=l.slice(b,b+4)}for(var E=c(D),C=o[E];C==null;)E=E<<1|c(D),C=o[E];var M=C[3];M!=0&&(M=c(D)==0?M:-M),w[0]=C[2],w[1]=M}function f(D,w){for(var b=0;b<w;b++)1&~D||D++,D>>>=1;return D}function h(D,w){return D>>w}function p(D,w,b,E,C,M){w[b]=h(h(11*D[C]-4*D[C+M]+D[C+M+M]+4,3)+D[E],1),w[b+M]=h(h(5*D[C]+4*D[C+M]-D[C+M+M]+4,3)-D[E],1)}function m(D,w,b,E,C,M){var S=D[C-M]-D[C+M],I=D[C],k=D[E];w[b]=h(h(S+4,3)+I+k,1),w[b+M]=h(h(4-S,3)+I-k,1)}function g(D,w,b,E,C,M){w[b]=h(h(5*D[C]+4*D[C-M]-D[C-M-M]+4,3)+D[E],1),w[b+M]=h(h(11*D[C]-4*D[C-M]+D[C-M-M]+4,3)-D[E],1)}function v(D){return D=a[D=D<0?0:D>4095?4095:D]>>>2}return function(D,w,b,E,C,M){E=new Uint16Array(E.buffer);var S,I,k,y,T,V,O,N,P=Date.now(),K=r._binBE,Z=w+b;w+=4;for(var H=M[0]==1;w<Z;){var ne=K.readShort(D,w),$=K.readUshort(D,w+2);if(w+=4,ne==12)le=$;else if(ne==20)S=$;else if(ne==21)I=$;else if(ne==48)k=$;else if(ne==53)y=$;else if(ne!=35){if(ne==62)T=$;else if(ne!=101){if(ne==109)V=$;else if(ne!=84){if(ne!=106){if(ne!=107){if(ne!=108){if(ne!=102){if(ne==104)xe=$;else if(ne!=105){var J=ne<0?-ne:ne,ie=65280&J,X=0;if(24576&J&&(8192&J?(X=65535&$,X+=(255&J)<<16):X=65535&$),24576&~J){if(J==16388)w+=4*X;else if(ie!=8192&&ie!=8448&&ie!=9216)throw J.toString(16)}else{if(O==null){O=[];for(var W=0;W<4;W++)O[W]=new Int16Array((S>>>1)*(I>>>1));for(N=new Int16Array((S>>>1)*(I>>>1)),s=new Int16Array(1024),W=0;W<1024;W++){var Y=W-512,re=Math.abs(Y),le=Math.floor(768*re*re*re/16581375)+re;s[W]=Math.sign(Y)*le}for(a=new Uint16Array(4096),W=0;W<4096;W++){var ue=W,Q=65535*(Math.pow(113,ue/4095)-1)/112;a[W]=Math.min(Q,65535)}}var x=O[T],q=f(S,1+u[k]),F=f(I,1+u[k]);if(k==0)for(var B=0;B<F;B++)for(var L=0;L<q;L++){var z=w+2*(B*q+L);x[B*(S>>>1)+L]=D[z]<<8|D[z+1]}else{var ee=[D,8*w],_=[],A=0,j=q*F,U=[0,0],se=0;for($=0;A<j;)for(d(ee,U),se=U[0],$=U[1];se>0;)_[A++]=$,se--;var ce=(k-1)%3,De=ce!=1?q:0,Ie=ce!=0?F:0;for(B=0;B<F;B++){var we=(B+Ie)*(S>>>1)+De,Ce=B*q;for(L=0;L<q;L++)x[we+L]=s[_[Ce+L]+512]*y}if(ce==2){var xe=S>>>1,Be=2*q,Oe=2*F;for(B=0;B<F;B++)for(L=0;L<Be;L++){W=2*B*xe+L;var Pe=F*xe+(ke=B*xe+L);B==0?p(x,N,W,Pe,ke,xe):B==F-1?g(x,N,W,Pe,ke,xe):m(x,N,W,Pe,ke,xe)}var We=x;for(x=N,N=We,B=0;B<Oe;B++)for(L=0;L<q;L++){var ke;W=B*xe+2*L,Pe=q+(ke=B*xe+L),L==0?p(x,N,W,Pe,ke,1):L==q-1?g(x,N,W,Pe,ke,1):m(x,N,W,Pe,ke,1)}We=x,x=N,N=We;for(var te=[],Me=2-~~((k-1)/3),ae=0;ae<3;ae++)te[ae]=V>>14-2*ae&3;var ge=te[Me];if(ge!=0)for(B=0;B<Oe;B++)for(L=0;L<Be;L++)x[W=B*xe+L]=x[W]<<ge}}if(k==9&&T==3){var G=O[0],Ee=O[1],Ue=O[2],R=O[3];for(B=0;B<I;B+=2)for(L=0;L<S;L+=2){var ye=B*S+L,fe=G[z=(B>>>1)*(S>>>1)+(L>>>1)],oe=Ee[z]-2048,pe=Ue[z]-2048,me=R[z]-2048,je=(oe<<1)+fe,Te=(pe<<1)+fe,Fe=fe+me,at=fe-me;H?(E[ye]=v(Fe),E[ye+1]=v(Te),E[ye+S]=v(je),E[ye+S+1]=v(at)):(E[ye]=v(je),E[ye+1]=v(Fe),E[ye+S]=v(at),E[ye+S+1]=v(Te))}}w+=4*X}}}}}}}}}}console.log(Date.now()-P)}}(),r.decode._decodeLogLuv32=function(o,s,a,l,u,c){for(var d=o.width,f=4*d,h=0,p=new Uint8Array(f);h<l;){for(var m=0;m<f;){var g=s[a+h];if(h++,g<128){for(var v=0;v<g;v++)p[m+v]=s[a+h+v];m+=g,h+=g}else{for(g-=126,v=0;v<g;v++)p[m+v]=s[a+h];m+=g,h++}}for(var D=0;D<d;D++)u[c+0]=p[D],u[c+1]=p[D+d],u[c+2]=p[D+2*d],u[c+4]=p[D+3*d],c+=6}},r.decode._ljpeg_diff=function(o,s,a){var l,u,c=r.decode._getbithuff;return l=c(o,s,a[0],a),(u=c(o,s,l,0))&1<<l-1||(u-=(1<<l)-1),u},r.decode._decodeARW=function(o,s,a,l,u,c){var d=o.t256[0],f=o.t257[0],h=o.t258[0],p=o.isLE?r._binLE:r._binBE;if(d*f==l||d*f*1.5==l)if(d*f*1.5!=l){var m,g,v,D,w,b,E,C,M=new Uint16Array(16),S=new Uint8Array(d+1);for(P=0;P<f;P++){for(var I=0;I<d;I++)S[I]=s[a++];for(C=0,N=0;N<d-30;C+=16){for(g=2047&(m=p.readUint(S,C)),v=2047&m>>>11,D=15&m>>>22,w=15&m>>>26,b=0;b<4&&128<<b<=g-v;b++);for(E=30,k=0;k<16;k++)k==D?M[k]=g:k==w?M[k]=v:(M[k]=((p.readUshort(S,C+(E>>3))>>>(7&E)&127)<<b)+v,M[k]>2047&&(M[k]=2047),E+=7);for(k=0;k<16;k++,N+=2)X=M[k]<<1,r.decode._putsF(u,(P*d+N)*h,X<<16-h);N-=1&N?1:31}}}else for(var k=0;k<l;k+=3){var y=s[a+k+0],T=s[a+k+1],V=s[a+k+2];u[c+k]=T<<4|y>>>4,u[c+k+1]=y<<4|V>>>4,u[c+k+2]=V<<4|T>>>4}else{f+=8;var O,N,P,K=[a,0,0,0],Z=new Uint16Array(32770),H=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],ne=0,$=r.decode._ljpeg_diff;for(Z[0]=15,O=k=0;k<18;k++)for(var J=32768>>>(H[k]>>>8),ie=0;ie<J;ie++)Z[++O]=H[k];for(N=d;N--;)for(P=0;P<f+1;P+=2)if(P==f&&(P=1),ne+=$(s,K,Z),P<f){var X=4095&ne;r.decode._putsF(u,(P*d+N)*h,X<<16-h)}}},r.decode._decodeNikon=function(o,s,a,l,u,c,d){var f=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],h=o.t256[0],p=o.t257[0],m=o.t258[0],g=0,v=0,D=r.decode._make_decoder,w=r.decode._getbithuff,b=s[0].exifIFD.makerNote,E=b.t150?b.t150:b.t140,C=0,M=E[C++],S=E[C++];M!=73&&S!=88||(C+=2110),M==70&&(g=2),m==14&&(g+=3);for(var I=[[0,0],[0,0]],k=o.isLE?r._binLE:r._binBE,y=0;y<2;y++)for(var T=0;T<2;T++)I[y][T]=k.readShort(E,C),C+=2;var V,O,N,P,K,Z=1<<m&32767,H=0,ne=k.readShort(E,C);C+=2,ne>1&&(H=Math.floor(Z/(ne-1))),M==68&&S==32&&H>0&&(v=k.readShort(E,562));var $=[0,0],J=D(f[g]),ie=[l,0,0,0];for(V=0;V<p;V++)for(v&&V==v&&(J=D(f[g+1])),O=0;O<h;O++){y=w(a,ie,J[0],J),(K=1+(w(a,ie,(N=15&y)-(P=y>>>4),0)<<1)<<P>>>1)&1<<N-1||(K-=(1<<N)-(P==0?1:0)),O<2?$[O]=I[1&V][O]+=K:$[1&O]+=K;var X=Math.min(Math.max($[1&O],0),(1<<m)-1),W=(V*h+O)*m;r.decode._putsF(c,W,X<<16-m)}},r.decode._putsF=function(o,s,a){a<<=8-(7&s);var l=s>>>3;o[l]|=a>>>16,o[l+1]|=a>>>8,o[l+2]|=a},r.decode._getbithuff=function(o,s,a,l){var u;r.decode._get_byte;var c=s[0],d=s[1],f=s[2],h=s[3];if(a==0||f<0)return 0;for(;!h&&f<a&&(u=o[c++])!=-1&&!(h=0);)d=(d<<8)+u,f+=8;if(u=d<<32-f>>>32-a,l?(f-=l[u+1]>>>8,u=255&l[u+1]):f-=a,f<0)throw"e";return s[0]=c,s[1]=d,s[2]=f,s[3]=h,u},r.decode._make_decoder=function(o){var s,a,l,u,c,d=[];for(s=16;s!=0&&!o[s];s--);var f=17;for(d[0]=s,l=a=1;a<=s;a++)for(u=0;u<o[a];u++,++f)for(c=0;c<1<<s-a;c++)l<=1<<s&&(d[l++]=a<<8|o[f]);return d},r.decode._decodeNewJPEG=function(o,s,a,l,u,c){l=Math.min(l,s.length-a);var d=o.t347,f=d?d.length:0,h=new Uint8Array(f+l);if(d){for(var p=0,m=0;m<f-1&&(d[m]!=255||d[m+1]!=217);m++)h[p++]=d[m];var g=s[a],v=s[a+1];for(g==255&&v==216||(h[p++]=g,h[p++]=v),m=2;m<l;m++)h[p++]=s[a+m]}else for(m=0;m<l;m++)h[m]=s[a+m];if(o.t262[0]==32803||o.t259[0]==7&&o.t262[0]==34892){var D=o.t258[0],w=r.LosslessJpegDecode(h),b=w.length;if(D==16)if(o.isLE)for(m=0;m<b;m++)u[c+(m<<1)]=255&w[m],u[c+(m<<1)+1]=w[m]>>>8;else for(m=0;m<b;m++)u[c+(m<<1)]=w[m]>>>8,u[c+(m<<1)+1]=255&w[m];else if(D==14||D==12||D==10){var E=16-D;for(m=0;m<b;m++)r.decode._putsF(u,m*D,w[m]<<E)}else{if(D!=8)throw new Error("unsupported bit depth "+D);for(m=0;m<b;m++)u[c+m]=w[m]}}else{var C=new r.JpegDecoder;C.parse(h);var M=C.getData({width:C.width,height:C.height,forceRGB:!0,isSourcePDF:!1});for(m=0;m<M.length;m++)u[c+m]=M[m]}o.t262[0]==6&&(o.t262[0]=2)},r.decode._decodeOldJPEGInit=function(o,s,a,l){var u,c,d,f,h,p=216,m=0,g=0,v=!1,D=o.t513,w=D?D[0]:0,b=o.t514,E=b?b[0]:0,C=o.t324||o.t273||D,M=o.t530,S=0,I=0,k=o.t277?o.t277[0]:1,y=o.t515;if(C&&(g=C[0],v=C.length>1),!v){if(s[a]==255&&s[a+1]==p)return{jpegOffset:a};if(D!=null&&(s[a+w]==255&&s[a+w+1]==p?m=a+w:n("JPEGInterchangeFormat does not point to SOI"),b==null?n("JPEGInterchangeFormatLength field is missing"):(w>=g||w+E<=g)&&n("JPEGInterchangeFormatLength field value is invalid"),m!=null))return{jpegOffset:m}}if(M!=null&&(S=M[0],I=M[1]),D!=null&&b!=null)if(E>=2&&w+E<=g){for(u=s[a+w+E-2]==255&&s[a+w+E-1]==p?new Uint8Array(E-2):new Uint8Array(E),d=0;d<u.length;d++)u[d]=s[a+w+d];n("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else n("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(u==null){var T=0,V=[];V[T++]=255,V[T++]=p;var O=o.t519;if(O==null)throw new Error("JPEGQTables tag is missing");for(d=0;d<O.length;d++)for(V[T++]=255,V[T++]=219,V[T++]=0,V[T++]=67,V[T++]=d,f=0;f<64;f++)V[T++]=s[a+O[d]+f];for(h=0;h<2;h++){var N=o[h==0?"t520":"t521"];if(N==null)throw new Error((h==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(d=0;d<N.length;d++){V[T++]=255,V[T++]=196;var P=19;for(f=0;f<16;f++)P+=s[a+N[d]+f];for(V[T++]=P>>>8,V[T++]=255&P,V[T++]=d|h<<4,f=0;f<16;f++)V[T++]=s[a+N[d]+f];for(f=0;f<P;f++)V[T++]=s[a+N[d]+16+f]}}if(V[T++]=255,V[T++]=192,V[T++]=0,V[T++]=8+3*k,V[T++]=8,V[T++]=o.height>>>8&255,V[T++]=255&o.height,V[T++]=o.width>>>8&255,V[T++]=255&o.width,V[T++]=k,k==1)V[T++]=1,V[T++]=17,V[T++]=0;else for(d=0;d<3;d++)V[T++]=d+1,V[T++]=d!=0?17:(15&S)<<4|15&I,V[T++]=d;y!=null&&y[0]!=0&&(V[T++]=255,V[T++]=221,V[T++]=0,V[T++]=4,V[T++]=y[0]>>>8&255,V[T++]=255&y[0]),u=new Uint8Array(V)}var K=-1;for(d=0;d<u.length-1;){if(u[d]==255&&u[d+1]==192){K=d;break}d++}if(K==-1){var Z=new Uint8Array(u.length+10+3*k);Z.set(u);var H=u.length;if(K=u.length,(u=Z)[H++]=255,u[H++]=192,u[H++]=0,u[H++]=8+3*k,u[H++]=8,u[H++]=o.height>>>8&255,u[H++]=255&o.height,u[H++]=o.width>>>8&255,u[H++]=255&o.width,u[H++]=k,k==1)u[H++]=1,u[H++]=17,u[H++]=0;else for(d=0;d<3;d++)u[H++]=d+1,u[H++]=d!=0?17:(15&S)<<4|15&I,u[H++]=d}if(s[g]==255&&s[g+1]==218){var ne=s[g+2]<<8|s[g+3];for((c=new Uint8Array(ne+2))[0]=s[g],c[1]=s[g+1],c[2]=s[g+2],c[3]=s[g+3],d=0;d<ne-2;d++)c[d+4]=s[g+d+4]}else{var $=0;if((c=new Uint8Array(8+2*k))[$++]=255,c[$++]=218,c[$++]=0,c[$++]=6+2*k,c[$++]=k,k==1)c[$++]=1,c[$++]=0;else for(d=0;d<3;d++)c[$++]=d+1,c[$++]=d<<4|d;c[$++]=0,c[$++]=63,c[$++]=0}return{jpegOffset:a,tables:u,sosMarker:c,sofPosition:K}},r.decode._decodeOldJPEG=function(o,s,a,l,u,c){var d,f,h,p,m=r.decode._decodeOldJPEGInit(o,s,a,l);if(m.jpegOffset!=null)for(d=a+l-m.jpegOffset,h=new Uint8Array(d),D=0;D<d;D++)h[D]=s[m.jpegOffset+D];else{for(f=m.tables.length,(h=new Uint8Array(f+m.sosMarker.length+l+2)).set(m.tables),p=f,h[m.sofPosition+5]=o.height>>>8&255,h[m.sofPosition+6]=255&o.height,h[m.sofPosition+7]=o.width>>>8&255,h[m.sofPosition+8]=255&o.width,s[a]==255&&s[a+1]==SOS||(h.set(m.sosMarker,p),p+=sosMarker.length),D=0;D<l;D++)h[p++]=s[a+D];h[p++]=255,h[p++]=EOI}var g=new r.JpegDecoder;g.parse(h);for(var v=g.getData({width:g.width,height:g.height,forceRGB:!0,isSourcePDF:!1}),D=0;D<v.length;D++)u[c+D]=v[D];o.t262&&o.t262[0]==6&&(o.t262[0]=2)},r.decode._decodePackBits=function(o,s,a,l,u){for(var c=new Int8Array(o.buffer),d=new Int8Array(l.buffer),f=s+a;s<f;){var h=c[s];if(s++,h>=0&&h<128)for(var p=0;p<h+1;p++)d[u]=c[s],u++,s++;if(h>=-127&&h<0){for(p=0;p<1-h;p++)d[u]=c[s],u++;s++}}return u},r.decode._decodeThunder=function(o,s,a,l,u){for(var c=[0,1,0,-1],d=[0,1,2,3,0,-3,-2,-1],f=s+a,h=2*u,p=0;s<f;){var m=o[s],g=m>>>6,v=63&m;if(s++,g==3&&(p=15&v,l[h>>>1]|=p<<4*(1-h&1),h++),g==0)for(var D=0;D<v;D++)l[h>>>1]|=p<<4*(1-h&1),h++;if(g==2)for(D=0;D<2;D++)(w=v>>>3*(1-D)&7)!=4&&(p+=d[w],l[h>>>1]|=p<<4*(1-h&1),h++);if(g==1)for(D=0;D<3;D++){var w;(w=v>>>2*(2-D)&3)!=2&&(p+=c[w],l[h>>>1]|=p<<4*(1-h&1),h++)}}},r.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},r.decode._lens=function(){var o=function(h,p,m,g){for(var v=0;v<p.length;v++)h[p[v]]=m+v*g},s="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",a="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",l="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",u="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",c="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";s=s.split(","),a=a.split(","),l=l.split(","),u=u.split(","),c=c.split(",");var d={},f={};return o(d,s,0,1),o(d,l,64,64),o(d,c,1792,64),o(f,a,0,1),o(f,u,64,64),o(f,c,1792,64),[d,f]}(),r.decode._decodeG4=function(o,s,a,l,u,c,d){for(var f=r.decode,h=s<<3,p=0,m="",g=[],v=[],D=0;D<c;D++)v.push(0);v=f._makeDiff(v);for(var w=0,b=0,E=0,C=0,M=0,S=0,I="",k=0,y=8*Math.ceil(c/8);h>>>3<s+a;){E=f._findDiff(v,w+(w==0?0:1),1-M),C=f._findDiff(v,E,M);var T=0;if(d==1&&(T=o[h>>>3]>>>7-(7&h)&1),d==2&&(T=o[h>>>3]>>>(7&h)&1),h++,m+=T,I=="H"){if(f._lens[M][m]!=null){var V=f._lens[M][m];m="",p+=V,V<64&&(f._addNtimes(g,p,M),w+=p,M=1-M,p=0,--k==0&&(I=""))}}else m=="0001"&&(m="",f._addNtimes(g,C-w,M),w=C),m=="001"&&(m="",I="H",k=2),f._dmap[m]!=null&&(b=E+f._dmap[m],f._addNtimes(g,b-w,M),w=b,m="",M=1-M);g.length==c&&I==""&&(f._writeBits(g,l,8*u+S*y),M=0,S++,w=0,v=f._makeDiff(g),g=[])}},r.decode._findDiff=function(o,s,a){for(var l=0;l<o.length;l+=2)if(o[l]>=s&&o[l+1]==a)return o[l]},r.decode._makeDiff=function(o){var s=[];o[0]==1&&s.push(0,1);for(var a=1;a<o.length;a++)o[a-1]!=o[a]&&s.push(a,o[a]);return s.push(o.length,0,o.length,1),s},r.decode._decodeG2=function(o,s,a,l,u,c,d){for(var f=r.decode,h=s<<3,p=0,m="",g=[],v=0,D=0,w=8*Math.ceil(c/8);h>>>3<s+a;){var b=0;d==1&&(b=o[h>>>3]>>>7-(7&h)&1),d==2&&(b=o[h>>>3]>>>(7&h)&1),h++,m+=b,(p=f._lens[v][m])!=null&&(f._addNtimes(g,p,v),m="",p<64&&(v=1-v),g.length==c&&(f._writeBits(g,l,8*u+D*w),g=[],D++,v=0,7&h&&(h+=8-(7&h)),p>=64&&(h+=8)))}},r.decode._decodeG3=function(o,s,a,l,u,c,d,f){for(var h=r.decode,p=s<<3,m=0,g="",v=[],D=[],w=0;w<c;w++)v.push(0);for(var b=0,E=0,C=0,M=0,S=0,I=-1,k="",y=0,T=!0,V=8*Math.ceil(c/8);p>>>3<s+a;){C=h._findDiff(D,b+(b==0?0:1),1-S),M=h._findDiff(D,C,S);var O=0;if(d==1&&(O=o[p>>>3]>>>7-(7&p)&1),d==2&&(O=o[p>>>3]>>>(7&p)&1),p++,g+=O,T){if(h._lens[S][g]!=null){var N=h._lens[S][g];g="",m+=N,N<64&&(h._addNtimes(v,m,S),S=1-S,m=0)}}else k=="H"?h._lens[S][g]!=null&&(N=h._lens[S][g],g="",m+=N,N<64&&(h._addNtimes(v,m,S),b+=m,S=1-S,m=0,--y==0&&(k=""))):(g=="0001"&&(g="",h._addNtimes(v,M-b,S),b=M),g=="001"&&(g="",k="H",y=2),h._dmap[g]!=null&&(E=C+h._dmap[g],h._addNtimes(v,E-b,S),b=E,g="",S=1-S));g.endsWith("000000000001")&&(I>=0&&h._writeBits(v,l,8*u+I*V),f&&(d==1&&(T=(o[p>>>3]>>>7-(7&p)&1)==1),d==2&&(T=(o[p>>>3]>>>(7&p)&1)==1),p++),g="",S=0,I++,b=0,D=h._makeDiff(v),v=[])}v.length==c&&h._writeBits(v,l,8*u+I*V)},r.decode._addNtimes=function(o,s,a){for(var l=0;l<s;l++)o.push(a)},r.decode._writeBits=function(o,s,a){for(var l=0;l<o.length;l++)s[a+l>>>3]|=o[l]<<7-(a+l&7)},r.decode._decodeLZW=r.decode._decodeLZW=function(){var o,s,a,l,u=0,c=0,d=0,f=0,h=function(){var w=o>>>3,b=(s[w]<<16|s[w+1]<<8|s[w+2])>>>24-(7&o)-c&(1<<c)-1;return o+=c,b},p=new Uint32Array(16384),m=0,g=function(w){c=w+1,u=f+1},v=function(w){for(var b=w<<2,E=p[b+2],C=l+E-1;b!=65535;)a[C--]=p[b],b=p[b+1];l+=E},D=function(w,b){var E=u<<2,C=w<<2;p[E]=p[3+(b<<2)],p[E+1]=C,p[E+2]=p[C+2]+1,p[E+3]=p[C+3],++u+1==1<<c&&c!=12&&c++};return function(w,b,E,C,M,S){o=b<<3,s=w,a=C,l=M;var I=b+E<<3,k=0,y=0;for(function(T){if(T!=m){m=T,f=1+(d=1<<T);for(var V=0;V<f+1;V++)p[4*V]=p[4*V+3]=V,p[4*V+1]=65535,p[4*V+2]=1}}(S),g(S);o<I&&(k=h())!=f;){if(k==d){if(g(S),(k=h())==f)break;v(k)}else k<u?(v(k),D(y,k)):(D(y,y),v(u-1));y=k}return l}}(),r.tags={},r._types=function(){var o=new Array(250);return o.fill(0),{basic:{main:o=o.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),r._readIFD=function(o,s,a,l,u,c){var d=o.readUshort(s,a);a+=2;var f={};c.debug&&n("   ".repeat(u),l.length-1,">>>----------------");for(var h=0;h<d;h++){var p=o.readUshort(s,a);a+=2;var m=o.readUshort(s,a);a+=2;var g=o.readUint(s,a);a+=4;var v=o.readUint(s,a);a+=4;var D=[];if(m==1||m==7){var w=g<5?a-4:v;w+g>s.buffer.byteLength&&(g=s.buffer.byteLength-w),D=new Uint8Array(s.buffer,w,g)}if(m==2){var b=g<5?a-4:v,E=s[b],C=Math.max(0,Math.min(g-1,s.length-b));E<128||C==0?D.push(o.readASCII(s,b,C)):D=new Uint8Array(s.buffer,b,C)}if(m==3)for(var M=0;M<g;M++)D.push(o.readUshort(s,(g<3?a-4:v)+2*M));if(m==4||m==13)for(M=0;M<g;M++)D.push(o.readUint(s,(g<2?a-4:v)+4*M));if(m==5||m==10){var S=m==5?o.readUint:o.readInt;for(M=0;M<g;M++)D.push([S(s,v+8*M),S(s,v+8*M+4)])}if(m==8)for(M=0;M<g;M++)D.push(o.readShort(s,(g<3?a-4:v)+2*M));if(m==9)for(M=0;M<g;M++)D.push(o.readInt(s,(g<2?a-4:v)+4*M));if(m==11)for(M=0;M<g;M++)D.push(o.readFloat(s,v+4*M));if(m==12)for(M=0;M<g;M++)D.push(o.readDouble(s,v+8*M));if(g==0||D.length!=0){if(c.debug&&n("   ".repeat(u),p,m,r.tags[p],D),f["t"+p]=D,!(p==330&&f.t272&&f.t272[0]=="DSLR-A100")){if(p==330||p==34665||p==34853||p==50740&&o.readUshort(s,o.readUint(D,0))<300||p==61440){var I=p==50740?[o.readUint(D,0)]:D,k=[];for(M=0;M<I.length;M++)r._readIFD(o,s,I[M],k,u+1,c);p==330&&(f.subIFD=k),p==34665&&(f.exifIFD=k[0]),p==34853&&(f.gpsiIFD=k[0]),p==50740&&(f.dngPrvt=k[0]),p==61440&&(f.fujiIFD=k[0])}}if(p==37500&&c.parseMN){var y=D;if(o.readASCII(y,0,5)=="Nikon")f.makerNote=r.decode(y.slice(10).buffer)[0];else if(o.readASCII(y,0,5)=="OLYMP"||o.readASCII(y,0,9)=="OM SYSTEM"){var T=[8208,8224,8240,8256,8272],V=[];r._readIFD(o,y,y[1]==77?16:y[5]==85?12:8,V,u+1,c);var O=f.makerNote=V.pop();for(M=0;M<T.length;M++){var N="t"+T[M];O[N]!=null&&(r._readIFD(o,y,O[N][0],V,u+1,c),O[N]=V.pop())}O.t12288&&(r._readIFD(o,O.t12288,0,V,u+1,c),O.t12288=V.pop())}else o.readUshort(s,v)<300&&o.readUshort(s,v+4)<=12&&(V=[],r._readIFD(o,s,v,V,u+1,c),f.makerNote=V[0])}}else if(n(p,"unknown TIFF tag type: ",m,"num:",g),h==0)return}return l.push(f),c.debug&&n("   ".repeat(u),"<<<---------------"),a},r._writeIFD=function(o,s,a,l,u){var c=Object.keys(u),d=c.length;u.exifIFD&&d--,u.gpsiIFD&&d--,o.writeUshort(a,l,d);for(var f=(l+=2)+12*d+4,h=0;h<c.length;h++){var p=c[h];if(p!="t34665"&&p!="t34853"){p=="exifIFD"&&(p="t34665"),p=="gpsiIFD"&&(p="t34853");var m=parseInt(p.slice(1)),g=s.main[m];if(g==null&&(g=s.rest[m]),g==null||g==0)throw new Error("unknown type of tag: "+m);var v=u[p];m==34665&&(v=[f],f=r._writeIFD(o,s,a,f,u.exifIFD)[1]),m==34853&&(v=[f],f=r._writeIFD(o,r._types.gps,a,f,u.gpsiIFD)[1]),g==2&&(v=v[0]+"\0");var D=v.length;o.writeUshort(a,l,m),l+=2,o.writeUshort(a,l,g),l+=2,o.writeUint(a,l,D);var w=[-1,1,1,2,4,8,0,1,0,4,8,0,8][g]*D,b=l+=4;if(w>4&&(o.writeUint(a,l,f),b=f),g==1||g==7)for(var E=0;E<D;E++)a[b+E]=v[E];else if(g==2)o.writeASCII(a,b,v);else if(g==3)for(E=0;E<D;E++)o.writeUshort(a,b+2*E,v[E]);else if(g==4)for(E=0;E<D;E++)o.writeUint(a,b+4*E,v[E]);else if(g==5||g==10){var C=g==5?o.writeUint:o.writeInt;for(E=0;E<D;E++){var M=v[E],S=M[0],I=M[1];if(S==null)throw"e";C(a,b+8*E,S),C(a,b+8*E+4,I)}}else if(g==9)for(E=0;E<D;E++)o.writeInt(a,b+4*E,v[E]);else{if(g!=12)throw g;for(E=0;E<D;E++)o.writeDouble(a,b+8*E,v[E])}w>4&&(f+=w+=1&w),l+=4}}return[l,f]},r.toRGBA8=function(o,s){function a(De){return De<.0031308?12.92*De:1.055*Math.pow(De,1/2.4)-.055}var l=o.width,u=o.height,c=l*u,d=o.data,f=new Uint8Array(4*c),h=o.t262?o.t262[0]:2,p=o.t258?Math.min(32,o.t258[0]):1;o.t262==null&&p==1&&(h=0);var m=o.t277?o.t277[0]:o.t258?o.t258.length:[1,1,3,1,1,4,3][h],g=o.t339?o.t339[0]:null;if(h==1&&p==32&&g!=3)throw"e";var v=Math.ceil(m*p*l/8);if(h==0){s=1/256;for(var D=0;D<u;D++){var w=D*v,b=D*l;if(p==1)for(var E=0;E<l;E++){var C=b+E<<2,M=d[w+(E>>3)]>>7-(7&E)&1;f[C]=f[C+1]=f[C+2]=255*(1-M),f[C+3]=255}if(p==4)for(E=0;E<l;E++)C=b+E<<2,M=d[w+(E>>1)]>>4-4*(1&E)&15,f[C]=f[C+1]=f[C+2]=17*(15-M),f[C+3]=255;if(p==8)for(E=0;E<l;E++)C=b+E<<2,M=d[w+E],f[C]=f[C+1]=f[C+2]=255-M,f[C+3]=255;if(p==16)for(E=0;E<l;E++)C=b+E<<2,M=d[(I=w+2*E)+1]<<8|d[I],f[C]=f[C+1]=f[C+2]=Math.min(255,255-~~(M*s)),f[C+3]=255}}else if(h==1){s==null&&(s=1/256);var S=3&d.length?null:new Float32Array(d.buffer);for(D=0;D<u;D++){if(w=D*v,b=D*l,p==1)for(E=0;E<l;E++)C=b+E<<2,M=d[w+(E>>3)]>>7-(7&E)&1,f[C]=f[C+1]=f[C+2]=255*M,f[C+3]=255;if(p==2)for(E=0;E<l;E++)C=b+E<<2,M=d[w+(E>>2)]>>6-2*(3&E)&3,f[C]=f[C+1]=f[C+2]=85*M,f[C+3]=255;if(p==8)for(E=0;E<l;E++)C=b+E<<2,M=d[w+E*m],f[C]=f[C+1]=f[C+2]=M,f[C+3]=255;if(p==16)for(E=0;E<l;E++)C=b+E<<2,M=d[(I=w+2*E)+1]<<8|d[I],f[C]=f[C+1]=f[C+2]=Math.min(255,~~(M*s)),f[C+3]=255;if(p==32)for(E=0;E<l;E++){var I;C=b+E<<2,M=S[I=(w>>>2)+E],f[C]=f[C+1]=f[C+2]=~~(.5+255*M),f[C+3]=255}}}else if(h==2)if(p==8){if(m==1)for(E=0;E<c;E++)f[4*E]=f[4*E+1]=f[4*E+2]=d[E],f[4*E+3]=255;if(m==3)for(E=0;E<c;E++){var k=3*E;f[C=E<<2]=d[k],f[C+1]=d[k+1],f[C+2]=d[k+2],f[C+3]=255}if(m>=4)for(E=0;E<c;E++)k=E*m,f[C=E<<2]=d[k],f[C+1]=d[k+1],f[C+2]=d[k+2],f[C+3]=d[k+3]}else if(p==16){if(m==4)for(E=0;E<c;E++)k=8*E+1,f[C=E<<2]=d[k],f[C+1]=d[k+2],f[C+2]=d[k+4],f[C+3]=d[k+6];if(m==3)for(E=0;E<c;E++)k=6*E+1,f[C=E<<2]=d[k],f[C+1]=d[k+2],f[C+2]=d[k+4],f[C+3]=255}else{if(p!=32)throw p;var y=new Float32Array(d.buffer),T=0;for(E=0;E<y.length;E++)T=Math.min(T,y[E]);if(T<0)for(E=0;E<d.length;E+=4){var V=d[E];d[E]=d[E+3],d[E+3]=V,V=d[E+1],d[E+1]=d[E+2],d[E+2]=V}var O=[];for(E=0;E<65536;E++)O.push(a(E/65535));for(E=0;E<y.length;E++){var N=Math.max(0,Math.min(1,y[E]));y[E]=O[~~(.5+65535*N)]}if(m==3)for(E=0;E<c;E++)k=3*E,f[C=E<<2]=~~(.5+255*y[k]),f[C+1]=~~(.5+255*y[k+1]),f[C+2]=~~(.5+255*y[k+2]),f[C+3]=255;else{if(m!=4)throw m;for(E=0;E<c;E++)k=4*E,f[C=E<<2]=~~(.5+255*y[k]),f[C+1]=~~(.5+255*y[k+1]),f[C+2]=~~(.5+255*y[k+2]),f[C+3]=~~(.5+255*y[k+3])}}else if(h==3){var P=o.t320,K=1<<p,Z=p==8&&m>1&&o.t338&&o.t338[0]!=0;for(D=0;D<u;D++)for(var H=0;H<l;H++){C=(E=D*l+H)<<2;var ne=0,$=D*v;if(p==1)ne=d[$+(H>>>3)]>>>7-(7&H)&1;else if(p==2)ne=d[$+(H>>>2)]>>>6-2*(3&H)&3;else if(p==4)ne=d[$+(H>>>1)]>>>4-4*(1&H)&15;else{if(p!=8)throw p;ne=d[$+H*m]}f[C]=P[ne]>>8,f[C+1]=P[K+ne]>>8,f[C+2]=P[K+K+ne]>>8,f[C+3]=Z?d[$+H*m+1]:255}}else if(h==5){var J=m>4?1:0;for(E=0;E<c;E++){C=E<<2;var ie=E*m;if(window.UDOC){var X=d[ie],W=d[ie+1],Y=d[ie+2],re=d[ie+3],le=UDOC.C.cmykToRgb([X*(1/255),W*(1/255),Y*(1/255),re*(1/255)]);f[C]=~~(.5+255*le[0]),f[C+1]=~~(.5+255*le[1]),f[C+2]=~~(.5+255*le[2])}else X=255-d[ie],W=255-d[ie+1],Y=255-d[ie+2],re=(255-d[ie+3])*(1/255),f[C]=~~(X*re+.5),f[C+1]=~~(W*re+.5),f[C+2]=~~(Y*re+.5);f[C+3]=255*(1-J)+d[ie+4]*J}}else if(h==6&&o.t278){var ue=o.t278[0];for(D=0;D<u;D+=ue){E=D*l;for(var Q=ue*l,x=0;x<Q;x++){C=4*(E+x),Y=d[(ie=3*E+4*(x>>>1))+(1&x)];var q=d[ie+2]-128,F=d[ie+3]-128,B=Y+((F>>2)+(F>>3)+(F>>5)),L=Y-((q>>2)+(q>>4)+(q>>5))-((F>>1)+(F>>3)+(F>>4)+(F>>5)),z=Y+(q+(q>>1)+(q>>2)+(q>>6));f[C]=Math.max(0,Math.min(255,B)),f[C+1]=Math.max(0,Math.min(255,L)),f[C+2]=Math.max(0,Math.min(255,z)),f[C+3]=255}}}else if(h==32845)for(D=0;D<u;D++)for(H=0;H<l;H++){C=4*(D*l+H);var ee=d[(ie=6*(D*l+H))+1]<<8|d[ie],_=(ee=Math.pow(2,(ee+.5)/256-64),(d[ie+3]+.5)/410),A=(d[ie+5]+.5)/410,j=9*_/(6*_-16*A+12),U=4*A/(6*_-16*A+12),se=j*ee/U,ce=(1-j-U)*ee/U;B=2.69*se-1.276*(Y=ee)-.414*ce,L=-1.022*se+1.978*Y+.044*ce,z=.061*se-.224*Y+1.163*ce,f[C]=255*a(Math.min(B,1)),f[C+1]=255*a(Math.min(L,1)),f[C+2]=255*a(Math.min(z,1)),f[C+3]=255}else n("Unknown Photometric interpretation: "+h);return f},r.replaceIMG=function(o){o==null&&(o=document.getElementsByTagName("img"));for(var s=["tif","tiff","dng","cr2","nef"],a=0;a<o.length;a++){var l=o[a],u=l.getAttribute("src");if(u!=null){var c=u.split(".").pop().toLowerCase();if(s.indexOf(c)!=-1){var d=new XMLHttpRequest;r._xhrs.push(d),r._imgs.push(l),d.open("GET",u),d.responseType="arraybuffer",d.onload=r._imgLoaded,d.send()}}}},r._xhrs=[],r._imgs=[],r._imgLoaded=function(o){var s=r._xhrs.indexOf(o.target),a=r._imgs[s];r._xhrs.splice(s,1),r._imgs.splice(s,1),a.setAttribute("src",r.bufferToURI(o.target.response))},r.bufferToURI=function(o){var s=r.decode(o),a=s,l=0,u=a[0];s[0].subIFD&&(a=a.concat(s[0].subIFD));for(var c=0;c<a.length;c++){var d=a[c];if(!(d.t258==null||d.t258.length<3)){var f=d.t256*d.t257;f>l&&(l=f,u=d)}}r.decodeImage(o,u,s);var h=r.toRGBA8(u),p=u.width,m=u.height,g=document.createElement("canvas");g.width=p,g.height=m;var v=g.getContext("2d"),D=new ImageData(new Uint8ClampedArray(h.buffer),p,m);return v.putImageData(D,0,0),g.toDataURL()},r._binBE={nextZero:function(o,s){for(;o[s]!=0;)s++;return s},readUshort:function(o,s){return o[s]<<8|o[s+1]},readShort:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+1],a[1]=o[s+0],r._binBE.i16[0]},readInt:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+3],a[1]=o[s+2],a[2]=o[s+1],a[3]=o[s+0],r._binBE.i32[0]},readUint:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+3],a[1]=o[s+2],a[2]=o[s+1],a[3]=o[s+0],r._binBE.ui32[0]},readASCII:function(o,s,a){for(var l="",u=0;u<a;u++)l+=String.fromCharCode(o[s+u]);return l},readFloat:function(o,s){for(var a=r._binBE.ui8,l=0;l<4;l++)a[l]=o[s+3-l];return r._binBE.fl32[0]},readDouble:function(o,s){for(var a=r._binBE.ui8,l=0;l<8;l++)a[l]=o[s+7-l];return r._binBE.fl64[0]},writeUshort:function(o,s,a){o[s]=a>>8&255,o[s+1]=255&a},writeInt:function(o,s,a){var l=r._binBE.ui8;r._binBE.i32[0]=a,o[s+3]=l[0],o[s+2]=l[1],o[s+1]=l[2],o[s+0]=l[3]},writeUint:function(o,s,a){o[s]=a>>24&255,o[s+1]=a>>16&255,o[s+2]=a>>8&255,o[s+3]=255&a},writeASCII:function(o,s,a){for(var l=0;l<a.length;l++)o[s+l]=a.charCodeAt(l)},writeDouble:function(o,s,a){r._binBE.fl64[0]=a;for(var l=0;l<8;l++)o[s+l]=r._binBE.ui8[7-l]}},r._binBE.ui8=new Uint8Array(8),r._binBE.i16=new Int16Array(r._binBE.ui8.buffer),r._binBE.i32=new Int32Array(r._binBE.ui8.buffer),r._binBE.ui32=new Uint32Array(r._binBE.ui8.buffer),r._binBE.fl32=new Float32Array(r._binBE.ui8.buffer),r._binBE.fl64=new Float64Array(r._binBE.ui8.buffer),r._binLE={nextZero:r._binBE.nextZero,readUshort:function(o,s){return o[s+1]<<8|o[s]},readShort:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],r._binBE.i16[0]},readInt:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],a[2]=o[s+2],a[3]=o[s+3],r._binBE.i32[0]},readUint:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],a[2]=o[s+2],a[3]=o[s+3],r._binBE.ui32[0]},readASCII:r._binBE.readASCII,readFloat:function(o,s){for(var a=r._binBE.ui8,l=0;l<4;l++)a[l]=o[s+l];return r._binBE.fl32[0]},readDouble:function(o,s){for(var a=r._binBE.ui8,l=0;l<8;l++)a[l]=o[s+l];return r._binBE.fl64[0]},writeUshort:function(o,s,a){o[s]=255&a,o[s+1]=a>>8&255},writeInt:function(o,s,a){var l=r._binBE.ui8;r._binBE.i32[0]=a,o[s+0]=l[0],o[s+1]=l[1],o[s+2]=l[2],o[s+3]=l[3]},writeUint:function(o,s,a){o[s]=a>>>0&255,o[s+1]=a>>>8&255,o[s+2]=a>>>16&255,o[s+3]=a>>>24&255},writeASCII:r._binBE.writeASCII},r._copyTile=function(o,s,a,l,u,c,d,f){for(var h=Math.min(s,u-d),p=Math.min(a,c-f),m=0;m<p;m++)for(var g=(f+m)*u+d,v=m*s,D=0;D<h;D++)l[g+D]=o[v+D]},r.LosslessJpegDecode=function(){var o,s;function a(){return o[s++]}function l(){return o[s++]<<8|o[s++]}function u(w){for(var b=a(),E=[0,0,0,255],C=[],M=0;M<16;M++)C[M]=a();for(M=0;M<16;M++)for(var S=0;S<C[M];S++)E[c(E,0,M+1,1)+3]=a();var I=new Uint8Array(256);for(w[b]=[new Uint8Array(E),I],M=0;M<256;M++){for(var k=8,y=M,T=0;E[T+3]==255&&k!=0;)T=E[T+(y>>--k&1)];I[M]=T}}function c(w,b,E,C){if(w[b+3]!=255)return 0;if(E==0)return b;for(var M=0;M<2;M++){w[b+M]==0&&(w[b+M]=w.length,w.push(0,0,C,255));var S=c(w,w[b+M],E-1,C+1);if(S!=0)return S}return 0}function d(w){for(var b=w.b,E=w.f;b<25&&w.a<w.d;){var C=w.data[w.a++];C!=255||w.c||w.a++,E=E<<8|C,b+=8}if(b<0)throw"e";w.b=b,w.f=E}function f(w,b){return b.b<w&&d(b),b.f>>(b.b-=w)&65535>>16-w}function h(w,b){var E=w[0],C=0,M=255;b.b<16&&d(b);var S=b.f>>b.b-8&255;for(M=E[(C=w[1][S])+3],b.b-=E[C+2];M==255;)M=E[(C=E[C+(b.f>>--b.b&1)])+3];return M}function p(w,b){return w<32768>>16-b&&(w+=1-(1<<b)),w}function m(w,b){var E=h(w,b);return E==0?0:E==16?-32768:p(f(E,b),E)}function g(w,b,E,C,M,S){for(var I=0,k=0;k<S;k++){for(var y=k*b,T=0;T<b;T+=M){I++;for(var V=0;V<M;V++)w[y+T+V]=m(C[V],E)}if(E.e!=0&&I%E.e==0&&k!=0){for(var O=E.a,N=E.data;N[O]!=255||!(208<=N[O+1]&&N[O+1]<=215);)O--;E.a=O+2,E.f=0,E.b=0}}}function v(w,b){return p(f(w,b),w)}function D(w,b,E,C,M,S,I,k){for(var y=E*I,T=M;T<S;T++)w[T]+=1<<k-1;for(var V=I;V<y;V+=I)for(T=M;T<S;T++)w[V+T]+=w[V+T-I];for(var O=1;O<C;O++){var N=O*y;for(T=M;T<S;T++)w[N+T]+=w[N+T-y];for(V=I;V<y;V+=I)for(T=M;T<S;T++){var P=N+V+T,K=P-y,Z=w[P-I],H=0;if(b==0)H=0;else if(b==1)H=Z;else if(b==2)H=w[K];else if(b==3)H=w[K-I];else if(b==4)H=Z+(w[K]-w[K-I]);else if(b==5)H=Z+(w[K]-w[K-I]>>>1);else if(b==6)H=w[K]+(Z-w[K-I]>>>1);else{if(b!=7)throw b;H=Z+w[K]>>>1}w[P]+=H}}}return function(w){if(o=w,s=0,l()!=65496)throw"e";for(var b=[],E=0,C=0,M=0,S=[],I=[],k=[],y=0,T=0,V=0;;){var O=l();if(O!=65535){var N=l();if(O==65475){C=a(),T=l(),V=l(),y=a();for(var P=0;P<y;P++){var K=a(),Z=a();if(a()!=0)throw"e";b[K]=[P,Z>>4,15&Z]}}else if(O==65476)for(var H=s+N-2;s<H;)u(I);else{if(O==65498){for(s++,P=0;P<y;P++){var ne=b[a()];k[ne[0]]=I[a()>>>4],S[ne[0]]=ne.slice(1)}E=a(),s+=2;break}O==65501?M=l():s+=N-2}}else s--}var $=new(C>8?Uint16Array:Uint8Array)(T*V*y),J={b:0,f:0,c:E==8,a:s,data:o,d:o.length,e:M};if(J.c)(function(se,ce,De,Ie,we){for(var Ce=o.length-s,xe=0;xe<Ce;xe+=4){var Be=o[s+xe];o[s+xe]=o[s+xe+3],o[s+xe+3]=Be,Be=o[s+xe+1],o[s+xe+1]=o[s+xe+2],o[s+xe+2]=Be}for(var Oe=0;Oe<we;Oe++)for(var Pe=32768,We=32768,ke=0;ke<ce;ke+=2){var te=h(Ie,De),Me=h(Ie,De);te!=0&&(Pe+=v(te,De)),Me!=0&&(We+=v(Me,De)),se[Oe*ce+ke]=65535&Pe,se[Oe*ce+ke+1]=65535&We}})($,V*y,J,k[0],T);else{var ie=[],X=0,W=0;for(P=0;P<y;P++){var Y=S[P];(z=Y[0])>X&&(X=z),(L=Y[1])>W&&(W=L),ie.push(z*L)}if(X!=1||W!=1){if(y!=3||ie[1]!=1||ie[2]!=1||X!=2||W!=1&&W!=2)throw"e";var re=[],le=0;for(P=0;P<y;P++){for(var ue=0;ue<ie[P];ue++)re.push(k[P]);le+=ie[P]}var Q=V/X,x=T/W,q=Q*x;g($,Q*le,J,re,le,x),D($,E,Q,x,le-2,le,le,C);var F=new Uint16Array(q*ie[0]);if(X==2&&W==2){for(P=0;P<q;P++)F[4*P]=$[6*P],F[4*P+1]=$[6*P+1],F[4*P+2]=$[6*P+2],F[4*P+3]=$[6*P+3];for(D(F,E,4*Q,x,0,1,1,C),P=0;P<q;P++)$[6*P]=F[4*P],$[6*P+1]=F[4*P+1],$[6*P+2]=F[4*P+2],$[6*P+3]=F[4*P+3]}if(X==2&&W==1){for(P=0;P<q;P++)F[2*P]=$[4*P],F[2*P+1]=$[4*P+1];for(D(F,E,2*Q,x,0,1,1,C),P=0;P<q;P++)$[4*P]=F[2*P],$[4*P+1]=F[2*P+1]}for(var B=$.slice(0),L=0;L<T;L++)if(W==2)for(var z=0;z<V;z++){var ee=((L>>>1)*Q+(z>>>1))*le,_=2*(1&L)+(1&z);$[A=(L*V+z)*y]=B[ee+_],$[A+1]=B[ee+4],$[A+2]=B[ee+5]}else for(z=0;z<V;z++){var A;ee=(L*Q+(z>>>1))*le,_=1&z,$[A=(L*V+z)*y]=B[ee+_],$[A+1]=B[ee+2],$[A+2]=B[ee+3]}}else if(g($,V*y,J,k,y,T),M==0)D($,E,V,T,0,y,y,C);else{var j=Math.floor(M/V);for(L=0;L<T;L+=j){var U=$.slice(L*V*y,(L+j)*V*y);D(U,E,V,j,0,y,y,C),$.set(U,L*V*y)}}}return $}}(),function(){var o=2,s=4,a=5,l=6,u=7,c=12,d=13,f=14,h=15,p=17;function m(S){var I={c:new Int8Array(2<<S.u)};return function(k,y,T){var V=[y,3*y+18,5*y+67,7*y+276,T];k.o=y,k.w=(V[4]+2*y)/(2*y+1)+1|0,k.v=Math.ceil(Math.log2(k.w)),k.t=9,function(O,N){for(var P=-N[4],K=0;P<=N[4];K++,P++)O[K]=P<=-N[3]?-4:P<=-N[2]?-3:P<=-N[1]?-2:P<-N[0]?-1:P<=N[0]?0:P<N[1]?1:P<N[2]?2:P<N[3]?3:4}(k.c,V)}(I,0,S.g),I}function g(S){for(var I=[[],[],[]],k=Math.max(2,S.w+32>>>6),y=0;y<3;y++)for(var T=0;T<41;T++)I[y][T]=[k,1];return I}function v(S,I){var k=0,y=8-S.a;if(S.j,S.a,I){if(I>=y)do k<<=y,I-=y,k|=S[S.j]&(1<<y)-1,S.j++,y=8;while(I>=8);I&&(k<<=I,y-=I,k|=S[S.j]>>>y&(1<<I)-1),S.a=8-y}return k}function D(S,I,k,y,T,V,O,N){N==null&&(N=0);var P,K,Z,H,ne,$,J=V+1,ie=J%2,X=0,W=y[T],Y=y[T-1],re=y[T-2][J],le=Y[J-1],ue=Y[J],Q=Y[J+1],x=W[J-1],q=W[J+1],F=Math.abs;if(ie&&(Z=F(Q-ue),H=F(re-ue),ne=F(le-ue)),ie){if($=($=Z>ne&&H<Z?re+le:Z<ne&&H<ne?re+Q:Q+le)+2*ue>>>2,N)return void(W[J]=$);P=I.t*I.c[S.g+ue-re]+I.c[S.g+le-ue]}else $=ue>le&&ue>Q||ue<le&&ue<Q?q+x+2*ue>>>2:x+q>>>1,P=I.t*I.c[S.g+ue-le]+I.c[S.g+le-x];K=F(P);var B=function(z){for(var ee=-1,_=0;!_;ee++)_=z[z.j]>>>7-z.a&1,z.a++,z.a&=7,z.a||z.j++;return ee}(k);if(B<S.n-I.v-1){var L=function(z,ee){var _=0;if(ee<z)for(;_<=14&&ee<<++_<z;);return _}(O[K][0],O[K][1]);X=v(k,L)+(B<<L)}else X=v(k,I.v)+1;X=1&X?-1-(X>>>1):X>>>1,O[K][0]+=F(X),O[K][1]==S.f&&(O[K][0]>>>=1,O[K][1]>>>=1),O[K][1]++,$=P<0?$-X:$+X,S.i&&($<0?$+=I.w:$>S.g&&($-=I.w)),W[J]=$>=0?Math.min($,S.g):0}function w(S,I,k){for(var y=S[0].length,T=I;T<=k;T++)S[T][0]=S[T-1][1],S[T][y-1]=S[T-1][y-2]}function b(S){w(S,u,c),w(S,o,s),w(S,h,p)}function E(S,I,k,y,T,V,O,N,P,K,Z,H,ne){for(var $=0,J=1,ie=T<d&&T>s;J<S.m;)$<S.m&&(D(S,I,k,y,T,$,O[P],S.h&&(ie&&K||!ie&&(Z||($&H)==ne))),D(S,I,k,y,V,$,O[P],S.h&&(!ie&&K||ie&&(Z||($&H)==ne))),$+=2),$>8&&(D(S,I,k,y,T,J,N[P]),D(S,I,k,y,V,J,N[P]),J+=2);b(y)}function C(S,I,k,y,T,V){E(S,I,k,y,o,u,T,V,0,0,1,0,8),E(S,I,k,y,8,h,T,V,1,0,1,0,8),E(S,I,k,y,3,9,T,V,2,1,0,3,0),E(S,I,k,y,10,16,T,V,0,0,0,3,2),E(S,I,k,y,s,11,T,V,1,0,0,3,2),E(S,I,k,y,c,p,T,V,2,1,0,3,0)}function M(S,I,k,y,T,V){var O=V.length,N=S.l;T+1==S.s&&(N=S.e-T*S.l);for(var P=6*S.e*y+T*S.l,K=0;K<6;K++){for(var Z=0;Z<N;Z++){var H,ne=V[K%O][Z%O];H=ne==0?o+(K>>>1):ne==2?h+(K>>>1):u+K;var $=S.h?(2*Z/3&2147483646|Z%3&1)+(Z%3>>>1):Z>>>1;I[P+Z]=k[H][$+1]}P+=S.e}}r._decompressRAF=function(S,I){var k=function(J){var ie=r._binBE.readUshort,X={b:ie(J,0),i:J[2],C:J[3],u:J[4],q:ie(J,5),k:ie(J,7),e:ie(J,9),l:ie(J,11),s:J[13],d:ie(J,14)};if(X.b!=18771||X.i>1||X.q<6||X.q%6||X.e<768||X.e%24||X.l!=768||X.k<X.l||X.k%X.l||X.k-X.e>=X.l||X.s>16||X.s!=X.k/X.l||X.s!=Math.ceil(X.e/X.l)||X.d!=X.q/6||X.u!=12&&X.u!=14&&X.u!=16||X.C!=16&&X.C!=0)throw"Invalid data";if(X.i==0)throw"Not implemented. We need this file!";return X.h=X.C==16,X.m=0|(X.h?2*X.l/3:X.l>>>1),X.A=X.m+2,X.f=64,X.g=(1<<X.u)-1,X.n=4*X.u,X}(S),y=function(J,ie){var X=new Array(ie.s),W=4*ie.s,Y=16+W;12&W&&(Y+=16-(12&W));for(var re=0,le=16;re<ie.s;le+=4){var ue=r._binBE.readUint(J,le);X[re]=J.slice(Y,Y+ue),X[re].j=0,X[re].a=0,Y+=ue,re++}if(Y!=J.length)throw"Invalid data";return X}(S,k),T=m(k),V=new Int16Array(k.e*k.q);I==null&&(I=k.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var O=[[0,3],[1,s],[a,11],[l,c],[d,16],[f,p]],N=[],P=0;P<18;P++)N[P]=new Uint16Array(k.A);for(var K=0;K<k.s;K++){var Z=g(T),H=g(T);for(P=0;P<18;P++)for(var ne=0;ne<k.A;ne++)N[P][ne]=0;for(var $=0;$<k.d;$++){for(C(k,T,y[K],N,Z,H),P=0;P<6;P++)for(ne=0;ne<k.A;ne++)N[O[P][0]][ne]=N[O[P][1]][ne];for(M(k,V,N,$,K,I),P=o;P<18;P++)if([a,l,d,f].indexOf(P)==-1)for(ne=0;ne<k.A;ne++)N[P][ne]=0;b(N)}}return V}}()}(t,typeof cl=="function"?NR():self.pako)})()})(eE);OR=eE.exports,ad=Mr(OR);(function(e){e.assertEqual=t=>t,e.assertIs=function(t){},e.assertNever=function(t){throw new Error},e.arrayToEnum=t=>{let n={};for(let r of t)n[r]=r;return n},e.getValidEnumValues=t=>{let n=e.objectKeys(t).filter(i=>typeof t[t[i]]!="number"),r={};for(let i of n)r[i]=t[i];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(n){return t[n]}),e.objectKeys=typeof Object.keys=="function"?t=>Object.keys(t):t=>{let n=[];for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(r);return n},e.find=(t,n)=>{for(let r of t)if(n(r))return r},e.isInteger=typeof Number.isInteger=="function"?t=>Number.isInteger(t):t=>typeof t=="number"&&isFinite(t)&&Math.floor(t)===t,e.joinValues=function(t,n=" | "){return t.map(r=>typeof r=="string"?`'${r}'`:r).join(n)},e.jsonStringifyReplacer=(t,n)=>typeof n=="bigint"?n.toString():n})(bt||(bt={})),function(e){e.mergeShapes=(t,n)=>he(he({},t),n)}(ug||(ug={}));Le=bt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Li=e=>{switch(typeof e){case"undefined":return Le.undefined;case"string":return Le.string;case"number":return isNaN(e)?Le.nan:Le.number;case"boolean":return Le.boolean;case"function":return Le.function;case"bigint":return Le.bigint;case"symbol":return Le.symbol;case"object":return Array.isArray(e)?Le.array:e===null?Le.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Le.promise:typeof Map<"u"&&e instanceof Map?Le.map:typeof Set<"u"&&e instanceof Set?Le.set:typeof Date<"u"&&e instanceof Date?Le.date:Le.object;default:return Le.unknown}},Se=bt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),PR=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),hi=(()=>{class e extends Error{constructor(n){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=n}get errors(){return this.issues}format(n){let r=n||function(s){return s.message},i={_errors:[]},o=s=>{for(let a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)i._errors.push(r(a));else{let l=i,u=0;for(;u<a.path.length;){let c=a.path[u];u===a.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(a))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}};return o(this),i}static assert(n){if(!(n instanceof e))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=r=>r.message){let r={},i=[];for(let o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(n(o))):i.push(n(o));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}}return e.create=t=>new e(t),e})(),Ys=(e,t)=>{let n;switch(e.code){case Se.invalid_type:n=e.received===Le.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Se.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,bt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:n=`Unrecognized key(s) in object: ${bt.joinValues(e.keys,", ")}`;break;case Se.invalid_union:n="Invalid input";break;case Se.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${bt.joinValues(e.options)}`;break;case Se.invalid_enum_value:n=`Invalid enum value. Expected ${bt.joinValues(e.options)}, received '${e.received}'`;break;case Se.invalid_arguments:n="Invalid function arguments";break;case Se.invalid_return_type:n="Invalid function return type";break;case Se.invalid_date:n="Invalid date";break;case Se.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:bt.assertNever(e.validation):n=e.validation!=="regex"?`Invalid ${e.validation}`:"Invalid";break;case Se.too_small:n=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Se.too_big:n=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Se.custom:n="Invalid input";break;case Se.invalid_intersection_types:n="Intersection results could not be merged";break;case Se.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Se.not_finite:n="Number must be finite";break;default:n=t.defaultError,bt.assertNever(e)}return{message:n}},aE=Ys;Md=e=>{let{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s=Ae(he({},i),{path:o});if(i.message!==void 0)return Ae(he({},i),{path:o,message:i.message});let a="",l=r.filter(u=>!!u).slice().reverse();for(let u of l)a=u(s,{data:t,defaultError:a}).message;return Ae(he({},i),{path:o,message:a})},LR=[];pn=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){let r=[];for(let i of n){if(i.status==="aborted")return Je;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static mergeObjectAsync(t,n){return Ve(this,null,function*(){let r=[];for(let i of n){let o=yield i.key,s=yield i.value;r.push({key:o,value:s})}return e.mergeObjectSync(t,r)})}static mergeObjectSync(t,n){let r={};for(let i of n){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Je;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value==="__proto__"||s.value===void 0&&!i.alwaysSet||(r[o.value]=s.value)}return{status:t.value,value:r}}},Je=Object.freeze({status:"aborted"}),Id=e=>({status:"dirty",value:e}),Mn=e=>({status:"valid",value:e}),cg=e=>e.status==="aborted",dg=e=>e.status==="dirty",wl=e=>e.status==="valid",El=e=>typeof Promise<"u"&&e instanceof Promise;typeof SuppressedError=="function"&&SuppressedError,function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message}(He||(He={}));ar=class{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},lw=(e,t)=>{if(wl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new hi(e.common.issues);return this._error=n,this._error}}};st=class{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Li(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Li(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pn,ctx:{common:t.parent.common,data:t.data,parsedType:Li(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(El(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;let i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0&&r,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Li(t)},o=this._parseSync({data:t,path:i.path,parent:i});return lw(i,o)}parseAsync(t,n){return Ve(this,null,function*(){let r=yield this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error})}safeParseAsync(t,n){return Ve(this,null,function*(){let r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Li(t)},i=this._parse({data:t,path:r.path,parent:r}),o=yield El(i)?i:Promise.resolve(i);return lw(r,o)})}refine(t,n){let r=i=>typeof n=="string"||n===void 0?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{let s=t(i),a=()=>o.addIssue(he({code:Se.custom},r(i)));return typeof Promise<"u"&&s instanceof Promise?s.then(l=>!!l||(a(),!1)):!!s||(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>!!t(r)||(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new qn({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Bi.create(this,this._def)}nullable(){return Ks.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mi.create(this,this._def)}promise(){return qd.create(this,this._def)}or(t){return zg.create([this,t],this._def)}and(t){return Hg.create(this,t,this._def)}transform(t){return new qn(Ae(he({},ot(this._def)),{schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){let n=typeof t=="function"?t:()=>t;return new Gg(Ae(he({},ot(this._def)),{innerType:this,defaultValue:n,typeName:qe.ZodDefault}))}brand(){return new Dl(he({typeName:qe.ZodBranded,type:this},ot(this._def)))}catch(t){let n=typeof t=="function"?t:()=>t;return new Wg(Ae(he({},ot(this._def)),{innerType:this,catchValue:n,typeName:qe.ZodCatch}))}describe(t){return new this.constructor(Ae(he({},this._def),{description:t}))}pipe(t){return xl.create(this,t)}readonly(){return To.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},BR=/^c[^\s-]{8,}$/i,jR=/^[0-9a-z]+$/,UR=/^[0-9A-HJKMNP-TV-Z]{26}$/,VR=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zR=/^[a-z0-9_-]{21}$/i,HR=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$R=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",WR=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qR=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ZR=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",YR=new RegExp(`^${uE}$`);Ui=class e extends st{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Le.string){let i=this._getOrReturnCtx(t);return Ne(i,{code:Se.invalid_type,expected:Le.string,received:i.parsedType}),Je}let n=new pn,r;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(r=this._getOrReturnCtx(t,r),Ne(r,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(r=this._getOrReturnCtx(t,r),Ne(r,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let o=t.data.length>i.value,s=t.data.length<i.value;(o||s)&&(r=this._getOrReturnCtx(t,r),o?Ne(r,{code:Se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&Ne(r,{code:Se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")$R.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"email",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")zm||(zm=new RegExp(GR,"u")),zm.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"emoji",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")VR.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"uuid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")zR.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"nanoid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")BR.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"cuid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")jR.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"cuid2",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")UR.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"ulid",code:Se.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),Ne(r,{validation:"url",code:Se.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"regex",code:Se.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(t,r),Ne(r,{code:Se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(r=this._getOrReturnCtx(t,r),Ne(r,{code:Se.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(r=this._getOrReturnCtx(t,r),Ne(r,{code:Se.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?dE(i).test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{code:Se.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?YR.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{code:Se.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?QR(i).test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{code:Se.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?HR.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"duration",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?KR(t.data,i.version)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"ip",code:Se.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ZR.test(t.data)||(r=this._getOrReturnCtx(t,r),Ne(r,{validation:"base64",code:Se.invalid_string,message:i.message}),n.dirty()):bt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),he({validation:n,code:Se.invalid_string},He.errToObj(r)))}_addCheck(t){return new e(Ae(he({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(he({kind:"email"},He.errToObj(t)))}url(t){return this._addCheck(he({kind:"url"},He.errToObj(t)))}emoji(t){return this._addCheck(he({kind:"emoji"},He.errToObj(t)))}uuid(t){return this._addCheck(he({kind:"uuid"},He.errToObj(t)))}nanoid(t){return this._addCheck(he({kind:"nanoid"},He.errToObj(t)))}cuid(t){return this._addCheck(he({kind:"cuid"},He.errToObj(t)))}cuid2(t){return this._addCheck(he({kind:"cuid2"},He.errToObj(t)))}ulid(t){return this._addCheck(he({kind:"ulid"},He.errToObj(t)))}base64(t){return this._addCheck(he({kind:"base64"},He.errToObj(t)))}ip(t){return this._addCheck(he({kind:"ip"},He.errToObj(t)))}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck(he({kind:"datetime",precision:t?.precision===void 0?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0&&n,local:(r=t?.local)!==null&&r!==void 0&&r},He.errToObj(t?.message)))}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck(he({kind:"time",precision:t?.precision===void 0?null:t?.precision},He.errToObj(t?.message)))}duration(t){return this._addCheck(he({kind:"duration"},He.errToObj(t)))}regex(t,n){return this._addCheck(he({kind:"regex",regex:t},He.errToObj(n)))}includes(t,n){return this._addCheck(he({kind:"includes",value:t,position:n?.position},He.errToObj(n?.message)))}startsWith(t,n){return this._addCheck(he({kind:"startsWith",value:t},He.errToObj(n)))}endsWith(t,n){return this._addCheck(he({kind:"endsWith",value:t},He.errToObj(n)))}min(t,n){return this._addCheck(he({kind:"min",value:t},He.errToObj(n)))}max(t,n){return this._addCheck(he({kind:"max",value:t},He.errToObj(n)))}length(t,n){return this._addCheck(he({kind:"length",value:t},He.errToObj(n)))}nonempty(t){return this.min(1,He.errToObj(t))}trim(){return new e(Ae(he({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new e(Ae(he({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new e(Ae(he({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Ui.create=e=>{var t;return new Ui(he({checks:[],typeName:qe.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0&&t},ot(e)))};Fg=(()=>{class e extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==Le.number){let o=this._getOrReturnCtx(n);return Ne(o,{code:Se.invalid_type,expected:Le.number,received:o.parsedType}),Je}let r,i=new pn;for(let o of this._def.checks)o.kind==="int"?bt.isInteger(n.data)||(r=this._getOrReturnCtx(n,r),Ne(r,{code:Se.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?n.data<o.value:n.data<=o.value)&&(r=this._getOrReturnCtx(n,r),Ne(r,{code:Se.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?n.data>o.value:n.data>=o.value)&&(r=this._getOrReturnCtx(n,r),Ne(r,{code:Se.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?JR(n.data,o.value)!==0&&(r=this._getOrReturnCtx(n,r),Ne(r,{code:Se.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(n.data)||(r=this._getOrReturnCtx(n,r),Ne(r,{code:Se.not_finite,message:o.message}),i.dirty()):bt.assertNever(o);return{status:i.value,value:n.data}}gte(n,r){return this.setLimit("min",n,!0,He.toString(r))}gt(n,r){return this.setLimit("min",n,!1,He.toString(r))}lte(n,r){return this.setLimit("max",n,!0,He.toString(r))}lt(n,r){return this.setLimit("max",n,!1,He.toString(r))}setLimit(n,r,i,o){return new e(Ae(he({},this._def),{checks:[...this._def.checks,{kind:n,value:r,inclusive:i,message:He.toString(o)}]}))}_addCheck(n){return new e(Ae(he({},this._def),{checks:[...this._def.checks,n]}))}int(n){return this._addCheck({kind:"int",message:He.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:He.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:He.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:He.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:He.toString(n)})}multipleOf(n,r){return this._addCheck({kind:"multipleOf",value:n,message:He.toString(r)})}finite(n){return this._addCheck({kind:"finite",message:He.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:He.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:He.toString(n)})}get minValue(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxValue(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&bt.isInteger(n.value))}get isFinite(){let n=null,r=null;for(let i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(n===null||i.value<n)&&(n=i.value)}return Number.isFinite(r)&&Number.isFinite(n)}}return e.create=t=>new e(he({checks:[],typeName:qe.ZodNumber,coerce:t?.coerce||!1},ot(t))),e})(),Lg=(()=>{class e extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce&&(n.data=BigInt(n.data)),this._getType(n)!==Le.bigint){let o=this._getOrReturnCtx(n);return Ne(o,{code:Se.invalid_type,expected:Le.bigint,received:o.parsedType}),Je}let r,i=new pn;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?n.data<o.value:n.data<=o.value)&&(r=this._getOrReturnCtx(n,r),Ne(r,{code:Se.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?n.data>o.value:n.data>=o.value)&&(r=this._getOrReturnCtx(n,r),Ne(r,{code:Se.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?n.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(n,r),Ne(r,{code:Se.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):bt.assertNever(o);return{status:i.value,value:n.data}}gte(n,r){return this.setLimit("min",n,!0,He.toString(r))}gt(n,r){return this.setLimit("min",n,!1,He.toString(r))}lte(n,r){return this.setLimit("max",n,!0,He.toString(r))}lt(n,r){return this.setLimit("max",n,!1,He.toString(r))}setLimit(n,r,i,o){return new e(Ae(he({},this._def),{checks:[...this._def.checks,{kind:n,value:r,inclusive:i,message:He.toString(o)}]}))}_addCheck(n){return new e(Ae(he({},this._def),{checks:[...this._def.checks,n]}))}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:He.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:He.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:He.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:He.toString(n)})}multipleOf(n,r){return this._addCheck({kind:"multipleOf",value:n,message:He.toString(r)})}get minValue(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxValue(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}}return e.create=t=>{var n;return new e(he({checks:[],typeName:qe.ZodBigInt,coerce:(n=t?.coerce)!==null&&n!==void 0&&n},ot(t)))},e})(),Bg=(()=>{class e extends st{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==Le.boolean){let r=this._getOrReturnCtx(n);return Ne(r,{code:Se.invalid_type,expected:Le.boolean,received:r.parsedType}),Je}return Mn(n.data)}}return e.create=t=>new e(he({typeName:qe.ZodBoolean,coerce:t?.coerce||!1},ot(t))),e})(),jg=(()=>{class e extends st{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==Le.date){let o=this._getOrReturnCtx(n);return Ne(o,{code:Se.invalid_type,expected:Le.date,received:o.parsedType}),Je}if(isNaN(n.data.getTime()))return Ne(this._getOrReturnCtx(n),{code:Se.invalid_date}),Je;let r=new pn,i;for(let o of this._def.checks)o.kind==="min"?n.data.getTime()<o.value&&(i=this._getOrReturnCtx(n,i),Ne(i,{code:Se.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?n.data.getTime()>o.value&&(i=this._getOrReturnCtx(n,i),Ne(i,{code:Se.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):bt.assertNever(o);return{status:r.value,value:new Date(n.data.getTime())}}_addCheck(n){return new e(Ae(he({},this._def),{checks:[...this._def.checks,n]}))}min(n,r){return this._addCheck({kind:"min",value:n.getTime(),message:He.toString(r)})}max(n,r){return this._addCheck({kind:"max",value:n.getTime(),message:He.toString(r)})}get minDate(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n!=null?new Date(n):null}}return e.create=t=>new e(he({checks:[],coerce:t?.coerce||!1,typeName:qe.ZodDate},ot(t))),e})(),fE=(()=>{class e extends st{_parse(n){if(this._getType(n)!==Le.symbol){let r=this._getOrReturnCtx(n);return Ne(r,{code:Se.invalid_type,expected:Le.symbol,received:r.parsedType}),Je}return Mn(n.data)}}return e.create=t=>new e(he({typeName:qe.ZodSymbol},ot(t))),e})(),Ug=(()=>{class e extends st{_parse(n){if(this._getType(n)!==Le.undefined){let r=this._getOrReturnCtx(n);return Ne(r,{code:Se.invalid_type,expected:Le.undefined,received:r.parsedType}),Je}return Mn(n.data)}}return e.create=t=>new e(he({typeName:qe.ZodUndefined},ot(t))),e})(),Vg=(()=>{class e extends st{_parse(n){if(this._getType(n)!==Le.null){let r=this._getOrReturnCtx(n);return Ne(r,{code:Se.invalid_type,expected:Le.null,received:r.parsedType}),Je}return Mn(n.data)}}return e.create=t=>new e(he({typeName:qe.ZodNull},ot(t))),e})(),Sd=(()=>{class e extends st{constructor(){super(...arguments),this._any=!0}_parse(n){return Mn(n.data)}}return e.create=t=>new e(he({typeName:qe.ZodAny},ot(t))),e})(),gl=(()=>{class e extends st{constructor(){super(...arguments),this._unknown=!0}_parse(n){return Mn(n.data)}}return e.create=t=>new e(he({typeName:qe.ZodUnknown},ot(t))),e})(),Mo=(()=>{class e extends st{_parse(n){let r=this._getOrReturnCtx(n);return Ne(r,{code:Se.invalid_type,expected:Le.never,received:r.parsedType}),Je}}return e.create=t=>new e(he({typeName:qe.ZodNever},ot(t))),e})(),hE=(()=>{class e extends st{_parse(n){if(this._getType(n)!==Le.undefined){let r=this._getOrReturnCtx(n);return Ne(r,{code:Se.invalid_type,expected:Le.void,received:r.parsedType}),Je}return Mn(n.data)}}return e.create=t=>new e(he({typeName:qe.ZodVoid},ot(t))),e})(),mi=class e extends st{_parse(t){let{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==Le.array)return Ne(n,{code:Se.invalid_type,expected:Le.array,received:n.parsedType}),Je;if(i.exactLength!==null){let s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(Ne(n,{code:s?Se.too_big:Se.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ne(n,{code:Se.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ne(n,{code:Se.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new ar(n,s,n.path,a)))).then(s=>pn.mergeArray(r,s));let o=[...n.data].map((s,a)=>i.type._parseSync(new ar(n,s,n.path,a)));return pn.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new e(Ae(he({},this._def),{minLength:{value:t,message:He.toString(n)}}))}max(t,n){return new e(Ae(he({},this._def),{maxLength:{value:t,message:He.toString(n)}}))}length(t,n){return new e(Ae(he({},this._def),{exactLength:{value:t,message:He.toString(n)}}))}nonempty(t){return this.min(1,t)}};mi.create=(e,t)=>new mi(he({type:e,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray},ot(t)));On=class e extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),n=bt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Le.object){let l=this._getOrReturnCtx(t);return Ne(l,{code:Se.invalid_type,expected:Le.object,received:l.parsedType}),Je}let{status:n,ctx:r}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Mo&&this._def.unknownKeys==="strip"))for(let l in r.data)o.includes(l)||s.push(l);let a=[];for(let l of o){let u=i[l],c=r.data[l];a.push({key:{status:"valid",value:l},value:u._parse(new ar(r,c,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof Mo){let l=this._def.unknownKeys;if(l==="passthrough")for(let u of s)a.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")s.length>0&&(Ne(r,{code:Se.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let u of s){let c=r.data[u];a.push({key:{status:"valid",value:u},value:l._parse(new ar(r,c,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(()=>Ve(this,null,function*(){let l=[];for(let u of a){let c=yield u.key,d=yield u.value;l.push({key:c,value:d,alwaysSet:u.alwaysSet})}return l})).then(l=>pn.mergeObjectSync(n,l)):pn.mergeObjectSync(n,a)}get shape(){return this._def.shape()}strict(t){return He.errToObj,new e(he(Ae(he({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(n,r)=>{var i,o,s,a;let l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=He.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}))}strip(){return new e(Ae(he({},this._def),{unknownKeys:"strip"}))}passthrough(){return new e(Ae(he({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new e(Ae(he({},this._def),{shape:()=>he(he({},this._def.shape()),t)}))}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>he(he({},this._def.shape()),t._def.shape()),typeName:qe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new e(Ae(he({},this._def),{catchall:t}))}pick(t){let n={};return bt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new e(Ae(he({},this._def),{shape:()=>n}))}omit(t){let n={};return bt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new e(Ae(he({},this._def),{shape:()=>n}))}deepPartial(){return $s(this)}partial(t){let n={};return bt.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new e(Ae(he({},this._def),{shape:()=>n}))}required(t){let n={};return bt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Bi;)i=i._def.innerType;n[r]=i}}),new e(Ae(he({},this._def),{shape:()=>n}))}keyof(){return gE(bt.objectKeys(this.shape))}};On.create=(e,t)=>new On(he({shape:()=>e,unknownKeys:"strip",catchall:Mo.create(),typeName:qe.ZodObject},ot(t))),On.strictCreate=(e,t)=>new On(he({shape:()=>e,unknownKeys:"strict",catchall:Mo.create(),typeName:qe.ZodObject},ot(t))),On.lazycreate=(e,t)=>new On(he({shape:e,unknownKeys:"strip",catchall:Mo.create(),typeName:qe.ZodObject},ot(t)));zg=(()=>{class e extends st{_parse(n){let{ctx:r}=this._processInputParams(n),i=this._def.options;if(r.common.async)return Promise.all(i.map(o=>Ve(this,null,function*(){let s=Ae(he({},r),{common:Ae(he({},r.common),{issues:[]}),parent:null});return{result:yield o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}}))).then(function(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new hi(a.ctx.common.issues));return Ne(r,{code:Se.invalid_union,unionErrors:s}),Je});{let o,s=[];for(let l of i){let u=Ae(he({},r),{common:Ae(he({},r.common),{issues:[]}),parent:null}),c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status!=="dirty"||o||(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(l=>new hi(l));return Ne(r,{code:Se.invalid_union,unionErrors:a}),Je}}get options(){return this._def.options}}return e.create=(t,n)=>new e(he({options:t,typeName:qe.ZodUnion},ot(n))),e})(),Oi=e=>e instanceof $g?Oi(e.schema):e instanceof qn?Oi(e.innerType()):e instanceof Co?[e.value]:e instanceof So?e.options:e instanceof Ao?bt.objectValues(e.enum):e instanceof Gg?Oi(e._def.innerType):e instanceof Ug?[void 0]:e instanceof Vg?[null]:e instanceof Bi?[void 0,...Oi(e.unwrap())]:e instanceof Ks?[null,...Oi(e.unwrap())]:e instanceof Dl||e instanceof To?Oi(e.unwrap()):e instanceof Wg?Oi(e._def.innerType):[],Ad=class e extends st{_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.object)return Ne(n,{code:Se.invalid_type,expected:Le.object,received:n.parsedType}),Je;let r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(Ne(n,{code:Se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let i=new Map;for(let o of n){let s=Oi(o.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new e(he({typeName:qe.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i},ot(r)))}};Hg=(()=>{class e extends st{_parse(n){let{status:r,ctx:i}=this._processInputParams(n),o=(s,a)=>{if(cg(s)||cg(a))return Je;let l=fg(s.value,a.value);return l.valid?((dg(s)||dg(a))&&r.dirty(),{status:r.value,value:l.data}):(Ne(i,{code:Se.invalid_intersection_types}),Je)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,a])=>o(s,a)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}return e.create=(t,n,r)=>new e(he({left:t,right:n,typeName:qe.ZodIntersection},ot(r))),e})(),Qs=(()=>{class e extends st{_parse(n){let{status:r,ctx:i}=this._processInputParams(n);if(i.parsedType!==Le.array)return Ne(i,{code:Se.invalid_type,expected:Le.array,received:i.parsedType}),Je;if(i.data.length<this._def.items.length)return Ne(i,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&i.data.length>this._def.items.length&&(Ne(i,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...i.data].map((s,a)=>{let l=this._def.items[a]||this._def.rest;return l?l._parse(new ar(i,s,i.path,a)):null}).filter(s=>!!s);return i.common.async?Promise.all(o).then(s=>pn.mergeArray(r,s)):pn.mergeArray(r,o)}get items(){return this._def.items}rest(n){return new e(Ae(he({},this._def),{rest:n}))}}return e.create=(t,n)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new e(he({items:t,typeName:qe.ZodTuple,rest:null},ot(n)))},e})(),Td=class e extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Le.object)return Ne(r,{code:Se.invalid_type,expected:Le.object,received:r.parsedType}),Je;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in r.data)i.push({key:o._parse(new ar(r,a,r.path,a)),value:s._parse(new ar(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?pn.mergeObjectAsync(n,i):pn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return new e(n instanceof st?he({keyType:t,valueType:n,typeName:qe.ZodRecord},ot(r)):he({keyType:Ui.create(),valueType:t,typeName:qe.ZodRecord},ot(n)))}},pE=(()=>{class e extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){let{status:r,ctx:i}=this._processInputParams(n);if(i.parsedType!==Le.map)return Ne(i,{code:Se.invalid_type,expected:Le.map,received:i.parsedType}),Je;let o=this._def.keyType,s=this._def.valueType,a=[...i.data.entries()].map(([l,u],c)=>({key:o._parse(new ar(i,l,i.path,[c,"key"])),value:s._parse(new ar(i,u,i.path,[c,"value"]))}));if(i.common.async){let l=new Map;return Promise.resolve().then(()=>Ve(this,null,function*(){for(let u of a){let c=yield u.key,d=yield u.value;if(c.status==="aborted"||d.status==="aborted")return Je;c.status!=="dirty"&&d.status!=="dirty"||r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}}))}{let l=new Map;for(let u of a){let c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return Je;c.status!=="dirty"&&d.status!=="dirty"||r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}}}}return e.create=(t,n,r)=>new e(he({valueType:n,keyType:t,typeName:qe.ZodMap},ot(r))),e})(),mE=(()=>{class e extends st{_parse(n){let{status:r,ctx:i}=this._processInputParams(n);if(i.parsedType!==Le.set)return Ne(i,{code:Se.invalid_type,expected:Le.set,received:i.parsedType}),Je;let o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(Ne(i,{code:Se.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(Ne(i,{code:Se.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let s=this._def.valueType;function a(u){let c=new Set;for(let d of u){if(d.status==="aborted")return Je;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}let l=[...i.data.values()].map((u,c)=>s._parse(new ar(i,u,i.path,c)));return i.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(n,r){return new e(Ae(he({},this._def),{minSize:{value:n,message:He.toString(r)}}))}max(n,r){return new e(Ae(he({},this._def),{maxSize:{value:n,message:He.toString(r)}}))}size(n,r){return this.min(n,r).max(n,r)}nonempty(n){return this.min(1,n)}}return e.create=(t,n)=>new e(he({valueType:t,minSize:null,maxSize:null,typeName:qe.ZodSet},ot(n))),e})(),kd=class e extends st{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.function)return Ne(n,{code:Se.invalid_type,expected:Le.function,received:n.parsedType}),Je;function r(a,l){return Md({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xd(),Ys].filter(u=>!!u),issueData:{code:Se.invalid_arguments,argumentsError:l}})}function i(a,l){return Md({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xd(),Ys].filter(u=>!!u),issueData:{code:Se.invalid_return_type,returnTypeError:l}})}let o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof qd){let a=this;return Mn(function(...l){return Ve(this,null,function*(){let u=new hi([]),c=yield a._def.args.parseAsync(l,o).catch(h=>{throw u.addIssue(r(l,h)),u}),d=yield Reflect.apply(s,this,c);return yield a._def.returns._def.type.parseAsync(d,o).catch(h=>{throw u.addIssue(i(d,h)),u})})})}{let a=this;return Mn(function(...l){let u=a._def.args.safeParse(l,o);if(!u.success)throw new hi([r(l,u.error)]);let c=Reflect.apply(s,this,u.data),d=a._def.returns.safeParse(c,o);if(!d.success)throw new hi([i(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e(Ae(he({},this._def),{args:Qs.create(t).rest(gl.create())}))}returns(t){return new e(Ae(he({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new e(he({args:t||Qs.create([]).rest(gl.create()),returns:n||gl.create(),typeName:qe.ZodFunction},ot(r)))}},$g=(()=>{class e extends st{get schema(){return this._def.getter()}_parse(n){let{ctx:r}=this._processInputParams(n);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}return e.create=(t,n)=>new e(he({getter:t,typeName:qe.ZodLazy},ot(n))),e})(),Co=class extends st{_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return Ne(n,{received:n.data,code:Se.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:t.data}}get value(){return this._def.value}};Co.create=(e,t)=>new Co(he({value:e,typeName:qe.ZodLiteral},ot(t)));So=class e extends st{constructor(){super(...arguments),dl.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let n=this._getOrReturnCtx(t),r=this._def.values;return Ne(n,{expected:bt.joinValues(r),received:n.parsedType,code:Se.invalid_type}),Je}if(Cd(this,dl)||lE(this,dl,new Set(this._def.values)),!Cd(this,dl).has(t.data)){let n=this._getOrReturnCtx(t),r=this._def.values;return Ne(n,{received:n.data,code:Se.invalid_enum_value,options:r}),Je}return Mn(t.data)}get options(){return this._def.values}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return e.create(t,he(he({},this._def),n))}exclude(t,n=this._def){return e.create(this.options.filter(r=>!t.includes(r)),he(he({},this._def),n))}};dl=new WeakMap,So.create=gE;Ao=class extends st{constructor(){super(...arguments),fl.set(this,void 0)}_parse(t){let n=bt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Le.string&&r.parsedType!==Le.number){let i=bt.objectValues(n);return Ne(r,{expected:bt.joinValues(i),received:r.parsedType,code:Se.invalid_type}),Je}if(Cd(this,fl)||lE(this,fl,new Set(bt.getValidEnumValues(this._def.values))),!Cd(this,fl).has(t.data)){let i=bt.objectValues(n);return Ne(r,{received:r.data,code:Se.invalid_enum_value,options:i}),Je}return Mn(t.data)}get enum(){return this._def.values}};fl=new WeakMap,Ao.create=(e,t)=>new Ao(he({values:e,typeName:qe.ZodNativeEnum},ot(t)));qd=(()=>{class e extends st{unwrap(){return this._def.type}_parse(n){let{ctx:r}=this._processInputParams(n);if(r.parsedType!==Le.promise&&r.common.async===!1)return Ne(r,{code:Se.invalid_type,expected:Le.promise,received:r.parsedType}),Je;let i=r.parsedType===Le.promise?r.data:Promise.resolve(r.data);return Mn(i.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}return e.create=(t,n)=>new e(he({type:t,typeName:qe.ZodPromise},ot(n))),e})(),qn=class extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{Ne(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(a=>Ve(this,null,function*(){if(n.value==="aborted")return Je;let l=yield this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Je:l.status==="dirty"||n.value==="dirty"?Id(l.value):l}));{if(n.value==="aborted")return Je;let a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Je:a.status==="dirty"||n.value==="dirty"?Id(a.value):a}}if(i.type==="refinement"){let s=a=>{let l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Je:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Je:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform"){if(r.common.async===!1){let s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!wl(s))return s;let a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>wl(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s)}bt.assertNever(i)}};qn.create=(e,t,n)=>new qn(he({schema:e,typeName:qe.ZodEffects,effect:t},ot(n))),qn.createWithPreprocess=(e,t,n)=>new qn(he({schema:t,effect:{type:"preprocess",transform:e},typeName:qe.ZodEffects},ot(n)));Bi=(()=>{class e extends st{_parse(n){return this._getType(n)===Le.undefined?Mn(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}return e.create=(t,n)=>new e(he({innerType:t,typeName:qe.ZodOptional},ot(n))),e})(),Ks=(()=>{class e extends st{_parse(n){return this._getType(n)===Le.null?Mn(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}return e.create=(t,n)=>new e(he({innerType:t,typeName:qe.ZodNullable},ot(n))),e})(),Gg=(()=>{class e extends st{_parse(n){let{ctx:r}=this._processInputParams(n),i=r.data;return r.parsedType===Le.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}return e.create=(t,n)=>new e(he({innerType:t,typeName:qe.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default},ot(n))),e})(),Wg=(()=>{class e extends st{_parse(n){let{ctx:r}=this._processInputParams(n),i=Ae(he({},r),{common:Ae(he({},r.common),{issues:[]})}),o=this._def.innerType._parse({data:i.data,path:i.path,parent:he({},i)});return El(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hi(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new hi(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}return e.create=(t,n)=>new e(he({innerType:t,typeName:qe.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch},ot(n))),e})(),yE=(()=>{class e extends st{_parse(n){if(this._getType(n)!==Le.nan){let r=this._getOrReturnCtx(n);return Ne(r,{code:Se.invalid_type,expected:Le.nan,received:r.parsedType}),Je}return{status:"valid",value:n.data}}}return e.create=t=>new e(he({typeName:qe.ZodNaN},ot(t))),e})(),XR=Symbol("zod_brand"),Dl=class extends st{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},xl=class e extends st{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return Ve(this,null,function*(){let i=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Je:i.status==="dirty"?(n.dirty(),Id(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})});{let i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Je:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new e({in:t,out:n,typeName:qe.ZodPipeline})}},To=class extends st{_parse(t){let n=this._def.innerType._parse(t),r=i=>(wl(i)&&(i.value=Object.freeze(i.value)),i);return El(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}};To.create=(e,t)=>new To(he({innerType:e,typeName:qe.ZodReadonly},ot(t)));eN={object:On.lazycreate};(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(qe||(qe={}));tN=(e,t={message:`Input not instance of ${e.name}`})=>_E(n=>n instanceof e,t),vE=Ui.create,bE=Fg.create,nN=yE.create,rN=Lg.create,wE=Bg.create,iN=jg.create,oN=fE.create,sN=Ug.create,aN=Vg.create,lN=Sd.create,uN=gl.create,cN=Mo.create,dN=hE.create,fN=mi.create,hN=On.create,pN=On.strictCreate,mN=zg.create,gN=Ad.create,yN=Hg.create,_N=Qs.create,vN=Td.create,bN=pE.create,wN=mE.create,EN=kd.create,DN=$g.create,xN=Co.create,MN=So.create,IN=Ao.create,CN=qd.create,uw=qn.create,SN=Bi.create,AN=Ks.create,TN=qn.createWithPreprocess,kN=xl.create,RN=()=>vE().optional(),NN=()=>bE().optional(),ON=()=>wE().optional(),PN={string:e=>Ui.create(Ae(he({},e),{coerce:!0})),number:e=>Fg.create(Ae(he({},e),{coerce:!0})),boolean:e=>Bg.create(Ae(he({},e),{coerce:!0})),bigint:e=>Lg.create(Ae(he({},e),{coerce:!0})),date:e=>jg.create(Ae(he({},e),{coerce:!0}))},FN=Je,de=Object.freeze({__proto__:null,defaultErrorMap:Ys,setErrorMap:FR,getErrorMap:xd,makeIssue:Md,EMPTY_PATH:LR,addIssueToContext:Ne,ParseStatus:pn,INVALID:Je,DIRTY:Id,OK:Mn,isAborted:cg,isDirty:dg,isValid:wl,isAsync:El,get util(){return bt},get objectUtil(){return ug},ZodParsedType:Le,getParsedType:Li,ZodType:st,datetimeRegex:dE,ZodString:Ui,ZodNumber:Fg,ZodBigInt:Lg,ZodBoolean:Bg,ZodDate:jg,ZodSymbol:fE,ZodUndefined:Ug,ZodNull:Vg,ZodAny:Sd,ZodUnknown:gl,ZodNever:Mo,ZodVoid:hE,ZodArray:mi,ZodObject:On,ZodUnion:zg,ZodDiscriminatedUnion:Ad,ZodIntersection:Hg,ZodTuple:Qs,ZodRecord:Td,ZodMap:pE,ZodSet:mE,ZodFunction:kd,ZodLazy:$g,ZodLiteral:Co,ZodEnum:So,ZodNativeEnum:Ao,ZodPromise:qd,ZodEffects:qn,ZodTransformer:qn,ZodOptional:Bi,ZodNullable:Ks,ZodDefault:Gg,ZodCatch:Wg,ZodNaN:yE,BRAND:XR,ZodBranded:Dl,ZodPipeline:xl,ZodReadonly:To,custom:_E,Schema:st,ZodSchema:st,late:eN,get ZodFirstPartyTypeKind(){return qe},coerce:PN,any:lN,array:fN,bigint:rN,boolean:wE,date:iN,discriminatedUnion:gN,effect:uw,enum:MN,function:EN,instanceof:tN,intersection:yN,lazy:DN,literal:xN,map:bN,nan:nN,nativeEnum:IN,never:cN,null:aN,nullable:AN,number:bE,object:hN,oboolean:ON,onumber:NN,optional:SN,ostring:RN,pipeline:kN,preprocess:TN,promise:CN,record:vN,set:wN,strictObject:pN,string:vE,symbol:oN,transformer:uw,tuple:_N,undefined:sN,union:mN,unknown:uN,void:dN,NEVER:FN,ZodIssueCode:Se,quotelessJson:PR,ZodError:hi});wo=ji||(ji={}),wo[wo.EXTEND=1]="EXTEND",wo[wo.WRAP=2]="WRAP",wo[wo.CROP=3]="CROP";Tl=de.object({bitmap:de.object({data:de.union([de.instanceof(_e),de.instanceof(Uint8Array)]),width:de.number(),height:de.number()})}),LN=de.object({src:Tl,x:de.number().optional(),y:de.number().optional(),srcX:de.number().optional(),srcY:de.number().optional(),srcW:de.number().optional(),srcH:de.number().optional()}),BN=de.union([Tl,LN]),qg={blit(e,t){let n=BN.parse(t),{src:r,x:i=0,y:o=0,srcX:s=0,srcY:a=0,srcW:l=r.bitmap.width,srcH:u=r.bitmap.height}="bitmap"in n?{src:n}:n;if(!("bitmap"in r))throw new Error("The source must be a Jimp image");if(typeof i!="number"||typeof o!="number")throw new Error("x and y must be numbers");i=Math.round(i),o=Math.round(o),s=Math.round(s),a=Math.round(a),l=Math.round(l),u=Math.round(u);let c=e.bitmap.width,d=e.bitmap.height;return Io(r,s,a,l,u,function(f,h,p){let m=i+f-s,g=o+h-a;if(m>=0&&g>=0&&c-m>0&&d-g>0){let v=e.getPixelIndex(m,g),D={r:r.bitmap.data[p]||0,g:r.bitmap.data[p+1]||0,b:r.bitmap.data[p+2]||0,a:r.bitmap.data[p+3]||0},w={r:e.bitmap.data[v]||0,g:e.bitmap.data[v+1]||0,b:e.bitmap.data[v+2]||0,a:e.bitmap.data[v+3]||0};e.bitmap.data[v]=(D.a*(D.r-w.r)-w.r+255>>8)+w.r,e.bitmap.data[v+1]=(D.a*(D.g-w.g)-w.g+255>>8)+w.g,e.bitmap.data[v+2]=(D.a*(D.b-w.b)-w.b+255>>8)+w.b,e.bitmap.data[v+3]=Zt(w.a+D.a)}}),e}},jN=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],UN=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],VN={blur(e,t){if(typeof t!="number")throw new Error("r must be a number");if(t<1)throw new Error("r must be greater than 0");let n,r,i,o,s,a,l,u,c,d,f,h,p,m=e.bitmap.width-1,g=e.bitmap.height-1,v=t+1,D=jN[t],w=UN[t],b=[],E=[],C=[],M=[],S=[],I=[],k=2;for(;k-- >0;){for(h=0,p=0,a=0;a<e.bitmap.height;a++){for(n=e.bitmap.data[p]*v,r=e.bitmap.data[p+1]*v,i=e.bitmap.data[p+2]*v,o=e.bitmap.data[p+3]*v,l=1;l<=t;l++)u=p+((l>m?m:l)<<2),n+=e.bitmap.data[u++],r+=e.bitmap.data[u++],i+=e.bitmap.data[u++],o+=e.bitmap.data[u];for(s=0;s<e.bitmap.width;s++)b[h]=n,E[h]=r,C[h]=i,M[h]=o,a===0&&(S[s]=((u=s+v)<m?u:m)<<2,I[s]=(u=s-t)>0?u<<2:0),c=p+S[s],d=p+I[s],n+=e.bitmap.data[c++]-e.bitmap.data[d++],r+=e.bitmap.data[c++]-e.bitmap.data[d++],i+=e.bitmap.data[c++]-e.bitmap.data[d++],o+=e.bitmap.data[c]-e.bitmap.data[d++],h++;p+=e.bitmap.width<<2}for(s=0;s<e.bitmap.width;s++){for(f=s,n=b[f]*v,r=E[f]*v,i=C[f]*v,o=M[f]*v,l=1;l<=t;l++)f+=l>g?0:e.bitmap.width,n+=b[f],r+=E[f],i+=C[f],o+=M[f];for(h=s<<2,a=0;a<e.bitmap.height;a++)e.bitmap.data[h]=Zt(n*D>>>w),e.bitmap.data[h+1]=Zt(r*D>>>w),e.bitmap.data[h+2]=Zt(i*D>>>w),e.bitmap.data[h+3]=Zt(o*D>>>w),s===0&&(S[a]=((u=a+v)<g?u:g)*e.bitmap.width,I[a]=(u=a-t)>0?u*e.bitmap.width:0),c=s+S[a],d=s+I[a],n+=b[c]-b[d],r+=E[c]-E[d],i+=C[c]-C[d],o+=M[c]-M[d],h+=e.bitmap.width<<2}}return e},gaussian(e,t){if(typeof t!="number")throw new Error("r must be a number");if(t<1)throw new Error("r must be greater than 0");let n=Math.ceil(2.57*t),r=2*n+1,i=t*t*2,o=i*Math.PI,s=[];for(let a=0;a<r;a++){let l=[];for(let u=0;u<r;u++){let c=(u-n)**2+(a-n)**2;l[u]=Math.exp(-c/i)/o}s.push(l)}for(let a=0;a<e.bitmap.height;a++)for(let l=0;l<e.bitmap.width;l++){let u=0,c=0,d=0,f=0,h=0;for(let p=0;p<r;p++){for(let g=0;g<r;g++){let v=Math.min(e.bitmap.width-1,Math.max(0,g+l-n)),D=Math.min(e.bitmap.height-1,Math.max(0,p+a-n)),w=s[p][g],b=D*e.bitmap.width+v<<2;u+=e.bitmap.data[b]*w,c+=e.bitmap.data[b+1]*w,d+=e.bitmap.data[b+2]*w,f+=e.bitmap.data[b+3]*w,h+=w}let m=a*e.bitmap.width+l<<2;e.bitmap.data[m]=Math.round(u/h),e.bitmap.data[m+1]=Math.round(c/h),e.bitmap.data[m+2]=Math.round(d/h),e.bitmap.data[m+3]=Math.round(f/h)}}return e}},zN=de.object({x:de.number().optional(),y:de.number().optional(),radius:de.number().min(0).optional()}),HN={circle(e,t={}){let n=zN.parse(t),r=n.radius||(e.bitmap.width>e.bitmap.height?e.bitmap.height:e.bitmap.width)/2,i=typeof n.x=="number"?n.x:e.bitmap.width/2,o=typeof n.y=="number"?n.y:e.bitmap.height/2;return e.scan((s,a,l)=>{let u=Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2));r-u<=0?e.bitmap.data[l+3]=0:r-u<1&&(e.bitmap.data[l+3]=255*(r-u))}),e}},Zd=de.array(de.number()).min(1).array(),$N=de.object({kernel:Zd,edgeHandling:de.nativeEnum(ji).optional()}),GN=de.union([Zd,$N]),WN=de.object({kernel:Zd,x:de.number().optional(),y:de.number().optional(),w:de.number().optional(),h:de.number().optional()}),qN=de.union([Zd,WN]),EE=de.number().min(1).max(1/0),ZN=de.object({size:EE,x:de.number().optional(),y:de.number().optional(),w:de.number().optional(),h:de.number().optional()}),YN=de.union([EE,ZN]);QN=de.object({apply:de.literal("hue"),params:de.tuple([de.number().min(-360).max(360)])}),KN=de.object({apply:de.literal("spin"),params:de.tuple([de.number().min(-360).max(360)])}),JN=de.object({apply:de.literal("lighten"),params:de.tuple([de.number().min(0).max(100)]).optional()}),hg=de.object({r:de.number().min(0).max(255),g:de.number().min(0).max(255),b:de.number().min(0).max(255)}),XN=de.object({apply:de.literal("mix"),params:de.union([de.tuple([hg]),de.tuple([hg,de.number().min(0).max(100)])])}),e4=de.object({apply:de.literal("tint"),params:de.tuple([de.number().min(0).max(100)]).optional()}),t4=de.object({apply:de.literal("shade"),params:de.tuple([de.number().min(0).max(100)]).optional()}),n4=de.object({apply:de.literal("xor"),params:de.tuple([hg])}),r4=de.object({apply:de.literal("red"),params:de.tuple([de.number().min(-255).max(255)])}),i4=de.object({apply:de.literal("green"),params:de.tuple([de.number().min(-255).max(255)])}),o4=de.object({apply:de.literal("blue"),params:de.tuple([de.number().min(-255).max(255)])}),s4=de.object({apply:de.literal("brighten"),params:de.tuple([de.number().min(0).max(100)]).optional()}),a4=de.object({apply:de.literal("darken"),params:de.tuple([de.number().min(0).max(100)]).optional()}),l4=de.object({apply:de.literal("desaturate"),params:de.tuple([de.number().min(0).max(100)]).optional()}),u4=de.object({apply:de.literal("saturate"),params:de.tuple([de.number().min(0).max(100)]).optional()}),c4=de.object({apply:de.literal("greyscale"),params:de.tuple([]).optional()}),d4=de.union([QN,KN,JN,XN,e4,t4,n4,r4,i4,o4,s4,a4,l4,u4,c4]);$m=function(e,t,n){return 255*(e-t)/(n-t)},Gm=function(e){return[e.findIndex(t=>t>0),255-e.slice().reverse().findIndex(t=>t>0)]},Zg={normalize(e){let t=f4(e),n={r:Gm(t.r),g:Gm(t.g),b:Gm(t.b)};return e.scan((r,i,o)=>{let s=e.bitmap.data[o+0],a=e.bitmap.data[o+1],l=e.bitmap.data[o+2];e.bitmap.data[o+0]=$m(s,n.r[0],n.r[1]),e.bitmap.data[o+1]=$m(a,n.g[0],n.g[1]),e.bitmap.data[o+2]=$m(l,n.b[0],n.b[1])}),e},invert:e=>(e.scan((t,n,r)=>{e.bitmap.data[r]=255-e.bitmap.data[r],e.bitmap.data[r+1]=255-e.bitmap.data[r+1],e.bitmap.data[r+2]=255-e.bitmap.data[r+2]}),e),brightness(e,t){if(typeof t!="number")throw new Error("val must be numbers");return e.scan((n,r,i)=>{e.bitmap.data[i]=Zt(e.bitmap.data[i]*t),e.bitmap.data[i+1]=Zt(e.bitmap.data[i+1]*t),e.bitmap.data[i+2]=Zt(e.bitmap.data[i+2]*t)}),e},contrast(e,t){if(typeof t!="number")throw new Error("val must be numbers");if(t<-1||t>1)throw new Error("val must be a number between -1 and +1");let n=(t+1)/(1-t);function r(i){return(i=Math.floor(n*(i-127)+127))<0?0:i>255?255:i}return e.scan((i,o,s)=>{e.bitmap.data[s]=r(e.bitmap.data[s]),e.bitmap.data[s+1]=r(e.bitmap.data[s+1]),e.bitmap.data[s+2]=r(e.bitmap.data[s+2])}),e},posterize(e,t){if(typeof t!="number")throw new Error("n must be numbers");return t<2&&(t=2),e.scan((n,r,i)=>{let o=e.bitmap.data[i],s=e.bitmap.data[i+1],a=e.bitmap.data[i+2];e.bitmap.data[i]=Math.floor(o/255*(t-1))/(t-1)*255,e.bitmap.data[i+1]=Math.floor(s/255*(t-1))/(t-1)*255,e.bitmap.data[i+2]=Math.floor(a/255*(t-1))/(t-1)*255}),e},greyscale:e=>(e.scan((t,n,r)=>{let i=.2126*e.bitmap.data[r]+.7152*e.bitmap.data[r+1]+.0722*e.bitmap.data[r+2];e.bitmap.data[r]=i,e.bitmap.data[r+1]=i,e.bitmap.data[r+2]=i}),e),opacity(e,t){if(typeof t!="number")throw new Error("f must be a number");if(t<0||t>1)throw new Error("f must be a number from 0 to 1");return e.scan((n,r,i)=>{let o=e.bitmap.data[i+3]*t;e.bitmap.data[i+3]=o}),e},sepia:e=>(e.scan((t,n,r)=>{let i=e.bitmap.data[r],o=e.bitmap.data[r+1],s=e.bitmap.data[r+2];i=.393*i+.769*o+.189*s,o=.349*i+.686*o+.168*s,s=.272*i+.534*o+.131*s,e.bitmap.data[r]=i<255?i:255,e.bitmap.data[r+1]=o<255?o:255,e.bitmap.data[r+2]=s<255?s:255}),e),fade(e,t){if(typeof t!="number")throw new Error("f must be a number");if(t<0||t>1)throw new Error("f must be a number from 0 to 1");return this.opacity(e,1-t)},convolution(e,t){let n=GN.parse(t),{kernel:r,edgeHandling:i=ji.EXTEND}="kernel"in n?n:{kernel:n,edgeHandling:void 0};if(!r[0])throw new Error("kernel must be a matrix");let o=_e.from(e.bitmap.data),s=r.length,a=r[0].length,l=Math.floor(s/2),u=Math.floor(a/2),c=-l,d=-u,f,h,p,m,g,v,D,w,b,E;return e.scan((C,M,S)=>{m=0,p=0,h=0;for(let I=c;I<=l;I++)for(let k=d;k<=u;k++)w=C+k,b=M+I,f=r[I+l][k+u],E=e.getPixelIndex(w,b,i),E===-1?(D=0,v=0,g=0):(g=e.bitmap.data[E+0],v=e.bitmap.data[E+1],D=e.bitmap.data[E+2]),h+=f*g,p+=f*v,m+=f*D;h<0&&(h=0),p<0&&(p=0),m<0&&(m=0),h>255&&(h=255),p>255&&(p=255),m>255&&(m=255),o[S+0]=h,o[S+1]=p,o[S+2]=m}),e.bitmap.data=o,e},opaque:e=>(e.scan((t,n,r)=>{e.bitmap.data[r+3]=255}),e),pixelate(e,t){let n=YN.parse(t),{size:r,x:i=0,y:o=0,w:s=e.bitmap.width-i,h:a=e.bitmap.height-o}=typeof n=="number"?{size:n}:n,l=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],u=pi(e);return Io(u,i,o,s,a,(c,d,f)=>{c=r*Math.floor(c/r),d=r*Math.floor(d/r);let h=cw(u,l,c,d);e.bitmap.data[f]=h[0],e.bitmap.data[f+1]=h[1],e.bitmap.data[f+2]=h[2],e.bitmap.data[f+3]=h[3]}),e},convolute(e,t){let n=qN.parse(t),{kernel:r,x:i=0,y:o=0,w:s=e.bitmap.width-i,h:a=e.bitmap.height-o}="kernel"in n?n:{kernel:n},l=pi(e);return Io(l,i,o,s,a,(u,c,d)=>{let f=cw(l,r,u,c);e.bitmap.data[d]=Zt(f[0]),e.bitmap.data[d+1]=Zt(f[1]),e.bitmap.data[d+2]=Zt(f[2]),e.bitmap.data[d+3]=Zt(f[3])}),e},color(e,t){if(!t||!Array.isArray(t))throw new Error("actions must be an array");return t.forEach(n=>d4.parse(n)),t=t.map(n=>(n.apply!=="xor"&&n.apply!=="mix"||(n.params[0]=ze(n.params[0]).toRgb()),n)),e.scan((n,r,i)=>{let o={r:e.bitmap.data[i],g:e.bitmap.data[i+1],b:e.bitmap.data[i+2]},s=(a,l)=>Zt(o[a]+l);t.forEach(a=>{if(a.apply==="mix")o=Hm(o,a.params[0],a.params[1]);else if(a.apply==="tint")o=Hm(o,{r:255,g:255,b:255},a.params?.[0]);else if(a.apply==="shade")o=Hm(o,{r:0,g:0,b:0},a.params?.[0]);else if(a.apply==="xor")o={r:o.r^a.params[0].r,g:o.g^a.params[0].g,b:o.b^a.params[0].b};else if(a.apply==="red")o.r=s("r",a.params[0]);else if(a.apply==="green")o.g=s("g",a.params[0]);else if(a.apply==="blue")o.b=s("b",a.params[0]);else{a.apply==="hue"&&(a.apply="spin");let l=ze(o),u=l[a.apply].bind(l);if(!u)throw new Error("action "+a.apply+" not supported");o=u(...a.params||[]).toRgb()}}),e.bitmap.data[i]=o.r,e.bitmap.data[i+1]=o.g,e.bitmap.data[i+2]=o.b}),e}},DE={},h4={read:function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=a;c>0;o=256*o+e[t+d],d+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+d],d+=f,c-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=u}return(h?-1:1)*s*Math.pow(2,o-r)},write:function(e,t,n,r,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+h]=255&s,h+=p,s/=256,u-=8);e[n+h-p]|=128*m}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AnsiStringType=e.StringType=e.BufferType=e.Uint8ArrayType=e.IgnoreType=e.Float80_LE=e.Float80_BE=e.Float64_LE=e.Float64_BE=e.Float32_LE=e.Float32_BE=e.Float16_LE=e.Float16_BE=e.INT64_BE=e.UINT64_BE=e.INT64_LE=e.UINT64_LE=e.INT32_LE=e.INT32_BE=e.INT24_BE=e.INT24_LE=e.INT16_LE=e.INT16_BE=e.INT8=e.UINT32_BE=e.UINT32_LE=e.UINT24_BE=e.UINT24_LE=e.UINT16_BE=e.UINT16_LE=e.UINT8=void 0;let t=h4;function n(i){return new DataView(i.buffer,i.byteOffset)}e.UINT8={len:1,get:(i,o)=>n(i).getUint8(o),put:(i,o,s)=>(n(i).setUint8(o,s),o+1)},e.UINT16_LE={len:2,get:(i,o)=>n(i).getUint16(o,!0),put:(i,o,s)=>(n(i).setUint16(o,s,!0),o+2)},e.UINT16_BE={len:2,get:(i,o)=>n(i).getUint16(o),put:(i,o,s)=>(n(i).setUint16(o,s),o+2)},e.UINT24_LE={len:3,get(i,o){let s=n(i);return s.getUint8(o)+(s.getUint16(o+1,!0)<<8)},put(i,o,s){let a=n(i);return a.setUint8(o,255&s),a.setUint16(o+1,s>>8,!0),o+3}},e.UINT24_BE={len:3,get(i,o){let s=n(i);return(s.getUint16(o)<<8)+s.getUint8(o+2)},put(i,o,s){let a=n(i);return a.setUint16(o,s>>8),a.setUint8(o+2,255&s),o+3}},e.UINT32_LE={len:4,get:(i,o)=>n(i).getUint32(o,!0),put:(i,o,s)=>(n(i).setUint32(o,s,!0),o+4)},e.UINT32_BE={len:4,get:(i,o)=>n(i).getUint32(o),put:(i,o,s)=>(n(i).setUint32(o,s),o+4)},e.INT8={len:1,get:(i,o)=>n(i).getInt8(o),put:(i,o,s)=>(n(i).setInt8(o,s),o+1)},e.INT16_BE={len:2,get:(i,o)=>n(i).getInt16(o),put:(i,o,s)=>(n(i).setInt16(o,s),o+2)},e.INT16_LE={len:2,get:(i,o)=>n(i).getInt16(o,!0),put:(i,o,s)=>(n(i).setInt16(o,s,!0),o+2)},e.INT24_LE={len:3,get(i,o){let s=e.UINT24_LE.get(i,o);return s>8388607?s-16777216:s},put(i,o,s){let a=n(i);return a.setUint8(o,255&s),a.setUint16(o+1,s>>8,!0),o+3}},e.INT24_BE={len:3,get(i,o){let s=e.UINT24_BE.get(i,o);return s>8388607?s-16777216:s},put(i,o,s){let a=n(i);return a.setUint16(o,s>>8),a.setUint8(o+2,255&s),o+3}},e.INT32_BE={len:4,get:(i,o)=>n(i).getInt32(o),put:(i,o,s)=>(n(i).setInt32(o,s),o+4)},e.INT32_LE={len:4,get:(i,o)=>n(i).getInt32(o,!0),put:(i,o,s)=>(n(i).setInt32(o,s,!0),o+4)},e.UINT64_LE={len:8,get:(i,o)=>n(i).getBigUint64(o,!0),put:(i,o,s)=>(n(i).setBigUint64(o,s,!0),o+8)},e.INT64_LE={len:8,get:(i,o)=>n(i).getBigInt64(o,!0),put:(i,o,s)=>(n(i).setBigInt64(o,s,!0),o+8)},e.UINT64_BE={len:8,get:(i,o)=>n(i).getBigUint64(o),put:(i,o,s)=>(n(i).setBigUint64(o,s),o+8)},e.INT64_BE={len:8,get:(i,o)=>n(i).getBigInt64(o),put:(i,o,s)=>(n(i).setBigInt64(o,s),o+8)},e.Float16_BE={len:2,get(i,o){return t.read(i,o,!1,10,this.len)},put(i,o,s){return t.write(i,s,o,!1,10,this.len),o+this.len}},e.Float16_LE={len:2,get(i,o){return t.read(i,o,!0,10,this.len)},put(i,o,s){return t.write(i,s,o,!0,10,this.len),o+this.len}},e.Float32_BE={len:4,get:(i,o)=>n(i).getFloat32(o),put:(i,o,s)=>(n(i).setFloat32(o,s),o+4)},e.Float32_LE={len:4,get:(i,o)=>n(i).getFloat32(o,!0),put:(i,o,s)=>(n(i).setFloat32(o,s,!0),o+4)},e.Float64_BE={len:8,get:(i,o)=>n(i).getFloat64(o),put:(i,o,s)=>(n(i).setFloat64(o,s),o+8)},e.Float64_LE={len:8,get:(i,o)=>n(i).getFloat64(o,!0),put:(i,o,s)=>(n(i).setFloat64(o,s,!0),o+8)},e.Float80_BE={len:10,get(i,o){return t.read(i,o,!1,63,this.len)},put(i,o,s){return t.write(i,s,o,!1,63,this.len),o+this.len}},e.Float80_LE={len:10,get(i,o){return t.read(i,o,!0,63,this.len)},put(i,o,s){return t.write(i,s,o,!0,63,this.len),o+this.len}},e.IgnoreType=class{constructor(i){this.len=i}get(i,o){}},e.Uint8ArrayType=class{constructor(i){this.len=i}get(i,o){return i.subarray(o,o+this.len)}},e.BufferType=class{constructor(i){this.len=i}get(i,o){return _e.from(i.subarray(o,o+this.len))}},e.StringType=class{constructor(i,o){this.len=i,this.encoding=o}get(i,o){return _e.from(i).toString(this.encoding,o,o+this.len)}};class r{constructor(o){this.len=o}static decode(o,s,a){let l="";for(let u=s;u<a;++u)l+=r.codePointToString(r.singleByteDecoder(o[u]));return l}static inRange(o,s,a){return s<=o&&o<=a}static codePointToString(o){return o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode(55296+(o>>10),56320+(1023&o)))}static singleByteDecoder(o){if(r.inRange(o,0,127))return o;let s=r.windows1252[o-128];if(s===null)throw Error("invaliding encoding");return s}get(o,s=0){return r.decode(o,s,s+this.len)}}e.AnsiStringType=r,r.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(DE);xE={},Rd={},Ml={},kl={},pd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EndOfStreamError=e.defaultMessages=void 0,e.defaultMessages="End-Of-Stream";class t extends Error{constructor(){super(e.defaultMessages)}}e.EndOfStreamError=t})(pd);dw={},Nd={};Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.Deferred=void 0;pg=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((t,n)=>{this.reject=n,this.resolve=t})}};Nd.Deferred=pg,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;let t=pd,n=Nd;var r=pd;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return r.EndOfStreamError}}),e.StreamReader=class{constructor(i){if(this.s=i,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!i.read||!i.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new t.EndOfStreamError)),this.s.once("error",o=>this.reject(o)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}peek(i,o,s){return Ve(this,null,function*(){let a=yield this.read(i,o,s);return this.peekQueue.push(i.subarray(o,o+a)),a})}read(i,o,s){return Ve(this,null,function*(){if(s===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new t.EndOfStreamError;let a=s,l=0;for(;this.peekQueue.length>0&&a>0;){let u=this.peekQueue.pop();if(!u)throw new Error("peekData should be defined");let c=Math.min(u.length,a);i.set(u.subarray(0,c),o+l),l+=c,a-=c,c<u.length&&this.peekQueue.push(u.subarray(c))}for(;a>0&&!this.endOfStream;){let u=Math.min(a,1048576),c=yield this.readFromStream(i,o+l,u);if(l+=c,c<u)break;a-=c}return l})}readFromStream(i,o,s){return Ve(this,null,function*(){let a=this.s.read(s);if(a)return i.set(a,o),a.length;{let l={buffer:i,offset:o,length:s,deferred:new n.Deferred};return this.deferred=l.deferred,this.s.once("readable",()=>{this.readDeferred(l)}),l.deferred.promise}})}readDeferred(i){let o=this.s.read(i.length);o?(i.buffer.set(o,i.offset),i.deferred.resolve(o.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(i)})}reject(i){this.endOfStream=!0,this.deferred&&(this.deferred.reject(i),this.deferred=null)}}}(dw),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;var t=pd;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return t.EndOfStreamError}});var n=dw;Object.defineProperty(e,"StreamReader",{enumerable:!0,get:function(){return n.StreamReader}})}(kl),Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.AbstractTokenizer=void 0;ld=kl,mg=class{constructor(t){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=t||{}}readToken(r){return Ve(this,arguments,function*(t,n=this.position){let i=_e.alloc(t.len);if((yield this.readBuffer(i,{position:n}))<t.len)throw new ld.EndOfStreamError;return t.get(i,0)})}peekToken(r){return Ve(this,arguments,function*(t,n=this.position){let i=_e.alloc(t.len);if((yield this.peekBuffer(i,{position:n}))<t.len)throw new ld.EndOfStreamError;return t.get(i,0)})}readNumber(t){return Ve(this,null,function*(){if((yield this.readBuffer(this.numBuffer,{length:t.len}))<t.len)throw new ld.EndOfStreamError;return t.get(this.numBuffer,0)})}peekNumber(t){return Ve(this,null,function*(){if((yield this.peekBuffer(this.numBuffer,{length:t.len}))<t.len)throw new ld.EndOfStreamError;return t.get(this.numBuffer,0)})}ignore(t){return Ve(this,null,function*(){if(this.fileInfo.size!==void 0){let n=this.fileInfo.size-this.position;if(t>n)return this.position+=n,n}return this.position+=t,t})}close(){return Ve(this,null,function*(){})}normalizeOptions(t,n){if(n&&n.position!==void 0&&n.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return n?{mayBeLess:n.mayBeLess===!0,offset:n.offset?n.offset:0,length:n.length?n.length:t.length-(n.offset?n.offset:0),position:n.position?n.position:this.position}:{mayBeLess:!1,offset:0,length:t.length,position:this.position}}};Ml.AbstractTokenizer=mg,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.ReadStreamTokenizer=void 0;p4=Ml,ud=kl,m4=256e3,gg=class extends p4.AbstractTokenizer{constructor(t,n){super(n),this.streamReader=new ud.StreamReader(t)}getFileInfo(){return Ve(this,null,function*(){return this.fileInfo})}readBuffer(t,n){return Ve(this,null,function*(){let r=this.normalizeOptions(t,n),i=r.position-this.position;if(i>0)return yield this.ignore(i),this.readBuffer(t,n);if(i<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(r.length===0)return 0;let o=yield this.streamReader.read(t,r.offset,r.length);if(this.position+=o,(!n||!n.mayBeLess)&&o<r.length)throw new ud.EndOfStreamError;return o})}peekBuffer(t,n){return Ve(this,null,function*(){let r=this.normalizeOptions(t,n),i=0;if(r.position){let o=r.position-this.position;if(o>0){let s=new Uint8Array(r.length+o);return i=yield this.peekBuffer(s,{mayBeLess:r.mayBeLess}),t.set(s.subarray(o),r.offset),i-o}if(o<0)throw new Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{i=yield this.streamReader.peek(t,r.offset,r.length)}catch(o){if(n&&n.mayBeLess&&o instanceof ud.EndOfStreamError)return 0;throw o}if(!r.mayBeLess&&i<r.length)throw new ud.EndOfStreamError}return i})}ignore(t){return Ve(this,null,function*(){let n=Math.min(m4,t),r=new Uint8Array(n),i=0;for(;i<t;){let o=t-i,s=yield this.readBuffer(r,{length:Math.min(n,o)});if(s<0)return s;i+=s}return i})}};Rd.ReadStreamTokenizer=gg;Od={};Object.defineProperty(Od,"__esModule",{value:!0}),Od.BufferTokenizer=void 0;g4=kl,y4=Ml,yg=class extends y4.AbstractTokenizer{constructor(t,n){super(n),this.uint8Array=t,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:t.length}readBuffer(t,n){return Ve(this,null,function*(){if(n&&n.position){if(n.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=n.position}let r=yield this.peekBuffer(t,n);return this.position+=r,r})}peekBuffer(t,n){return Ve(this,null,function*(){let r=this.normalizeOptions(t,n),i=Math.min(this.uint8Array.length-r.position,r.length);if(!r.mayBeLess&&i<r.length)throw new g4.EndOfStreamError;return t.set(this.uint8Array.subarray(r.position,r.position+i),r.offset),i})}close(){return Ve(this,null,function*(){})}};Od.BufferTokenizer=yg,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromBuffer=e.fromStream=e.EndOfStreamError=void 0;let t=Rd,n=Od;var r=kl;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return r.EndOfStreamError}}),e.fromStream=function(i,o){return o=o||{},new t.ReadStreamTokenizer(i,o)},e.fromBuffer=function(i,o){return new n.BufferTokenizer(i,o)}}(xE);_4={stringToBytes:e=>[...e].map(t=>t.charCodeAt(0)),tarHeaderChecksumMatches:(e,t=0)=>{let n=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(n))return!1;let r=256;for(let i=t;i<t+148;i++)r+=e[i];for(let i=t+156;i<t+512;i++)r+=e[i];return n===r},uint32SyncSafeToken:{get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},v4={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]},ui=DE,Yd=xE,{stringToBytes:b4,tarHeaderChecksumMatches:w4,uint32SyncSafeToken:E4}=_4,fw=v4,ME=4100;M4=readableStream=>new Promise((resolve,reject)=>{let stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",()=>Ve(null,null,function*(){let e=new stream.PassThrough,t;t=stream.pipeline?stream.pipeline(readableStream,e,()=>{}):readableStream.pipe(e);let n=readableStream.read(ME)||readableStream.read()||_e.alloc(0);try{let r=yield IE(n);e.fileType=r}catch(r){reject(r)}resolve(t)}))}),_g={fromStream:D4,fromTokenizer:Qd,fromBuffer:IE,stream:M4};Object.defineProperty(_g,"extensions",{get:()=>new Set(fw.extensions)}),Object.defineProperty(_g,"mimeTypes",{get:()=>new Set(fw.mimeTypes)});I4=_g,C4=Mr(I4);S4=()=>Ve(null,null,function*(){throw new Error("Not supported")});md.prototype.define=function(e,t){for(let n in e){let r=e[n].map(function(i){return i.toLowerCase()});n=n.toLowerCase();for(let i=0;i<r.length;i++){let o=r[i];if(o[0]!=="*"){if(!t&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+n+'".');this._types[o]=n}}if(t||!this._extensions[n]){let i=r[0];this._extensions[n]=i[0]!=="*"?i:i.substr(1)}}},md.prototype.getType=function(e){let t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),r=t.length<e.length;return(n.length<t.length-1||!r)&&this._types[n]||null},md.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null};A4=md,T4={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]},k4=A4,R4=new k4(T4),N4=Mr(R4);Eo=Hr||(Hr={}),Eo[Eo.LEFT=1]="LEFT",Eo[Eo.CENTER=2]="CENTER",Eo[Eo.RIGHT=4]="RIGHT",Do=zr||(zr={}),Do[Do.TOP=8]="TOP",Do[Do.MIDDLE=16]="MIDDLE",Do[Do.BOTTOM=32]="BOTTOM",rr=Pd||(Pd={}),rr.SRC_OVER="srcOver",rr.DST_OVER="dstOver",rr.MULTIPLY="multiply",rr.ADD="add",rr.SCREEN="screen",rr.OVERLAY="overlay",rr.DARKEN="darken",rr.LIGHTEN="lighten",rr.HARD_LIGHT="hardLight",rr.DIFFERENCE="difference",rr.EXCLUSION="exclusion";O4=[CE,SE,AE,TE,kE,RE,NE,OE,PE,FE,LE],P4=Object.freeze({__proto__:null,add:TE,darken:NE,difference:FE,dstOver:SE,exclusion:LE,hardLight:PE,lighten:OE,multiply:AE,names:O4,overlay:RE,screen:kE,srcOver:CE});F4={parseSections:function(e,t){var n,r;for(e.setBigEndian(!0);e.remainingLength()>0&&r!==218;){if(e.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");n=(r=e.nextUInt8())>=208&&r<=217||r===218?0:e.nextUInt16()-2,t(r,e.branch(0,n)),e.skip(n)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var t,n;switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:e>=224&&e<=239?(t="APP",n=e-224):e>=192&&e<=207&&e!==196&&e!==200&&e!==204?(t="SOF",n=e-192):e>=208&&e<=215&&(t="RST",n=e-208)}var r={name:t};return typeof n=="number"&&(r.index=n),r}};BE={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var n,r,i,o;try{n=U4(e)}catch{return!1}var s=n.openWithOffset(e.nextUInt32()),a=this.IFD0;sl(n,s,function(p,m,g){switch(p){case 34853:i=m[0];break;case 34665:r=m[0];break;default:t(a,p,m,g)}});var l=s.nextUInt32();if(l!==0){var u=n.openWithOffset(l);sl(n,u,t.bind(null,this.IFD1))}if(i){var c=n.openWithOffset(i);sl(n,c,t.bind(null,this.GPSIFD))}if(r){var d=n.openWithOffset(r),f=this.InteropIFD;sl(n,d,function(p,m,g){p===40965?o=m[0]:t(f,p,m,g)})}if(o){var h=n.openWithOffset(o);sl(n,h,t.bind(null,this.InteropIFD))}return!0}};V4=3600,z4=60;$4={parseDateWithSpecFormat:VE,parseDateWithTimezoneFormat:UE,parseExifDate:H4},Ws=BE,G4=$4,W4=[{section:Ws.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:Ws.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],q4=[{section:Ws.SubIFD,type:306,name:"ModifyDate"},{section:Ws.SubIFD,type:36867,name:"DateTimeOriginal"},{section:Ws.SubIFD,type:36868,name:"CreateDate"},{section:Ws.SubIFD,type:306,name:"ModifyDate"}],Z4={castDegreeValues:function(e,t){W4.forEach(function(n){var r=e(n);if(r){var i=e({section:n.section,type:n.refType,name:n.refName})===n.posVal?1:-1,o=(r[0]+r[1]/60+r[2]/3600)*i;t(n,o)}})},castDateValues:function(e,t){q4.forEach(function(n){var r=e(n);if(r){var i=G4.parseExifDate(r);i!==void 0&&t(n,i)}})},simplifyValue:function(e,t){return Array.isArray(e)&&(e=e.map(function(n){return t===10||t===5?n[0]/n[1]:n})).length===1&&(e=e[0]),e}};Fs=F4,gw=BE,Wm=Z4;yw.prototype={hasThumbnail:function(e){return!(!this.thumbnailOffset||!this.thumbnailLength)&&(typeof e!="string"||(e.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:e.toLowerCase().trim()==="image/tiff"&&this.thumbnailType===1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e,t=this._getThumbnailStream();return Fs.parseSections(t,function(n,r){Fs.getSectionName(n).name==="SOF"&&(e=Fs.getSizeFromSOFSection(r))}),e}},zE.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var e,t,n,r,i,o,s,a,l,u=this.stream.mark(),c=u.openWithOffset(0),d=this.flags;return d.resolveTagNames&&(s=Y4()),d.resolveTagNames?(e={},a=function(f){return e[f.name]},l=function(f,h){e[f.name]=h}):(e=[],a=function(f){var h;for(h=0;h<e.length;++h)if(e[h].type===f.type&&e[h].section===f.section)return e.value},l=function(f,h){var p;for(p=0;p<e.length;++p)if(e[p].type===f.type&&e[p].section===f.section)return void(e.value=h)}),Fs.parseSections(c,function(f,h){var p=h.offsetFrom(u);f===225?gw.parseTags(h,function(m,g,v,D){if(d.readBinaryTags||D!==7){if(g===513){if(n=v[0],d.hidePointers)return}else if(g===514){if(r=v[0],d.hidePointers)return}else if(g===259&&(i=v[0],d.hidePointers))return;if(d.returnTags)if(d.simplifyValues&&(v=Wm.simplifyValue(v,D)),d.resolveTagNames){var w=(m===gw.GPSIFD?s.gps:s.exif)[g];w||(w=s.exif[g]),e.hasOwnProperty(w)||(e[w]=v)}else e.push({section:m,type:g,value:v})}})&&(o=p):d.imageSize&&Fs.getSectionName(f).name==="SOF"&&(t=Fs.getSizeFromSOFSection(h))}),d.simplifyValues&&(Wm.castDegreeValues(a,l),Wm.castDateValues(a,l)),new yw(u,e,t,n,r,i,o)}};Q4=zE;Ew=Q4;eO={create:function(e,t){if(e instanceof(t=t||X4()).ArrayBuffer){var n=K4();return new Ew(new n(e,0,e.byteLength,!0,t))}var r=J4();return new Ew(new r(e,0,e.length,!0))}},tO=Mr(eO);sO=Object.defineProperty,aO=(e,t,n)=>t in e?sO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cd=(e,t,n)=>aO(e,typeof t!="symbol"?t+"":t,n),qm={data:_e.alloc(0),width:0,height:0};Ls=$r||($r={}),Ls.NEAREST_NEIGHBOR="nearestNeighbor",Ls.BILINEAR="bilinearInterpolation",Ls.BICUBIC="bicubicInterpolation",Ls.HERMITE="hermiteInterpolation",Ls.BEZIER="bezierInterpolation",qt.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw console.log(this),new Error("Invalid settings specified for the resizer.");this.configurePasses()},qt.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},qt.prototype._resizeWidthInterpolatedRGBChannels=function(e,t){let n=t?4:3,r=this.ratioWeightWidthPass,i=this.widthBuffer,o,s,a=0,l=0,u=0,c=0,d=0;for(o=0;a<1/3;o+=n,a+=r)for(l=o,u=0;l<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)i[l]=e[u],i[l+1]=e[u+1],i[l+2]=e[u+2],t&&(i[l+3]=e[u+3]);for(a-=1/3,s=this.widthOriginal-1;a<s;o+=n,a+=r)for(d=a%1,c=1-d,l=o,u=Math.floor(a)*n;l<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)i[l+0]=e[u+0]*c+e[u+n+0]*d,i[l+1]=e[u+1]*c+e[u+n+1]*d,i[l+2]=e[u+2]*c+e[u+n+2]*d,t&&(i[l+3]=e[u+3]*c+e[u+n+3]*d);for(s=this.originalWidthMultipliedByChannels-n;o<this.targetWidthMultipliedByChannels;o+=n)for(l=o,u=s;l<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)i[l]=e[u],i[l+1]=e[u+1],i[l+2]=e[u+2],t&&(i[l+3]=e[u+3]);return i},qt.prototype._resizeWidthRGBChannels=function(e,t){let n=t?4:3,r=this.ratioWeightWidthPass,i=1/r,o=this.originalWidthMultipliedByChannels-n+1,s=this.targetWidthMultipliedByChannels-n+1,a=this.outputWidthWorkBench,l=this.widthBuffer,u=this.outputWidthWorkBenchOpaquePixelsCount,c=0,d=0,f=0,h=0,p=0,m=0,g=0,v=1,D=0,w=0,b=0,E=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)a[p++]=0,a[p++]=0,a[p++]=0,t&&(a[p++]=0,u[p/n-1]=0);c=r;do{for(d=1+f-h,v=Math.min(c,d),p=0,m=f;p<this.originalHeightMultipliedByChannels;m+=o)D=e[m],w=e[++m],b=e[++m],E=t?e[++m]:255,a[p++]+=(E?D:0)*v,a[p++]+=(E?w:0)*v,a[p++]+=(E?b:0)*v,t&&(a[p++]+=E*v,u[p/n-1]+=E?v:0);if(!(c>=d)){h+=c;break}f+=n,h=f,c-=d}while(c>0&&f<this.originalWidthMultipliedByChannels);for(p=0,m=g;p<this.originalHeightMultipliedByChannels;m+=s)c=t?u[p/n]:1,v=t?c?1/c:0:i,l[m]=a[p++]*v,l[++m]=a[p++]*v,l[++m]=a[p++]*v,t&&(l[++m]=a[p++]*i);g+=n}while(g<this.targetWidthMultipliedByChannels);return l},qt.prototype._resizeHeightRGBChannels=function(e,t){let n=this.ratioWeightHeightPass,r=1/n,i=this.outputHeightWorkBench,o=this.heightBuffer,s=this.outputHeightWorkBenchOpaquePixelsCount,a=0,l=0,u=0,c=0,d=0,f=0,h=0,p=1,m=0,g=0,v=0,D=0;do{for(d=0;d<this.targetWidthMultipliedByChannels;)i[d++]=0,i[d++]=0,i[d++]=0,t&&(i[d++]=0,s[d/4-1]=0);a=n;do{for(l=1+u-c,p=Math.min(a,l),h=u,d=0;d<this.targetWidthMultipliedByChannels;)m=e[h++],g=e[h++],v=e[h++],D=t?e[h++]:255,i[d++]+=(D?m:0)*p,i[d++]+=(D?g:0)*p,i[d++]+=(D?v:0)*p,t&&(i[d++]+=D*p,s[d/4-1]+=D?p:0);if(!(a>=l)){c+=a;break}u=h,c=u,a-=l}while(a>0&&u<this.widthPassResultSize);for(d=0;d<this.targetWidthMultipliedByChannels;)a=t?s[d/4]:1,p=t?a?1/a:0:r,o[f++]=Math.round(i[d++]*p),o[f++]=Math.round(i[d++]*p),o[f++]=Math.round(i[d++]*p),t&&(o[f++]=Math.round(i[d++]*r))}while(f<this.finalResultSize);return o},qt.prototype.resizeWidthInterpolatedRGB=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!1)},qt.prototype.resizeWidthInterpolatedRGBA=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!0)},qt.prototype.resizeWidthRGB=function(e){return this._resizeWidthRGBChannels(e,!1)},qt.prototype.resizeWidthRGBA=function(e){return this._resizeWidthRGBChannels(e,!0)},qt.prototype.resizeHeightInterpolated=function(e){let t=this.ratioWeightHeightPass,n=this.heightBuffer,r,i=0,o=0,s=0,a=0,l=0,u=0,c=0;for(;i<1/3;i+=t)for(s=0;s<this.targetWidthMultipliedByChannels;)n[o++]=Math.round(e[s++]);for(i-=1/3,r=this.heightOriginal-1;i<r;i+=t)for(c=i%1,u=1-c,a=Math.floor(i)*this.targetWidthMultipliedByChannels,l=a+this.targetWidthMultipliedByChannels,s=0;s<this.targetWidthMultipliedByChannels;++s)n[o++]=Math.round(e[a++]*u+e[l++]*c);for(;o<this.finalResultSize;)for(s=0,a=r*this.targetWidthMultipliedByChannels;s<this.targetWidthMultipliedByChannels;++s)n[o++]=Math.round(e[a++]);return n},qt.prototype.resizeHeightRGB=function(e){return this._resizeHeightRGBChannels(e,!1)},qt.prototype.resizeHeightRGBA=function(e){return this._resizeHeightRGBChannels(e,!0)},qt.prototype.resize=function(e){this.resizeCallback(this.resizeHeight(this.resizeWidth(e)))},qt.prototype.bypassResizer=function(e){return e},qt.prototype.initializeFirstPassBuffers=function(e){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),e||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},qt.prototype.initializeSecondPassBuffers=function(e){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),e||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},qt.prototype.generateFloatBuffer=function(e){try{return new Float32Array(e)}catch(t){return console.error(t),[]}},qt.prototype.generateFloat64Buffer=function(e){try{return new Float64Array(e)}catch(t){return console.error(t),[]}},qt.prototype.generateUint8Buffer=function(e){try{return new Uint8Array(e)}catch(t){return console.error(t),[]}};xw={nearestNeighbor(e,t){let n=e.width,r=e.height,i=t.width,o=t.height,s=e.data,a=t.data;for(let l=0;l<o;l++)for(let u=0;u<i;u++){let c=4*(l*i+u),d=4*(Math.floor(l*r/o)*n+Math.floor(u*n/i));a[c++]=s[d++],a[c++]=s[d++],a[c++]=s[d++],a[c++]=s[d++]}},bilinearInterpolation(e,t){let n=e.width,r=e.height,i=t.width,o=t.height,s=e.data,a=t.data,l=function(c,d,f,h,p){return d===h?f:Math.round((c-d)*p+(h-c)*f)},u=function(c,d,f,h,p,m,g,v){let D=4*(g*n+h)+d,w=4*(g*n+p)+d,b=l(f,h,s[D],p,s[w]);if(v===g)a[c+d]=b;else{D=4*(v*n+h)+d,w=4*(v*n+p)+d;let E=l(f,h,s[D],p,s[w]);a[c+d]=l(m,g,b,v,E)}};for(let c=0;c<o;c++)for(let d=0;d<i;d++){let f=4*(c*i+d),h=d*n/i,p=Math.floor(h),m=Math.min(Math.ceil(h),n-1),g=c*r/o,v=Math.floor(g),D=Math.min(Math.ceil(g),r-1);u(f,0,h,p,m,g,v,D),u(f,1,h,p,m,g,v,D),u(f,2,h,p,m,g,v,D),u(f,3,h,p,m,g,v,D)}},_interpolate2D(e,t,n,r){let i=e.data,o=t.data,s=e.width,a=e.height,l=t.width,u=t.height,c=Math.max(1,Math.floor(s/l)),d=l*c,f=Math.max(1,Math.floor(a/u)),h=u*f,p=_e.alloc(d*a*4);for(let v=0;v<a;v++)for(let D=0;D<d;D++){let w=D*(s-1)/d,b=Math.floor(w),E=w-b,C=4*(v*s+b),M=4*(v*d+D);for(let S=0;S<4;S++){let I=C+S,k=b>0?i[I-4]:2*i[I]-i[I+4],y=i[I],T=i[I+4],V=b<s-2?i[I+8]:2*i[I+4]-i[I];p[M+S]=r(k,y,T,V,E)}}let m=_e.alloc(d*h*4);for(let v=0;v<h;v++)for(let D=0;D<d;D++){let w=v*(a-1)/h,b=Math.floor(w),E=w-b,C=4*(b*d+D),M=4*(v*d+D);for(let S=0;S<4;S++){let I=C+S,k=b>0?p[I-4*d]:2*p[I]-p[I+4*d],y=p[I],T=p[I+4*d],V=b<a-2?p[I+8*d]:2*p[I+4*d]-p[I];m[M+S]=r(k,y,T,V,E)}}let g=c*f;if(g>1)for(let v=0;v<u;v++)for(let D=0;D<l;D++){let w=0,b=0,E=0,C=0,M=0;for(let I=0;I<f;I++){let k=v*f+I;for(let y=0;y<c;y++){let T=4*(k*d+(D*c+y)),V=m[T+3];V&&(w+=m[T],b+=m[T+1],E+=m[T+2],M++),C+=V}}let S=4*(v*l+D);o[S]=M?Math.round(w/M):0,o[S+1]=M?Math.round(b/M):0,o[S+2]=M?Math.round(E/M):0,o[S+3]=Math.round(C/g)}else t.data=m},bicubicInterpolation(e,t,n){return this._interpolate2D(e,t,n,function(r,i,o,s,a){let l=s-o-r+i,u=r-i-l,c=o-r,d=i;return Math.max(0,Math.min(255,l*(a*a*a)+u*(a*a)+c*a+d))})},hermiteInterpolation(e,t,n){return this._interpolate2D(e,t,n,function(r,i,o,s,a){let l=i,u=.5*(o-r),c=r-2.5*i+2*o-.5*s,d=.5*(s-r)+1.5*(i-o);return Math.max(0,Math.min(255,Math.round(((d*a+c)*a+u)*a+l)))})},bezierInterpolation(e,t,n){return this._interpolate2D(e,t,n,function(r,i,o,s,a){let l=1-a,u=i*l*l*l,c=3*(i+(o-r)/4)*l*l*a,d=3*(o-(s-i)/4)*l*a*a,f=o*a*a*a;return Math.max(0,Math.min(255,Math.round(u+c+d+f)))})}},lO=de.union([de.object({w:de.number().min(0),h:de.number().min(0).optional(),mode:de.nativeEnum($r).optional()}),de.object({w:de.number().min(0).optional(),h:de.number().min(0),mode:de.nativeEnum($r).optional()})]),uO=de.object({w:de.number().min(0),h:de.number().min(0),mode:de.nativeEnum($r).optional()}),cO=de.object({f:de.number().min(0),mode:de.nativeEnum($r).optional()}),Vi={resize(e,t){let{mode:n}=lO.parse(t),r,i;if(typeof t.w=="number")r=t.w,i=t.h??e.bitmap.height*(r/e.bitmap.width);else{if(typeof t.h!="number")throw new Error("w must be a number");i=t.h,r=t.w??e.bitmap.width*(i/e.bitmap.height)}if(r=Math.round(r)||1,i=Math.round(i)||1,n&&typeof xw[n]=="function"){let o={data:_e.alloc(r*i*4),width:r,height:i};xw[n](e.bitmap,o),e.bitmap=o}else new qt(e.bitmap.width,e.bitmap.height,r,i,!0,!0,o=>{e.bitmap.data=_e.from(o),e.bitmap.width=r,e.bitmap.height=i}).resize(e.bitmap.data);return e},scale(e,t){let{f:n,mode:r}=typeof t=="number"?{f:t}:cO.parse(t),i=e.bitmap.width*n,o=e.bitmap.height*n;return this.resize(e,{w:i,h:o,mode:r})},scaleToFit(e,t){let{h:n,w:r,mode:i}=uO.parse(t),o=r/n>e.bitmap.width/e.bitmap.height?n/e.bitmap.height:r/e.bitmap.width;return this.scale(e,{f:o,mode:i})}},dO=de.object({w:de.number(),h:de.number(),align:de.number().optional(),mode:de.nativeEnum($r).optional()}),fO={contain(e,t){let{w:n,h:r,align:i=Hr.CENTER|zr.MIDDLE,mode:o}=dO.parse(t),s=7&i,a=i>>3;if((s===0||s&s-1)&&(a===0||a&a-1))throw new Error("only use one flag per alignment direction");let l=s>>1,u=a>>1,c=n/r>e.bitmap.width/e.bitmap.height?r/e.bitmap.height:n/e.bitmap.width,d=Vi.scale(pi(e),{f:c,mode:o});return(e=Vi.resize(e,{w:n,h:r,mode:o})).scan((f,h,p)=>{e.bitmap.data.writeUInt32BE(e.background,p)}),e=qg.blit(e,{src:d,x:(e.bitmap.width-d.bitmap.width)/2*l,y:(e.bitmap.height-d.bitmap.height)/2*u})}},hO=de.object({x:de.number(),y:de.number(),w:de.number(),h:de.number()}),pO=de.object({tolerance:de.number().min(0).max(1).optional(),cropOnlyFrames:de.boolean().optional(),cropSymmetric:de.boolean().optional(),leaveBorder:de.number().optional(),ignoreSides:de.object({north:de.boolean().optional(),south:de.boolean().optional(),east:de.boolean().optional(),west:de.boolean().optional()}).optional()}),Yg={crop(e,t){let{x:n,y:r,w:i,h:o}=hO.parse(t);if(n=Math.round(n),r=Math.round(r),i=Math.round(i),o=Math.round(o),n===0&&i===e.bitmap.width){let s=i*r+n<<2,a=s+(o*i<<2);e.bitmap.data=e.bitmap.data.slice(s,a)}else{let s=_e.allocUnsafe(i*o*4),a=0;Io(e,n,r,i,o,function(l,u,c){let d=e.bitmap.data.readUInt32BE(c);s.writeUInt32BE(d,a),a+=4}),e.bitmap.data=s}return e.bitmap.width=i,e.bitmap.height=o,e},autocrop(e,t={}){let{tolerance:n=2e-4,cropOnlyFrames:r=!0,cropSymmetric:i=!1,leaveBorder:o=0,ignoreSides:s}=typeof t=="number"?{tolerance:t}:pO.parse(t),a=e.bitmap.width,l=e.bitmap.height,u=he({north:!1,south:!1,east:!1,west:!1},s),c=e.getPixelColor(0,0),d=Hs(c),f=0,h=0,p=0,m=0;if(c=e.getPixelColor(0,0),!u.north)e:for(let w=0;w<l-1;w++){for(let b=0;b<a;b++)if(ll(d,Hs(e.getPixelColor(b,w)))>n)break e;f++}if(c=e.getPixelColor(a,0),!u.west)e:for(let w=0;w<a-1;w++){for(let b=0+f;b<l;b++)if(ll(d,Hs(e.getPixelColor(w,b)))>n)break e;m++}if(c=e.getPixelColor(0,l),!u.south)e:for(let w=l-1;w>=f+1;w--){for(let b=a-h-1;b>=0;b--)if(ll(d,Hs(e.getPixelColor(b,w)))>n)break e;p++}if(c=e.getPixelColor(a,l),!u.east)e:for(let w=a-1;w>=0+m+1;w--){for(let b=l-1;b>=0+f;b--)if(ll(d,Hs(e.getPixelColor(w,b)))>n)break e;h++}let g=!1;if(m-=o,h-=o,f-=o,p-=o,i){let w=Math.min(h,m),b=Math.min(f,p);m=w,h=w,f=b,p=b}m=m>=0?m:0,h=h>=0?h:0,f=f>=0?f:0,p=p>=0?p:0;let v=a-(m+h),D=l-(p+f);return g=r?h!==0&&f!==0&&m!==0&&p!==0:h!==0||f!==0||m!==0||p!==0,g&&this.crop(e,{x:m,y:f,w:v,h:D}),e}},mO=de.object({w:de.number(),h:de.number(),align:de.number().optional(),mode:de.nativeEnum($r).optional()}),gO={cover(e,t){let{w:n,h:r,align:i=Hr.CENTER|zr.MIDDLE,mode:o}=mO.parse(t),s=7&i,a=i>>3;if((s===0||s&s-1)&&(a===0||a&a-1))throw new Error("only use one flag per alignment direction");let l=s>>1,u=a>>1,c=n/r>e.bitmap.width/e.bitmap.height?n/e.bitmap.width:r/e.bitmap.height;return e=Vi.scale(e,{f:c,mode:o}),e=Yg.crop(e,{x:(e.bitmap.width-n)/2*l,y:(e.bitmap.height-r)/2*u,w:n,h:r})}},yO=de.object({map:Tl,offset:de.number()}),_O={displace(e,t){let{map:n,offset:r}=yO.parse(t),i=pi(e);return e.scan((o,s,a)=>{let l=n.bitmap.data[a]/256*r;l=Math.round(l);let u=e.getPixelIndex(o+l,s);e.bitmap.data[u]=i.bitmap.data[a],e.bitmap.data[u+1]=i.bitmap.data[a+1],e.bitmap.data[u+2]=i.bitmap.data[a+2]}),e}},vO={dither(e){let t=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return e.scan((n,r,i)=>{let o=t[((3&r)<<2)+n%4];e.bitmap.data[i]=Math.min(e.bitmap.data[i]+o,255),e.bitmap.data[i+1]=Math.min(e.bitmap.data[i+1]+o,255),e.bitmap.data[i+2]=Math.min(e.bitmap.data[i+2]+o,255)}),e}},bO=de.object({radius:de.number().min(0).optional()}),wO={fisheye(e,t={}){let{radius:n=2.5}=bO.parse(t),r=pi(e),{width:i,height:o}=r.bitmap;return r.scan((s,a)=>{let l=s/i,u=a/o,c=Math.sqrt(Math.pow(l-.5,2)+Math.pow(u-.5,2)),d=2*Math.pow(c,n),f=(l-.5)/c,h=(u-.5)/c,p=Math.round((d*f+.5)*i),m=Math.round((d*h+.5)*o),g=r.getPixelColor(p,m);e.setPixelColor(g,s,a)}),e.setPixelColor(r.getPixelColor(i/2,o/2),i/2,o/2),e}},EO=de.object({horizontal:de.boolean().optional(),vertical:de.boolean().optional()}),DO={flip(e,t){let{horizontal:n,vertical:r}=EO.parse(t),i=_e.alloc(e.bitmap.data.length);return e.scan((o,s,a)=>{let l=n?e.bitmap.width-1-o:o,u=r?e.bitmap.height-1-s:s,c=e.bitmap.width*u+l<<2,d=e.bitmap.data.readUInt32BE(a);i.writeUInt32BE(d,c)}),e.bitmap.data=_e.from(i),e}};Eg.prototype.convert=function(e){var t,n,r,i={},o=this.srcAlphabet.length,s=this.dstAlphabet.length,a=e.length,l=typeof e=="string"?"":[];if(!this.isValid(e))throw new Error('Number "'+e+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return e;for(t=0;t<a;t++)i[t]=this.srcAlphabet.indexOf(e[t]);do{for(n=0,r=0,t=0;t<a;t++)(n=n*o+i[t])>=s?(i[r++]=parseInt(n/s,10),n%=s):r>0&&(i[r++]=0);a=r,l=this.dstAlphabet.slice(n,n+1).concat(l)}while(r!==0);return l},Eg.prototype.isValid=function(e){for(var t=0;t<e.length;++t)if(this.srcAlphabet.indexOf(e[t])===-1)return!1;return!0};xO=Eg,MO=xO;hl.BIN="01",hl.OCT="01234567",hl.DEC="0123456789",hl.HEX="0123456789abcdef";IO=hl,Fd=Mr(IO),CO=Object.defineProperty,SO=(e,t,n)=>t in e?CO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mw=(e,t,n)=>SO(e,typeof t!="symbol"?t+"":t,n),Js=class{constructor(t,n){Mw(this,"size"),Mw(this,"smallerSize"),this.size=t||32,this.smallerSize=n||8,TO(this.size)}distance(t,n){let r=0;for(let i=0;i<t.length;i++)t[i]!==n[i]&&r++;return r/t.length}getHash(t){t=Vi.resize(pi(t),{w:this.size,h:this.size}),t=Zg.greyscale(t);let n=[];for(let a=0;a<t.bitmap.width;a++){let l=[];for(let u=0;u<t.bitmap.height;u++)l[u]=AO(t.getPixelColor(a,u)).b;n[a]=l}let r=kO(n,this.size),i=0;for(let a=0;a<this.smallerSize;a++)for(let l=0;l<this.smallerSize;l++)i+=r[a][l];let o=i/(this.smallerSize*this.smallerSize),s="";for(let a=0;a<this.smallerSize;a++)for(let l=0;l<this.smallerSize;l++)s+=r[a][l]>o?"1":"0";return s}};Ld=[];$E="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",GE=[NaN,NaN];for(let e=2;e<65;e++){let t=Fd(Fd.BIN,$E.slice(0,e))(new Array(65).join("1"));GE.push(t.length)}RO={pHash:e=>new Js().getHash(e),hash(e,t=64){if(t<2||t>64)throw new Error("base must be a number between 2 and 64");let n=$E.slice(0,t),r=this.pHash(e),i=GE[t];return Fd(Fd.BIN,n)(r).padStart(i,"0")},distanceFromHash(e,t){let n=new Js,r=n.getHash(e);return n.distance(r,t)}};PO=de.object({src:Tl,x:de.number().optional(),y:de.number().optional()}),FO=de.union([Tl,PO]),LO={mask(e,t){let n,r,i;FO.parse(t),"bitmap"in t?(n=t,r=0,i=0):(n=t.src,r=t.x??0,i=t.y??0),r=Math.round(r),i=Math.round(i);let o=e.bitmap.width,s=e.bitmap.height;return n.scan(function(a,l,u){let c=r+a,d=i+l;if(c>=0&&d>=0&&c<o&&d<s){let f=e.getPixelIndex(c,d),{data:h}=n.bitmap,p=(h[u+0]+h[u+1]+h[u+2])/3;e.bitmap.data[f+3]*=p/255}}),e}};BO=de.object({x:de.number(),y:de.number(),text:de.union([de.union([de.string(),de.number()]),de.object({text:de.union([de.string(),de.number()]),alignmentX:de.nativeEnum(Hr).optional(),alignmentY:de.nativeEnum(zr).optional()})]),maxWidth:de.number().optional(),maxHeight:de.number().optional(),cb:de.function(de.tuple([de.object({x:de.number(),y:de.number()})])).optional()});zO={print(e,r){var i=r,{font:t}=i,n=_f(i,["font"]);let o,s,{x:a,y:l,text:u,maxWidth:c=1/0,maxHeight:d=1/0,cb:f=()=>{}}=BO.parse(n);typeof u=="object"&&u.text!==null&&u.text!==void 0?(o=u.alignmentX||Hr.LEFT,s=u.alignmentY||zr.TOP,{text:u}=u):(o=Hr.LEFT,s=zr.TOP,u=u.toString()),typeof u=="number"&&(u=u.toString()),d!==1/0&&s===zr.BOTTOM?l+=d-Dg(t,u,c):d!==1/0&&s===zr.MIDDLE&&(l+=d/2-Dg(t,u,c)/2);let h=Object.entries(t.chars).find(g=>g[1].xadvance)?.[1].xadvance;if(typeof h!="number")throw new Error("Could not find default character width");let{lines:p,longestLine:m}=WE(t,u,c);return p.forEach(g=>{let v=g.join(" "),D=jO(t,v,c,o);VO(e,t,a+D,l,v,h),l+=t.common.lineHeight}),f.bind(e)({x:a+m,y:l}),e}},HO=de.union([de.number(),de.object({deg:de.number(),mode:de.union([de.boolean(),de.nativeEnum($r)]).optional()})]);WO={rotate(e,t){let n=HO.parse(t),r=typeof n=="number"?{deg:n}:n,{mode:i=!0}=r,{deg:o}=r;return o%=360,o%360==0||(o%90==0&&(i||e.bitmap.width===e.bitmap.height||o%180==0)?$O(e,o):GO(e,o,i)),e}},qO=de.object({max:de.number().min(0).max(255),replace:de.number().min(0).max(255).optional(),autoGreyscale:de.boolean().optional()}),ZO={threshold(e,t){let{max:n,replace:r=255,autoGreyscale:i=!0}=qO.parse(t);return n=Zt(n),r=Zt(r),i&&Zg.greyscale(e),e.scan((o,s,a)=>{let l=e.bitmap.data[a]<n?e.bitmap.data[a]:r;e.bitmap.data[a]=l,e.bitmap.data[a+1]=l,e.bitmap.data[a+2]=l}),e}},qE=Object.defineProperty,YO=(e,t,n)=>t in e?qE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yi=(e,t)=>{for(var n in t)qE(e,n,{get:t[n],enumerable:!0})},be=(e,t,n)=>(YO(e,typeof t!="symbol"?t+"":t,n),n),QO={};yi(QO,{bt709:()=>ZE});ZE={};yi(ZE,{Y:()=>YE,x:()=>QE,y:()=>KE});YE=(e=>(e[e.RED=.2126]="RED",e[e.GREEN=.7152]="GREEN",e[e.BLUE=.0722]="BLUE",e[e.WHITE=1]="WHITE",e))(YE||{}),QE=(e=>(e[e.RED=.64]="RED",e[e.GREEN=.3]="GREEN",e[e.BLUE=.15]="BLUE",e[e.WHITE=.3127]="WHITE",e))(QE||{}),KE=(e=>(e[e.RED=.33]="RED",e[e.GREEN=.6]="GREEN",e[e.BLUE=.06]="BLUE",e[e.WHITE=.329]="WHITE",e))(KE||{}),KO={};yi(KO,{lab2rgb:()=>oP,lab2xyz:()=>rD,rgb2hsl:()=>Bd,rgb2lab:()=>Il,rgb2xyz:()=>JE,xyz2lab:()=>nD,xyz2rgb:()=>iD});XE={};yi(XE,{degrees2radians:()=>Pi,inRange0to255:()=>Wn,inRange0to255Rounded:()=>sr,intInRange:()=>JO,max3:()=>eD,min3:()=>tD,stableSort:()=>Qg});XO=.95047,eP=1,tP=1.08883;nP=.95047,rP=1,iP=1.08883;sP={};yi(sP,{AbstractDistanceCalculator:()=>Ro,AbstractEuclidean:()=>Kd,AbstractManhattan:()=>Jd,CIE94GraphicArts:()=>aD,CIE94Textiles:()=>sD,CIEDE2000:()=>Er,CMetric:()=>lD,Euclidean:()=>uD,EuclideanBT709:()=>cD,EuclideanBT709NoAlpha:()=>dD,Manhattan:()=>fD,ManhattanBT709:()=>pD,ManhattanNommyde:()=>hD,PNGQuant:()=>mD});Ro=class{constructor(){be(this,"_maxDistance"),be(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(e,t,n,r){this._whitePoint={r:e>0?255/e:0,g:t>0?255/t:0,b:n>0?255/n:0,a:r>0?255/r:0},this._maxDistance=this.calculateRaw(e,t,n,r,0,0,0,0)}calculateNormalized(e,t){return this.calculateRaw(e.r,e.g,e.b,e.a,t.r,t.g,t.b,t.a)/this._maxDistance}},oD=class extends Ro{calculateRaw(e,t,n,r,i,o,s,a){let l=Il(Wn(e*this._whitePoint.r),Wn(t*this._whitePoint.g),Wn(n*this._whitePoint.b)),u=Il(Wn(i*this._whitePoint.r),Wn(o*this._whitePoint.g),Wn(s*this._whitePoint.b)),c=l.L-u.L,d=l.a-u.a,f=l.b-u.b,h=Math.sqrt(l.a*l.a+l.b*l.b),p=h-Math.sqrt(u.a*u.a+u.b*u.b),m=d*d+f*f-p*p;m=m<0?0:Math.sqrt(m);let g=(a-r)*this._whitePoint.a*this._kA;return Math.sqrt((c/this._Kl)**2+(p/(1+this._K1*h))**2+(m/(1+this._K2*h))**2+g**2)}},sD=class extends oD{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},aD=class extends oD{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},kt=class extends Ro{_setDefaults(){}static _calculatehp(e,t){let n=Math.atan2(e,t);return n>=0?n:n+kt._deg360InRad}static _calculateRT(e,t){let n=t**7,r=2*Math.sqrt(n/(n+kt._pow25to7)),i=kt._deg30InRad*Math.exp(-(((e-kt._deg275InRad)/kt._deg25InRad)**2));return-Math.sin(2*i)*r}static _calculateT(e){return 1-.17*Math.cos(e-kt._deg30InRad)+.24*Math.cos(2*e)+.32*Math.cos(3*e+kt._deg6InRad)-.2*Math.cos(4*e-kt._deg63InRad)}static _calculate_ahp(e,t,n,r){let i=n+r;return e===0?i:t<=kt._deg180InRad?i/2:i<kt._deg360InRad?(i+kt._deg360InRad)/2:(i-kt._deg360InRad)/2}static _calculate_dHp(e,t,n,r){let i;return i=e===0?0:t<=kt._deg180InRad?n-r:n<=r?n-r+kt._deg360InRad:n-r-kt._deg360InRad,2*Math.sqrt(e)*Math.sin(i/2)}calculateRaw(e,t,n,r,i,o,s,a){let l=Il(Wn(e*this._whitePoint.r),Wn(t*this._whitePoint.g),Wn(n*this._whitePoint.b)),u=Il(Wn(i*this._whitePoint.r),Wn(o*this._whitePoint.g),Wn(s*this._whitePoint.b)),c=(a-r)*this._whitePoint.a*kt._kA,d=this.calculateRawInLab(l,u);return Math.sqrt(d+c*c)}calculateRawInLab(e,t){let n=e.L,r=e.a,i=e.b,o=t.L,s=t.a,a=t.b,l=((Math.sqrt(r*r+i*i)+Math.sqrt(s*s+a*a))/2)**7,u=.5*(1-Math.sqrt(l/(l+kt._pow25to7))),c=(1+u)*r,d=(1+u)*s,f=Math.sqrt(c*c+i*i),h=Math.sqrt(d*d+a*a),p=f*h,m=kt._calculatehp(i,c),g=kt._calculatehp(a,d),v=Math.abs(m-g),D=o-n,w=h-f,b=kt._calculate_dHp(p,v,g,m),E=kt._calculate_ahp(p,v,m,g),C=(f+h)/2,M=((n+o)/2-50)**2,S=w/(1+.045*C),I=b/(1+.015*kt._calculateT(E)*C);return(D/(1+.015*M/Math.sqrt(20+M)))**2+S**2+I**2+kt._calculateRT(E,C)*S*I}},Er=kt;be(Er,"_kA",25/255),be(Er,"_pow25to7",25**7),be(Er,"_deg360InRad",Pi(360)),be(Er,"_deg180InRad",Pi(180)),be(Er,"_deg30InRad",Pi(30)),be(Er,"_deg6InRad",Pi(6)),be(Er,"_deg63InRad",Pi(63)),be(Er,"_deg275InRad",Pi(275)),be(Er,"_deg25InRad",Pi(25));lD=class extends Ro{calculateRaw(e,t,n,r,i,o,s,a){let l=(e+i)/2*this._whitePoint.r,u=(e-i)*this._whitePoint.r,c=(t-o)*this._whitePoint.g,d=(n-s)*this._whitePoint.b,f=((512+l)*u*u>>8)+4*c*c+((767-l)*d*d>>8),h=(a-r)*this._whitePoint.a;return Math.sqrt(f+h*h)}_setDefaults(){}},Kd=class extends Ro{calculateRaw(e,t,n,r,i,o,s,a){let l=i-e,u=o-t,c=s-n,d=a-r;return Math.sqrt(this._kR*l*l+this._kG*u*u+this._kB*c*c+this._kA*d*d)}},uD=class extends Kd{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},cD=class extends Kd{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},dD=class extends Kd{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},Jd=class extends Ro{calculateRaw(e,t,n,r,i,o,s,a){let l=i-e,u=o-t,c=s-n,d=a-r;return l<0&&(l=0-l),u<0&&(u=0-u),c<0&&(c=0-c),d<0&&(d=0-d),this._kR*l+this._kG*u+this._kB*c+this._kA*d}},fD=class extends Jd{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},hD=class extends Jd{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},pD=class extends Jd{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},mD=class extends Ro{calculateRaw(e,t,n,r,i,o,s,a){let l=(a-r)*this._whitePoint.a;return this._colordifferenceCh(e*this._whitePoint.r,i*this._whitePoint.r,l)+this._colordifferenceCh(t*this._whitePoint.g,o*this._whitePoint.g,l)+this._colordifferenceCh(n*this._whitePoint.b,s*this._whitePoint.b,l)}_colordifferenceCh(e,t,n){let r=e-t,i=r+n;return r*r+i*i}_setDefaults(){}},aP={};yi(aP,{AbstractPaletteQuantizer:()=>Rl,ColorHistogram:()=>yl,NeuQuant:()=>Bt,NeuQuantFloat:()=>jt,RGBQuant:()=>vD,WuColorCube:()=>bD,WuQuant:()=>qs});Rl=class{quantizeSync(){for(let e of this.quantize())if(e.palette)return e.palette;throw new Error("unreachable")}},Yn=class{constructor(){be(this,"r"),be(this,"g"),be(this,"b"),be(this,"a"),be(this,"uint32"),be(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(e){let t=new Yn;return t.r=0|e[0],t.g=0|e[1],t.b=0|e[2],t.a=0|e[3],t._loadUINT32(),t._loadQuadruplet(),t}static createByRGBA(e,t,n,r){let i=new Yn;return i.r=0|e,i.g=0|t,i.b=0|n,i.a=0|r,i._loadUINT32(),i._loadQuadruplet(),i}static createByUint32(e){let t=new Yn;return t.uint32=e>>>0,t._loadRGBA(),t._loadQuadruplet(),t}from(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this.uint32=e.uint32,this.rgba[0]=e.r,this.rgba[1]=e.g,this.rgba[2]=e.b,this.rgba[3]=e.a}getLuminosity(e){let t=this.r,n=this.g,r=this.b;return e&&(t=Math.min(255,255-this.a+this.a*t/255),n=Math.min(255,255-this.a+this.a*n/255),r=Math.min(255,255-this.a+this.a*r/255)),.2126*t+.7152*n+.0722*r}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},di=class{constructor(){be(this,"_pointArray"),be(this,"_width"),be(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(e){this._width=e}setHeight(e){this._height=e}getPointArray(){return this._pointArray}clone(){let e=new di;e._width=this._width,e._height=this._height;for(let t=0,n=this._pointArray.length;t<n;t++)e._pointArray[t]=Yn.createByUint32(0|this._pointArray[t].uint32);return e}toUint32Array(){let e=this._pointArray.length,t=new Uint32Array(e);for(let n=0;n<e;n++)t[n]=this._pointArray[n].uint32;return t}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(e){let t=e.naturalWidth,n=e.naturalHeight,r=document.createElement("canvas");return r.width=t,r.height=n,r.getContext("2d").drawImage(e,0,0,t,n,0,0,t,n),di.fromHTMLCanvasElement(r)}static fromHTMLCanvasElement(e){let t=e.width,n=e.height,r=e.getContext("2d").getImageData(0,0,t,n);return di.fromImageData(r)}static fromImageData(e){let t=e.width,n=e.height;return di.fromUint8Array(e.data,t,n)}static fromUint8Array(e,t,n){switch(Object.prototype.toString.call(e)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:e=new Uint8Array(e)}let r=new Uint32Array(e.buffer);return di.fromUint32Array(r,t,n)}static fromUint32Array(e,t,n){let r=new di;r._width=t,r._height=n;for(let i=0,o=e.length;i<o;i++)r._pointArray[i]=Yn.createByUint32(0|e[i]);return r}static fromBuffer(e,t,n){let r=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/Uint32Array.BYTES_PER_ELEMENT);return di.fromUint32Array(r,t,n)}},Sw=10;Nl=class{constructor(){be(this,"_pointContainer"),be(this,"_pointArray",[]),be(this,"_i32idx",{}),this._pointContainer=new di,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(e){this._pointArray.push(e),this._pointContainer.setWidth(this._pointArray.length)}has(e){for(let t=this._pointArray.length-1;t>=0;t--)if(e.uint32===this._pointArray[t].uint32)return!0;return!1}getNearestColor(e,t){return this._pointArray[0|this._getNearestIndex(e,t)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(e){return typeof this._i32idx[e]=="number"?this._i32idx[e]:-1}_getNearestIndex(e,t){let n=this._nearestPointFromCache(""+t.uint32);if(n>=0)return n;let r=Number.MAX_VALUE;n=0;for(let i=0,o=this._pointArray.length;i<o;i++){let s=this._pointArray[i],a=e.calculateRaw(t.r,t.g,t.b,t.a,s.r,s.g,s.b,s.a);a<r&&(r=a,n=i)}return this._i32idx[t.uint32]=n,n}sort(){this._i32idx={},this._pointArray.sort((e,t)=>{let n=Bd(e.r,e.g,e.b),r=Bd(t.r,t.g,t.b),i=e.r===e.g&&e.g===e.b?0:1+xg(n.h,Sw),o=(t.r===t.g&&t.g===t.b?0:1+xg(r.h,Sw))-i;if(o)return-o;let s=e.getLuminosity(!0),a=t.getLuminosity(!0);if(a-s!=0)return a-s;let l=(100*r.s|0)-(100*n.s|0);return l?-l:0})}},gD={};yi(gD,{HueStatistics:()=>yD,Palette:()=>Nl,Point:()=>Yn,PointContainer:()=>di,ProgressTracker:()=>_i,arithmetic:()=>XE});lP=class{constructor(){be(this,"num",0),be(this,"cols",[])}},yD=class{constructor(e,t){be(this,"_numGroups"),be(this,"_minCols"),be(this,"_stats"),be(this,"_groupsFull"),this._numGroups=e,this._minCols=t,this._stats=[];for(let n=0;n<=e;n++)this._stats[n]=new lP;this._groupsFull=0}check(e){this._groupsFull===this._numGroups+1&&(this.check=()=>{});let t=255&e,n=e>>>8&255,r=e>>>16&255,i=t===n&&n===r?0:1+xg(Bd(t,n,r).h,this._numGroups),o=this._stats[i],s=this._minCols;o.num++,o.num>s||(o.num===s&&this._groupsFull++,o.num<=s&&this._stats[i].cols.push(e))}injectIntoDictionary(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(n=>{e[n]?e[n]++:e[n]=1})}injectIntoArray(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(n=>{e.indexOf(n)===-1&&e.push(n)})}},_D=class{constructor(e,t){be(this,"progress"),be(this,"_step"),be(this,"_range"),be(this,"_last"),be(this,"_progressRange"),this._range=e,this._progressRange=t,this._step=Math.max(1,this._range/(_D.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(e){return e-this._last>=this._step&&(this._last=e,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},_i=_D;be(_i,"steps",100);Dn=3,uP=class{constructor(e){be(this,"r"),be(this,"g"),be(this,"b"),be(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return Yn.createByRGBA(this.r>>Dn,this.g>>Dn,this.b>>Dn,this.a>>Dn)}subtract(e,t,n,r){this.r-=0|e,this.g-=0|t,this.b-=0|n,this.a-=0|r}},pt=class extends Rl{constructor(e,t=256){super(),be(this,"_pointArray"),be(this,"_networkSize"),be(this,"_network"),be(this,"_sampleFactor"),be(this,"_radPower"),be(this,"_freq"),be(this,"_bias"),be(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<Dn,255<<Dn,255<<Dn,255<<Dn)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*Xe(this._learn()),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new uP((e<<Dn+8)/this._networkSize|0),this._freq[e]=pt._initialBias/this._networkSize|0,this._bias[e]=0}*_learn(){let e=this._sampleFactor,t=this._pointArray.length;t<pt._minpicturebytes&&(e=1);let n=30+(e-1)/3|0,r=t/e|0,i,o=r/pt._nCycles|0,s=pt._initAlpha,a=(this._networkSize>>3)*pt._radiusBias,l=a>>pt._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=s*((l*l-c*c)*pt._radBias/(l*l))>>>0;i=t<pt._minpicturebytes?1:t%pt._prime1!=0?pt._prime1:t%pt._prime2!=0?pt._prime2:t%pt._prime3!=0?pt._prime3:pt._prime4;let u=new _i(r,99);for(let c=0,d=0;c<r;){u.shouldNotify(c)&&(yield{progress:u.progress});let f=this._pointArray[d],h=f.b<<Dn,p=f.g<<Dn,m=f.r<<Dn,g=f.a<<Dn,v=this._contest(h,p,m,g);if(this._alterSingle(s,v,h,p,m,g),l!==0&&this._alterNeighbour(l,v,h,p,m,g),d+=i,d>=t&&(d-=t),c++,o===0&&(o=1),c%o==0){s-=s/n|0,a-=a/pt._radiusDecrease|0,l=a>>pt._radiusBiasShift,l<=1&&(l=0);for(let D=0;D<l;D++)this._radPower[D]=s*((l*l-D*D)*pt._radBias/(l*l))>>>0}}}_buildPalette(){let e=new Nl;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,n,r,i,o){let s=t-e;s<-1&&(s=-1);let a=t+e;a>this._networkSize&&(a=this._networkSize);let l=t+1,u=t-1,c=1;for(;l<a||u>s;){let d=this._radPower[c++]/pt._alphaRadBias;if(l<a){let f=this._network[l++];f.subtract(d*(f.r-i),d*(f.g-r),d*(f.b-n),d*(f.a-o))}if(u>s){let f=this._network[u--];f.subtract(d*(f.r-i),d*(f.g-r),d*(f.b-n),d*(f.a-o))}}}_alterSingle(e,t,n,r,i,o){e/=pt._initAlpha;let s=this._network[t];s.subtract(e*(s.r-i),e*(s.g-r),e*(s.b-n),e*(s.a-o))}_contest(e,t,n,r){let i=1020<<Dn,o=~(1<<31),s=o,a=-1,l=a;for(let u=0;u<this._networkSize;u++){let c=this._network[u],d=this._distance.calculateNormalized(c,{r:n,g:t,b:e,a:r})*i|0;d<o&&(o=d,a=u);let f=d-(this._bias[u]>>pt._initialBiasShift-Dn);f<s&&(s=f,l=u);let h=this._freq[u]>>pt._betaShift;this._freq[u]-=h,this._bias[u]+=h<<pt._gammaShift}return this._freq[a]+=pt._beta,this._bias[a]-=pt._betaGamma,l}},Bt=pt;be(Bt,"_prime1",499),be(Bt,"_prime2",491),be(Bt,"_prime3",487),be(Bt,"_prime4",503),be(Bt,"_minpicturebytes",pt._prime4),be(Bt,"_nCycles",100),be(Bt,"_initialBiasShift",16),be(Bt,"_initialBias",1<<pt._initialBiasShift),be(Bt,"_gammaShift",10),be(Bt,"_betaShift",10),be(Bt,"_beta",pt._initialBias>>pt._betaShift),be(Bt,"_betaGamma",pt._initialBias<<pt._gammaShift-pt._betaShift),be(Bt,"_radiusBiasShift",6),be(Bt,"_radiusBias",1<<pt._radiusBiasShift),be(Bt,"_radiusDecrease",30),be(Bt,"_alphaBiasShift",10),be(Bt,"_initAlpha",1<<pt._alphaBiasShift),be(Bt,"_radBiasShift",8),be(Bt,"_radBias",1<<pt._radBiasShift),be(Bt,"_alphaRadBiasShift",pt._alphaBiasShift+pt._radBiasShift),be(Bt,"_alphaRadBias",1<<pt._alphaRadBiasShift);xn=3,cP=class{constructor(e){be(this,"r"),be(this,"g"),be(this,"b"),be(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return Yn.createByRGBA(this.r>>xn,this.g>>xn,this.b>>xn,this.a>>xn)}subtract(e,t,n,r){this.r-=e,this.g-=t,this.b-=n,this.a-=r}},mt=class extends Rl{constructor(e,t=256){super(),be(this,"_pointArray"),be(this,"_networkSize"),be(this,"_network"),be(this,"_sampleFactor"),be(this,"_radPower"),be(this,"_freq"),be(this,"_bias"),be(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<xn,255<<xn,255<<xn,255<<xn)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*Xe(this._learn()),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new cP((e<<xn+8)/this._networkSize),this._freq[e]=mt._initialBias/this._networkSize,this._bias[e]=0}*_learn(){let e=this._sampleFactor,t=this._pointArray.length;t<mt._minpicturebytes&&(e=1);let n=30+(e-1)/3,r=t/e,i,o=r/mt._nCycles|0,s=mt._initAlpha,a=(this._networkSize>>3)*mt._radiusBias,l=a>>mt._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=s*((l*l-c*c)*mt._radBias/(l*l));i=t<mt._minpicturebytes?1:t%mt._prime1!=0?mt._prime1:t%mt._prime2!=0?mt._prime2:t%mt._prime3!=0?mt._prime3:mt._prime4;let u=new _i(r,99);for(let c=0,d=0;c<r;){u.shouldNotify(c)&&(yield{progress:u.progress});let f=this._pointArray[d],h=f.b<<xn,p=f.g<<xn,m=f.r<<xn,g=f.a<<xn,v=this._contest(h,p,m,g);if(this._alterSingle(s,v,h,p,m,g),l!==0&&this._alterNeighbour(l,v,h,p,m,g),d+=i,d>=t&&(d-=t),c++,o===0&&(o=1),c%o==0){s-=s/n,a-=a/mt._radiusDecrease,l=a>>mt._radiusBiasShift,l<=1&&(l=0);for(let D=0;D<l;D++)this._radPower[D]=s*((l*l-D*D)*mt._radBias/(l*l))}}}_buildPalette(){let e=new Nl;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,n,r,i,o){let s=t-e;s<-1&&(s=-1);let a=t+e;a>this._networkSize&&(a=this._networkSize);let l=t+1,u=t-1,c=1;for(;l<a||u>s;){let d=this._radPower[c++]/mt._alphaRadBias;if(l<a){let f=this._network[l++];f.subtract(d*(f.r-i),d*(f.g-r),d*(f.b-n),d*(f.a-o))}if(u>s){let f=this._network[u--];f.subtract(d*(f.r-i),d*(f.g-r),d*(f.b-n),d*(f.a-o))}}}_alterSingle(e,t,n,r,i,o){e/=mt._initAlpha;let s=this._network[t];s.subtract(e*(s.r-i),e*(s.g-r),e*(s.b-n),e*(s.a-o))}_contest(e,t,n,r){let i=1020<<xn,o=~(1<<31),s=o,a=-1,l=a;for(let u=0;u<this._networkSize;u++){let c=this._network[u],d=this._distance.calculateNormalized(c,{r:n,g:t,b:e,a:r})*i;d<o&&(o=d,a=u);let f=d-(this._bias[u]>>mt._initialBiasShift-xn);f<s&&(s=f,l=u);let h=this._freq[u]>>mt._betaShift;this._freq[u]-=h,this._bias[u]+=h<<mt._gammaShift}return this._freq[a]+=mt._beta,this._bias[a]-=mt._betaGamma,l}},jt=mt;be(jt,"_prime1",499),be(jt,"_prime2",491),be(jt,"_prime3",487),be(jt,"_prime4",503),be(jt,"_minpicturebytes",mt._prime4),be(jt,"_nCycles",100),be(jt,"_initialBiasShift",16),be(jt,"_initialBias",1<<mt._initialBiasShift),be(jt,"_gammaShift",10),be(jt,"_betaShift",10),be(jt,"_beta",mt._initialBias>>mt._betaShift),be(jt,"_betaGamma",mt._initialBias<<mt._gammaShift-mt._betaShift),be(jt,"_radiusBiasShift",6),be(jt,"_radiusBias",1<<mt._radiusBiasShift),be(jt,"_radiusDecrease",30),be(jt,"_alphaBiasShift",10),be(jt,"_initAlpha",1<<mt._alphaBiasShift),be(jt,"_radBiasShift",8),be(jt,"_radBias",1<<mt._radBiasShift),be(jt,"_alphaRadBiasShift",mt._alphaBiasShift+mt._radBiasShift),be(jt,"_alphaRadBias",1<<mt._alphaRadBiasShift);pl=class{constructor(e,t){be(this,"_method"),be(this,"_hueStats"),be(this,"_histogram"),be(this,"_initColors"),be(this,"_minHueCols"),this._method=e,this._minHueCols=t<<2,this._initColors=t<<2,this._hueStats=new yD(pl._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(e){switch(this._method){case 1:this._colorStats1D(e);break;case 2:this._colorStats2D(e)}}getImportanceSortedColorsIDXI32(){let e=Qg(Object.keys(this._histogram),(n,r)=>this._histogram[r]-this._histogram[n]);if(e.length===0)return[];let t;switch(this._method){case 1:let n=Math.min(e.length,this._initColors),r=e[n-1],i=this._histogram[r];t=e.slice(0,n);let o=n,s=e.length;for(;o<s&&this._histogram[e[o]]===i;)t.push(e[o++]);this._hueStats.injectIntoArray(t);break;case 2:t=e;break;default:throw new Error("Incorrect method")}return t.map(n=>+n)}_colorStats1D(e){let t=this._histogram,n=e.getPointArray(),r=n.length;for(let i=0;i<r;i++){let o=n[i].uint32;this._hueStats.check(o),o in t?t[o]++:t[o]=1}}_colorStats2D(e){let t=e.getWidth(),n=e.getHeight(),r=e.getPointArray(),i=pl._boxSize[0],o=pl._boxSize[1],s=i*o,a=this._makeBoxes(t,n,i,o),l=this._histogram;a.forEach(u=>{let c=Math.round(u.w*u.h/s)*pl._boxPixels;c<2&&(c=2);let d={};this._iterateBox(u,t,f=>{let h=r[f].uint32;this._hueStats.check(h),h in l?l[h]++:h in d?++d[h]>=c&&(l[h]=d[h]):d[h]=1})}),this._hueStats.injectIntoDictionary(l)}_iterateBox(e,t,n){let r=e,i=r.y*t+r.x,o=(r.y+r.h-1)*t+(r.x+r.w-1),s=t-r.w+1,a=0,l=i;do n.call(this,l),l+=++a%r.w==0?s:1;while(l<=o)}_makeBoxes(e,t,n,r){let i=e%n,o=t%r,s=e-i,a=t-o,l=[];for(let u=0;u<t;u+=r)for(let c=0;c<e;c+=n)l.push({x:c,y:u,w:c===s?i:n,h:u===a?o:r});return l}},yl=pl;be(yl,"_boxSize",[64,64]),be(yl,"_boxPixels",2),be(yl,"_hueGroups",10);dP=class{constructor(e,t,n){be(this,"index"),be(this,"color"),be(this,"distance"),this.index=e,this.color=t,this.distance=n}},vD=class extends Rl{constructor(e,t=256,n=2){super(),be(this,"_colors"),be(this,"_initialDistance"),be(this,"_distanceIncrement"),be(this,"_histogram"),be(this,"_distance"),this._distance=e,this._colors=t,this._histogram=new yl(n,t),this._initialDistance=.01,this._distanceIncrement=.005}sample(e){this._histogram.sample(e)}*quantize(){let e=this._histogram.getImportanceSortedColorsIDXI32();if(e.length===0)throw new Error("No colors in image");yield*Xe(this._buildPalette(e))}*_buildPalette(e){let t=new Nl,n=t.getPointContainer().getPointArray(),r=new Array(e.length);for(let c=0;c<e.length;c++)n.push(Yn.createByUint32(e[c])),r[c]=1;let i=n.length,o=[],s=i,a=this._initialDistance,l=new _i(s-this._colors,99);for(;s>this._colors;){o.length=0;for(let c=0;c<i;c++){if(l.shouldNotify(i-s)&&(yield{progress:l.progress}),r[c]===0)continue;let d=n[c];for(let f=c+1;f<i;f++){if(r[f]===0)continue;let h=n[f],p=this._distance.calculateNormalized(d,h);p<a&&(o.push(new dP(f,h,p)),r[f]=0,s--)}}a+=s>3*this._colors?this._initialDistance:this._distanceIncrement}if(s<this._colors){Qg(o,(d,f)=>f.distance-d.distance);let c=0;for(;s<this._colors&&c<o.length;)r[o[c].index]=1,s++,c++}let u=n.length;for(let c=u-1;c>=0;c--)r[c]===0&&(c!==u-1&&(n[c]=n[u-1]),--u);n.length=u,t.sort(),yield{palette:t,progress:100}}};bD=class{constructor(){be(this,"redMinimum"),be(this,"redMaximum"),be(this,"greenMinimum"),be(this,"greenMaximum"),be(this,"blueMinimum"),be(this,"blueMaximum"),be(this,"volume"),be(this,"alphaMinimum"),be(this,"alphaMaximum")}},Ke=class extends Rl{constructor(e,t=256,n=5){super(),be(this,"_reds"),be(this,"_greens"),be(this,"_blues"),be(this,"_alphas"),be(this,"_sums"),be(this,"_weights"),be(this,"_momentsRed"),be(this,"_momentsGreen"),be(this,"_momentsBlue"),be(this,"_momentsAlpha"),be(this,"_moments"),be(this,"_table"),be(this,"_pixels"),be(this,"_cubes"),be(this,"_colors"),be(this,"_significantBitsPerChannel"),be(this,"_maxSideIndex"),be(this,"_alphaMaxSideIndex"),be(this,"_sideSize"),be(this,"_alphaSideSize"),be(this,"_distance"),this._distance=e,this._setQuality(n),this._initialize(t)}sample(e){let t=e.getPointArray();for(let n=0,r=t.length;n<r;n++)this._addColor(t[n]);this._pixels=this._pixels.concat(t)}*quantize(){yield*Xe(this._preparePalette());let e=new Nl;for(let t=0;t<this._colors;t++)if(this._sums[t]>0){let n=this._sums[t],r=this._reds[t]/n,i=this._greens[t]/n,o=this._blues[t]/n,s=this._alphas[t]/n,a=Yn.createByRGBA(0|r,0|i,0|o,0|s);e.add(a)}e.sort(),yield{palette:e,progress:100}}*_preparePalette(){yield*Xe(this._calculateMoments());let e=0,t=Bs(this._colors);for(let s=1;s<this._colors;++s){this._cut(this._cubes[e],this._cubes[s])?(t[e]=this._cubes[e].volume>1?this._calculateVariance(this._cubes[e]):0,t[s]=this._cubes[s].volume>1?this._calculateVariance(this._cubes[s]):0):(t[e]=0,s--),e=0;let a=t[0];for(let l=1;l<=s;++l)t[l]>a&&(a=t[l],e=l);if(a<=0){this._colors=s+1;break}}let n=[],r=[],i=[],o=[];for(let s=0;s<this._colors;++s){let a=Ke._volume(this._cubes[s],this._weights);a>0?(n[s]=Ke._volume(this._cubes[s],this._momentsRed)/a|0,r[s]=Ke._volume(this._cubes[s],this._momentsGreen)/a|0,i[s]=Ke._volume(this._cubes[s],this._momentsBlue)/a|0,o[s]=Ke._volume(this._cubes[s],this._momentsAlpha)/a|0):(n[s]=0,r[s]=0,i[s]=0,o[s]=0)}this._reds=Bs(this._colors+1),this._greens=Bs(this._colors+1),this._blues=Bs(this._colors+1),this._alphas=Bs(this._colors+1),this._sums=Bs(this._colors+1);for(let s=0,a=this._pixels.length;s<a;s++){let l=this._pixels[s],u=-1,c=Number.MAX_VALUE;for(let d=0;d<this._colors;d++){let f=n[d],h=r[d],p=i[d],m=o[d],g=this._distance.calculateRaw(f,h,p,m,l.r,l.g,l.b,l.a);g<c&&(c=g,u=d)}this._reds[u]+=l.r,this._greens[u]+=l.g,this._blues[u]+=l.b,this._alphas[u]+=l.a,this._sums[u]++}}_addColor(e){let t=8-this._significantBitsPerChannel,n=1+(e.r>>t),r=1+(e.g>>t),i=1+(e.b>>t),o=1+(e.a>>t);this._weights[o][n][r][i]++,this._momentsRed[o][n][r][i]+=e.r,this._momentsGreen[o][n][r][i]+=e.g,this._momentsBlue[o][n][r][i]+=e.b,this._momentsAlpha[o][n][r][i]+=e.a,this._moments[o][n][r][i]+=this._table[e.r]+this._table[e.g]+this._table[e.b]+this._table[e.a]}*_calculateMoments(){let e=[],t=[],n=[],r=[],i=[],o=[],s=Us(this._sideSize,this._sideSize,this._sideSize),a=Us(this._sideSize,this._sideSize,this._sideSize),l=Us(this._sideSize,this._sideSize,this._sideSize),u=Us(this._sideSize,this._sideSize,this._sideSize),c=Us(this._sideSize,this._sideSize,this._sideSize),d=Us(this._sideSize,this._sideSize,this._sideSize),f=0,h=new _i(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){Vs(s,this._sideSize,this._sideSize,this._sideSize,0),Vs(a,this._sideSize,this._sideSize,this._sideSize,0),Vs(l,this._sideSize,this._sideSize,this._sideSize,0),Vs(u,this._sideSize,this._sideSize,this._sideSize,0),Vs(c,this._sideSize,this._sideSize,this._sideSize,0),Vs(d,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++f){h.shouldNotify(f)&&(yield{progress:h.progress}),zs(e,this._sideSize,0),zs(t,this._sideSize,0),zs(n,this._sideSize,0),zs(r,this._sideSize,0),zs(i,this._sideSize,0),zs(o,this._sideSize,0);for(let g=1;g<=this._maxSideIndex;++g){let v=0,D=0,w=0,b=0,E=0,C=0;for(let M=1;M<=this._maxSideIndex;++M)v+=this._weights[p][m][g][M],D+=this._momentsRed[p][m][g][M],w+=this._momentsGreen[p][m][g][M],b+=this._momentsBlue[p][m][g][M],E+=this._momentsAlpha[p][m][g][M],C+=this._moments[p][m][g][M],e[M]+=v,t[M]+=D,n[M]+=w,r[M]+=b,i[M]+=E,o[M]+=C,s[m][g][M]=s[m-1][g][M]+e[M],a[m][g][M]=a[m-1][g][M]+t[M],l[m][g][M]=l[m-1][g][M]+n[M],u[m][g][M]=u[m-1][g][M]+r[M],c[m][g][M]=c[m-1][g][M]+i[M],d[m][g][M]=d[m-1][g][M]+o[M],this._weights[p][m][g][M]=this._weights[p-1][m][g][M]+s[m][g][M],this._momentsRed[p][m][g][M]=this._momentsRed[p-1][m][g][M]+a[m][g][M],this._momentsGreen[p][m][g][M]=this._momentsGreen[p-1][m][g][M]+l[m][g][M],this._momentsBlue[p][m][g][M]=this._momentsBlue[p-1][m][g][M]+u[m][g][M],this._momentsAlpha[p][m][g][M]=this._momentsAlpha[p-1][m][g][M]+c[m][g][M],this._moments[p][m][g][M]=this._moments[p-1][m][g][M]+d[m][g][M]}}}}static _volumeFloat(e,t){return t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMaximum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum])}static _volume(e,t){return 0|Ke._volumeFloat(e,t)}static _top(e,t,n,r){let i;switch(t){case Ke._alpha:i=r[n][e.redMaximum][e.greenMaximum][e.blueMaximum]-r[n][e.redMaximum][e.greenMinimum][e.blueMaximum]-r[n][e.redMinimum][e.greenMaximum][e.blueMaximum]+r[n][e.redMinimum][e.greenMinimum][e.blueMaximum]-(r[n][e.redMaximum][e.greenMaximum][e.blueMinimum]-r[n][e.redMaximum][e.greenMinimum][e.blueMinimum]-r[n][e.redMinimum][e.greenMaximum][e.blueMinimum]+r[n][e.redMinimum][e.greenMinimum][e.blueMinimum]);break;case Ke._red:i=r[e.alphaMaximum][n][e.greenMaximum][e.blueMaximum]-r[e.alphaMaximum][n][e.greenMinimum][e.blueMaximum]-r[e.alphaMinimum][n][e.greenMaximum][e.blueMaximum]+r[e.alphaMinimum][n][e.greenMinimum][e.blueMaximum]-(r[e.alphaMaximum][n][e.greenMaximum][e.blueMinimum]-r[e.alphaMaximum][n][e.greenMinimum][e.blueMinimum]-r[e.alphaMinimum][n][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][n][e.greenMinimum][e.blueMinimum]);break;case Ke._green:i=r[e.alphaMaximum][e.redMaximum][n][e.blueMaximum]-r[e.alphaMaximum][e.redMinimum][n][e.blueMaximum]-r[e.alphaMinimum][e.redMaximum][n][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][n][e.blueMaximum]-(r[e.alphaMaximum][e.redMaximum][n][e.blueMinimum]-r[e.alphaMaximum][e.redMinimum][n][e.blueMinimum]-r[e.alphaMinimum][e.redMaximum][n][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][n][e.blueMinimum]);break;case Ke._blue:i=r[e.alphaMaximum][e.redMaximum][e.greenMaximum][n]-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][n]-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][n]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][n]-(r[e.alphaMinimum][e.redMaximum][e.greenMaximum][n]-r[e.alphaMinimum][e.redMaximum][e.greenMinimum][n]-r[e.alphaMinimum][e.redMinimum][e.greenMaximum][n]+r[e.alphaMinimum][e.redMinimum][e.greenMinimum][n]);break;default:throw new Error("impossible")}return 0|i}static _bottom(e,t,n){switch(t){case Ke._alpha:return-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Ke._red:return-n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Ke._green:return-n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case Ke._blue:return-n[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-(-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);default:return 0}}_calculateVariance(e){let t=Ke._volume(e,this._momentsRed),n=Ke._volume(e,this._momentsGreen),r=Ke._volume(e,this._momentsBlue),i=Ke._volume(e,this._momentsAlpha);return Ke._volumeFloat(e,this._moments)-(t*t+n*n+r*r+i*i)/Ke._volume(e,this._weights)}_maximize(e,t,n,r,i,o,s,a,l){let u=0|Ke._bottom(e,t,this._momentsRed),c=0|Ke._bottom(e,t,this._momentsGreen),d=0|Ke._bottom(e,t,this._momentsBlue),f=0|Ke._bottom(e,t,this._momentsAlpha),h=0|Ke._bottom(e,t,this._weights),p=0,m=-1;for(let g=n;g<r;++g){let v=u+Ke._top(e,t,g,this._momentsRed),D=c+Ke._top(e,t,g,this._momentsGreen),w=d+Ke._top(e,t,g,this._momentsBlue),b=f+Ke._top(e,t,g,this._momentsAlpha),E=h+Ke._top(e,t,g,this._weights);if(E!==0){let C=v*v+D*D+w*w+b*b,M=C/E;v=i-v,D=o-D,w=s-w,b=a-b,E=l-E,E!==0&&(C=v*v+D*D+w*w+b*b,M+=C/E,M>p&&(p=M,m=g))}}return{max:p,position:m}}_cut(e,t){let n,r=Ke._volume(e,this._momentsRed),i=Ke._volume(e,this._momentsGreen),o=Ke._volume(e,this._momentsBlue),s=Ke._volume(e,this._momentsAlpha),a=Ke._volume(e,this._weights),l=this._maximize(e,Ke._red,e.redMinimum+1,e.redMaximum,r,i,o,s,a),u=this._maximize(e,Ke._green,e.greenMinimum+1,e.greenMaximum,r,i,o,s,a),c=this._maximize(e,Ke._blue,e.blueMinimum+1,e.blueMaximum,r,i,o,s,a),d=this._maximize(e,Ke._alpha,e.alphaMinimum+1,e.alphaMaximum,r,i,o,s,a);if(d.max>=l.max&&d.max>=u.max&&d.max>=c.max){if(n=Ke._alpha,d.position<0)return!1}else n=l.max>=d.max&&l.max>=u.max&&l.max>=c.max?Ke._red:u.max>=d.max&&u.max>=l.max&&u.max>=c.max?Ke._green:Ke._blue;switch(t.redMaximum=e.redMaximum,t.greenMaximum=e.greenMaximum,t.blueMaximum=e.blueMaximum,t.alphaMaximum=e.alphaMaximum,n){case Ke._red:t.redMinimum=e.redMaximum=l.position,t.greenMinimum=e.greenMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case Ke._green:t.greenMinimum=e.greenMaximum=u.position,t.redMinimum=e.redMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case Ke._blue:t.blueMinimum=e.blueMaximum=c.position,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum,t.alphaMinimum=e.alphaMinimum;break;case Ke._alpha:t.alphaMinimum=e.alphaMaximum=d.position,t.blueMinimum=e.blueMinimum,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum}return e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),!0}_initialize(e){this._colors=e,this._cubes=[];for(let t=0;t<e;t++)this._cubes[t]=new bD;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=js(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=js(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=js(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=js(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=js(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=js(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let t=0;t<256;++t)this._table[t]=t*t;this._pixels=[]}_setQuality(e=5){this._significantBitsPerChannel=e,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},qs=Ke;be(qs,"_alpha",3),be(qs,"_red",2),be(qs,"_green",1),be(qs,"_blue",0);fP={};yi(fP,{AbstractImageQuantizer:()=>Xd,ErrorDiffusionArray:()=>jr,ErrorDiffusionArrayKernel:()=>ED,ErrorDiffusionRiemersma:()=>Kg,NearestColor:()=>wD});Xd=class{quantizeSync(e,t){for(let n of this.quantize(e,t))if(n.pointContainer)return n.pointContainer;throw new Error("unreachable")}},wD=class extends Xd{constructor(e){super(),be(this,"_distance"),this._distance=e}*quantize(e,t){let n=e.getPointArray(),r=e.getWidth(),i=e.getHeight(),o=new _i(i,99);for(let s=0;s<i;s++){o.shouldNotify(s)&&(yield{progress:o.progress});for(let a=0,l=s*r;a<r;a++,l++){let u=n[l];u.from(t.getNearestColor(this._distance,u))}}yield{pointContainer:e,progress:100}}},ED=(e=>(e[e.FloydSteinberg=0]="FloydSteinberg",e[e.FalseFloydSteinberg=1]="FalseFloydSteinberg",e[e.Stucki=2]="Stucki",e[e.Atkinson=3]="Atkinson",e[e.Jarvis=4]="Jarvis",e[e.Burkes=5]="Burkes",e[e.Sierra=6]="Sierra",e[e.TwoSierra=7]="TwoSierra",e[e.SierraLite=8]="SierraLite",e))(ED||{}),jr=class extends Xd{constructor(e,t,n=!0,r=0,i=!1){super(),be(this,"_minColorDistance"),be(this,"_serpentine"),be(this,"_kernel"),be(this,"_calculateErrorLikeGIMP"),be(this,"_distance"),this._setKernel(t),this._distance=e,this._minColorDistance=r,this._serpentine=n,this._calculateErrorLikeGIMP=i}*quantize(e,t){let n=e.getPointArray(),r=new Yn,i=e.getWidth(),o=e.getHeight(),s=[],a=1,l=1;for(let c of this._kernel){let d=c[2]+1;l<d&&(l=d)}for(let c=0;c<l;c++)this._fillErrorLine(s[c]=[],i);let u=new _i(o,99);for(let c=0;c<o;c++){u.shouldNotify(c)&&(yield{progress:u.progress}),this._serpentine&&(a*=-1);let d=c*i,f=a===1?0:i-1,h=a===1?i:-1;this._fillErrorLine(s[0],i),s.push(s.shift());let p=s[0];for(let m=f,g=d+f;m!==h;m+=a,g+=a){let v=n[g],D=p[m];r.from(v);let w=Yn.createByRGBA(sr(v.r+D[0]),sr(v.g+D[1]),sr(v.b+D[2]),sr(v.a+D[3])),b=t.getNearestColor(this._distance,w);if(v.from(b),this._minColorDistance&&this._distance.calculateNormalized(r,b)<this._minColorDistance)continue;let E,C,M,S;this._calculateErrorLikeGIMP?(E=w.r-b.r,C=w.g-b.g,M=w.b-b.b,S=w.a-b.a):(E=r.r-b.r,C=r.g-b.g,M=r.b-b.b,S=r.a-b.a);let I=a===1?0:this._kernel.length-1,k=a===1?this._kernel.length:-1;for(let y=I;y!==k;y+=a){let T=this._kernel[y][1]*a,V=this._kernel[y][2];if(T+m>=0&&T+m<i&&V+c>=0&&V+c<o){let O=this._kernel[y][0],N=s[V][T+m];N[0]+=E*O,N[1]+=C*O,N[2]+=M*O,N[3]+=S*O}}}}yield{pointContainer:e,progress:100}}_fillErrorLine(e,t){e.length>t&&(e.length=t);let n=e.length;for(let r=0;r<n;r++){let i=e[r];i[0]=i[1]=i[2]=i[3]=0}for(let r=n;r<t;r++)e[r]=[0,0,0,0]}_setKernel(e){switch(e){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${e}`)}}};Kg=class extends Xd{constructor(e,t=16,n=1){super(),be(this,"_distance"),be(this,"_weights"),be(this,"_errorQueueSize"),this._distance=e,this._errorQueueSize=t,this._weights=Kg._createWeights(n,t)}*quantize(e,t){let n=e.getPointArray(),r=e.getWidth(),i=e.getHeight(),o=[],s=0;for(let a=0;a<this._errorQueueSize;a++)o[a]={r:0,g:0,b:0,a:0};yield*Xe(hP(r,i,(a,l)=>{let u=n[a+l*r],{r:c,g:d,b:f,a:h}=u;for(let v=0;v<this._errorQueueSize;v++){let D=this._weights[v],w=o[(v+s)%this._errorQueueSize];c+=w.r*D,d+=w.g*D,f+=w.b*D,h+=w.a*D}let p=Yn.createByRGBA(sr(c),sr(d),sr(f),sr(h)),m=t.getNearestColor(this._distance,p);s=(s+1)%this._errorQueueSize;let g=(s+this._errorQueueSize-1)%this._errorQueueSize;o[g].r=u.r-m.r,o[g].g=u.g-m.g,o[g].b=u.b-m.b,o[g].a=u.a-m.a,u.from(m)})),yield{pointContainer:e,progress:100}}static _createWeights(e,t){let n=[],r=Math.exp(Math.log(t)/(t-1));for(let i=0,o=1;i<t;i++)n[i]=(o+.5|0)/t*e,o*=r;return n}},pP={};yi(pP,{ssim:()=>yP});mP=.01,gP=.03;typeof setImmediate=="function"?setImmediate:typeof process<"u"&&process?.nextTick;DP=de.object({colors:de.number().optional(),colorDistanceFormula:de.union([de.literal("cie94-textiles"),de.literal("cie94-graphic-arts"),de.literal("ciede2000"),de.literal("color-metric"),de.literal("euclidean"),de.literal("euclidean-bt709-noalpha"),de.literal("euclidean-bt709"),de.literal("manhattan"),de.literal("manhattan-bt709"),de.literal("manhattan-nommyde"),de.literal("pngquant")]).optional(),paletteQuantization:de.union([de.literal("neuquant"),de.literal("neuquant-float"),de.literal("rgbquant"),de.literal("wuquant")]).optional(),imageQuantization:de.union([de.literal("nearest"),de.literal("riemersma"),de.literal("floyd-steinberg"),de.literal("false-floyd-steinberg"),de.literal("stucki"),de.literal("atkinson"),de.literal("jarvis"),de.literal("burkes"),de.literal("sierra"),de.literal("two-sierra"),de.literal("sierra-lite")]).optional()}),xP={quantize(e,t){let{colors:n,colorDistanceFormula:r,paletteQuantization:i,imageQuantization:o}=DP.parse(t),s=gD.PointContainer.fromUint8Array(e.bitmap.data,e.bitmap.width,e.bitmap.height),a=bP(s,vP([s],{colors:n,colorDistanceFormula:r,paletteQuantization:i}),{colorDistanceFormula:r,imageQuantization:o});return e.bitmap.data=_e.from(a.toUint8Array()),e}},MP=function(e){if(!e)throw new Error("no data provided");var t={pages:[],chars:[],kernings:[]},n=(e=e.toString().trim()).split(/\r\n?|\n/g);if(n.length===0)throw new Error("no data in BMFont file");for(var r=0;r<n.length;r++){var i=IP(n[r],r);if(i)if(i.key==="page"){if(typeof i.data.id!="number")throw new Error("malformed file at line "+r+" -- needs page id=N");if(typeof i.data.file!="string")throw new Error("malformed file at line "+r+' -- needs page file="path"');t.pages[i.data.id]=i.data.file}else i.key==="chars"||i.key==="kernings"||(i.key==="char"?t.chars.push(i.data):i.key==="kerning"?t.kernings.push(i.data):t[i.key]=i.data)}return t};SP=Mr(MP),Jm="chasrset",AP=function(e){for(var t in e=Object.assign({},e),Jm in e&&(e.charset=e[Jm],delete e[Jm]),e)t!=="face"&&t!=="charset"&&(e[t]=t==="padding"||t==="spacing"?TP(e[t]):parseInt(e[t],10));return e};kP=self.DOMParser!==void 0?function(e){return new self.DOMParser().parseFromString(e,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t},Rw=AP,RP=kP,NP={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},OP=function(e){e=e.toString();var t=RP(e),n={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(u){var c=t.getElementsByTagName(u)[0];c&&(n[u]=Rw(Nw(c)))});var r=t.getElementsByTagName("pages")[0];if(!r)throw new Error("malformed file -- no <pages> element");for(var i=r.getElementsByTagName("page"),o=0;o<i.length;o++){var s=i[o],a=parseInt(s.getAttribute("id"),10),l=s.getAttribute("file");if(isNaN(a))throw new Error('malformed file -- page "id" attribute is NaN');if(!l)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(a,10)]=l}return["chars","kernings"].forEach(function(u){var c=t.getElementsByTagName(u)[0];if(c)for(var d=u.substring(0,u.length-1),f=c.getElementsByTagName(d),h=0;h<f.length;h++){var p=f[h];n[u].push(Rw(Nw(p)))}}),n};LP=Mr(OP),BP=[66,77,70],jP=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");var t=BP.every(function(o,s){return e.readUInt8(s)===o});if(!t)throw new Error("BMFont missing BMF byte header");var n=3;if(e.readUInt8(n++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var r={kernings:[],chars:[]},i=0;i<5;i++)n+=UP(r,e,n);return r};qP=Mr(jP);ZP=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Jg=function(e){return ZP.exec(e).slice(1)};KP="/",JP=":";Ow={extname:t8,basename:e8,dirname:XP,sep:KP,delimiter:JP,relative:QP,join:YP,isAbsolute:CD,normalize:ID,resolve:Mg};n8="ab".substr(-1)==="b"?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)};ef=e=>{if(!e)return null;let t={};switch(e.type){case"ELEMENT":{let n={},r=s8(e.value.attributes),i=ef(e.value.children);if(r&&(n=Object.assign(n,r)),i){let o=i8(e.value.children);n=Object.assign(n,o)}t[e.value.type]=n;break}case"ATTRIBUTE":{let n=e.value;t[n.name]=n.value;break}case"CONTENT":return{content:e.value}}return t},i8=e=>e&&Array.isArray(e)&&e.length!==0?o8(e)?{content:e[0].value}:{children:e.map(ef)}:null,o8=e=>e&&Array.isArray(e)&&e.length===1&&e[0].type==="CONTENT",s8=e=>e&&Array.isArray(e)?e.map(ef).reduce((t,n)=>Object.assign(t,n),{}):null,a8={convert:e=>ef(e.value.children[0])},SD={Token:(e,t)=>({type:e,value:t}),TOKEN_TYPE:{OPEN_BRACKET:"OPEN_BRACKET",ELEMENT_TYPE:"ELEMENT_TYPE",CLOSE_ELEMENT:"CLOSE_ELEMENT",ATTRIB_NAME:"ATTRIB_NAME",ATTRIB_VALUE:"ATTRIB_VALUE",ASSIGN:"ASSIGN",CLOSE_BRACKET:"CLOSE_BRACKET",CONTENT:"CONTENT",EOF:"EOF"}},{Token:$n,TOKEN_TYPE:Xt}=SD,Pw=$n("EOF"),Fw=e=>e===" "||e===`
`||e==="\r"||e==="	",Lw=e=>e.replace(/'/g,'"'),l8={createLexer:function(e){let t=null,n=(d=>{let f=0;for(;f<d.length&&Fw(d[f]);)f++;return((h,p)=>{if(h.startsWith("<?xml",p)){let m=h.length;for(;p<m;)if(h[p]!=="?")p++;else{if(h[p+1]===">")return p+2;p++}}return p})(d,f)})(e),r=[],i=()=>e[n],o=()=>t!==Pw&&n<e.length,s=d=>d==='"'||d==="'",a=()=>{for(;o()&&Fw(e[n]);)n++},l=d=>{if(o()){if(e[n]==="<"){let f="<";return n++,o()&&e[n]==="/"?(n++,f="</"):o()&&e[n]==="!"&&e[n+1]==="-"&&e[n+2]==="-"&&(n++,n++,n++,f="<!--"),f}if(i()==="/"){let f="/";return n++,o()&&i()===">"&&(n++,f="/>"),f}if(e[n]==="="||e[n]===">"){let f=e[n];return n++,f}}return u(!!d)},u=d=>{let f=d?/[^>=<]/u:/[a-zA-Z0-9_:-]/,h=n;for(;o()&&e[n].match(f);)n++;return Lw(e.substring(h,n))},c=()=>{let d=n;a();let f=n-d;if(o())if(t&&t.type===Xt.OPEN_BRACKET){a();let h=l(!1);t=$n(Xt.ELEMENT_TYPE,h),r.push(h)}else if(t&&t.type===Xt.ASSIGN){o()&&s(i())&&n++;let h=n;for(;o()&&!s(i());)n++;let p=Lw(e.substring(h,n));n++,t=$n(Xt.ATTRIB_VALUE,p)}else{a();let h=l(!0);switch(h){case"=":t=t.type===Xt.ATTRIB_NAME?$n(Xt.ASSIGN):$n(Xt.CONTENT,h);break;case"</":{let p=n;for(;e[n]!==">";)n++;t=$n(Xt.CLOSE_ELEMENT,e.substring(p,n)),n++,r.pop();break}case"/>":{let p=r.pop();t=$n(Xt.CLOSE_ELEMENT,p);break}case"<!--":{let p=["!","-","-"];for(;o()&&(p[2]!==">"||p[1]!=="-"||p[0]!=="-");)p.shift(),p.push(e[n]),n++;return c()}case">":t=$n(Xt.CLOSE_BRACKET);break;case"<":t=$n(Xt.OPEN_BRACKET);break;default:if(h&&h.length>0){if(t.type===Xt.CLOSE_BRACKET){let p="";i()!=="<"&&(p=u(!0)),t=$n(Xt.CONTENT,h+p)}else if(t.type!==Xt.ATTRIB_NAME&&t.type!==Xt.CONTENT)t.type===Xt.CLOSE_ELEMENT?(h=" ".repeat(f)+h,t=$n(Xt.CONTENT,h)):t=$n(Xt.ATTRIB_NAME,h);else{let p=" ".repeat(f)+h;t=$n(Xt.CONTENT,p)}break}{let p='Unknown Syntax : "'+e[n]+'"';throw new Error(p)}}}else t=Pw;return t};return{peek:i,next:c,hasNext:o}}},{createLexer:u8}=l8,{Token:c8,TOKEN_TYPE:Dr}=SD,[Bw,d8,f8,h8]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],Cl=(e,t)=>({type:e,value:t}),Ig=e=>Cl(h8,e),AD=(e,t,n)=>Cl(d8,{type:e,attributes:t,children:n}),TD=(e,t)=>Cl(f8,{name:e,value:t}),kD=(e,t)=>{let n=[];for(;e.hasNext();){let r=e.next();switch(r.type){case Dr.OPEN_BRACKET:{let i=e.next(),[o,s]=p8(e),a=[];s.type!==Dr.CLOSE_ELEMENT&&(a=kD(e,i)),a&&a.length>0&&a[0].type===Dr.CONTENT&&(a=m8(a)),n.push(AD(i.value,o,a));break}case Dr.CLOSE_ELEMENT:if(r.value===t.value)return n;break;case Dr.CONTENT:n.push(Ig(r.value));break;case Dr.EOF:return n;default:throw new Error(`Unknown Lexem type: ${r.type} "${r.value}, scoping element: ${t.value}"`)}}return n},p8=e=>{let t=[],n=e.peek();if(!e.hasNext()||n&&n.type===Dr.CLOSE_BRACKET||n&&n.type===Dr.CLOSE_ELEMENT)return[t,n];for(n=e.next();e.hasNext()&&n&&n.type!==Dr.CLOSE_BRACKET&&n.type!==Dr.CLOSE_ELEMENT;){let r=n;e.next();let i=e.next(),o=TD(r.value,i.value);t.push(o),n=e.next()}return[t,n]};g8={transpile:function(e,t){let n=(r=>Cl(Bw,{children:kD(r,c8(Bw,"ROOT"))}))(u8(e));return t?t.convert(n):n},Node:Cl,ElementNode:AD,AttribNode:TD},y8=a8,{transpile:jw}=g8,_8=r8({convertXML:function(e,t){return jw(e,t||y8)},createAST:function(e){return jw(e)}}),v8=_8,b8=Mr(v8),{convertXML:w8}=b8,RD=typeof self<"u"&&self.document===void 0,E8=HE({formats:[Og]}),Xm=_e.from([66,77,70,3]);C8=A8,S8={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};T8=Mr(C8);OD=[qg,VN,HN,Zg,fO,gO,Yg,_O,vO,wO,DO,RO,LO,zO,Vi,WO,ZO,xP],PD=[a2,Ak,Y2,J2,Og,sE],R8={bmp:a2().mime,gif:Y2().mime,jpeg:J2().mime,png:Og().mime,tiff:sE().mime},N8=HE({formats:PD,plugins:OD})});var BD=_0(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.copyPixels=O8;tf.copyPixelToRect=P8;function O8(e,t,n,r,i,o,s,a){e.scan(t,n,r,i,(l,u,c)=>{let d=s+(l-t),f=a+(u-n),h=o.getPixelIndex(d,f);o.bitmap.data[h+0]=e.bitmap.data[c+0],o.bitmap.data[h+1]=e.bitmap.data[c+1],o.bitmap.data[h+2]=e.bitmap.data[c+2],o.bitmap.data[h+3]=e.bitmap.data[c+3]})}function P8(e,t,n,r,i,o,s,a){let l=e.getPixelIndex(t,n);r.scan(i,o,s,a,(u,c,d)=>{r.bitmap.data[d+0]=e.bitmap.data[l+0],r.bitmap.data[d+1]=e.bitmap.data[l+1],r.bitmap.data[d+2]=e.bitmap.data[l+2],r.bitmap.data[d+3]=e.bitmap.data[l+3]})}});var UD=_0(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.extrudeTilesetToBuffer=F8;Ol.extrudeTilesetToImage=L8;Ol.extrudeTilesetToJimp=e0;var jD=(LD(),bx(FD)),vi=BD();function F8(l,u,c){return Ve(this,arguments,function*(e,t,n,{mime:r,margin:i,spacing:o,extrusion:s,color:a}={}){let d={margin:i,spacing:o,extrusion:s,color:a},f;try{f=yield e0(e,t,n,d)}catch(h){throw console.error("Error extruding tileset: ",h),h}try{return yield f.getBuffer(r??f.mime??"image/png")}catch(h){throw console.error("Buffer could not be created from tileset."),h}})}function L8(e,t,n,r,i){return Ve(this,null,function*(){let o;try{o=yield e0(e,t,n,i)}catch(s){throw console.error("Error extruding tileset: ",s),s}try{yield o.write(r)}catch(s){throw console.error(`Tileset image could not be saved to: ${r}`),s}})}function e0(a,l,u){return Ve(this,arguments,function*(e,t,n,{margin:r=0,spacing:i=0,color:o=4294967040,extrusion:s=1}={}){let c;try{c=yield jD.Jimp.read(n)}catch(D){throw console.error(`Tileset image could not be loaded from: ${n}`),D}let{width:d,height:f}=c.bitmap,h=(d-2*r+i)/(e+i),p=(f-2*r+i)/(t+i);if(!Number.isInteger(h)||!Number.isInteger(p))throw new Error("Non-integer number of rows or cols found. The image doesn't match the specified parameters. Double check your margin, spacing, tileWidth and tileHeight.");let m=2*r+(h-1)*i+h*(e+2*s),g=2*r+(p-1)*i+p*(t+2*s),v=new jD.Jimp({width:m,height:g,color:o});for(let D=0;D<p;D++)for(let w=0;w<h;w++){let b=r+w*(e+i),E=r+D*(t+i),C=r+w*(e+i+2*s),M=r+D*(t+i+2*s),S=e,I=t;(0,vi.copyPixels)(c,b,E,S,I,v,C+s,M+s);for(let k=0;k<s;k++)(0,vi.copyPixels)(c,b,E,S,1,v,C+s,M+k),(0,vi.copyPixels)(c,b,E+I-1,S,1,v,C+s,M+s+I+(s-k-1)),(0,vi.copyPixels)(c,b,E,1,I,v,C+k,M+s),(0,vi.copyPixels)(c,b+S-1,E,1,I,v,C+s+S+(s-k-1),M+s);(0,vi.copyPixelToRect)(c,b,E,v,C,M,s,s),(0,vi.copyPixelToRect)(c,b+S-1,E,v,C+s+S,M,s,s),(0,vi.copyPixelToRect)(c,b,E+I-1,v,C,M+s+I,s,s),(0,vi.copyPixelToRect)(c,b+S-1,E+I-1,v,C+s+S,M+s+I,s,s)}return v})}});function Ef(e,t){return Object.is(e,t)}var Qt=null,Vl=!1,Df=1,Qn=Symbol("SIGNAL");function gt(e){let t=Qt;return Qt=e,t}function xf(){return Qt}var oa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sa(e){if(Vl)throw new Error("");if(Qt===null)return;Qt.consumerOnSignalRead(e);let t=Qt.nextProducerIndex++;if(Gl(Qt),t<Qt.producerNode.length&&Qt.producerNode[t]!==e&&ia(Qt)){let n=Qt.producerNode[t];$l(n,Qt.producerIndexOfThis[t])}Qt.producerNode[t]!==e&&(Qt.producerNode[t]=e,Qt.producerIndexOfThis[t]=ia(Qt)?w0(e,Qt,t):0),Qt.producerLastReadVersion[t]=e.version}function b0(){Df++}function Mf(e){if(!(ia(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Df)){if(!e.producerMustRecompute(e)&&!Af(e)){wf(e);return}e.producerRecomputeValue(e),wf(e)}}function If(e){if(e.liveConsumerNode===void 0)return;let t=Vl;Vl=!0;try{for(let n of e.liveConsumerNode)n.dirty||Ex(n)}finally{Vl=t}}function Cf(){return Qt?.consumerAllowSignalWrites!==!1}function Ex(e){e.dirty=!0,If(e),e.consumerMarkedDirty?.(e)}function wf(e){e.dirty=!1,e.lastCleanEpoch=Df}function Hl(e){return e&&(e.nextProducerIndex=0),gt(e)}function Sf(e,t){if(gt(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ia(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)$l(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Af(e){Gl(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Mf(n),r!==n.version))return!0}return!1}function Tf(e){if(Gl(e),ia(e))for(let t=0;t<e.producerNode.length;t++)$l(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function w0(e,t,n){if(E0(e),e.liveConsumerNode.length===0&&D0(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=w0(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function $l(e,t){if(E0(e),e.liveConsumerNode.length===1&&D0(e))for(let r=0;r<e.producerNode.length;r++)$l(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Gl(i),i.producerIndexOfThis[r]=t}}function ia(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Gl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function E0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function D0(e){return e.producerNode!==void 0}function kf(e,t){let n=Object.create(Dx);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Mf(n),sa(n),n.value===zl)throw n.error;return n.value};return r[Qn]=n,r}var vf=Symbol("UNSET"),bf=Symbol("COMPUTING"),zl=Symbol("ERRORED"),Dx=Ae(he({},oa),{value:vf,dirty:!0,error:null,equal:Ef,kind:"computed",producerMustRecompute(e){return e.value===vf||e.value===bf},producerRecomputeValue(e){if(e.value===bf)throw new Error("Detected cycle in computations.");let t=e.value;e.value=bf;let n=Hl(e),r,i=!1;try{r=e.computation(),gt(null),i=t!==vf&&t!==zl&&r!==zl&&e.equal(t,r)}catch(o){r=zl,e.error=o}finally{Sf(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function xx(){throw new Error}var x0=xx;function M0(e){x0(e)}function Rf(e){x0=e}var Mx=null;function Nf(e,t){let n=Object.create(Wl);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(sa(n),n.value);return r[Qn]=n,r}function aa(e,t){Cf()||M0(e),e.equal(e.value,t)||(e.value=t,Ix(e))}function Of(e,t){Cf()||M0(e),aa(e,t(e.value))}var Wl=Ae(he({},oa),{equal:Ef,value:void 0,kind:"signal"});function Ix(e){e.version++,b0(),If(e),Mx?.()}function Pf(e){let t=gt(null);try{return e()}finally{gt(t)}}var Ff;function la(){return Ff}function Wr(e){let t=Ff;return Ff=e,t}var ql=Symbol("NotFound");function nt(e){return typeof e=="function"}function Oo(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zl=Oo(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ua(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var $t=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(nt(r))try{r()}catch(o){t=o instanceof Zl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{I0(o)}catch(s){t=t??[],s instanceof Zl?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Zl(t)}}add(t){var n;if(t&&t!==this)if(this.closed)I0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ua(n,t)}remove(t){let{_finalizers:n}=this;n&&ua(n,t),t instanceof e&&t._removeParent(this)}};$t.EMPTY=(()=>{let e=new $t;return e.closed=!0,e})();var Lf=$t.EMPTY;function Yl(e){return e instanceof $t||e&&"closed"in e&&nt(e.remove)&&nt(e.add)&&nt(e.unsubscribe)}function I0(e){nt(e)?e():e.unsubscribe()}var ur={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Po={setTimeout(e,t,...n){let{delegate:r}=Po;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Po;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ql(e){Po.setTimeout(()=>{let{onUnhandledError:t}=ur;if(t)t(e);else throw e})}function ca(){}var C0=Bf("C",void 0,void 0);function S0(e){return Bf("E",void 0,e)}function A0(e){return Bf("N",e,void 0)}function Bf(e,t,n){return{kind:e,value:t,error:n}}var Gi=null;function Fo(e){if(ur.useDeprecatedSynchronousErrorHandling){let t=!Gi;if(t&&(Gi={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Gi;if(Gi=null,n)throw r}}else e()}function T0(e){ur.useDeprecatedSynchronousErrorHandling&&Gi&&(Gi.errorThrown=!0,Gi.error=e)}var Wi=class extends $t{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Yl(t)&&t.add(this)):this.destination=Rx}static create(t,n,r){return new Lo(t,n,r)}next(t){this.isStopped?Uf(A0(t),this):this._next(t)}error(t){this.isStopped?Uf(S0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Uf(C0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tx=Function.prototype.bind;function jf(e,t){return Tx.call(e,t)}var Vf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Kl(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Kl(r)}else Kl(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Kl(n)}}},Lo=class extends Wi{constructor(t,n,r){super();let i;if(nt(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ur.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&jf(t.next,o),error:t.error&&jf(t.error,o),complete:t.complete&&jf(t.complete,o)}):i=t}this.destination=new Vf(i)}};function Kl(e){ur.useDeprecatedSynchronousErrorHandling?T0(e):Ql(e)}function kx(e){throw e}function Uf(e,t){let{onStoppedNotification:n}=ur;n&&Po.setTimeout(()=>n(e,t))}var Rx={closed:!0,next:ca,error:kx,complete:ca};var Bo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pn(e){return e}function zf(...e){return Hf(e)}function Hf(e){return e.length===0?Pn:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Et=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Ox(n)?n:new Lo(n,r,i);return Fo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=k0(r),new r((i,o)=>{let s=new Lo({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Bo](){return this}pipe(...n){return Hf(n)(this)}toPromise(n){return n=k0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function k0(e){var t;return(t=e??ur.Promise)!==null&&t!==void 0?t:Promise}function Nx(e){return e&&nt(e.next)&&nt(e.error)&&nt(e.complete)}function Ox(e){return e&&e instanceof Wi||Nx(e)&&Yl(e)}function $f(e){return nt(e?.lift)}function vt(e){return t=>{if($f(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function yt(e,t,n,r,i){return new Gf(e,t,n,r,i)}var Gf=class extends Wi{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function jo(){return vt((e,t)=>{let n=null;e._refCount++;let r=yt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Uo=class extends Et{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$f(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new $t;let n=this.getSubject();t.add(this.source.subscribe(yt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=$t.EMPTY)}return t}refCount(){return jo()(this)}};var R0=Oo(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Vt=(()=>{class e extends Et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Jl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new R0}next(n){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Lf:(this.currentObservers=null,o.push(n),new $t(()=>{this.currentObservers=null,ua(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Et;return n.source=this,n}}return e.create=(t,n)=>new Jl(t,n),e})(),Jl=class extends Vt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Lf}};var on=class extends Vt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Cn=new Et(e=>e.complete());function N0(e){return e&&nt(e.schedule)}function O0(e){return e[e.length-1]}function Xl(e){return nt(O0(e))?e.pop():void 0}function bi(e){return N0(O0(e))?e.pop():void 0}function F0(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function P0(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qi(e){return this instanceof qi?(this.v=e,this):new qi(e)}function L0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(g,v){o.push([h,m,g,v])>1||l(h,m)})},p&&(i[h]=p(i[h])))}function l(h,p){try{u(r[h](p))}catch(m){f(o[0][3],m)}}function u(h){h.value instanceof qi?Promise.resolve(h.value.v).then(c,d):f(o[0][2],h)}function c(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function B0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof P0=="function"?P0(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var eu=e=>e&&typeof e.length=="number"&&typeof e!="function";function tu(e){return nt(e?.then)}function nu(e){return nt(e[Bo])}function ru(e){return Symbol.asyncIterator&&nt(e?.[Symbol.asyncIterator])}function iu(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Px(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ou=Px();function su(e){return nt(e?.[ou])}function au(e){return L0(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield qi(n.read());if(i)return yield qi(void 0);yield yield qi(r)}}finally{n.releaseLock()}})}function lu(e){return nt(e?.getReader)}function Gt(e){if(e instanceof Et)return e;if(e!=null){if(nu(e))return Fx(e);if(eu(e))return Lx(e);if(tu(e))return Bx(e);if(ru(e))return j0(e);if(su(e))return jx(e);if(lu(e))return Ux(e)}throw iu(e)}function Fx(e){return new Et(t=>{let n=e[Bo]();if(nt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Lx(e){return new Et(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Bx(e){return new Et(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ql)})}function jx(e){return new Et(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function j0(e){return new Et(t=>{Vx(e,t).catch(n=>t.error(n))})}function Ux(e){return j0(au(e))}function Vx(e,t){var n,r,i,o;return F0(this,void 0,void 0,function*(){try{for(n=B0(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Sn(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function uu(e,t=0){return vt((n,r)=>{n.subscribe(yt(r,i=>Sn(r,e,()=>r.next(i),t),()=>Sn(r,e,()=>r.complete(),t),i=>Sn(r,e,()=>r.error(i),t)))})}function cu(e,t=0){return vt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function U0(e,t){return Gt(e).pipe(cu(t),uu(t))}function V0(e,t){return Gt(e).pipe(cu(t),uu(t))}function z0(e,t){return new Et(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function H0(e,t){return new Et(n=>{let r;return Sn(n,t,()=>{r=e[ou](),Sn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>nt(r?.return)&&r.return()})}function du(e,t){if(!e)throw new Error("Iterable cannot be null");return new Et(n=>{Sn(n,t,()=>{let r=e[Symbol.asyncIterator]();Sn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $0(e,t){return du(au(e),t)}function G0(e,t){if(e!=null){if(nu(e))return U0(e,t);if(eu(e))return z0(e,t);if(tu(e))return V0(e,t);if(ru(e))return du(e,t);if(su(e))return H0(e,t);if(lu(e))return $0(e,t)}throw iu(e)}function Pt(e,t){return t?G0(e,t):Gt(e)}function tt(...e){let t=bi(e);return Pt(e,t)}function Vo(e,t){let n=nt(e)?e:()=>e,r=i=>i.error(n());return new Et(t?i=>t.schedule(r,0,i):r)}function Wf(e){return!!e&&(e instanceof Et||nt(e.lift)&&nt(e.subscribe))}var qr=Oo(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function _t(e,t){return vt((n,r)=>{let i=0;n.subscribe(yt(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:zx}=Array;function Hx(e,t){return zx(t)?e(...t):e(t)}function fu(e){return _t(t=>Hx(e,t))}var{isArray:$x}=Array,{getPrototypeOf:Gx,prototype:Wx,keys:qx}=Object;function hu(e){if(e.length===1){let t=e[0];if($x(t))return{args:t,keys:null};if(Zx(t)){let n=qx(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Zx(e){return e&&typeof e=="object"&&Gx(e)===Wx}function pu(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function mu(...e){let t=bi(e),n=Xl(e),{args:r,keys:i}=hu(e);if(r.length===0)return Pt([],t);let o=new Et(Yx(r,t,i?s=>pu(i,s):Pn));return n?o.pipe(fu(n)):o}function Yx(e,t,n=Pn){return r=>{W0(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)W0(t,()=>{let u=Pt(e[l],t),c=!1;u.subscribe(yt(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function W0(e,t,n){e?Sn(n,e,t):t()}function q0(e,t,n,r,i,o,s,a){let l=[],u=0,c=0,d=!1,f=()=>{d&&!l.length&&!u&&t.complete()},h=m=>u<r?p(m):l.push(m),p=m=>{o&&t.next(m),u++;let g=!1;Gt(n(m,c++)).subscribe(yt(t,v=>{i?.(v),o?h(v):t.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;l.length&&u<r;){let v=l.shift();s?Sn(t,s,()=>p(v)):p(v)}f()}catch(v){t.error(v)}}))};return e.subscribe(yt(t,h,()=>{d=!0,f()})),()=>{a?.()}}function Wt(e,t,n=1/0){return nt(t)?Wt((r,i)=>_t((o,s)=>t(r,o,i,s))(Gt(e(r,i))),n):(typeof t=="number"&&(n=t),vt((r,i)=>q0(r,i,e,n)))}function zo(e=1/0){return Wt(Pn,e)}function Z0(){return zo(1)}function Ho(...e){return Z0()(Pt(e,bi(e)))}function gu(e){return new Et(t=>{Gt(e()).subscribe(t)})}function qf(...e){let t=Xl(e),{args:n,keys:r}=hu(e),i=new Et(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let c=0;c<s;c++){let d=!1;Gt(n[c]).subscribe(yt(o,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?pu(r,a):a),o.complete())}))}});return t?i.pipe(fu(t)):i}function Kn(e,t){return vt((n,r)=>{let i=0;n.subscribe(yt(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Zr(e){return vt((t,n)=>{let r=null,i=!1,o;r=t.subscribe(yt(n,void 0,void 0,s=>{o=Gt(e(s,Zr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Y0(e,t,n,r,i){return(o,s)=>{let a=n,l=t,u=0;o.subscribe(yt(s,c=>{let d=u++;l=a?e(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Zi(e,t){return nt(t)?Wt(e,t,1):Wt(e,1)}function wi(e){return vt((t,n)=>{let r=!1;t.subscribe(yt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Yr(e){return e<=0?()=>Cn:vt((t,n)=>{let r=0;t.subscribe(yt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function yu(e=Qx){return vt((t,n)=>{let r=!1;t.subscribe(yt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Qx(){return new qr}function da(e){return vt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Qr(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Kn((i,o)=>e(i,o,r)):Pn,Yr(1),n?wi(t):yu(()=>new qr))}function $o(e){return e<=0?()=>Cn:vt((t,n)=>{let r=[];t.subscribe(yt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Zf(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Kn((i,o)=>e(i,o,r)):Pn,$o(1),n?wi(t):yu(()=>new qr))}function Yf(e,t){return vt(Y0(e,t,arguments.length>=2,!0))}function Qf(...e){let t=bi(e);return vt((n,r)=>{(t?Ho(e,n,t):Ho(e,n)).subscribe(r)})}function cr(e,t){return vt((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(yt(r,l=>{i?.unsubscribe();let u=0,c=o++;Gt(e(l,c)).subscribe(i=yt(r,d=>r.next(t?t(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Kf(e){return vt((t,n)=>{Gt(e).subscribe(yt(n,()=>n.complete(),ca)),!n.closed&&t.subscribe(n)})}function sn(e,t,n){let r=nt(e)||t||n?{next:e,error:t,complete:n}:e;return r?vt((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(yt(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Pn}var F1="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$e=class extends Error{code;constructor(t,n){super(Jx(t,n)),this.code=t}};function Kx(e){return`NG0${Math.abs(e)}`}function Jx(e,t){return`${Kx(e)}${t?": "+t:""}`}var L1=Symbol("InputSignalNode#UNSET"),Xx=Ae(he({},Wl),{transformFn:void 0,applyValueToInputSignal(e,t){aa(e,t)}});function B1(e,t){let n=Object.create(Xx);n.value=e,n.transformFn=t?.transform;function r(){if(sa(n),n.value===L1){let i=null;throw new $e(-950,i)}return n.value}return r[Qn]=n,r}function Ku(e){return{toString:e}.toString()}var fh=globalThis;function Ct(e){for(let t in e)if(e[t]===Ct)return t;throw Error("Could not find renamed property on target object.")}function eM(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function An(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(An).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Q0(e,t){return e?t?`${e} ${t}`:e:t||""}var tM=Ct({__forward_ref__:Ct});function ts(e){return e.__forward_ref__=ts,e.toString=function(){return An(this())},e}function yn(e){return j1(e)?e():e}function j1(e){return typeof e=="function"&&e.hasOwnProperty(tM)&&e.__forward_ref__===ts}function et(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Mi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ju(e){return K0(e,V1)||K0(e,z1)}function U1(e){return Ju(e)!==null}function K0(e,t){return e.hasOwnProperty(t)?e[t]:null}function nM(e){let t=e&&(e[V1]||e[z1]);return t||null}function J0(e){return e&&(e.hasOwnProperty(X0)||e.hasOwnProperty(rM))?e[X0]:null}var V1=Ct({\u0275prov:Ct}),X0=Ct({\u0275inj:Ct}),z1=Ct({ngInjectableDef:Ct}),rM=Ct({ngInjectorDef:Ct}),Ge=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=et({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function H1(e){return e&&!!e.\u0275providers}var iM=Ct({\u0275cmp:Ct}),oM=Ct({\u0275dir:Ct}),sM=Ct({\u0275pipe:Ct}),aM=Ct({\u0275mod:Ct}),Iu=Ct({\u0275fac:Ct}),ma=Ct({__NG_ELEMENT_ID__:Ct}),e1=Ct({__NG_ENV_ID__:Ct});function Xu(e){return typeof e=="string"?e:e==null?"":String(e)}function lM(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Xu(e)}function $1(e,t){throw new $e(-200,e)}function tp(e,t){throw new $e(-201,!1)}var lt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(lt||{}),hh;function G1(){return hh}function Jn(e){let t=hh;return hh=e,t}function W1(e,t,n){let r=Ju(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&lt.Optional)return null;if(t!==void 0)return t;tp(e,"Injector")}var uM={},Yi=uM,cM="__NG_DI_FLAG__",Cu=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?ql:Yi,r)}},Su="ngTempTokenPath",dM="ngTokenPath",fM=/\n/gm,hM="\u0275",t1="__source";function pM(e,t=lt.Default){if(la()===void 0)throw new $e(-203,!1);if(la()===null)return W1(e,void 0,t);{let n=la(),r;return n instanceof Cu?r=n.injector:r=n,r.get(e,t&lt.Optional?null:void 0,t)}}function ct(e,t=lt.Default){return(G1()||pM)(yn(e),t)}function Re(e,t=lt.Default){return ct(e,ec(t))}function ec(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ph(e){let t=[];for(let n=0;n<e.length;n++){let r=yn(e[n]);if(Array.isArray(r)){if(r.length===0)throw new $e(900,!1);let i,o=lt.Default;for(let s=0;s<r.length;s++){let a=r[s],l=mM(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(ct(i,o))}else t.push(ct(r))}return t}function mM(e){return e[cM]}function gM(e,t,n,r){let i=e[Su];throw t[t1]&&i.unshift(t[t1]),e.message=yM(`
`+e.message,i,n,r),e[dM]=i,e[Su]=null,e}function yM(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==hM?e.slice(2):e;let i=An(t);if(Array.isArray(t))i=t.map(An).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):An(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(fM,`
  `)}`}function Yo(e,t){let n=e.hasOwnProperty(Iu);return n?e[Iu]:null}function _M(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function vM(e){return e.flat(Number.POSITIVE_INFINITY)}function np(e,t){e.forEach(n=>Array.isArray(n)?np(n,t):t(n))}function q1(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Au(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function bM(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function wM(e,t,n){let r=Ca(e,t);return r>=0?e[r|1]=n:(r=~r,bM(e,r,t,n)),r}function Jf(e,t){let n=Ca(e,t);if(n>=0)return e[n|1]}function Ca(e,t){return EM(e,t,1)}function EM(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Ki={},Xn=[],ga=new Ge(""),Z1=new Ge("",-1),Y1=new Ge(""),Tu=class{get(t,n=Yi){if(n===Yi){let r=new Error(`NullInjectorError: No provider for ${An(t)}!`);throw r.name="NullInjectorError",r}return n}};function Q1(e,t){let n=e[aM]||null;if(!n&&t===!0)throw new Error(`Type ${An(e)} does not have '\u0275mod' property.`);return n}function Qo(e){return e[iM]||null}function DM(e){return e[oM]||null}function xM(e){return e[sM]||null}function rp(e){return{\u0275providers:e}}function MM(...e){return{\u0275providers:K1(!0,e),\u0275fromNgModule:!0}}function K1(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return np(t,s=>{let a=s;mh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&J1(i,o),n}function J1(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];ip(i,o=>{t(o,r)})}}function mh(e,t,n,r){if(e=yn(e),!e)return!1;let i=null,o=J0(e),s=!o&&Qo(e);if(!o&&!s){let l=e.ngModule;if(o=J0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)mh(u,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{np(o.imports,c=>{mh(c,t,n,r)&&(u||=[],u.push(c))})}finally{}u!==void 0&&J1(u,t)}if(!a){let u=Yo(i)||(()=>new i);t({provide:i,useFactory:u,deps:Xn},i),t({provide:Y1,useValue:i,multi:!0},i),t({provide:ga,useValue:()=>ct(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=e;ip(l,c=>{t(c,u)})}}else return!1;return i!==e&&e.providers!==void 0}function ip(e,t){for(let n of e)H1(n)&&(n=n.\u0275providers),Array.isArray(n)?ip(n,t):t(n)}var IM=Ct({provide:String,useValue:Ct});function X1(e){return e!==null&&typeof e=="object"&&IM in e}function CM(e){return!!(e&&e.useExisting)}function SM(e){return!!(e&&e.useFactory)}function Ko(e){return typeof e=="function"}function AM(e){return!!e.useClass}var tc=new Ge(""),bu={},n1={},Xf;function op(){return Xf===void 0&&(Xf=new Tu),Xf}var Fn=class{},ya=class extends Fn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,yh(t,s=>this.processProvider(s)),this.records.set(Z1,Go(void 0,this)),i.has("environment")&&this.records.set(Fn,Go(void 0,this));let o=this.records.get(tc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Y1,Xn,lt.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?ql:Yi,r)}destroy(){ha(this),this._destroyed=!0;let t=gt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),gt(t)}}onDestroy(t){return ha(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ha(this);let n=Wr(this),r=Jn(void 0),i;try{return t()}finally{Wr(n),Jn(r)}}get(t,n=Yi,r=lt.Default){if(ha(this),t.hasOwnProperty(e1))return t[e1](this);r=ec(r);let i,o=Wr(this),s=Jn(void 0);try{if(!(r&lt.SkipSelf)){let l=this.records.get(t);if(l===void 0){let u=OM(t)&&Ju(t);u&&this.injectableDefInScope(u)?l=Go(gh(t),bu):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,r)}let a=r&lt.Self?op():this.parent;return n=r&lt.Optional&&n===Yi?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Su]=a[Su]||[]).unshift(An(t)),o)throw a;return gM(a,t,"R3InjectorError",this.source)}else throw a}finally{Jn(s),Wr(o)}}resolveInjectorInitializers(){let t=gt(null),n=Wr(this),r=Jn(void 0),i;try{let o=this.get(ga,Xn,lt.Self);for(let s of o)s()}finally{Wr(n),Jn(r),gt(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(An(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=yn(t);let n=Ko(t)?t:yn(t&&t.provide),r=kM(t);if(!Ko(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Go(void 0,bu,!0),i.factory=()=>ph(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=gt(null);try{return n.value===n1?$1(An(t)):n.value===bu&&(n.value=n1,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&NM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{gt(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=yn(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function gh(e){let t=Ju(e),n=t!==null?t.factory:Yo(e);if(n!==null)return n;if(e instanceof Ge)throw new $e(204,!1);if(e instanceof Function)return TM(e);throw new $e(204,!1)}function TM(e){if(e.length>0)throw new $e(204,!1);let n=nM(e);return n!==null?()=>n.factory(e):()=>new e}function kM(e){if(X1(e))return Go(void 0,e.useValue);{let t=ey(e);return Go(t,bu)}}function ey(e,t,n){let r;if(Ko(e)){let i=yn(e);return Yo(i)||gh(i)}else if(X1(e))r=()=>yn(e.useValue);else if(SM(e))r=()=>e.useFactory(...ph(e.deps||[]));else if(CM(e))r=(i,o)=>ct(yn(e.useExisting),o!==void 0&&o&lt.Optional?lt.Optional:void 0);else{let i=yn(e&&(e.useClass||e.provide));if(RM(e))r=()=>new i(...ph(e.deps));else return Yo(i)||gh(i)}return r}function ha(e){if(e.destroyed)throw new $e(205,!1)}function Go(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function RM(e){return!!e.deps}function NM(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function OM(e){return typeof e=="function"||typeof e=="object"&&e instanceof Ge}function yh(e,t){for(let n of e)Array.isArray(n)?yh(n,t):n&&H1(n)?yh(n.\u0275providers,t):t(n)}function pr(e,t){let n;e instanceof ya?(ha(e),n=e):n=new Cu(e);let r,i=Wr(n),o=Jn(void 0);try{return t()}finally{Wr(i),Jn(o)}}function PM(){return G1()!==void 0||la()!=null}function FM(e){return typeof e=="function"}var ti=0,ut=1,rt=2,cn=3,fr=4,mr=5,ku=6,Ru=7,_n=8,Ji=9,Kr=10,Jt=11,_a=12,r1=13,ns=14,Cr=15,Xi=16,Wo=17,Jr=18,nc=19,ty=20,Ei=21,eh=22,Nu=23,er=24,th=25,hr=26,ny=1;var eo=7,Ou=8,Jo=9,Tn=10;function Di(e){return Array.isArray(e)&&typeof e[ny]=="object"}function ni(e){return Array.isArray(e)&&e[ny]===!0}function ry(e){return(e.flags&4)!==0}function rs(e){return e.componentOffset>-1}function sp(e){return(e.flags&1)===1}function Sr(e){return!!e.template}function Pu(e){return(e[rt]&512)!==0}function is(e){return(e[rt]&256)===256}var _h=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function iy(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Ii=(()=>{let e=()=>oy;return e.ngInherit=!0,e})();function oy(e){return e.type.prototype.ngOnChanges&&(e.setInput=BM),LM}function LM(){let e=ay(this),t=e?.current;if(t){let n=e.previous;if(n===Ki)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function BM(e,t,n,r,i){let o=this.declaredInputs[r],s=ay(e)||jM(e,{previous:Ki,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new _h(u&&u.currentValue,n,l===Ki),iy(e,t,i,n)}var sy="__ngSimpleChanges__";function ay(e){return e[sy]||null}function jM(e,t){return e[sy]=t}var i1=null;var St=function(e,t=null,n){i1?.(e,t,n)},ly="svg",UM="math";function Ar(e){for(;Array.isArray(e);)e=e[ti];return e}function uy(e,t){return Ar(t[e])}function Rr(e,t){return Ar(t[e.index])}function ap(e,t){return e.data[t]}function Tr(e,t){let n=t[e];return Di(n)?n:n[ti]}function VM(e){return(e[rt]&4)===4}function lp(e){return(e[rt]&128)===128}function zM(e){return ni(e[cn])}function Fu(e,t){return t==null?null:e[t]}function cy(e){e[Wo]=0}function dy(e){e[rt]&1024||(e[rt]|=1024,lp(e)&&ic(e))}function HM(e,t){for(;e>0;)t=t[ns],e--;return t}function rc(e){return!!(e[rt]&9216||e[er]?.dirty)}function vh(e){e[Kr].changeDetectionScheduler?.notify(8),e[rt]&64&&(e[rt]|=1024),rc(e)&&ic(e)}function ic(e){e[Kr].changeDetectionScheduler?.notify(0);let t=to(e);for(;t!==null&&!(t[rt]&8192||(t[rt]|=8192,!lp(t)));)t=to(t)}function fy(e,t){if(is(e))throw new $e(911,!1);e[Ei]===null&&(e[Ei]=[]),e[Ei].push(t)}function $M(e,t){if(e[Ei]===null)return;let n=e[Ei].indexOf(t);n!==-1&&e[Ei].splice(n,1)}function to(e){let t=e[cn];return ni(t)?t[cn]:t}function up(e){return e[Ru]??=[]}function cp(e){return e.cleanup??=[]}function GM(e,t,n,r){let i=up(t);i.push(n),e.firstCreatePass&&cp(e).push(r,i.length-1)}var dt={lFrame:by(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var bh=!1;function WM(){return dt.lFrame.elementDepthCount}function qM(){dt.lFrame.elementDepthCount++}function ZM(){dt.lFrame.elementDepthCount--}function hy(){return dt.bindingsEnabled}function YM(){return dt.skipHydrationRootTNode!==null}function QM(e){return dt.skipHydrationRootTNode===e}function KM(){dt.skipHydrationRootTNode=null}function Dt(){return dt.lFrame.lView}function dn(){return dt.lFrame.tView}function dp(e){return dt.lFrame.contextLView=e,e[_n]}function fp(e){return dt.lFrame.contextLView=null,e}function kn(){let e=py();for(;e!==null&&e.type===64;)e=e.parent;return e}function py(){return dt.lFrame.currentTNode}function JM(){let e=dt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Sa(e,t){let n=dt.lFrame;n.currentTNode=e,n.isParent=t}function my(){return dt.lFrame.isParent}function XM(){dt.lFrame.isParent=!1}function gy(){return bh}function o1(e){let t=bh;return bh=e,t}function eI(){let e=dt.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function tI(e){return dt.lFrame.bindingIndex=e}function Aa(){return dt.lFrame.bindingIndex++}function nI(e){let t=dt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function rI(){return dt.lFrame.inI18n}function iI(e,t){let n=dt.lFrame;n.bindingIndex=n.bindingRootIndex=e,wh(t)}function oI(){return dt.lFrame.currentDirectiveIndex}function wh(e){dt.lFrame.currentDirectiveIndex=e}function sI(e){let t=dt.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function yy(){return dt.lFrame.currentQueryIndex}function hp(e){dt.lFrame.currentQueryIndex=e}function aI(e){let t=e[ut];return t.type===2?t.declTNode:t.type===1?e[mr]:null}function _y(e,t,n){if(n&lt.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&lt.Host);)if(i=aI(o),i===null||(o=o[ns],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=dt.lFrame=vy();return r.currentTNode=t,r.lView=e,!0}function pp(e){let t=vy(),n=e[ut];dt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function vy(){let e=dt.lFrame,t=e===null?null:e.child;return t===null?by(e):t}function by(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function wy(){let e=dt.lFrame;return dt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ey=wy;function mp(){let e=wy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lI(e){return(dt.lFrame.contextLView=HM(e,dt.lFrame.contextLView))[_n]}function os(){return dt.lFrame.selectedIndex}function no(e){dt.lFrame.selectedIndex=e}function gp(){let e=dt.lFrame;return ap(e.tView,e.selectedIndex)}function ss(){dt.lFrame.currentNamespace=ly}function Dy(){uI()}function uI(){dt.lFrame.currentNamespace=null}function cI(){return dt.lFrame.currentNamespace}var xy=!0;function yp(){return xy}function _p(e){xy=e}function dI(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=oy(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function My(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),c!=null&&(e.destroyHooks??=[]).push(n,c)}}function wu(e,t,n){Iy(e,t,3,n)}function Eu(e,t,n,r){(e[rt]&3)===n&&Iy(e,t,n,r)}function nh(e,t){let n=e[rt];(n&3)===t&&(n&=16383,n+=1,e[rt]=n)}function Iy(e,t,n,r){let i=r!==void 0?e[Wo]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[Wo]+=65536),(a<o||o==-1)&&(fI(e,n,t,l),e[Wo]=(e[Wo]&4294901760)+l+2),l++}function s1(e,t){St(4,e,t);let n=gt(null);try{t.call(e)}finally{gt(n),St(5,e,t)}}function fI(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[rt]>>14<e[Wo]>>16&&(e[rt]&3)===t&&(e[rt]+=16384,s1(a,o)):s1(a,o)}var Zo=-1,ro=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function hI(e){return(e.flags&8)!==0}function pI(e){return(e.flags&16)!==0}function mI(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];gI(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function Cy(e){return e===3||e===4||e===6}function gI(e){return e.charCodeAt(0)===64}function va(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?a1(e,n,i,null,t[++r]):a1(e,n,i,null,null))}}return e}function a1(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Sy(e){return e!==Zo}function Lu(e){return e&32767}function yI(e){return e>>16}function Bu(e,t){let n=yI(e),r=t;for(;n>0;)r=r[ns],n--;return r}var Eh=!0;function l1(e){let t=Eh;return Eh=e,t}var _I=256,Ay=_I-1,Ty=5,vI=0,Ir={};function bI(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ma)&&(r=n[ma]),r==null&&(r=n[ma]=vI++);let i=r&Ay,o=1<<i;t.data[e+(i>>Ty)]|=o}function ju(e,t){let n=ky(e,t);if(n!==-1)return n;let r=t[ut];r.firstCreatePass&&(e.injectorIndex=t.length,rh(r.data,e),rh(t,null),rh(r.blueprint,null));let i=vp(e,t),o=e.injectorIndex;if(Sy(i)){let s=Lu(i),a=Bu(i,t),l=a[ut].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function rh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ky(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function vp(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Fy(i),r===null)return Zo;if(n++,i=i[ns],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zo}function Dh(e,t,n){bI(e,t,n)}function wI(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Cy(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function Ry(e,t,n){if(n&lt.Optional||e!==void 0)return e;tp(t,"NodeInjector")}function Ny(e,t,n,r){if(n&lt.Optional&&r===void 0&&(r=null),(n&(lt.Self|lt.Host))===0){let i=e[Ji],o=Jn(void 0);try{return i?i.get(t,r,n&lt.Optional):W1(t,r,n&lt.Optional)}finally{Jn(o)}}return Ry(r,t,n)}function Oy(e,t,n,r=lt.Default,i){if(e!==null){if(t[rt]&2048&&!(r&lt.Self)){let s=MI(e,t,n,r,Ir);if(s!==Ir)return s}let o=Py(e,t,n,r,Ir);if(o!==Ir)return o}return Ny(t,n,r,i)}function Py(e,t,n,r,i){let o=DI(n);if(typeof o=="function"){if(!_y(t,e,r))return r&lt.Host?Ry(i,n,r):Ny(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&lt.Optional))tp(n);else return s}finally{Ey()}}else if(typeof o=="number"){let s=null,a=ky(e,t),l=Zo,u=r&lt.Host?t[Cr][mr]:null;for((a===-1||r&lt.SkipSelf)&&(l=a===-1?vp(e,t):t[a+8],l===Zo||!c1(r,!1)?a=-1:(s=t[ut],a=Lu(l),t=Bu(l,t)));a!==-1;){let c=t[ut];if(u1(o,a,c.data)){let d=EI(a,t,n,s,r,u);if(d!==Ir)return d}l=t[a+8],l!==Zo&&c1(r,t[ut].data[a+8]===u)&&u1(o,a,t)?(s=c,a=Lu(l),t=Bu(l,t)):a=-1}}return i}function EI(e,t,n,r,i,o){let s=t[ut],a=s.data[e+8],l=r==null?rs(a)&&Eh:r!=s&&(a.type&3)!==0,u=i&lt.Host&&o===a,c=Du(a,s,n,l,u);return c!==null?ba(t,s,c,a,i):Ir}function Du(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,u=e.directiveEnd,c=o>>20,d=r?a:a+c,f=i?a+c:u;for(let h=d;h<f;h++){let p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){let h=s[l];if(h&&Sr(h)&&h.type===n)return l}return null}function ba(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof ro){let a=o;a.resolving&&$1(lM(s[n]));let l=l1(a.canSeeViewProviders);a.resolving=!0;let u,c=a.injectImpl?Jn(a.injectImpl):null,d=_y(e,r,lt.Default);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&dI(n,s[n],t)}finally{c!==null&&Jn(c),l1(l),a.resolving=!1,Ey()}}return o}function DI(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ma)?e[ma]:void 0;return typeof t=="number"?t>=0?t&Ay:xI:t}function u1(e,t,n){let r=1<<e;return!!(n[t+(e>>Ty)]&r)}function c1(e,t){return!(e&lt.Self)&&!(e&lt.Host&&t)}var Qi=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Oy(this._tNode,this._lView,t,ec(r),n)}};function xI(){return new Qi(kn(),Dt())}function as(e){return Ku(()=>{let t=e.prototype.constructor,n=t[Iu]||xh(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Iu]||xh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xh(e){return j1(e)?()=>{let t=xh(yn(e));return t&&t()}:Yo(e)}function MI(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[rt]&2048&&!Pu(s);){let a=Py(o,s,n,r|lt.Self,Ir);if(a!==Ir)return a;let l=o.parent;if(!l){let u=s[ty];if(u){let c=u.get(n,Ir,r);if(c!==Ir)return c}l=Fy(s),s=s[ns]}o=l}return i}function Fy(e){let t=e[ut],n=t.type;return n===2?t.declTNode:n===1?e[mr]:null}function bp(e){return wI(kn(),e)}function d1(e,t=null,n=null,r){let i=Ly(e,t,n,r);return i.resolveInjectorInitializers(),i}function Ly(e,t=null,n=null,r,i=new Set){let o=[n||Xn,MM(e)];return r=r||(typeof e=="object"?void 0:An(e)),new ya(o,t||op(),r||null,i)}var Xr=class e{static THROW_IF_NOT_FOUND=Yi;static NULL=new Tu;static create(t,n){if(Array.isArray(t))return d1({name:""},n,t,"");{let r=t.name??"";return d1({name:r},t.parent,t.providers,r)}}static \u0275prov=et({token:e,providedIn:"any",factory:()=>ct(Z1)});static __NG_ELEMENT_ID__=-1};var II=new Ge("");II.__NG_ELEMENT_ID__=e=>{let t=kn();if(t===null)throw new $e(204,!1);if(t.type&2)return t.value;if(e&lt.Optional)return null;throw new $e(204,!1)};var By=!1,oc=(()=>{class e{static __NG_ELEMENT_ID__=CI;static __NG_ENV_ID__=n=>n}return e})(),Mh=class extends oc{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return is(n)?(t(),()=>{}):(fy(n,t),()=>$M(n,t))}};function CI(){return new Mh(Dt())}var wa=class{},wp=new Ge("",{providedIn:"root",factory:()=>!1});var jy=new Ge(""),Uy=new Ge(""),ls=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new on(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=et({token:e,providedIn:"root",factory:()=>new e})}return e})();var Ih=class extends Vt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,PM()&&(this.destroyRef=Re(oc,{optional:!0})??void 0,this.pendingTasks=Re(ls,{optional:!0})??void 0)}emit(t){let n=gt(null);try{super.next(t)}finally{gt(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof $t&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Kt=Ih;function Uu(...e){}function Vy(e){let t,n;function r(){e=Uu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function f1(e){return queueMicrotask(()=>e()),()=>{e=Uu}}var Ep="isAngularZone",Vu=Ep+"_ID",SI=0,tn=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Kt(!1);onMicrotaskEmpty=new Kt(!1);onStable=new Kt(!1);onError=new Kt(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=By}=t;if(typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,kI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ep)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new $e(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,AI,Uu,Uu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},AI={};function Dp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function TI(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Vy(()=>{e.callbackScheduled=!1,Ch(e),e.isCheckStableRunning=!0,Dp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ch(e)}function kI(e){let t=()=>{TI(e)},n=SI++;e._inner=e._inner.fork({name:"angular",properties:{[Ep]:!0,[Vu]:n,[Vu+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(RI(l))return r.invokeTask(o,s,a,l);try{return h1(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),p1(e)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return h1(e),r.invoke(o,s,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!NI(l)&&t(),p1(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ch(e),Dp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ch(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function h1(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function p1(e){e._nesting--,Dp(e)}var Sh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Kt;onMicrotaskEmpty=new Kt;onStable=new Kt;onError=new Kt;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function RI(e){return zy(e,"__ignore_ng_zone__")}function NI(e){return zy(e,"__scheduler_tick__")}function zy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var ei=class{_console=console;handleError(t){this._console.error("ERROR",t)}},OI=new Ge("",{providedIn:"root",factory:()=>{let e=Re(tn),t=Re(ei);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function m1(e,t){return B1(e,t)}function PI(e){return B1(L1,e)}var Hy=(m1.required=PI,m1);function FI(){return us(kn(),Dt())}function us(e,t){return new gr(Rr(e,t))}var gr=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=FI}return e})();function LI(e){return e instanceof gr?e.nativeElement:e}function BI(e){return typeof e=="function"&&e[Qn]!==void 0}function sc(e,t){let n=Nf(e,t?.equal),r=n[Qn];return n.set=i=>aa(r,i),n.update=i=>Of(r,i),n.asReadonly=jI.bind(n),n}function jI(){let e=this[Qn];if(e.readonlyFn===void 0){let t=()=>this();t[Qn]=e,e.readonlyFn=t}return e.readonlyFn}function $y(e){return BI(e)&&typeof e.set=="function"}function UI(){return this._results[Symbol.iterator]()}var Ah=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Vt}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=vM(t);(this._changesDetected=!_M(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=UI};function Gy(e){return(e.flags&128)===128}var Wy=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wy||{}),qy=new Map,VI=0;function zI(){return VI++}function HI(e){qy.set(e[nc],e)}function Th(e){qy.delete(e[nc])}var g1="__ngContext__";function Ta(e,t){Di(t)?(e[g1]=t[nc],HI(t)):e[g1]=t}function Zy(e){return Qy(e[_a])}function Yy(e){return Qy(e[fr])}function Qy(e){for(;e!==null&&!ni(e);)e=e[fr];return e}var kh;function Ky(e){kh=e}function $I(){if(kh!==void 0)return kh;if(typeof document<"u")return document;throw new $e(210,!1)}var ac=new Ge("",{providedIn:"root",factory:()=>GI}),GI="ng",xp=new Ge(""),ka=new Ge("",{providedIn:"platform",factory:()=>"unknown"});var Mp=new Ge("",{providedIn:"root",factory:()=>$I().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var WI="h",qI="b";var Jy=!1,ZI=new Ge("",{providedIn:"root",factory:()=>Jy});var Xy=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Xy||{}),lc=new Ge(""),y1=new Set;function uc(e){y1.has(e)||(y1.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var YI=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=et({token:e,providedIn:"root",factory:()=>new e})}return e})();var QI=()=>null;function e_(e,t,n=!1){return QI(e,t,n)}function t_(e,t){let n=e.contentQueries;if(n!==null){let r=gt(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];hp(o),a.contentQueries(2,t[s],s)}}}finally{gt(r)}}}function Rh(e,t,n){hp(0);let r=gt(null);try{t(e,n)}finally{gt(r)}}function n_(e,t,n){if(ry(t)){let r=gt(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{gt(r)}}}var kr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(kr||{});var _u;function KI(){if(_u===void 0&&(_u=null,fh.trustedTypes))try{_u=fh.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _u}function _1(e){return KI()?.createScriptURL(e)||e}var zu=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${F1})`}};function Ip(e){return e instanceof zu?e.changingThisBreaksApplicationSecurity:e}function r_(e,t){let n=JI(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${F1})`)}return n===t}function JI(e){return e instanceof zu&&e.getTypeName()||null}var XI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eC(e){return e=String(e),e.match(XI)?e:"unsafe:"+e}var Cp=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Cp||{});function cc(e){let t=o_();return t?t.sanitize(Cp.URL,e)||"":r_(e,"URL")?Ip(e):eC(Xu(e))}function tC(e){let t=o_();if(t)return _1(t.sanitize(Cp.RESOURCE_URL,e)||"");if(r_(e,"ResourceURL"))return _1(Ip(e));throw new $e(904,!1)}function nC(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?tC:cc}function i_(e,t,n){return nC(t,n)(e)}function o_(){let e=Dt();return e&&e[Kr].sanitizer}function s_(e){return e instanceof Function?e():e}function rC(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var a_="ng-template";function iC(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&rC(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Sp(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Sp(e){return e.type===4&&e.value!==a_}function oC(e,t,n){let r=e.type===4&&!n?a_:e.value;return t===r}function sC(e,t,n){let r=4,i=e.attrs,o=i!==null?uC(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!dr(r)&&!dr(l))return!1;if(s&&dr(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!oC(e,l,n)||l===""&&t.length===1){if(dr(r))return!1;s=!0}}else if(r&8){if(i===null||!iC(e,i,l,n)){if(dr(r))return!1;s=!0}}else{let u=t[++a],c=aC(l,i,Sp(e),n);if(c===-1){if(dr(r))return!1;s=!0;continue}if(u!==""){let d;if(c>o?d="":d=i[c+1].toLowerCase(),r&2&&u!==d){if(dr(r))return!1;s=!0}}}}return dr(r)||s}function dr(e){return(e&1)===0}function aC(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return cC(t,e)}function lC(e,t,n=!1){for(let r=0;r<t.length;r++)if(sC(e,t[r],n))return!0;return!1}function uC(e){for(let t=0;t<e.length;t++){let n=e[t];if(Cy(n))return t}return e.length}function cC(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function v1(e,t){return e?":not("+t.trim()+")":t}function dC(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dr(s)&&(t+=v1(o,i),i=""),r=s,o=o||!dr(r);n++}return i!==""&&(t+=v1(o,i)),t}function fC(e){return e.map(dC).join(",")}function hC(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!dr(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Ci={};function pC(e,t){return e.createText(t)}function mC(e,t,n){e.setValue(t,n)}function l_(e,t,n){return e.createElement(t,n)}function Hu(e,t,n,r,i){e.insertBefore(t,n,r,i)}function u_(e,t,n){e.appendChild(t,n)}function b1(e,t,n,r,i){r!==null?Hu(e,t,n,r,i):u_(e,t,n)}function gC(e,t,n){e.removeChild(null,t,n)}function yC(e,t,n){e.setAttribute(t,"style",n)}function _C(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function c_(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&mI(e,t,r),i!==null&&_C(e,t,i),o!==null&&yC(e,t,o)}function Ap(e,t,n,r,i,o,s,a,l,u,c){let d=hr+r,f=d+i,h=vC(d,f),p=typeof u=="function"?u():u;return h[ut]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}function vC(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ci);return n}function bC(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ap(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Tp(e,t,n,r,i,o,s,a,l,u,c){let d=t.blueprint.slice();return d[ti]=i,d[rt]=r|4|128|8|64|1024,(u!==null||e&&e[rt]&2048)&&(d[rt]|=2048),cy(d),d[cn]=d[ns]=e,d[_n]=n,d[Kr]=s||e&&e[Kr],d[Jt]=a||e&&e[Jt],d[Ji]=l||e&&e[Ji]||null,d[mr]=o,d[nc]=zI(),d[ku]=c,d[ty]=u,d[Cr]=t.type==2?e[Cr]:d,d}function wC(e,t,n){let r=Rr(t,e),i=bC(n),o=e[Kr].rendererFactory,s=kp(e,Tp(e,i,null,d_(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function d_(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function f_(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function kp(e,t){return e[_a]?e[r1][fr]=t:e[_a]=t,e[r1]=t,t}function vn(e=1){h_(dn(),Dt(),os()+e,!1)}function h_(e,t,n,r){if(!r)if((t[rt]&3)===3){let o=e.preOrderCheckHooks;o!==null&&wu(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Eu(t,o,0,n)}no(n)}var dc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(dc||{});function Nh(e,t,n,r){let i=gt(null);try{let[o,s,a]=e.inputs[n],l=null;(s&dc.SignalBased)!==0&&(l=t[o][Qn]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):iy(t,l,o,r)}finally{gt(i)}}function p_(e,t,n,r,i){let o=os(),s=r&2;try{no(-1),s&&t.length>hr&&h_(e,t,hr,!1),St(s?2:0,i),n(r,i)}finally{no(o),St(s?3:1,i)}}function Rp(e,t,n){CC(e,t,n),(n.flags&64)===64&&SC(e,t,n)}function m_(e,t,n=Rr){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function EC(e,t,n,r){let o=r.get(ZI,Jy)||n===kr.ShadowDom,s=e.selectRootElement(t,o);return DC(s),s}function DC(e){xC(e)}var xC=()=>null;function MC(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function g_(e,t,n,r,i,o,s,a){if(!a&&Np(t,e,n,r,i)){rs(t)&&IC(n,t.index);return}if(t.type&3){let l=Rr(t,n);r=MC(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(l,r,i)}else t.type&12}function IC(e,t){let n=Tr(t,e);n[rt]&16||(n[rt]|=64)}function CC(e,t,n){let r=n.directiveStart,i=n.directiveEnd;rs(n)&&wC(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ju(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=ba(t,e,s,n);if(Ta(l,t),o!==null&&RC(t,s-r,l,a,n,o),Sr(a)){let u=Tr(n.index,t);u[_n]=ba(t,e,s,n)}}}function SC(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=oI();try{no(o);for(let a=r;a<i;a++){let l=e.data[a],u=t[a];wh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&AC(l,u)}}finally{no(-1),wh(s)}}function AC(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function y_(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];lC(t,o.selectors,!1)&&(r??=[],Sr(o)?r.unshift(o):r.push(o))}return r}function TC(e,t,n,r,i,o){let s=Rr(e,t);kC(t[Jt],s,o,e.value,n,r,i)}function kC(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Xu(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function RC(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Nh(r,n,l,u)}}function NC(e,t){let n=e[Ji],r=n?n.get(ei,null):null;r&&r.handleError(t)}function Np(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],c=s[l+1],d=t.data[u];Nh(d,n[u],c,i),a=!0}if(o)for(let l of o){let u=n[l],c=t.data[l];Nh(c,u,r,i),a=!0}return a}function OC(e,t){let n=Tr(t,e),r=n[ut];PC(r,n);let i=n[ti];i!==null&&n[ku]===null&&(n[ku]=e_(i,n[Ji])),St(18),Op(r,n,n[_n]),St(19,n[_n])}function PC(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Op(e,t,n){pp(t);try{let r=e.viewQuery;r!==null&&Rh(1,r,n);let i=e.template;i!==null&&p_(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Jr]?.finishViewCreation(e),e.staticContentQueries&&t_(e,t),e.staticViewQueries&&Rh(2,e.viewQuery,n);let o=e.components;o!==null&&FC(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[rt]&=-5,mp()}}function FC(e,t){for(let n=0;n<t.length;n++)OC(e,t[n])}function __(e,t,n,r){let i=gt(null);try{let o=t.tView,a=e[rt]&4096?4096:16,l=Tp(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];l[Xi]=u;let c=e[Jr];return c!==null&&(l[Jr]=c.createEmbeddedView(o)),Op(o,l,n),l}finally{gt(i)}}function Oh(e,t){return!t||t.firstChild===null||Gy(e)}var LC;function Pp(e,t){return LC(e,t)}var xi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(xi||{});function v_(e){return(e.flags&32)===32}function qo(e,t,n,r,i){if(r!=null){let o,s=!1;ni(r)?o=r:Di(r)&&(s=!0,r=r[ti]);let a=Ar(r);e===0&&n!==null?i==null?u_(t,n,a):Hu(t,n,a,i||null,!0):e===1&&n!==null?Hu(t,n,a,i||null,!0):e===2?gC(t,a,s):e===3&&t.destroyNode(a),o!=null&&YC(t,e,o,n,i)}}function BC(e,t){b_(e,t),t[ti]=null,t[mr]=null}function jC(e,t,n,r,i,o){r[ti]=i,r[mr]=t,fc(e,r,n,1,i,o)}function b_(e,t){t[Kr].changeDetectionScheduler?.notify(9),fc(e,t,t[Jt],2,null,null)}function UC(e){let t=e[_a];if(!t)return ih(e[ut],e);for(;t;){let n=null;if(Di(t))n=t[_a];else{let r=t[Tn];r&&(n=r)}if(!n){for(;t&&!t[fr]&&t!==e;)Di(t)&&ih(t[ut],t),t=t[cn];t===null&&(t=e),Di(t)&&ih(t[ut],t),n=t&&t[fr]}t=n}}function Fp(e,t){let n=e[Jo],r=n.indexOf(t);n.splice(r,1)}function Lp(e,t){if(is(t))return;let n=t[Jt];n.destroyNode&&fc(e,t,n,3,null,null),UC(t)}function ih(e,t){if(is(t))return;let n=gt(null);try{t[rt]&=-129,t[rt]|=256,t[er]&&Tf(t[er]),zC(e,t),VC(e,t),t[ut].type===1&&t[Jt].destroy();let r=t[Xi];if(r!==null&&ni(t[cn])){r!==t[cn]&&Fp(r,t);let i=t[Jr];i!==null&&i.detachView(e)}Th(t)}finally{gt(n)}}function VC(e,t){let n=e.cleanup,r=t[Ru];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Ru]=null);let i=t[Ei];if(i!==null){t[Ei]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Nu];if(o!==null){t[Nu]=null;for(let s of o)s.destroy()}}function zC(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof ro)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];St(4,a,l);try{l.call(a)}finally{St(5,a,l)}}else{St(4,i,o);try{o.call(i)}finally{St(5,i,o)}}}}}function HC(e,t,n){return $C(e,t.parent,n)}function $C(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[ti];if(rs(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===kr.None||i===kr.Emulated)return null}return Rr(r,n)}function GC(e,t,n){return qC(e,t,n)}function WC(e,t,n){return e.type&40?Rr(e,n):null}var qC=WC,w1;function Bp(e,t,n,r){let i=HC(e,r,t),o=t[Jt],s=r.parent||t[mr],a=GC(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)b1(o,i,n[l],a,!1);else b1(o,i,n,a,!1);w1!==void 0&&w1(o,r,t,n,i)}function pa(e,t){if(t!==null){let n=t.type;if(n&3)return Rr(t,e);if(n&4)return Ph(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return pa(e,r);{let i=e[t.index];return ni(i)?Ph(-1,i):Ar(i)}}else{if(n&128)return pa(e,t.next);if(n&32)return Pp(t,e)()||Ar(e[t.index]);{let r=w_(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=to(e[Cr]);return pa(i,r)}else return pa(e,t.next)}}}return null}function w_(e,t){if(t!==null){let r=e[Cr][mr],i=t.projection;return r.projection[i]}return null}function Ph(e,t){let n=Tn+e+1;if(n<t.length){let r=t[n],i=r[ut].firstChild;if(i!==null)return pa(r,i)}return t[eo]}function jp(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&Ta(Ar(a),r),n.flags|=2),!v_(n))if(l&8)jp(e,t,n.child,r,i,o,!1),qo(t,e,i,a,o);else if(l&32){let u=Pp(n,r),c;for(;c=u();)qo(t,e,i,c,o);qo(t,e,i,a,o)}else l&16?ZC(e,t,r,n,i,o):qo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function fc(e,t,n,r,i,o){jp(n,r,e.firstChild,t,i,o,!1)}function ZC(e,t,n,r,i,o){let s=n[Cr],l=s[mr].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let c=l[u];qo(t,e,i,c,o)}else{let u=l,c=s[cn];Gy(r)&&(u.flags|=128),jp(e,t,u,c,i,o,!0)}}function YC(e,t,n,r,i){let o=n[eo],s=Ar(n);o!==s&&qo(t,e,r,o,i);for(let a=Tn;a<n.length;a++){let l=n[a];fc(l[ut],l,e,t,r,o)}}function QC(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:xi.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xi.Important),e.setStyle(n,r,i,o))}}function $u(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Ar(o)),ni(o)&&KC(o,r);let s=n.type;if(s&8)$u(e,t,n.child,r);else if(s&32){let a=Pp(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=w_(t,n);if(Array.isArray(a))r.push(...a);else{let l=to(t[Cr]);$u(l[ut],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function KC(e,t){for(let n=Tn;n<e.length;n++){let r=e[n],i=r[ut].firstChild;i!==null&&$u(r[ut],r,i,t)}e[eo]!==e[ti]&&t.push(e[eo])}function E_(e){if(e[th]!==null){for(let t of e[th])t.impl.addSequence(t);e[th].length=0}}var D_=[];function JC(e){return e[er]??XC(e)}function XC(e){let t=D_.pop()??Object.create(tS);return t.lView=e,t}function eS(e){e.lView[er]!==e&&(e.lView=null,D_.push(e))}var tS=Ae(he({},oa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ic(e.lView)},consumerOnSignalRead(){this.lView[er]=this}});function nS(e){let t=e[er]??Object.create(rS);return t.lView=e,t}var rS=Ae(he({},oa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=to(e.lView);for(;t&&!x_(t[ut]);)t=to(t);t&&dy(t)},consumerOnSignalRead(){this.lView[er]=this}});function x_(e){return e.type!==2}function M_(e){if(e[Nu]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Nu])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[rt]&8192)}}var iS=100;function I_(e,t=!0,n=0){let i=e[Kr].rendererFactory,o=!1;o||i.begin?.();try{oS(e,n)}catch(s){throw t&&NC(e,s),s}finally{o||i.end?.()}}function oS(e,t){let n=gy();try{o1(!0),Fh(e,t);let r=0;for(;rc(e);){if(r===iS)throw new $e(103,!1);r++,Fh(e,1)}}finally{o1(n)}}function sS(e,t,n,r){if(is(t))return;let i=t[rt],o=!1,s=!1;pp(t);let a=!0,l=null,u=null;o||(x_(e)?(u=JC(t),l=Hl(u)):xf()===null?(a=!1,u=nS(t),l=Hl(u)):t[er]&&(Tf(t[er]),t[er]=null));try{cy(t),tI(e.bindingStartIndex),n!==null&&p_(e,t,n,2,r);let c=(i&3)===3;if(!o)if(c){let h=e.preOrderCheckHooks;h!==null&&wu(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Eu(t,h,0,null),nh(t,0)}if(s||aS(t),M_(t),C_(t,0),e.contentQueries!==null&&t_(e,t),!o)if(c){let h=e.contentCheckHooks;h!==null&&wu(t,h)}else{let h=e.contentHooks;h!==null&&Eu(t,h,1),nh(t,1)}uS(e,t);let d=e.components;d!==null&&A_(t,d,0);let f=e.viewQuery;if(f!==null&&Rh(2,f,r),!o)if(c){let h=e.viewCheckHooks;h!==null&&wu(t,h)}else{let h=e.viewHooks;h!==null&&Eu(t,h,2),nh(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[eh]){for(let h of t[eh])h();t[eh]=null}o||(E_(t),t[rt]&=-73)}catch(c){throw o||ic(t),c}finally{u!==null&&(Sf(u,l),a&&eS(u)),mp()}}function C_(e,t){for(let n=Zy(e);n!==null;n=Yy(n))for(let r=Tn;r<n.length;r++){let i=n[r];S_(i,t)}}function aS(e){for(let t=Zy(e);t!==null;t=Yy(t)){if(!(t[rt]&2))continue;let n=t[Jo];for(let r=0;r<n.length;r++){let i=n[r];dy(i)}}}function lS(e,t,n){St(18);let r=Tr(t,e);S_(r,n),St(19,r[_n])}function S_(e,t){lp(e)&&Fh(e,t)}function Fh(e,t){let r=e[ut],i=e[rt],o=e[er],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Af(o)),s||=!1,o&&(o.dirty=!1),e[rt]&=-9217,s)sS(r,e,r.template,e[_n]);else if(i&8192){M_(e),C_(e,1);let a=r.components;a!==null&&A_(e,a,1),E_(e)}}function A_(e,t,n){for(let r=0;r<t.length;r++)lS(e,t[r],n)}function uS(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)no(~i);else{let o=i,s=n[++r],a=n[++r];iI(s,o);let l=t[o];St(24,l),a(2,l),St(25,l)}}}finally{no(-1)}}function Up(e,t){let n=gy()?64:1088;for(e[Kr].changeDetectionScheduler?.notify(t);e;){e[rt]|=n;let r=to(e);if(Pu(e)&&!r)return e;e=r}return null}function T_(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function cS(e,t){let n=Tn+t;if(n<e.length)return e[n]}function k_(e,t,n,r=!0){let i=t[ut];if(fS(i,t,e,n),r){let s=Ph(n,e),a=t[Jt],l=a.parentNode(e[eo]);l!==null&&jC(i,e[mr],a,t,l,s)}let o=t[ku];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function dS(e,t){let n=Gu(e,t);return n!==void 0&&Lp(n[ut],n),n}function Gu(e,t){if(e.length<=Tn)return;let n=Tn+t,r=e[n];if(r){let i=r[Xi];i!==null&&i!==e&&Fp(i,r),t>0&&(e[n-1][fr]=r[fr]);let o=Au(e,Tn+t);BC(r[ut],r);let s=o[Jr];s!==null&&s.detachView(o[ut]),r[cn]=null,r[fr]=null,r[rt]&=-129}return r}function fS(e,t,n,r){let i=Tn+r,o=n.length;r>0&&(n[i-1][fr]=t),r<o-Tn?(t[fr]=n[i],q1(n,Tn+r,t)):(n.push(t),t[fr]=null),t[cn]=n;let s=t[Xi];s!==null&&n!==s&&R_(s,t);let a=t[Jr];a!==null&&a.insertView(e),vh(t),t[rt]|=128}function R_(e,t){let n=e[Jo],r=t[cn];if(Di(r))e[rt]|=2;else{let i=r[cn][Cr];t[Cr]!==i&&(e[rt]|=2)}n===null?e[Jo]=[t]:n.push(t)}var Ea=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[ut];return $u(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[_n]}set context(t){this._lView[_n]=t}get destroyed(){return is(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[cn];if(ni(t)){let n=t[Ou],r=n?n.indexOf(this):-1;r>-1&&(Gu(t,r),Au(n,r))}this._attachedToViewContainer=!1}Lp(this._lView[ut],this._lView)}onDestroy(t){fy(this._lView,t)}markForCheck(){Up(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[rt]&=-129}reattach(){vh(this._lView),this._lView[rt]|=128}detectChanges(){this._lView[rt]|=1024,I_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Pu(this._lView),n=this._lView[Xi];n!==null&&!t&&Fp(n,this._lView),b_(this._lView[ut],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=t;let n=Pu(this._lView),r=this._lView[Xi];r!==null&&!n&&R_(r,this._lView),vh(this._lView)}};var Da=(()=>{class e{static __NG_ELEMENT_ID__=mS}return e})(),hS=Da,pS=class extends hS{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=__(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ea(i)}};function mS(){return Vp(kn(),Dt())}function Vp(e,t){return e.type&4?new pS(t,e,us(e,t)):null}function zp(e,t,n,r,i){let o=e.data[t];if(o===null)o=gS(e,t,n,r,i),rI()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=JM();o.injectorIndex=s===null?-1:s.injectorIndex}return Sa(o,!0),o}function gS(e,t,n,r,i){let o=py(),s=my(),a=s?o:o&&o.parent,l=e.data[t]=_S(e,a,n,t,r,i);return yS(e,l,o,s),l}function yS(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function _S(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return YM()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var b9=new RegExp(`^(\\d+)*(${qI}|${WI})*(.*)`);var vS=()=>null;function Lh(e,t){return vS(e,t)}var bS=class{},N_=class{},Bh=class{resolveComponentFactory(t){throw Error(`No component factory found for ${An(t)}.`)}},hc=class{static NULL=new Bh},Xo=class{},ri=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>wS()}return e})();function wS(){let e=Dt(),t=kn(),n=Tr(t.index,e);return(Di(n)?n:e)[Jt]}var ES=(()=>{class e{static \u0275prov=et({token:e,providedIn:"root",factory:()=>null})}return e})();var oh={},jh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ec(r);let i=this.injector.get(t,oh,r);return i!==oh||n===oh?i:this.parentInjector.get(t,n,r)}};function E1(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Q0(i,a);else if(o==2){let l=a,u=t[++s];r=Q0(r,l+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function xt(e,t=lt.Default){let n=Dt();if(n===null)return ct(e,t);let r=kn();return Oy(r,n,yn(e),t)}function O_(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a,l=null,u=null,c=xS(s);c===null?a=s:[a,l,u]=c,CS(e,t,n,a,o,l,u)}o!==null&&r!==null&&DS(n,r,o)}function DS(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new $e(-301,!1);r.push(t[i],o)}}function xS(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&Sr(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,MS(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function MS(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function IS(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function CS(e,t,n,r,i,o,s){let a=r.length,l=!1;for(let f=0;f<a;f++){let h=r[f];!l&&Sr(h)&&(l=!0,IS(e,n,f)),Dh(ju(n,t),e,h.type)}NS(n,e.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let u=!1,c=!1,d=f_(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(n.mergedAttrs=va(n.mergedAttrs,h.hostAttrs),AS(e,n,t,d,h),RS(d,h,i),s!==null&&s.has(h)){let[m,g]=s.get(h);n.directiveToIndex.set(h.type,[d,m+n.directiveStart,g+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),c=!0),d++}SS(e,n,o)}function SS(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))D1(0,t,i,r),D1(1,t,i,r),M1(t,r,!1);else{let o=n.get(i);x1(0,t,o,r),x1(1,t,o,r),M1(t,r,!0)}}}function D1(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),P_(t,o)}}function x1(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),P_(t,s)}}function P_(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function M1(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Sp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let u=i[l];for(let c of u)if(c===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let u=o[l];for(let c=0;c<u.length;c+=2)if(u[c]===t){s??=[],s.push(u[c+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function AS(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Yo(i.type,!0)),s=new ro(o,Sr(i),xt);e.blueprint[r]=s,n[r]=s,TS(e,t,r,f_(e,n,i.hostVars,Ci),i)}function TS(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;kS(s)!=a&&s.push(a),s.push(n,r,o)}}function kS(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function RS(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Sr(t)&&(n[""]=e)}}function NS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function F_(e,t,n,r,i,o,s,a){let l=t.consts,u=Fu(l,s),c=zp(t,e,2,r,u);return o&&O_(t,n,c,Fu(l,a),i),c.mergedAttrs=va(c.mergedAttrs,c.attrs),c.attrs!==null&&E1(c,c.attrs,!1),c.mergedAttrs!==null&&E1(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function L_(e,t){My(e,t),ry(t)&&e.queries.elementEnd(t)}var Wu=class extends hc{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Qo(t);return new xa(n,this.ngModule)}};function OS(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&dc.SignalBased)!==0};return i&&(o.transform=i),o})}function PS(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function FS(e,t,n){let r=t instanceof Fn?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new jh(n,r):n}function LS(e){let t=e.get(Xo,null);if(t===null)throw new $e(407,!1);let n=e.get(ES,null),r=e.get(wa,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function BS(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return l_(t,n,n==="svg"?ly:n==="math"?UM:null)}var xa=class extends N_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=OS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PS(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=fC(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){St(22);let o=gt(null);try{let s=this.componentDef,a=r?["ng-version","19.2.10"]:hC(this.componentDef.selectors[0]),l=Ap(0,null,null,1,0,null,null,null,null,[a],null),u=FS(s,i||this.ngModule,t),c=LS(u),d=c.rendererFactory.createRenderer(null,s),f=r?EC(d,r,s.encapsulation,u):BS(s,d),h=Tp(null,l,null,512|d_(s),null,null,c,d,u,null,e_(f,u,!0));h[hr]=f,pp(h);let p=null;try{let m=F_(hr,l,h,"#host",()=>[this.componentDef],!0,0);f&&(c_(d,f,m),Ta(f,h)),Rp(l,h,m),n_(l,m,h),L_(l,m),n!==void 0&&jS(m,this.ngContentSelectors,n),p=Tr(m.index,h),h[_n]=p[_n],Op(l,h,null)}catch(m){throw p!==null&&Th(p),Th(h),m}finally{St(23),mp()}return new Uh(this.componentType,h)}finally{gt(o)}}},Uh=class extends bS{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=ap(n[ut],hr),this.location=us(this._tNode,n),this.instance=Tr(this._tNode.index,n)[_n],this.hostView=this.changeDetectorRef=new Ea(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Np(r,i[ut],i,t,n);this.previousInputValues.set(t,n);let s=Tr(r.index,i);Up(s,1)}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function jS(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var cs=(()=>{class e{static __NG_ELEMENT_ID__=US}return e})();function US(){let e=kn();return j_(e,Dt())}var VS=cs,B_=class extends VS{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return us(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){let t=vp(this._hostTNode,this._hostLView);if(Sy(t)){let n=Bu(t,this._hostLView),r=Lu(t),i=n[ut].data[r+8];return new Qi(i,n)}else return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=I1(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Tn}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Lh(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Oh(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!FM(t),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new xa(Qo(t)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?u:this.parentInjector).get(Fn,null);m&&(o=m)}let c=Qo(l.componentType??{}),d=Lh(this._lContainer,c?.id??null),f=d?.firstChild??null,h=l.create(u,i,f,o);return this.insertImpl(h.hostView,a,Oh(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(zM(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[cn],u=new B_(l,l[mr],l[cn]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return k_(s,i,o,r),t.attachToViewContainerRef(),q1(sh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=I1(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Gu(this._lContainer,n);r&&(Au(sh(this._lContainer),n),Lp(r[ut],r))}detach(t){let n=this._adjustIndex(t,-1),r=Gu(this._lContainer,n);return r&&Au(sh(this._lContainer),n)!=null?new Ea(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function I1(e){return e[Ou]}function sh(e){return e[Ou]||(e[Ou]=[])}function j_(e,t){let n,r=t[e.index];return ni(r)?n=r:(n=T_(r,t,null,e),t[e.index]=n,kp(t,n)),HS(n,t,e,r),new B_(n,e,t)}function zS(e,t){let n=e[Jt],r=n.createComment(""),i=Rr(t,e),o=n.parentNode(i);return Hu(n,o,r,n.nextSibling(i),!1),r}var HS=WS,$S=()=>!1;function GS(e,t,n){return $S(e,t,n)}function WS(e,t,n,r){if(e[eo])return;let i;n.type&8?i=Ar(r):i=zS(t,n),e[eo]=i}var Vh=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},zh=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Hp(t,n).matches!==null&&this.queries[n].setDirty()}},qu=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=e5(t):this.predicate=t}},Hh=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},$h=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,qS(n,o)),this.matchTNodeWithReadOption(t,n,Du(n,t,o,!1,!1))}else r===Da?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Du(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gr||i===cs||i===Da&&n.type&4)this.addMatch(n.index,-2);else{let o=Du(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function qS(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function ZS(e,t){return e.type&11?us(e,t):e.type&4?Vp(e,t):null}function YS(e,t,n,r){return n===-1?ZS(t,e):n===-2?QS(e,t,r):ba(e,e[ut],n,t)}function QS(e,t,n){if(n===gr)return us(t,e);if(n===Da)return Vp(t,e);if(n===cs)return j_(t,e)}function U_(e,t,n,r){let i=t[Jr].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let c=o[u];a.push(YS(t,c,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Gh(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=U_(e,t,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],c=t[-l];for(let d=Tn;d<c.length;d++){let f=c[d];f[Xi]===f[cn]&&Gh(f[ut],f,u,r)}if(c[Jo]!==null){let d=c[Jo];for(let f=0;f<d.length;f++){let h=d[f];Gh(h[ut],h,u,r)}}}}}return r}function KS(e,t){return e[Jr].queries[t].queryList}function V_(e,t,n){let r=new Ah((n&4)===4);return GM(e,t,r,r.destroy),(t[Jr]??=new zh).queries.push(new Vh(r))-1}function JS(e,t,n){let r=dn();return r.firstCreatePass&&(z_(r,new qu(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),V_(r,Dt(),t)}function XS(e,t,n,r){let i=dn();if(i.firstCreatePass){let o=kn();z_(i,new qu(t,n,r),o.index),t5(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return V_(i,Dt(),n)}function e5(e){return e.split(",").map(t=>t.trim())}function z_(e,t,n){e.queries===null&&(e.queries=new Hh),e.queries.track(new $h(t,n))}function t5(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Hp(e,t){return e.queries.getByIndex(t)}function n5(e,t){let n=e[ut],r=Hp(n,t);return r.crossesNgTemplate?Gh(n,e,t,[]):U_(n,e,r,t)}var Ma=class{},$p=class{};var Wh=class extends Ma{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wu(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Q1(t);this._bootstrapComponents=s_(o.bootstrap),this._r3Injector=Ly(t,n,[{provide:Ma,useValue:this},{provide:hc,useValue:this.componentFactoryResolver},...r],An(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},qh=class extends $p{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Wh(this.moduleType,t,[])}};var Zu=class extends Ma{injector;componentFactoryResolver=new Wu(this);instance=null;constructor(t){super();let n=new ya([...t.providers,{provide:Ma,useValue:this},{provide:hc,useValue:this.componentFactoryResolver}],t.parent||op(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function pc(e,t,n=null){return new Zu({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var r5=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=K1(!1,n.type),i=r.length>0?pc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=et({token:e,providedIn:"environment",factory:()=>new e(ct(Fn))})}return e})();function fn(e){return Ku(()=>{let t=H_(e),n=Ae(he({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(r5).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||kr.Emulated,styles:e.styles||Xn,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&uc("NgStandalone"),$_(n);let r=e.dependencies;return n.directiveDefs=C1(r,!1),n.pipeDefs=C1(r,!0),n.id=l5(n),n})}function i5(e){return Qo(e)||DM(e)}function o5(e){return e!==null}function Si(e){return Ku(()=>({type:e.type,bootstrap:e.bootstrap||Xn,declarations:e.declarations||Xn,imports:e.imports||Xn,exports:e.exports||Xn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function s5(e,t){if(e==null)return Ki;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=dc.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function a5(e){if(e==null)return Ki;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ln(e){return Ku(()=>{let t=H_(e);return $_(t),t})}function H_(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Ki,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Xn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:s5(e.inputs,t),outputs:a5(e.outputs),debugInfo:null}}function $_(e){e.features?.forEach(t=>t(e))}function C1(e,t){if(!e)return null;let n=t?xM:i5;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(o5)}function l5(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function u5(e){return Object.getPrototypeOf(e.prototype).constructor}function so(e){let t=u5(e.type),n=!0,r=[e];for(;t;){let i;if(Sr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $e(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=ah(e.inputs),s.declaredInputs=ah(e.declaredInputs),s.outputs=ah(e.outputs);let a=i.hostBindings;a&&p5(e,a);let l=i.viewQuery,u=i.contentQueries;if(l&&f5(e,l),u&&h5(e,u),c5(e,i),eM(e.outputs,i.outputs),Sr(i)&&i.data.animation){let c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===so&&(n=!1)}}t=Object.getPrototypeOf(t)}d5(r)}function c5(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function d5(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=va(i.hostAttrs,n=va(n,i.hostAttrs))}}function ah(e){return e===Ki?{}:e===Xn?[]:e}function f5(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function h5(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function p5(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function m5(e,t,n){return e[t]=n}function g5(e,t){return e[t]}function ds(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function y5(e,t,n,r,i,o,s,a,l){let u=t.consts,c=zp(t,e,4,s||null,a||null);hy()&&O_(t,n,c,Fu(u,l),y_),c.mergedAttrs=va(c.mergedAttrs,c.attrs),My(t,c);let d=c.tView=Ap(2,c,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return t.queries!==null&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}function _5(e,t,n,r,i,o,s,a,l,u){let c=n+hr,d=t.firstCreatePass?y5(c,t,e,r,i,o,s,a,l):t.data[c];Sa(d,!1);let f=v5(t,e,d,n);yp()&&Bp(t,e,f,d),Ta(f,e);let h=T_(f,e,f,d);return e[c]=h,kp(e,h),GS(h,d,e),sp(d)&&Rp(t,e,d),l!=null&&m_(e,d,u),d}function mc(e,t,n,r,i,o,s,a){let l=Dt(),u=dn(),c=Fu(u.consts,o);return _5(l,u,e,t,n,r,i,c,s,a),mc}var v5=b5;function b5(e,t,n,r){return _p(!0),t[Jt].createComment("")}var G_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var W_=new Ge("");var w5=(()=>{class e{static \u0275prov=et({token:e,providedIn:"root",factory:()=>new Zh})}return e})(),Zh=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function fs(e){return!!e&&typeof e.then=="function"}function E5(e){return!!e&&typeof e.subscribe=="function"}var D5=new Ge("");var q_=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Re(D5,{optional:!0})??[];injector=Re(Xr);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=pr(this.injector,i);if(fs(o))n.push(o);else if(E5(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gp=new Ge("");function x5(){Rf(()=>{throw new $e(600,!1)})}function M5(e){return e.isBoundToModule}var I5=10;var io=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Re(OI);afterRenderManager=Re(YI);zonelessEnabled=Re(wp);rootEffectScheduler=Re(w5);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Vt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Re(ls).hasPendingTasks.pipe(_t(n=>!n));constructor(){Re(lc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Re(Fn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Xr.NULL){St(10);let o=n instanceof N_;if(!this._injector.get(q_).done){let h="";throw new $e(405,h)}let a;o?a=n:a=this._injector.get(hc).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=M5(a)?void 0:this._injector.get(Ma),u=r||a.selector,c=a.create(i,[],u,l),d=c.location.nativeElement,f=c.injector.get(W_,null);return f?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),xu(this.components,c),f?.unregisterApplication(d)}),this._loadComponent(c),St(11,c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){St(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Xy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $e(101,!1);let n=gt(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,gt(n),this.afterTick.next(),St(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<I5;)St(14),this.synchronizeOnce(),St(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)C5(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>rc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;xu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Gp,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>xu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $e(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xu(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function C5(e,t,n,r){if(!n&&!rc(e))return;I_(e,t,n&&!r?0:1)}function gc(e,t,n,r){let i=Dt(),o=Aa();if(ds(i,o,t)){let s=dn(),a=gp();TC(a,i,e,t,n,r)}return gc}function S5(e,t,n,r){return ds(e,Aa(),n)?t+Xu(n)+r:Ci}function vu(e,t){return e<<17|t<<2}function oo(e){return e>>17&32767}function A5(e){return(e&2)==2}function T5(e,t){return e&131071|t<<17}function Yh(e){return e|2}function es(e){return(e&131068)>>2}function lh(e,t){return e&-131069|t<<2}function k5(e){return(e&1)===1}function Qh(e){return e|1}function R5(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=oo(s),l=es(s);e[r]=n;let u=!1,c;if(Array.isArray(n)){let d=n;c=d[1],(c===null||Ca(d,c)>0)&&(u=!0)}else c=n;if(i)if(l!==0){let f=oo(e[a+1]);e[r+1]=vu(f,a),f!==0&&(e[f+1]=lh(e[f+1],r)),e[a+1]=T5(e[a+1],r)}else e[r+1]=vu(a,0),a!==0&&(e[a+1]=lh(e[a+1],r)),a=r;else e[r+1]=vu(l,0),a===0?a=r:e[l+1]=lh(e[l+1],r),l=r;u&&(e[r+1]=Yh(e[r+1])),S1(e,c,r,!0),S1(e,c,r,!1),N5(t,c,e,r,o),s=vu(a,l),o?t.classBindings=s:t.styleBindings=s}function N5(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ca(o,t)>=0&&(n[r+1]=Qh(n[r+1]))}function S1(e,t,n,r){let i=e[n+1],o=t===null,s=r?oo(i):es(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],u=e[s+1];O5(l,t)&&(a=!0,e[s+1]=r?Qh(u):Yh(u)),s=r?oo(u):es(u)}a&&(e[n+1]=r?Yh(i):Qh(i))}function O5(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ca(e,t)>=0:!1}function ao(e,t,n){let r=Dt(),i=Aa();if(ds(r,i,t)){let o=dn(),s=gp();g_(o,s,r,e,t,r[Jt],n,!1)}return ao}function A1(e,t,n,r,i){Np(t,e,n,i?"class":"style",r)}function Wp(e,t){return P5(e,t,null,!0),Wp}function P5(e,t,n,r){let i=Dt(),o=dn(),s=nI(2);if(o.firstUpdatePass&&L5(o,e,s,r),t!==Ci&&ds(i,s,t)){let a=o.data[os()];z5(o,a,i,i[Jt],e,i[s+1]=H5(t,n),r,s)}}function F5(e,t){return t>=e.expandoStartIndex}function L5(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[os()],s=F5(e,n);$5(o,r)&&t===null&&!s&&(t=!1),t=B5(i,o,t,r),R5(i,o,t,n,s,r)}}function B5(e,t,n,r){let i=sI(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=uh(null,e,t,n,r),n=Ia(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=uh(i,e,t,n,r),o===null){let l=j5(e,t,r);l!==void 0&&Array.isArray(l)&&(l=uh(null,e,t,l[1],r),l=Ia(l,t.attrs,r),U5(e,t,r,l))}else o=V5(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function j5(e,t,n){let r=n?t.classBindings:t.styleBindings;if(es(r)!==0)return e[oo(r)]}function U5(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[oo(i)]=r}function V5(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ia(r,s,n)}return Ia(r,t.attrs,n)}function uh(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Ia(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Ia(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),wM(e,s,n?!0:t[++o]))}return e===void 0?null:e}function z5(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,u=l[a+1],c=k5(u)?T1(l,t,n,i,es(u),s):void 0;if(!Yu(c)){Yu(o)||A5(u)&&(o=T1(l,null,n,i,a,s));let d=uy(os(),n);QC(r,s,d,i,o)}}function T1(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=c===null,f=n[i+1];f===Ci&&(f=d?Xn:void 0);let h=d?Jf(f,r):c===r?f:void 0;if(u&&!Yu(h)&&(h=Jf(l,r)),Yu(h)&&(a=h,s))return a;let p=e[i+1];i=s?oo(p):es(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Jf(l,r))}return a}function Yu(e){return e!==void 0}function H5(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=An(Ip(e)))),e}function $5(e,t){return(e.flags&(t?8:16))!==0}function qp(e,t){uc("NgControlFlow");let n=Dt(),r=Aa(),i=n[r]!==Ci?n[r]:-1,o=i!==-1?k1(n,hr+i):void 0,s=0;if(ds(n,r,e)){let a=gt(null);try{if(o!==void 0&&dS(o,s),e!==-1){let l=hr+e,u=k1(n,l),c=G5(n[ut],l),d=Lh(u,c.tView.ssrId),f=__(n,c,t,{dehydratedView:d});k_(u,f,s,Oh(c,d))}}finally{gt(a)}}else if(o!==void 0){let a=cS(o,s);a!==void 0&&(a[_n]=t)}}function k1(e,t){return e[t]}function G5(e,t){return ap(e,t)}function Ze(e,t,n,r){let i=Dt(),o=dn(),s=hr+e,a=i[Jt],l=o.firstCreatePass?F_(s,o,i,t,y_,hy(),n,r):o.data[s],u=W5(o,i,l,a,t,e);i[s]=u;let c=sp(l);return Sa(l,!0),c_(a,u,l),!v_(l)&&yp()&&Bp(o,i,u,l),(WM()===0||c)&&Ta(u,i),qM(),c&&(Rp(o,i,l),n_(o,l,i)),r!==null&&m_(i,l),Ze}function Ye(){let e=kn();my()?XM():(e=e.parent,Sa(e,!1));let t=e;QM(t)&&KM(),ZM();let n=dn();return n.firstCreatePass&&L_(n,t),t.classesWithoutHost!=null&&hI(t)&&A1(n,t,Dt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&pI(t)&&A1(n,t,Dt(),t.stylesWithoutHost,!1),Ye}function At(e,t,n,r){return Ze(e,t,n,r),Ye(),At}var W5=(e,t,n,r,i,o)=>(_p(!0),l_(r,i,cI()));function Z_(){return Dt()}var Qu="en-US";var q5=Qu;function Z5(e){typeof e=="string"&&(q5=e.toLowerCase().replace(/_/g,"-"))}function R1(e,t,n){return function r(i){if(i===Function)return n;let o=rs(e)?Tr(e.index,t):t;Up(o,5);let s=t[_n],a=N1(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=N1(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function N1(e,t,n,r){let i=gt(null);try{return St(6,t,n),n(r)!==!1}catch(o){return Y5(e,o),!1}finally{St(7,t,n),gt(i)}}function Y5(e,t){let n=e[Ji],r=n?n.get(ei,null):null;r&&r.handleError(t)}function O1(e,t,n,r,i,o){let s=t[n],a=t[ut],u=a.data[n].outputs[r],c=s[u],d=a.firstCreatePass?cp(a):null,f=up(t),h=c.subscribe(o),p=f.length;f.push(o,h),d&&d.push(i,e.index,p,-(p+1))}var Q5=new Map;function an(e,t,n,r){let i=Dt(),o=dn(),s=kn();return Y_(o,i,i[Jt],s,e,t,r),an}function K5(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Ru],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Y_(e,t,n,r,i,o,s){let a=sp(r),u=e.firstCreatePass?cp(e):null,c=up(t),d=!0;if(r.type&3||s){let f=Rr(r,t),h=s?s(f):f,p=c.length,m=s?v=>s(Ar(v[r.index])):r.index,g=null;if(!s&&a&&(g=K5(e,t,i,r.index)),g!==null){let v=g.__ngLastListenerFn__||g;v.__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,d=!1}else{o=R1(r,t,o);let v=t[Ji].get(ac);Q5.get(v)?.(h,i,o);let w=n.listen(h,i,o);c.push(o,w),u&&u.push(i,m,p,p+1)}}else o=R1(r,t,o);if(d){let f=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],g=h[p+1];O1(r,t,m,g,i,o)}if(f&&f.length)for(let p of f)O1(r,t,p,i,i,o)}}function Zp(e=1){return lI(e)}function Q_(e,t,n,r){XS(e,t,n,r)}function K_(e,t,n){JS(e,t,n)}function yc(e){let t=Dt(),n=dn(),r=yy();hp(r+1);let i=Hp(n,r);if(e.dirty&&VM(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=n5(t,r);e.reset(o,LI),e.notifyOnChanges()}return!0}return!1}function _c(){return KS(Dt(),yy())}function Mt(e,t=""){let n=Dt(),r=dn(),i=e+hr,o=r.firstCreatePass?zp(r,i,1,t,null):r.data[i],s=J5(r,n,o,t,e);n[i]=s,yp()&&Bp(r,n,s,o),Sa(o,!1)}var J5=(e,t,n,r,i)=>(_p(!0),pC(t[Jt],r));function Ra(e){return J_("",e,""),Ra}function J_(e,t,n){let r=Dt(),i=S5(r,e,t,n);return i!==Ci&&X5(r,os(),i),J_}function X5(e,t,n){let r=uy(t,e);mC(e[Jt],r,n)}function lo(e,t,n){$y(t)&&(t=t());let r=Dt(),i=Aa();if(ds(r,i,t)){let o=dn(),s=gp();g_(o,s,r,e,t,r[Jt],n,!1)}return lo}function hs(e,t){let n=$y(e);return n&&e.set(t),n}function uo(e,t){let n=Dt(),r=dn(),i=kn();return Y_(r,n,n[Jt],i,e,t),uo}function eA(e,t,n){let r=dn();if(r.firstCreatePass){let i=Sr(e);Kh(n,r.data,r.blueprint,i,!0),Kh(t,r.data,r.blueprint,i,!1)}}function Kh(e,t,n,r,i){if(e=yn(e),Array.isArray(e))for(let o=0;o<e.length;o++)Kh(e[o],t,n,r,i);else{let o=dn(),s=Dt(),a=kn(),l=Ko(e)?e:yn(e.provide),u=ey(e),c=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ko(e)||!e.multi){let h=new ro(u,i,xt),p=dh(l,t,i?c:c+f,d);p===-1?(Dh(ju(a,s),o,l),ch(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=dh(l,t,c+f,d),p=dh(l,t,c,c+f),m=h>=0&&n[h],g=p>=0&&n[p];if(i&&!g||!i&&!m){Dh(ju(a,s),o,l);let v=rA(i?nA:tA,n.length,i,r,u);!i&&g&&(n[p].providerFactory=v),ch(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else{let v=X_(n[i?p:h],u,!i&&r);ch(o,e,h>-1?h:p,v)}!i&&r&&g&&n[p].componentProviders++}}}function ch(e,t,n,r){let i=Ko(t),o=AM(t);if(i||o){let l=(o?yn(t.useClass):t).prototype.ngOnDestroy;if(l){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let c=u.indexOf(n);c===-1?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function X_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function dh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function tA(e,t,n,r,i){return Jh(this.multi,[])}function nA(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=ba(r,r[ut],this.providerFactory.index,i);s=l.slice(0,a),Jh(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],Jh(o,s);return s}function Jh(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function rA(e,t,n,r,i){let o=new ro(e,n,xt);return o.multi=[],o.index=t,o.componentProviders=0,X_(o,i,r&&!n),o}function vc(e,t=[]){return n=>{n.providersResolver=(r,i)=>eA(r,i?i(e):e,t)}}function ev(e,t,n){let r=eI()+e,i=Dt();return i[r]===Ci?m5(i,r,n?t.call(n):t()):g5(i,r)}var Xh=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},tv=(()=>{class e{compileModuleSync(n){return new qh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Q1(n),o=s_(i.declarations).reduce((s,a)=>{let l=Qo(a);return l&&s.push(new xa(l)),s},[]);return new Xh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var iA=(()=>{class e{zone=Re(tn);changeDetectionScheduler=Re(wa);applicationRef=Re(io);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),oA=new Ge("",{factory:()=>!1});function nv({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new tn(Ae(he({},iv()),{scheduleInRootZone:n})),[{provide:tn,useFactory:e},{provide:ga,multi:!0,useFactory:()=>{let r=Re(iA,{optional:!0});return()=>r.initialize()}},{provide:ga,multi:!0,useFactory:()=>{let r=Re(sA);return()=>{r.initialize()}}},t===!0?{provide:jy,useValue:!0}:[],{provide:Uy,useValue:n??By}]}function rv(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=nv({ngZoneFactory:()=>{let i=iv(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&uc("NgZone_CoalesceEvent"),new tn(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return rp([{provide:oA,useValue:!0},{provide:wp,useValue:!1},r])}function iv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var sA=(()=>{class e{subscription=new $t;initialized=!1;zone=Re(tn);pendingTasks=Re(ls);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{tn.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{tn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var aA=(()=>{class e{appRef=Re(io);taskService=Re(ls);ngZone=Re(tn);zonelessEnabled=Re(wp);tracing=Re(lc,{optional:!0});disableScheduling=Re(jy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $t;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Re(Uy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Sh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?f1:Vy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,f1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lA(){return typeof $localize<"u"&&$localize.locale||Qu}var ov=new Ge("",{providedIn:"root",factory:()=>Re(ov,lt.Optional|lt.SkipSelf)||lA()});var ep=new Ge(""),uA=new Ge("");function fa(e){return!e.moduleRef}function cA(e){let t=fa(e)?e.r3Injector:e.moduleRef.injector,n=t.get(tn);return n.run(()=>{fa(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ei,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),fa(e)){let o=()=>t.destroy(),s=e.platformInjector.get(ep);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(ep);s.add(o),e.moduleRef.onDestroy(()=>{xu(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return fA(r,n,()=>{let o=t.get(q_);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(ov,Qu);if(Z5(s||Qu),!t.get(uA,!0))return fa(e)?t.get(io):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(fa(e)){let l=t.get(io);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return dA(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function dA(e,t){let n=e.injector.get(io);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new $e(-403,!1);t.push(e)}function fA(e,t,n){try{let r=n();return fs(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Mu=null;function hA(e=[],t){return Xr.create({name:t,providers:[{provide:tc,useValue:"platform"},{provide:ep,useValue:new Set([()=>Mu=null])},...e]})}function pA(e=[]){if(Mu)return Mu;let t=hA(e);return Mu=t,x5(),mA(t),t}function mA(e){let t=e.get(xp,null);pr(e,()=>{t?.forEach(n=>n())})}var co=(()=>{class e{static __NG_ELEMENT_ID__=gA}return e})();function gA(e){return yA(kn(),Dt(),(e&16)===16)}function yA(e,t,n){if(rs(e)&&!n){let r=Tr(e.index,t);return new Ea(r,r)}else if(e.type&175){let r=t[Cr];return new Ea(r,t)}return null}function sv(e){St(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=pA(r),o=[nv({}),{provide:wa,useExisting:aA},...n||[]],s=new Zu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return cA({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{St(9)}}function ps(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function fo(e){return Pf(e)}function bc(e,t){return kf(e,t?.equal)}var P1=class{[Qn];constructor(t){this[Qn]=t}destroy(){this[Qn].destroy()}};var hn=new Ge("");var uv=null;function tr(){return uv}function Yp(e){uv??=e}var Na=class{},Qp=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Re(cv),providedIn:"platform"})}return e})();var cv=(()=>{class e extends Qp{_location;_history;_doc=Re(hn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(n){let r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=tr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function dv(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function av(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Ai(e){return e&&e[0]!=="?"?`?${e}`:e}var ms=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Re(hv),providedIn:"root"})}return e})(),fv=new Ge(""),hv=(()=>{class e extends ms{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Re(hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return dv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ai(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ai(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ct(Qp),ct(fv,8))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gs=(()=>{class e{_subject=new Vt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=bA(av(lv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ai(r))}normalize(n){return e.stripTrailingSlash(vA(this._basePath,lv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ai(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ai;static joinWithSlash=dv;static stripTrailingSlash=av;static \u0275fac=function(r){return new(r||e)(ct(ms))};static \u0275prov=et({token:e,factory:()=>_A(),providedIn:"root"})}return e})();function _A(){return new gs(ct(ms))}function vA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function lv(e){return e.replace(/\/index.html$/,"")}function bA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var wc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Si({type:e});static \u0275inj=Mi({})}return e})();function Kp(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Jp="browser",pv="server";function Ec(e){return e===pv}var Oa=class{};var Mc=new Ge(""),nm=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new $e(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(ct(Mc),ct(tn))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),Pa=class{_doc;constructor(t){this._doc=t}manager},Dc="ng-app-id";function mv(e){for(let t of e)t.remove()}function gv(e,t){let n=t.createElement("style");return n.textContent=e,n}function DA(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Dc}="${t}"],link[${Dc}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Dc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function em(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var rm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Ec(o),DA(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,gv);r?.forEach(i=>this.addUsage(i,this.external,em))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(mv(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])mv(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,gv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,em(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Dc,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(ct(hn),ct(ac),ct(Mp,8),ct(ka))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),Xp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},im=/%COMP%/g;var _v="%COMP%",xA=`_nghost-${_v}`,MA=`_ngcontent-${_v}`,IA=!0,CA=new Ge("",{providedIn:"root",factory:()=>IA});function SA(e){return MA.replace(im,e)}function AA(e){return xA.replace(im,e)}function vv(e,t){return t.map(n=>n.replace(im,e))}var om=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,u=null,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=c,this.platformIsServer=Ec(a),this.defaultRenderer=new Fa(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kr.ShadowDom&&(r=Ae(he({},r),{encapsulation:kr.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof xc?i.applyToHost(n):i instanceof La&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case kr.Emulated:o=new xc(l,u,r,this.appId,c,s,a,d,f);break;case kr.ShadowDom:return new tm(l,u,n,r,s,a,this.nonce,d,f);default:o=new La(l,u,r,c,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(ct(nm),ct(rm),ct(ac),ct(CA),ct(hn),ct(ka),ct(tn),ct(Mp),ct(lc,8))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),Fa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Xp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(yv(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(yv(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new $e(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Xp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Xp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(xi.DashCase|xi.Important)?t.style.setProperty(n,r,i&xi.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&xi.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=tr().getGlobalEventTarget(this.doc,t),!t))throw new $e(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function yv(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var tm=class extends Fa{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,u){super(t,o,s,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=i.styles;c=vv(i.id,c);for(let f of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=em(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},La=class extends Fa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,u){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let c=r.styles;this.styles=u?vv(u,c):c,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},xc=class extends La{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,u){let c=i+"-"+r.id;super(t,n,r,o,s,a,l,u,c),this.contentAttr=SA(c),this.hostAttr=AA(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ic=class e extends Na{supportsDOMEvents=!0;static makeCurrent(){Yp(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=TA();return n==null?null:kA(n)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Kp(document.cookie,t)}},Ba=null;function TA(){return Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null}function kA(e){return new URL(e,document.baseURI).pathname}var RA=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),wv=(()=>{class e extends Pa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(ct(hn))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),bv=["alt","control","meta","shift"],NA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Ev=(()=>{class e extends Pa{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),bv.forEach(u=>{let c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=NA[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),bv.forEach(s=>{if(s!==i){let a=OA[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(ct(hn))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();function sm(e,t){return sv(he({rootComponent:e},PA(t)))}function PA(e){return{appProviders:[...UA,...e?.providers??[]],platformProviders:jA}}function FA(){Ic.makeCurrent()}function LA(){return new ei}function BA(){return Ky(document),document}var jA=[{provide:ka,useValue:Jp},{provide:xp,useValue:FA,multi:!0},{provide:hn,useFactory:BA}];var UA=[{provide:tc,useValue:"root"},{provide:ei,useFactory:LA},{provide:Mc,useClass:wv,multi:!0,deps:[hn]},{provide:Mc,useClass:Ev,multi:!0,deps:[hn]},om,rm,nm,{provide:Xo,useExisting:om},{provide:Oa,useClass:RA},[]];var Dv=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(ct(hn))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var it="primary",Ja=Symbol("RouteTitle"),dm=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function mo(e){return new dm(e)}function kv(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function zA(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Nr(e[n],t[n]))return!1;return!0}function Nr(e,t){let n=e?fm(e):void 0,r=t?fm(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Rv(e[i],t[i]))return!1;return!0}function fm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Rv(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function Nv(e){return e.length>0?e[e.length-1]:null}function Ri(e){return Wf(e)?e:fs(e)?Pt(Promise.resolve(e)):tt(e)}var HA={exact:Pv,subset:Fv},Ov={exact:$A,subset:GA,ignored:()=>!0};function xv(e,t,n){return HA[n.paths](e.root,t.root,n.matrixParams)&&Ov[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function $A(e,t){return Nr(e,t)}function Pv(e,t,n){if(!ho(e.segments,t.segments)||!Ac(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Pv(e.children[r],t.children[r],n))return!1;return!0}function GA(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Rv(e[n],t[n]))}function Fv(e,t,n){return Lv(e,t,t.segments,n)}function Lv(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!ho(i,n)||t.hasChildren()||!Ac(i,n,r))}else if(e.segments.length===n.length){if(!ho(e.segments,n)||!Ac(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!Fv(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!ho(e.segments,i)||!Ac(e.segments,i,r)||!e.children[it]?!1:Lv(e.children[it],t,o,r)}}function Ac(e,t,n){return t.every((r,i)=>Ov[n](e[i].parameters,r.parameters))}var Pr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new wt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){return ZA.serialize(this)}},wt=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tc(this)}},Ti=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=mo(this.parameters),this._parameterMap}toString(){return jv(this)}};function WA(e,t){return ho(e,t)&&e.every((n,r)=>Nr(n.parameters,t[r].parameters))}function ho(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function qA(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===it&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==it&&(n=n.concat(t(i,r)))}),n}var Xa=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>new go,providedIn:"root"})}return e})(),go=class{parse(t){let n=new pm(t);return new Pr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${ja(t.root,!0)}`,r=KA(t.queryParams),i=typeof t.fragment=="string"?`#${YA(t.fragment)}`:"";return`${n}${r}${i}`}},ZA=new go;function Tc(e){return e.segments.map(t=>jv(t)).join("/")}function ja(e,t){if(!e.hasChildren())return Tc(e);if(t){let n=e.children[it]?ja(e.children[it],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==it&&r.push(`${i}:${ja(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qA(e,(r,i)=>i===it?[ja(e.children[it],!1)]:[`${i}:${ja(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[it]!=null?`${Tc(e)}/${n[0]}`:`${Tc(e)}/(${n.join("//")})`}}function Bv(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cc(e){return Bv(e).replace(/%3B/gi,";")}function YA(e){return encodeURI(e)}function hm(e){return Bv(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kc(e){return decodeURIComponent(e)}function Mv(e){return kc(e.replace(/\+/g,"%20"))}function jv(e){return`${hm(e.path)}${QA(e.parameters)}`}function QA(e){return Object.entries(e).map(([t,n])=>`;${hm(t)}=${hm(n)}`).join("")}function KA(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Cc(n)}=${Cc(i)}`).join("&"):`${Cc(n)}=${Cc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var JA=/^[^\/()?;#]+/;function am(e){let t=e.match(JA);return t?t[0]:""}var XA=/^[^\/()?;=#]+/;function eT(e){let t=e.match(XA);return t?t[0]:""}var tT=/^[^=?&#]+/;function nT(e){let t=e.match(tT);return t?t[0]:""}var rT=/^[^&#]+/;function iT(e){let t=e.match(rT);return t?t[0]:""}var pm=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[it]=new wt(t,n)),r}parseSegment(){let t=am(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new $e(4009,!1);return this.capture(t),new Ti(kc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=eT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=am(this.remaining);i&&(r=i,this.capture(r))}t[kc(n)]=kc(r)}parseQueryParam(t){let n=nT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=iT(this.remaining);s&&(r=s,this.capture(r))}let i=Mv(n),o=Mv(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=am(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $e(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=it);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[it]:new wt([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new $e(4011,!1)}};function Uv(e){return e.segments.length>0?new wt([],{[it]:e}):e}function Vv(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=Vv(i);if(r===it&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new wt(e.segments,t);return oT(n)}function oT(e){if(e.numberOfChildren===1&&e.children[it]){let t=e.children[it];return new wt(e.segments.concat(t.segments),t.children)}return e}function ki(e){return e instanceof Pr}function zv(e,t,n=null,r=null){let i=Hv(e);return $v(i,t,n,r)}function Hv(e){let t;function n(o){let s={};for(let l of o.children){let u=n(l);s[l.outlet]=u}let a=new wt(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=Uv(r);return t??i}function $v(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return lm(i,i,i,n,r);let o=sT(t);if(o.toRoot())return lm(i,i,new wt([],{}),n,r);let s=aT(o,i,e),a=s.processChildren?Va(s.segmentGroup,s.index,o.commands):Wv(s.segmentGroup,s.index,o.commands);return lm(i,s.segmentGroup,a,n,r)}function Nc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ha(e){return typeof e=="object"&&e!=null&&e.outlets}function lm(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let s;e===t?s=n:s=Gv(e,t,n);let a=Uv(Vv(s));return new Pr(a,o,i)}function Gv(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Gv(o,t,n)}),new wt(e.segments,r)}var Oc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Nc(r[0]))throw new $e(4003,!1);let i=r.find(Ha);if(i&&i!==Nv(r))throw new $e(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sT(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Oc(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Oc(n,t,r)}var vs=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function aT(e,t,n){if(e.isAbsolute)return new vs(t,!0,0);if(!n)return new vs(t,!1,NaN);if(n.parent===null)return new vs(n,!0,0);let r=Nc(e.commands[0])?0:1,i=n.segments.length-1+r;return lT(n,i,e.numberOfDoubleDots)}function lT(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $e(4005,!1);i=r.segments.length}return new vs(r,!1,i-o)}function uT(e){return Ha(e[0])?e[0].outlets:{[it]:e}}function Wv(e,t,n){if(e??=new wt([],{}),e.segments.length===0&&e.hasChildren())return Va(e,t,n);let r=cT(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new wt(e.segments.slice(0,r.pathIndex),{});return o.children[it]=new wt(e.segments.slice(r.pathIndex),e.children),Va(o,0,i)}else return r.match&&i.length===0?new wt(e.segments,{}):r.match&&!e.hasChildren()?mm(e,t,n):r.match?Va(e,0,i):mm(e,t,n)}function Va(e,t,n){if(n.length===0)return new wt(e.segments,{});{let r=uT(n),i={};if(Object.keys(r).some(o=>o!==it)&&e.children[it]&&e.numberOfChildren===1&&e.children[it].segments.length===0){let o=Va(e.children[it],t,n);return new wt(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Wv(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new wt(e.segments,i)}}function cT(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(Ha(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!Cv(l,u,s))return o;r+=2}else{if(!Cv(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mm(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Ha(o)){let l=dT(o.outlets);return new wt(r,l)}if(i===0&&Nc(n[0])){let l=e.segments[t];r.push(new Ti(l.path,Iv(n[0]))),i++;continue}let s=Ha(o)?o.outlets[it]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Nc(a)?(r.push(new Ti(s,Iv(a))),i+=2):(r.push(new Ti(s,{})),i++)}return new wt(r,{})}function dT(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=mm(new wt([],{}),0,r))}),t}function Iv(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Cv(e,t,n){return e==n.path&&Nr(t,n.parameters)}var Rc="imperative",nn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(nn||{}),jn=class{id;url;constructor(t,n){this.id=t,this.url=n}},yo=class extends jn{type=nn.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_r=class extends jn{urlAfterRedirects;type=nn.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Rn||{}),$a=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}($a||{}),Or=class extends jn{reason;code;type=nn.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ii=class extends jn{reason;code;type=nn.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},ws=class extends jn{error;target;type=nn.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ga=class extends jn{urlAfterRedirects;state;type=nn.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pc=class extends jn{urlAfterRedirects;state;type=nn.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fc=class extends jn{urlAfterRedirects;state;shouldActivate;type=nn.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lc=class extends jn{urlAfterRedirects;state;type=nn.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bc=class extends jn{urlAfterRedirects;state;type=nn.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jc=class{route;type=nn.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Uc=class{route;type=nn.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vc=class{snapshot;type=nn.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zc=class{snapshot;type=nn.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hc=class{snapshot;type=nn.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$c=class{snapshot;type=nn.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Wa=class{},Es=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function fT(e,t){return e.providers&&!e._injector&&(e._injector=pc(e.providers,t,`Route: ${e.path}`)),e._injector??t}function yr(e){return e.outlet||it}function hT(e,t){let n=e.filter(r=>yr(r)===t);return n.push(...e.filter(r=>yr(r)!==t)),n}function el(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Gc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return el(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ms(this.rootInjector)}},Ms=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Gc(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(ct(Fn))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=gm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=gm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=ym(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return ym(t,this._root).map(n=>n.value)}};function gm(e,t){if(e===t.value)return t;for(let n of t.children){let r=gm(e,n);if(r)return r}return null}function ym(e,t){if(e===t.value)return[t];for(let n of t.children){let r=ym(e,n);if(r.length)return r.unshift(t),r}return[]}var Bn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function _s(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var qa=class extends Wc{snapshot;constructor(t,n){super(t),this.snapshot=n,Mm(this,t)}toString(){return this.snapshot.toString()}};function qv(e){let t=pT(e),n=new on([new Ti("",{})]),r=new on({}),i=new on({}),o=new on({}),s=new on(""),a=new oi(n,r,o,s,i,it,e,t.root);return a.snapshot=t.root,new qa(new Bn(a,[]),t)}function pT(e){let t={},n={},r={},i="",o=new po([],t,r,i,n,it,e,null,{});return new Za("",new Bn(o,[]))}var oi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(_t(u=>u[Ja]))??tt(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_t(t=>mo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_t(t=>mo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qc(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:he(he({},t.params),e.params),data:he(he({},t.data),e.data),resolve:he(he(he(he({},e.data),t.data),i?.data),e._resolvedData)}:r={params:he({},e.params),data:he({},e.data),resolve:he(he({},e.data),e._resolvedData??{})},i&&Yv(i)&&(r.resolve[Ja]=i.title),r}var po=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ja]}constructor(t,n,r,i,o,s,a,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Za=class extends Wc{url;constructor(t,n){super(n),this.url=t,Mm(this,n)}toString(){return Zv(this._root)}};function Mm(e,t){t.value._routerState=e,t.children.forEach(n=>Mm(e,n))}function Zv(e){let t=e.children.length>0?` { ${e.children.map(Zv).join(", ")} } `:"";return`${e.value}${t}`}function um(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Nr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Nr(t.params,n.params)||e.paramsSubject.next(n.params),zA(t.url,n.url)||e.urlSubject.next(n.url),Nr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function _m(e,t){let n=Nr(e.params,t.params)&&WA(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||_m(e.parent,t.parent))}function Yv(e){return typeof e.title=="string"||e.title===null}var Qv=new Ge(""),tl=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=it;activateEvents=new Kt;deactivateEvents=new Kt;attachEvents=new Kt;detachEvents=new Kt;routerOutletData=Hy(void 0);parentContexts=Re(Ms);location=Re(cs);changeDetector=Re(co);inputBinder=Re(Kc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $e(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $e(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $e(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $e(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new vm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ln({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ii]})}return e})(),vm=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===oi?this.route:t===Ms?this.childContexts:t===Qv?this.outletData:this.parent.get(t,n)}},Kc=new Ge("");function mT(e,t,n){let r=Ya(e,t._root,n?n._root:void 0);return new qa(r,t)}function Ya(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=gT(e,t,n);return new Bn(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ya(e,a)),s}}let r=yT(t.value),i=t.children.map(o=>Ya(e,o));return new Bn(r,i)}}function gT(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ya(e,r,i);return Ya(e,r)})}function yT(e){return new oi(new on(e.url),new on(e.params),new on(e.queryParams),new on(e.fragment),new on(e.data),e.outlet,e.component,e)}var Ds=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Kv="ngNavigationCancelingError";function Zc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=ki(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Jv(!1,Rn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Jv(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Kv]=!0,n.cancellationCode=t,n}function _T(e){return Xv(e)&&ki(e.url)}function Xv(e){return!!e&&e[Kv]}var vT=(e,t,n,r)=>_t(i=>(new bm(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),bm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),um(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=_s(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=_s(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=_s(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=_s(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $c(o.value.snapshot))}),t.children.length&&this.forwardEvent(new zc(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(um(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),um(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Yc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},bs=class{component;route;constructor(t,n){this.component=t,this.route=n}};function bT(e,t,n){let r=e._root,i=t?t._root:null;return Ua(r,i,n,[r.value])}function wT(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Is(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!U1(e)?e:t.get(e):r}function Ua(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_s(t);return e.children.forEach(s=>{ET(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>za(a,n.getContext(s),i)),i}function ET(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=DT(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Yc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ua(e,t,a?a.children:null,r,i):Ua(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bs(a.outlet.component,s))}else s&&za(t,a,i),i.canActivateChecks.push(new Yc(r)),o.component?Ua(e,null,a?a.children:null,r,i):Ua(e,null,n,r,i);return i}function DT(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!ho(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ho(e.url,t.url)||!Nr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_m(e,t)||!Nr(e.queryParams,t.queryParams);case"paramsChange":default:return!_m(e,t)}}function za(e,t,n){let r=_s(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?za(s,t.children.getContext(o),n):za(s,null,n):za(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new bs(t.outlet.component,i)):n.canDeactivateChecks.push(new bs(null,i)):n.canDeactivateChecks.push(new bs(null,i))}function nl(e){return typeof e=="function"}function xT(e){return typeof e=="boolean"}function MT(e){return e&&nl(e.canLoad)}function IT(e){return e&&nl(e.canActivate)}function CT(e){return e&&nl(e.canActivateChild)}function ST(e){return e&&nl(e.canDeactivate)}function AT(e){return e&&nl(e.canMatch)}function eb(e){return e instanceof qr||e?.name==="EmptyError"}var Sc=Symbol("INITIAL_VALUE");function xs(){return cr(e=>mu(e.map(t=>t.pipe(Yr(1),Qf(Sc)))).pipe(_t(t=>{for(let n of t)if(n!==!0){if(n===Sc)return Sc;if(n===!1||TT(n))return n}return!0}),Kn(t=>t!==Sc),Yr(1)))}function TT(e){return ki(e)||e instanceof Ds}function kT(e,t){return Wt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?tt(Ae(he({},n),{guardsResult:!0})):RT(s,r,i,e).pipe(Wt(a=>a&&xT(a)?NT(r,o,e,t):tt(a)),_t(a=>Ae(he({},n),{guardsResult:a})))})}function RT(e,t,n,r){return Pt(e).pipe(Wt(i=>BT(i.component,i.route,n,t,r)),Qr(i=>i!==!0,!0))}function NT(e,t,n,r){return Pt(t).pipe(Zi(i=>Ho(PT(i.route.parent,r),OT(i.route,r),LT(e,i.path,n),FT(e,i.route,n))),Qr(i=>i!==!0,!0))}function OT(e,t){return e!==null&&t&&t(new Hc(e)),tt(!0)}function PT(e,t){return e!==null&&t&&t(new Vc(e)),tt(!0)}function FT(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return tt(!0);let i=r.map(o=>gu(()=>{let s=el(t)??n,a=Is(o,s),l=IT(a)?a.canActivate(t,e):pr(s,()=>a(t,e));return Ri(l).pipe(Qr())}));return tt(i).pipe(xs())}function LT(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>wT(s)).filter(s=>s!==null).map(s=>gu(()=>{let a=s.guards.map(l=>{let u=el(s.node)??n,c=Is(l,u),d=CT(c)?c.canActivateChild(r,e):pr(u,()=>c(r,e));return Ri(d).pipe(Qr())});return tt(a).pipe(xs())}));return tt(o).pipe(xs())}function BT(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return tt(!0);let s=o.map(a=>{let l=el(t)??i,u=Is(a,l),c=ST(u)?u.canDeactivate(e,t,n,r):pr(l,()=>u(e,t,n,r));return Ri(c).pipe(Qr())});return tt(s).pipe(xs())}function jT(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return tt(!0);let o=i.map(s=>{let a=Is(s,e),l=MT(a)?a.canLoad(t,n):pr(e,()=>a(t,n));return Ri(l)});return tt(o).pipe(xs(),tb(r))}function tb(e){return zf(sn(t=>{if(typeof t!="boolean")throw Zc(e,t)}),_t(t=>t===!0))}function UT(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return tt(!0);let o=i.map(s=>{let a=Is(s,e),l=AT(a)?a.canMatch(t,n):pr(e,()=>a(t,n));return Ri(l)});return tt(o).pipe(xs(),tb(r))}var Qa=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ka=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ys(e){return Vo(new Qa(e))}function VT(e){return Vo(new $e(4e3,!1))}function zT(e){return Vo(Jv(!1,Rn.GuardRejected))}var wm=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return tt(r);if(i.numberOfChildren>1||!i.children[it])return VT(`${t.redirectTo}`);i=i.children[it]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:u,routeConfig:c,url:d,outlet:f,params:h,data:p,title:m}=i,g=pr(o,()=>a({params:h,data:p,queryParams:l,fragment:u,routeConfig:c,url:d,outlet:f,title:m}));if(g instanceof Pr)throw new Ka(g);n=g}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Ka(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Pr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new wt(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new $e(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Em={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HT(e,t,n,r,i){let o=nb(e,t,n);return o.matched?(r=fT(t,r),UT(r,t,n,i).pipe(_t(s=>s===!0?o:he({},Em)))):tt(o)}function nb(e,t,n){if(t.path==="**")return $T(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?he({},Em):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||kv)(n,e,t);if(!i)return he({},Em);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?he(he({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function $T(e){return{matched:!0,parameters:e.length>0?Nv(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Sv(e,t,n,r){return n.length>0&&qT(e,n,r)?{segmentGroup:new wt(t,WT(r,new wt(n,e.children))),slicedSegments:[]}:n.length===0&&ZT(e,n,r)?{segmentGroup:new wt(e.segments,GT(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new wt(e.segments,e.children),slicedSegments:n}}function GT(e,t,n,r){let i={};for(let o of n)if(Jc(e,t,o)&&!r[yr(o)]){let s=new wt([],{});i[yr(o)]=s}return he(he({},r),i)}function WT(e,t){let n={};n[it]=t;for(let r of e)if(r.path===""&&yr(r)!==it){let i=new wt([],{});n[yr(r)]=i}return n}function qT(e,t,n){return n.some(r=>Jc(e,t,r)&&yr(r)!==it)}function ZT(e,t,n){return n.some(r=>Jc(e,t,r))}function Jc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function YT(e,t,n){return t.length===0&&!e.children[n]}var Dm=class{};function QT(e,t,n,r,i,o,s="emptyOnly"){return new xm(e,t,n,r,i,s,o).recognize()}var KT=31,xm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wm(this.urlSerializer,this.urlTree)}noMatchError(t){return new $e(4002,`'${t.segmentGroup}'`)}recognize(){let t=Sv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(_t(({children:n,rootSnapshot:r})=>{let i=new Bn(r,n),o=new Za("",i),s=zv(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new po([],Object.freeze({}),Object.freeze(he({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),it,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,it,n).pipe(_t(r=>({children:r,rootSnapshot:n})),Zr(r=>{if(r instanceof Ka)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Qa?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(_t(s=>s instanceof Bn?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pt(o).pipe(Zi(s=>{let a=r.children[s],l=hT(n,s);return this.processSegmentGroup(t,l,a,s,i)}),Yf((s,a)=>(s.push(...a),s)),wi(null),Zf(),Wt(s=>{if(s===null)return ys(r);let a=rb(s);return JT(a),tt(a)}))}processSegment(t,n,r,i,o,s,a){return Pt(n).pipe(Zi(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(Zr(u=>{if(u instanceof Qa)return tt(null);throw u}))),Qr(l=>!!l),Zr(l=>{if(eb(l))return YT(r,i,o)?tt(new Dm):ys(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return yr(r)!==s&&(s===it||!Jc(i,o,r))?ys(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):ys(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:c,positionalParamSegments:d,remainingSegments:f}=nb(n,i,o);if(!l)return ys(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>KT&&(this.allowRedirects=!1));let h=new po(o,u,Object.freeze(he({},this.urlTree.queryParams)),this.urlTree.fragment,Av(i),yr(i),i.component??i._loadedComponent??null,i,Tv(i)),p=qc(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(i,m).pipe(Wt(g=>this.processSegment(t,r,n,g.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=HT(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(cr(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(cr(({routes:u})=>{let c=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=l,p=new po(f,d,Object.freeze(he({},this.urlTree.queryParams)),this.urlTree.fragment,Av(r),yr(r),r.component??r._loadedComponent??null,r,Tv(r)),m=qc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:g,slicedSegments:v}=Sv(n,f,h,u);if(v.length===0&&g.hasChildren())return this.processChildren(c,u,g,p).pipe(_t(w=>new Bn(p,w)));if(u.length===0&&v.length===0)return tt(new Bn(p,[]));let D=yr(r)===o;return this.processSegment(c,u,g,v,D?it:o,!0,p).pipe(_t(w=>new Bn(p,w instanceof Bn?[w]:[])))}))):ys(n)))}getChildConfig(t,n,r){return n.children?tt({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?tt({routes:n._loadedRoutes,injector:n._loadedInjector}):jT(t,n,r,this.urlSerializer).pipe(Wt(i=>i?this.configLoader.loadChildren(t,n).pipe(sn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zT(n))):tt({routes:[],injector:t})}};function JT(e){e.sort((t,n)=>t.value.outlet===it?-1:n.value.outlet===it?1:t.value.outlet.localeCompare(n.value.outlet))}function XT(e){let t=e.value.routeConfig;return t&&t.path===""}function rb(e){let t=[],n=new Set;for(let r of e){if(!XT(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=rb(r.children);t.push(new Bn(r.value,i))}return t.filter(r=>!n.has(r))}function Av(e){return e.data||{}}function Tv(e){return e.resolve||{}}function e3(e,t,n,r,i,o){return Wt(s=>QT(e,t,n,r,s.extractedUrl,i,o).pipe(_t(({state:a,tree:l})=>Ae(he({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function t3(e,t){return Wt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return tt(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of ib(l))s.add(u);let a=0;return Pt(s).pipe(Zi(l=>o.has(l)?n3(l,r,e,t):(l.data=qc(l,l.parent,e).resolve,tt(void 0))),sn(()=>a++),$o(1),Wt(l=>a===s.size?tt(n):Cn))})}function ib(e){let t=e.children.map(n=>ib(n)).flat();return[e,...t]}function n3(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Yv(i)&&(o[Ja]=i.title),r3(o,e,t,r).pipe(_t(s=>(e._resolvedData=s,e.data=qc(e,e.parent,n).resolve,null)))}function r3(e,t,n,r){let i=fm(e);if(i.length===0)return tt({});let o={};return Pt(i).pipe(Wt(s=>i3(e[s],t,n,r).pipe(Qr(),sn(a=>{if(a instanceof Ds)throw Zc(new go,a);o[s]=a}))),$o(1),_t(()=>o),Zr(s=>eb(s)?Cn:Vo(s)))}function i3(e,t,n,r){let i=el(t)??r,o=Is(e,i),s=o.resolve?o.resolve(t,n):pr(i,()=>o(t,n));return Ri(s)}function cm(e){return cr(t=>{let n=e(t);return n?Pt(n).pipe(_t(()=>t)):tt(t)})}var Im=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===it);return r}getResolvedTitleForRoute(n){return n.data[Ja]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Re(ob),providedIn:"root"})}return e})(),ob=(()=>{class e extends Im{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(ct(Dv))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rl=new Ge("",{providedIn:"root",factory:()=>({})}),Cm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=fn({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&At(0,"router-outlet")},dependencies:[tl],encapsulation:2})}return e})();function Sm(e){let t=e.children&&e.children.map(Sm),n=t?Ae(he({},e),{children:t}):he({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==it&&(n.component=Cm),n}var il=new Ge(""),sb=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Re(tv);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return tt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Ri(n.loadComponent()).pipe(_t(lb),sn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),da(()=>{this.componentLoaders.delete(n)})),i=new Uo(r,()=>new Vt).pipe(jo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ab(r,this.compiler,n,this.onLoadEndListener).pipe(da(()=>{this.childrenLoaders.delete(r)})),s=new Uo(o,()=>new Vt).pipe(jo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ab(e,t,n,r){return Ri(e.loadChildren()).pipe(_t(lb),Wt(i=>i instanceof $p||Array.isArray(i)?tt(i):Pt(t.compileModuleAsync(i))),_t(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(il,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sm),injector:o}}))}function o3(e){return e&&typeof e=="object"&&"default"in e}function lb(e){return o3(e)?e.default:e}var Xc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Re(s3),providedIn:"root"})}return e})(),s3=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ub=new Ge("");var cb=new Ge(""),db=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Vt;transitionAbortSubject=new Vt;configLoader=Re(sb);environmentInjector=Re(Fn);destroyRef=Re(oc);urlSerializer=Re(Xa);rootContexts=Re(Ms);location=Re(gs);inputBindingEnabled=Re(Kc,{optional:!0})!==null;titleStrategy=Re(Im);options=Re(rl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Re(Xc);createViewTransition=Re(ub,{optional:!0});navigationErrorHandler=Re(cb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>tt(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new jc(i)),r=i=>this.events.next(new Uc(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Ae(he({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new on(null),this.transitions.pipe(Kn(r=>r!==null),cr(r=>{let i=!1,o=!1;return tt(r).pipe(cr(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Rn.SupersededByNewNavigation),Cn;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(he({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&l!=="reload"){let u="";return this.events.next(new ii(s.id,this.urlSerializer.serialize(s.rawUrl),u,$a.IgnoredSameUrlNavigation)),s.resolve(!1),Cn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return tt(s).pipe(cr(u=>(this.events.next(new yo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Cn:Promise.resolve(u))),e3(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),sn(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Ae(he({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let c=new Ga(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:c,source:d,restoredState:f,extras:h}=s,p=new yo(u,this.urlSerializer.serialize(c),d,f);this.events.next(p);let m=qv(this.rootComponentType).snapshot;return this.currentTransition=r=Ae(he({},s),{targetSnapshot:m,urlAfterRedirects:c,extras:Ae(he({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,tt(r)}else{let u="";return this.events.next(new ii(s.id,this.urlSerializer.serialize(s.extractedUrl),u,$a.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Cn}}),sn(s=>{let a=new Pc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),_t(s=>(this.currentTransition=r=Ae(he({},s),{guards:bT(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),kT(this.environmentInjector,s=>this.events.next(s)),sn(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Zc(this.urlSerializer,s.guardsResult);let a=new Fc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Kn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Rn.GuardRejected),!1)),cm(s=>{if(s.guards.canActivateChecks.length!==0)return tt(s).pipe(sn(a=>{let l=new Lc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),cr(a=>{let l=!1;return tt(a).pipe(t3(this.paramsInheritanceStrategy,this.environmentInjector),sn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Rn.NoDataFromResolver)}}))}),sn(a=>{let l=new Bc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),cm(s=>{let a=l=>{let u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(sn(c=>{l.component=c}),_t(()=>{})));for(let c of l.children)u.push(...a(c));return u};return mu(a(s.targetSnapshot.root)).pipe(wi(null),Yr(1))}),cm(()=>this.afterPreactivation()),cr(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?Pt(l).pipe(_t(()=>r)):tt(r)}),_t(s=>{let a=mT(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Ae(he({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),sn(()=>{this.events.next(new Wa)}),vT(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Yr(1),sn({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Kf(this.transitionAbortSubject.pipe(sn(s=>{throw s}))),da(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Rn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zr(s=>{if(this.destroyed)return r.resolve(!1),Cn;if(o=!0,Xv(s))this.events.next(new Or(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),_T(s)?this.events.next(new Es(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ws(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=pr(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof Ds){let{message:u,cancellationCode:c}=Zc(this.urlSerializer,l);this.events.next(new Or(r.id,this.urlSerializer.serialize(r.extractedUrl),u,c)),this.events.next(new Es(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Cn}))}))}cancelNavigationTransition(n,r,i){let o=new Or(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function a3(e){return e!==Rc}var fb=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Re(l3),providedIn:"root"})}return e})(),Qc=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},l3=(()=>{class e extends Qc{static \u0275fac=(()=>{let n;return function(i){return(n||(n=as(e)))(i||e)}})();static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hb=(()=>{class e{urlSerializer=Re(Xa);options=Re(rl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Re(gs);urlHandlingStrategy=Re(Xc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Pr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=qv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Re(u3),providedIn:"root"})}return e})(),u3=(()=>{class e extends hb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof yo?this.updateStateMemento():n instanceof ii?this.commitTransition(r):n instanceof Ga?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Wa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Or&&(n.code===Rn.GuardRejected||n.code===Rn.NoDataFromResolver)?this.restoreHistory(r):n instanceof ws?this.restoreHistory(r,!0):n instanceof _r&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=he(he({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=he(he({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=as(e)))(i||e)}})();static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Am(e,t){e.events.pipe(Kn(n=>n instanceof _r||n instanceof Or||n instanceof ws||n instanceof ii),_t(n=>n instanceof _r||n instanceof ii?0:(n instanceof Or?n.code===Rn.Redirect||n.code===Rn.SupersededByNewNavigation:!1)?2:1),Kn(n=>n!==2),Yr(1)).subscribe(()=>{t()})}var c3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},d3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Cs=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Re(G_);stateManager=Re(hb);options=Re(rl,{optional:!0})||{};pendingTasks=Re(ls);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Re(db);urlSerializer=Re(Xa);location=Re(gs);urlHandlingStrategy=Re(Xc);_events=new Vt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Re(fb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Re(il,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Re(Kc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $t;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Or&&r.code!==Rn.Redirect&&r.code!==Rn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _r)this.navigated=!0;else if(r instanceof Es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=he({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||a3(i.source)},s);this.scheduleNavigation(a,Rc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}h3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=he({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Sm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,c=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":c=he(he({},this.currentUrlTree.queryParams),o);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}c!==null&&(c=this.removeEmptyProps(c));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=Hv(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return $v(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ki(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Rc,null,r)}navigate(n,r={skipLocationChange:!1}){return f3(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=he({},c3):r===!1?i=he({},d3):i=r,ki(n))return xv(this.currentUrlTree,n,i);let o=this.parseUrl(n);return xv(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,l=f});let c=this.pendingTasks.add();return Am(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function f3(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new $e(4008,!1)}function h3(e){return!(e instanceof Wa)&&!(e instanceof Es)}var Ss=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Vt;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof _r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ki(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:i_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ki(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(xt(Cs),xt(oi),bp("tabindex"),xt(ri),xt(gr),xt(ms))};static \u0275dir=Ln({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&an("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&gc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ps],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ps],replaceUrl:[2,"replaceUrl","replaceUrl",ps],routerLink:"routerLink"},features:[Ii]})}return e})(),Tm=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Kt;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof _r&&this.update()})}ngAfterContentInit(){tt(this.links.changes,tt(null)).pipe(zo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Pt(n).pipe(zo()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=m3(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(xt(Cs),xt(gr),xt(ri),xt(co),xt(Ss,8))};static \u0275dir=Ln({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Q_(o,Ss,5),r&2){let s;yc(s=_c())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ii]})}return e})();function m3(e){return!!e.paths}var g3=new Ge("");function km(e,...t){return rp([{provide:il,multi:!0,useValue:e},[],{provide:oi,useFactory:y3,deps:[Cs]},{provide:Gp,multi:!0,useFactory:_3},t.map(n=>n.\u0275providers)])}function y3(e){return e.routerState.root}function _3(){let e=Re(Xr);return t=>{let n=e.get(io);if(t!==n.components[0])return;let r=e.get(Cs),i=e.get(v3);e.get(b3)===1&&r.initialNavigation(),e.get(w3,null,lt.Optional)?.setUpPreloading(),e.get(g3,null,lt.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var v3=new Ge("",{factory:()=>new Vt}),b3=new Ge("",{providedIn:"root",factory:()=>1});var w3=new Ge("");var ax=vx(UD());var ZD=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(xt(ri),xt(gr))};static \u0275dir=Ln({type:e})}return e})(),YD=(()=>{class e extends ZD{static \u0275fac=(()=>{let n;return function(i){return(n||(n=as(e)))(i||e)}})();static \u0275dir=Ln({type:e,features:[so]})}return e})(),o0=new Ge("");var B8={provide:o0,useExisting:ts(()=>af),multi:!0};function j8(){let e=tr()?tr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var U8=new Ge(""),af=(()=>{class e extends ZD{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!j8())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(xt(ri),xt(gr),xt(U8,8))};static \u0275dir=Ln({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&an("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[vc([B8]),so]})}return e})();var V8=new Ge(""),z8=new Ge("");function QD(e){return e!=null}function KD(e){return fs(e)?Pt(e):e}function JD(e){let t={};return e.forEach(n=>{t=n!=null?he(he({},t),n):t}),Object.keys(t).length===0?null:t}function XD(e,t){return t.map(n=>n(e))}function H8(e){return!e.validate}function ex(e){return e.map(t=>H8(t)?t:n=>t.validate(n))}function $8(e){if(!e)return null;let t=e.filter(QD);return t.length==0?null:function(n){return JD(XD(n,t))}}function tx(e){return e!=null?$8(ex(e)):null}function G8(e){if(!e)return null;let t=e.filter(QD);return t.length==0?null:function(n){let r=XD(n,t).map(KD);return qf(r).pipe(_t(JD))}}function nx(e){return e!=null?G8(ex(e)):null}function VD(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function W8(e){return e._rawValidators}function q8(e){return e._rawAsyncValidators}function t0(e){return e?Array.isArray(e)?e:[e]:[]}function rf(e,t){return Array.isArray(e)?e.includes(t):e===t}function zD(e,t){let n=t0(t);return t0(e).forEach(i=>{rf(n,i)||n.push(i)}),n}function HD(e,t){return t0(t).filter(n=>!rf(e,n))}var of=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=tx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=nx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},n0=class extends of{name;get formDirective(){return null}get path(){return null}},jl=class extends of{_parent=null;name=null;valueAccessor=null},r0=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Z8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},C$=Ae(he({},Z8),{"[class.ng-submitted]":"isSubmitted"}),rx=(()=>{class e extends r0{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(xt(jl,2))};static \u0275dir=Ln({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Wp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[so]})}return e})();var Pl="VALID",nf="INVALID",Xs="PENDING",Fl="DISABLED",ta=class{},sf=class extends ta{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ll=class extends ta{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Bl=class extends ta{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},ea=class extends ta{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function Y8(e){return(lf(e)?e.validators:e)||null}function Q8(e){return Array.isArray(e)?tx(e):e||null}function K8(e,t){return(lf(t)?t.asyncValidators:e)||null}function J8(e){return Array.isArray(e)?nx(e):e||null}function lf(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var i0=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return fo(this.statusReactive)}set status(t){fo(()=>this.statusReactive.set(t))}_status=bc(()=>this.statusReactive());statusReactive=sc(void 0);get valid(){return this.status===Pl}get invalid(){return this.status===nf}get pending(){return this.status==Xs}get disabled(){return this.status===Fl}get enabled(){return this.status!==Fl}errors;get pristine(){return fo(this.pristineReactive)}set pristine(t){fo(()=>this.pristineReactive.set(t))}_pristine=bc(()=>this.pristineReactive());pristineReactive=sc(!0);get dirty(){return!this.pristine}get touched(){return fo(this.touchedReactive)}set touched(t){fo(()=>this.touchedReactive.set(t))}_touched=bc(()=>this.touchedReactive());touchedReactive=sc(!1);get untouched(){return!this.touched}_events=new Vt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(zD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(HD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(HD(t,this._rawAsyncValidators))}hasValidator(t){return rf(this._rawValidators,t)}hasAsyncValidator(t){return rf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ae(he({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Bl(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Bl(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ae(he({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ll(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ll(!0,r))}markAsPending(t={}){this.status=Xs;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ea(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ae(he({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Fl,this.errors=null,this._forEachChild(i=>{i.disable(Ae(he({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new sf(this.value,r)),this._events.next(new ea(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(he({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Pl,this._forEachChild(r=>{r.enable(Ae(he({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ae(he({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pl||this.status===Xs)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new sf(this.value,n)),this._events.next(new ea(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ae(he({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Fl:Pl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Xs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=KD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ea(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Kt,this.statusChanges=new Kt}_calculateStatus(){return this._allControlsDisabled()?Fl:this.errors?nf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xs)?Xs:this._anyControlsHaveStatus(nf)?nf:Pl}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Ll(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Bl(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lf(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Q8(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=J8(this._rawAsyncValidators)}};var ix=new Ge("",{providedIn:"root",factory:()=>s0}),s0="always";function X8(e,t){return[...t.path,e]}function e6(e,t,n=s0){n6(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),r6(e,t),o6(e,t),i6(e,t),t6(e,t)}function $D(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function t6(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function n6(e,t){let n=W8(e);t.validator!==null?e.setValidators(VD(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=q8(e);t.asyncValidator!==null?e.setAsyncValidators(VD(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();$D(t._rawValidators,i),$D(t._rawAsyncValidators,i)}function r6(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ox(e,t)})}function i6(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ox(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function ox(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function o6(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function s6(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function a6(e){return Object.getPrototypeOf(e.constructor)===YD}function l6(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===af?n=o:a6(o)?r=o:i=o}),i||r||n||null}function GD(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function WD(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var u6=class extends i0{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(Y8(n),K8(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(WD(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){WD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var c6={provide:jl,useExisting:ts(()=>a0)},qD=Promise.resolve(),a0=(()=>{class e extends jl{_changeDetectorRef;callSetDisabledState;control=new u6;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Kt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=l6(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),s6(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){e6(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){qD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ps(r);qD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?X8(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(xt(n0,9),xt(V8,10),xt(z8,10),xt(o0,10),xt(co,8),xt(ix,8))};static \u0275dir=Ln({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[vc([c6]),so,Ii]})}return e})();var d6={provide:o0,useExisting:ts(()=>l0),multi:!0},l0=(()=>{class e extends YD{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=as(e)))(i||e)}})();static \u0275dir=Ln({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&an("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[vc([d6]),so]})}return e})();var f6=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Si({type:e});static \u0275inj=Mi({})}return e})();var sx=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ix,useValue:n.callSetDisabledState??s0}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Si({type:e});static \u0275inj=Mi({imports:[f6]})}return e})();function p6(e,t){if(e&1&&At(0,"img",22),e&2){let n=Zp();ao("src",n.selectedImage,cc)}}function m6(e,t){e&1&&At(0,"div",23)}function g6(e,t){if(e&1&&At(0,"img",24),e&2){let n=Zp();ao("src",n.extrudedImageUrl,cc)}}function y6(e,t){e&1&&(Ze(0,"p",25),Mt(1,"Processing or waiting for parameters..."),Ye(),At(2,"div",23))}function _6(e,t){e&1&&At(0,"div",23)}var uf=class e{selectedImage=null;originalFileName="";extrudedImageUrl=null;tileWidth=16;tileHeight=16;margin=0;spacing=0;extrusion=4;debounceTimer;onFileSelected(t){let n=t.target;if(n.files&&n.files.length>0){let r=n.files[0];this.originalFileName=r.name;let i=new FileReader;i.onload=()=>Ve(this,null,function*(){this.selectedImage=i.result,this.extrudedImageUrl=null,clearTimeout(this.debounceTimer),yield this.extrudeImage()}),i.readAsDataURL(r)}else this.selectedImage=null,this.extrudedImageUrl=null,this.originalFileName=""}extrudeImage(){return Ve(this,null,function*(){if(!this.selectedImage){console.warn("No image has been selected to extrude."),this.extrudedImageUrl=null;return}try{let n=(yield(0,ax.extrudeTilesetToBuffer)(this.tileWidth,this.tileHeight,this.selectedImage,{margin:this.margin,spacing:this.spacing,extrusion:this.extrusion})).toString("base64");this.extrudedImageUrl=`data:image/png;base64,${n}`}catch(t){console.error("Error during tile extrusion:",t),this.extrudedImageUrl=null}})}onSettingsChange(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.extrudeImage()},1e3)}downloadExtrudedImage(){if(!this.extrudedImageUrl){console.warn("No extruded image available to download.");return}let t=document.createElement("a");t.href=this.extrudedImageUrl;let n=this.originalFileName.split("."),r=n.pop(),i=n.join(".");t.download=`${i}-extruded.${r||"png"}`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}ngOnDestroy(){clearTimeout(this.debounceTimer)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fn({type:e,selectors:[["app-tile-extruder"]],decls:41,vars:8,consts:[[1,"container","mx-auto","p-4"],[1,"text-2xl","font-bold","mb-4"],[1,"fieldset","bg-base-200","border-base-300","rounded-box","w-xs","border","p-4"],[1,"fieldset-legend"],[1,"grid","grid-cols-4","gap-x-4","gap-y-2"],["for","tileWidth",1,"label"],["id","tileWidth","type","number",1,"input",3,"ngModelChange","ngModel"],["for","tileHeight",1,"label"],["id","tileHeight","type","number",1,"input",3,"ngModelChange","ngModel"],["for","margin",1,"label"],["id","margin","type","number",1,"input",3,"ngModelChange","ngModel"],["for","spacing",1,"label"],["id","spacing","type","number",1,"input",3,"ngModelChange","ngModel"],[1,"col-span-4"],["for","extrusion",1,"label"],["id","extrusion","type","number",1,"input",3,"ngModelChange","ngModel"],[1,"mb-6","mt-4","flex","flex-wrap","gap-4","items-center"],[1,"btn","btn-primary"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-xl","font-semibold","mb-2"],["alt","Original Tileset",1,"max-w-full","h-auto","rounded","border","shadow",3,"src"],[1,"skeleton","h-32","w-32"],["alt","Extruded Tileset",1,"max-w-full","h-auto","rounded","border","shadow",3,"src"],[1,"text-gray-500"]],template:function(n,r){n&1&&(Ze(0,"div",0)(1,"h2",1),Mt(2,"Tileset Extruder"),Ye(),Ze(3,"fieldset",2)(4,"legend",3),Mt(5,"Settings"),Ye(),Ze(6,"div",4)(7,"label",5),Mt(8,"Tile Width"),Ye(),Ze(9,"input",6),uo("ngModelChange",function(o){return hs(r.tileWidth,o)||(r.tileWidth=o),o}),an("ngModelChange",function(){return r.onSettingsChange()}),Ye(),Ze(10,"label",7),Mt(11,"Tile Height"),Ye(),Ze(12,"input",8),uo("ngModelChange",function(o){return hs(r.tileHeight,o)||(r.tileHeight=o),o}),an("ngModelChange",function(){return r.onSettingsChange()}),Ye(),Ze(13,"label",9),Mt(14,"Margin"),Ye(),Ze(15,"input",10),uo("ngModelChange",function(o){return hs(r.margin,o)||(r.margin=o),o}),an("ngModelChange",function(){return r.onSettingsChange()}),Ye(),Ze(16,"label",11),Mt(17,"Spacing"),Ye(),Ze(18,"input",12),uo("ngModelChange",function(o){return hs(r.spacing,o)||(r.spacing=o),o}),an("ngModelChange",function(){return r.onSettingsChange()}),Ye(),Ze(19,"div",13)(20,"label",14),Mt(21,"Extrusion:"),Ye(),Ze(22,"input",15),uo("ngModelChange",function(o){return hs(r.extrusion,o)||(r.extrusion=o),o}),an("ngModelChange",function(){return r.onSettingsChange()}),Ye()()()(),Ze(23,"div",16)(24,"label",17),Mt(25," Upload tileset "),Ze(26,"input",18),an("change",function(o){return r.onFileSelected(o)}),Ye()(),Ze(27,"button",19),an("click",function(){return r.downloadExtrudedImage()}),Mt(28," Download extruded tileset "),Ye()(),Ze(29,"div",20)(30,"div")(31,"h3",21),Mt(32,"Original Image:"),Ye(),mc(33,p6,1,1,"img",22)(34,m6,1,0,"div",23),Ye(),Ze(35,"div")(36,"h3",21),Mt(37,"Extruded Image:"),Ye(),mc(38,g6,1,1,"img",24)(39,y6,3,0)(40,_6,1,0,"div",23),Ye()()()),n&2&&(vn(9),lo("ngModel",r.tileWidth),vn(3),lo("ngModel",r.tileHeight),vn(3),lo("ngModel",r.margin),vn(3),lo("ngModel",r.spacing),vn(4),lo("ngModel",r.extrusion),vn(5),ao("disabled",!r.extrudedImageUrl),vn(6),qp(r.selectedImage?33:34),vn(5),qp(r.extrudedImageUrl?38:r.selectedImage?39:40))},dependencies:[sx,af,l0,rx,a0],encapsulation:2})};var cf=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fn({type:e,selectors:[["app-home"]],decls:12,vars:0,consts:[[1,"mt-4"],[1,"list-disc","list-inside"],[1,"font-bold"]],template:function(n,r){n&1&&(Ze(0,"div")(1,"p"),Mt(2,"This site contains several utilities that I regularly use for my LibGDX 2D games."),Ye(),Ze(3,"p"),Mt(4,"Feel free to use them as well! :)"),Ye(),Ze(5,"p",0),Mt(6,"Following utilities can be selected from the menu:"),Ye(),Ze(7,"ul",1)(8,"li")(9,"span",2),Mt(10,"Tile Extruder"),Ye(),Mt(11,": extrudes tiles in tilesets to avoid texture bleeding issues."),Ye()()())},encapsulation:2})};var lx=[{path:"",component:cf},{path:"tile-extruder",component:uf}];var ux={providers:[rv({eventCoalescing:!0}),km(lx)]};var df=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fn({type:e,selectors:[["app-theme-sel"]],decls:6,vars:0,consts:[[1,"swap","swap-rotate"],["type","checkbox","value","night",1,"theme-controller"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-off","h-10","w-10","fill-current"],["d","M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-on","h-10","w-10","fill-current"],["d","M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"]],template:function(n,r){n&1&&(Ze(0,"label",0),At(1,"input",1),ss(),Ze(2,"svg",2),At(3,"path",3),Ye(),Ze(4,"svg",4),At(5,"path",5),Ye()())},encapsulation:2})};var v6=["navMenu"],b6=()=>({exact:!0}),ff=class e{constructor(t){this.renderer=t}navMenuElement;ngAfterViewInit(){this.navMenuElement||console.error("Couldn't find the 'navMenu' element.")}closeMenu(){if(!this.navMenuElement||!this.navMenuElement.nativeElement){console.warn("Cannot close menu because of missing 'navMenuElement'");return}this.renderer.removeAttribute(this.navMenuElement.nativeElement,"open")}static \u0275fac=function(n){return new(n||e)(xt(ri))};static \u0275cmp=fn({type:e,selectors:[["app-nav-menu"]],viewQuery:function(n,r){if(n&1&&K_(v6,5),n&2){let i;yc(i=_c())&&(r.navMenuElement=i.first)}},decls:13,vars:2,consts:[["navMenu",""],[1,"navbar-start"],[1,"dropdown"],[1,"btn","btn-square","btn-ghost"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h7"],[1,"menu","menu-lg","dropdown-content","bg-base-100","rounded-box","z-1","mt-3","w-52","p-2","shadow"],["routerLink","/","routerLinkActive","bg-primary text-primary-content",3,"click","routerLinkActiveOptions"],["routerLink","/tile-extruder","routerLinkActive","bg-primary text-primary-content",3,"click"]],template:function(n,r){if(n&1){let i=Z_();Ze(0,"div",1)(1,"details",2,0)(3,"summary",3),ss(),Ze(4,"svg",4),At(5,"path",5),Ye()(),Dy(),Ze(6,"ul",6)(7,"li")(8,"a",7),an("click",function(){return dp(i),fp(r.closeMenu())}),Mt(9,"Home"),Ye()(),Ze(10,"li")(11,"a",8),an("click",function(){return dp(i),fp(r.closeMenu())}),Mt(12,"Tile Extruder"),Ye()()()()()}n&2&&(vn(8),ao("routerLinkActiveOptions",ev(1,b6)))},dependencies:[Tm,Ss],encapsulation:2})};var hf=class e{title="Quilly's GDX Utilities";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fn({type:e,selectors:[["app-header"]],decls:5,vars:1,consts:[[1,"navbar","bg-primary"],[1,"text-2xl","font-bold","ml-2","text-primary-content"],[1,"ml-4","text-primary-content"]],template:function(n,r){n&1&&(Ze(0,"header",0),At(1,"app-nav-menu"),Ze(2,"h1",1),Mt(3),Ye(),At(4,"app-theme-sel",2),Ye()),n&2&&(vn(3),Ra(r.title))},dependencies:[df,ff],encapsulation:2})};var pf=class e{currentYear=new Date().getFullYear();static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fn({type:e,selectors:[["app-footer"]],decls:17,vars:1,consts:[[1,"footer","footer-horizontal","footer-center","bg-neutral","text-neutral-content","p-2"],[1,"flex","flex-row","gap-2","items-center"],[1,"font-bold"],[1,"grid","grid-flow-col"],["href","https://github.com/Quillraven","target","_blank","rel","noopener noreferrer"],["role","img","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-7","h-7"],["d","M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21 .69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"]],template:function(n,r){n&1&&(Ze(0,"footer",0)(1,"aside")(2,"div",1)(3,"p"),Mt(4,"\xA9"),Ye(),Ze(5,"p"),Mt(6),Ye(),Ze(7,"p",2),Mt(8,"Quillraven"),Ye(),Ze(9,"p"),Mt(10,"Some rights reserved."),Ye(),Ze(11,"div",3)(12,"a",4),ss(),Ze(13,"svg",5)(14,"title"),Mt(15,"GitHub"),Ye(),At(16,"path",6),Ye()()()()()()),n&2&&(vn(6),Ra(r.currentYear))},encapsulation:2})};var mf=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fn({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"flex","flex-col","min-h-screen"],[1,"flex-grow","p-4","flex","flex-col","items-start"]],template:function(n,r){n&1&&(Ze(0,"div",0),At(1,"app-header"),Ze(2,"main",1),At(3,"router-outlet"),Ye(),At(4,"app-footer"),Ye())},dependencies:[tl,hf,pf,wc],encapsulation:2})};sm(mf,ux).catch(e=>console.error(e));
