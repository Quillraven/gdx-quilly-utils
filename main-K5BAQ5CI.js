var aS=Object.create;var fl=Object.defineProperty,lS=Object.defineProperties,uS=Object.getOwnPropertyDescriptor,cS=Object.getOwnPropertyDescriptors,dS=Object.getOwnPropertyNames,bc=Object.getOwnPropertySymbols,fS=Object.getPrototypeOf,_p=Object.prototype.hasOwnProperty,Ky=Object.prototype.propertyIsEnumerable;var yp=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),hS=e=>{throw TypeError(e)};var Yy=(e,t,n)=>t in e?fl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fe=(e,t)=>{for(var n in t||={})_p.call(t,n)&&Yy(e,n,t[n]);if(bc)for(var n of bc(t))Ky.call(t,n)&&Yy(e,n,t[n]);return e},ke=(e,t)=>lS(e,cS(t));var hl=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var vp=(e,t)=>{var n={};for(var r in e)_p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&bc)for(var r of bc(e))t.indexOf(r)<0&&Ky.call(e,r)&&(n[r]=e[r]);return n};var pS=(e,t)=>()=>(e&&(t=e(e=0)),t);var bp=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),mS=(e,t)=>{for(var n in t)fl(e,n,{get:t[n],enumerable:!0})},Qy=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of dS(t))!_p.call(e,i)&&i!==n&&fl(e,i,{get:()=>t[i],enumerable:!(r=uS(t,i))||r.enumerable});return e};var wp=(e,t,n)=>(n=e!=null?aS(fS(e)):{},Qy(t||!e||!e.__esModule?fl(n,"default",{value:e,enumerable:!0}):n,e)),gS=e=>Qy(fl({},"__esModule",{value:!0}),e);var Pe=(e,t,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(u){i(u)}},s=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(e,t)).next())}),yS=function(e,t){this[0]=e,this[1]=t};var at=e=>{var t=e[yp("asyncIterator")],n=!1,r,i={};return t==null?(t=e[yp("iterator")](),r=o=>i[o]=s=>t[o](s)):(t=t.call(e),r=o=>i[o]=s=>{if(n){if(n=!1,o==="throw")throw s;return s}return n=!0,{done:!1,value:new yS(new Promise(a=>{var l=t[o](s);l instanceof Object||hS("Object expected"),a(l)}),1)}}),i[yp("iterator")]=()=>i,r("next"),"throw"in t?r("throw"):i.throw=o=>{throw o},"return"in t&&r("return"),i};var wI={};mS(wI,{BlendMode:()=>Ch,BmpCompression:()=>ko,HorizontalAlign:()=>Di,Jimp:()=>ll,JimpMime:()=>QF,PNGColorType:()=>Zu,PNGFilterType:()=>hh,ResizeStrategy:()=>Ci,VerticalAlign:()=>xi,colorDiff:()=>Fu,compareHashes:()=>XP,cssColorToHex:()=>Hx,defaultFormats:()=>bI,defaultPlugins:()=>vI,diff:()=>KF,distance:()=>JP,intToRGBA:()=>Ja,limit255:()=>dn,loadFont:()=>GF,measureText:()=>rl,measureTextHeight:()=>Z1,rgbaToInt:()=>qN});function ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}function Tx(){ey=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)wi[t]=e[t],kr[e.charCodeAt(t)]=t;kr[45]=62,kr[95]=63}function HR(e){var t,n,r,i,o,s;ey||Tx();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=e[a-2]==="="?2:e[a-1]==="="?1:0,s=new VR(3*a/4-o),r=o>0?a-4:a;var l=0;for(t=0,n=0;t<r;t+=4,n+=3)i=kr[e.charCodeAt(t)]<<18|kr[e.charCodeAt(t+1)]<<12|kr[e.charCodeAt(t+2)]<<6|kr[e.charCodeAt(t+3)],s[l++]=i>>16&255,s[l++]=i>>8&255,s[l++]=255&i;return o===2?(i=kr[e.charCodeAt(t)]<<2|kr[e.charCodeAt(t+1)]>>4,s[l++]=255&i):o===1&&(i=kr[e.charCodeAt(t)]<<10|kr[e.charCodeAt(t+1)]<<4|kr[e.charCodeAt(t+2)]>>2,s[l++]=i>>8&255,s[l++]=255&i),s}function $R(e){return wi[e>>18&63]+wi[e>>12&63]+wi[e>>6&63]+wi[63&e]}function GR(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push($R(r));return i.join("")}function eE(e){var t;ey||Tx();for(var n=e.length,r=n%3,i="",o=[],s=16383,a=0,l=n-r;a<l;a+=s)o.push(GR(e,a,a+s>l?l:a+s));return r===1?(t=e[n-1],i+=wi[t>>2],i+=wi[t<<4&63],i+="=="):r===2&&(t=(e[n-2]<<8)+e[n-1],i+=wi[t>>10],i+=wi[t>>4&63],i+=wi[t<<2&63],i+="="),o.push(i),o.join("")}function $f(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+e[t+d],d+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+d],d+=h,c-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)}function kx(e,t,n,r,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+f]=255&s,f+=p,s/=256,u-=8);e[n+f-p]|=128*m}function ah(){return be.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Qi(e,t){if(ah()<t)throw new RangeError("Invalid typed array length");return be.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=be.prototype:(e===null&&(e=new be(t)),e.length=t),e}function be(e,t,n){if(!(be.TYPED_ARRAY_SUPPORT||this instanceof be))return new be(e,t,n);if(typeof e=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return I1(this,e)}return Nx(this,e,t,n)}function Nx(e,t,n,r){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?KR(e,t,n,r):typeof t=="string"?YR(e,t,n):QR(e,t)}function Ox(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function ZR(e,t,n,r){return Ox(t),t<=0?Qi(e,t):n!==void 0?typeof r=="string"?Qi(e,t).fill(n,r):Qi(e,t).fill(n):Qi(e,t)}function I1(e,t){if(Ox(t),e=Qi(e,t<0?0:0|ty(t)),!be.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function YR(e,t,n){if(typeof n=="string"&&n!==""||(n="utf8"),!be.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Px(t,n),i=(e=Qi(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function S1(e,t){var n=t.length<0?0:0|ty(t.length);e=Qi(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function KR(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=n===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,n):new Uint8Array(t,n,r),be.TYPED_ARRAY_SUPPORT?(e=t).__proto__=be.prototype:e=S1(e,t),e}function QR(e,t){if(Ei(t)){var n=0|ty(t.length);return(e=Qi(e,n)).length===0||t.copy(e,0,0,n),e}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||gN(t.length)?Qi(e,0):S1(e,t);if(t.type==="Buffer"&&Rx(t.data))return S1(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function ty(e){if(e>=ah())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ah().toString(16)+" bytes");return 0|e}function Ei(e){return!(e==null||!e._isBuffer)}function Px(e,t){if(Ei(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var n=e.length;if(n===0)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return lh(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return jx(e).length;default:if(r)return lh(e).length;t=(""+t).toLowerCase(),r=!0}}function JR(e,t,n){var r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return lN(this,t,n);case"utf8":case"utf-8":return Lx(this,t,n);case"ascii":return sN(this,t,n);case"latin1":case"binary":return aN(this,t,n);case"base64":return iN(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return uN(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function xs(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function tE(e,t,n,r,i){if(e.length===0)return-1;if(typeof n=="string"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof t=="string"&&(t=be.from(t,r)),Ei(t))return t.length===0?-1:nE(e,t,n,r,i);if(typeof t=="number")return t&=255,be.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):nE(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function nE(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(f,p){return s===1?f[p]:f.readUInt16BE(p*s)}if(i){var c=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,c===-1?0:o-c)){if(c===-1&&(c=o),o-c+1===l)return c*s}else c!==-1&&(o-=o-c),c=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(u(e,o+h)!==u(t,h)){d=!1;break}if(d)return o}return-1}function XR(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function eN(e,t,n,r){return Ah(lh(t,e.length-n),e,n,r)}function Fx(e,t,n,r){return Ah(pN(t),e,n,r)}function tN(e,t,n,r){return Fx(e,t,n,r)}function nN(e,t,n,r){return Ah(jx(t),e,n,r)}function rN(e,t,n,r){return Ah(mN(t,e.length-n),e,n,r)}function iN(e,t,n){return t===0&&n===e.length?eE(e):eE(e.slice(t,n))}function Lx(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}c===null?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return oN(r)}function oN(e){var t=e.length;if(t<=rE)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=rE));return n}function sN(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function aN(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function lN(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=hN(e[o]);return i}function uN(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function bn(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Kn(e,t,n,r,i,o){if(!Ei(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function Gf(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function Wf(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function Bx(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function iE(e,t,n,r,i){return i||Bx(e,t,n,4),kx(e,t,n,r,23,4),n+4}function oE(e,t,n,r,i){return i||Bx(e,t,n,8),kx(e,t,n,r,52,8),n+8}function dN(e){if((e=fN(e).replace(cN,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function fN(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function hN(e){return e<16?"0"+e.toString(16):e.toString(16)}function lh(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function pN(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function mN(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}function jx(e){return HR(dN(e))}function Ah(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function gN(e){return e!=e}function yN(e){return e!=null&&(!!e._isBuffer||Ux(e)||_N(e))}function Ux(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function _N(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Ux(e.slice(0,0))}function vN(e,t,n,r){let i=1+~e&e,o=1+~t&t,s=1+~n&n,a=1+~r&r,l=e/i+1,u=t/o+1,c=n/s+1,d=r/a+1;return{shiftRed:h=>(h&e)/i*256/l,shiftGreen:h=>(h&t)/o*256/u,shiftBlue:h=>(h&n)/s*256/c,shiftAlpha:r!==0?h=>(h&r)/a*256/d:()=>255}}function sE(e){return e.reduce((t,n)=>t<<1|n,0)}function r1(e){return e.quad<<24|e.red<<16|e.green<<8|e.blue}function bN(e,t){return new A1(e,t)}function wN(e){return new T1(e)}function uh(e){return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function qe(e,t){if(t=t||{},(e=e||"")instanceof qe)return e;if(!(this instanceof qe))return new qe(e,t);var n=DN(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function DN(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof e=="string"&&(e=$N(e)),uh(e)=="object"&&(Wi(e.r)&&Wi(e.g)&&Wi(e.b)?(t=CN(e.r,e.g,e.b),s=!0,a=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Wi(e.h)&&Wi(e.s)&&Wi(e.v)?(r=Pu(e.s),i=Pu(e.v),t=SN(e.h,r,i),s=!0,a="hsv"):Wi(e.h)&&Wi(e.s)&&Wi(e.l)&&(r=Pu(e.s),o=Pu(e.l),t=IN(e.h,r,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=zx(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function CN(e,t,n){return{r:255*Ut(e,255),g:255*Ut(t,255),b:255*Ut(n,255)}}function aE(e,t,n){e=Ut(e,255),t=Ut(t,255),n=Ut(n,255);var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:a}}function IN(e,t,n){var r,i,o;function s(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+6*(c-u)*d:d<.5?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(e=Ut(e,360),t=Ut(t,100),n=Ut(n,100),t===0)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function lE(e,t,n){e=Ut(e,255),t=Ut(t,255),n=Ut(n,255);var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=o,l=o-s;if(i=o===0?0:l/o,o==s)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:a}}function SN(e,t,n){e=6*Ut(e,360),t=Ut(t,100),n=Ut(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}function uE(e,t,n,r){var i=[ei(Math.round(e).toString(16)),ei(Math.round(t).toString(16)),ei(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function MN(e,t,n,r,i){var o=[ei(Math.round(e).toString(16)),ei(Math.round(t).toString(16)),ei(Math.round(n).toString(16)),ei(Vx(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function cE(e,t,n,r){return[ei(Vx(r)),ei(Math.round(e).toString(16)),ei(Math.round(t).toString(16)),ei(Math.round(n).toString(16))].join("")}function AN(e,t){t=t===0?0:t||10;var n=qe(e).toHsl();return n.s-=t/100,n.s=Th(n.s),qe(n)}function TN(e,t){t=t===0?0:t||10;var n=qe(e).toHsl();return n.s+=t/100,n.s=Th(n.s),qe(n)}function kN(e){return qe(e).desaturate(100)}function RN(e,t){t=t===0?0:t||10;var n=qe(e).toHsl();return n.l+=t/100,n.l=Th(n.l),qe(n)}function NN(e,t){t=t===0?0:t||10;var n=qe(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),qe(n)}function ON(e,t){t=t===0?0:t||10;var n=qe(e).toHsl();return n.l-=t/100,n.l=Th(n.l),qe(n)}function PN(e,t){var n=qe(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,qe(n)}function FN(e){var t=qe(e).toHsl();return t.h=(t.h+180)%360,qe(t)}function dE(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=qe(e).toHsl(),r=[qe(e)],i=360/t,o=1;o<t;o++)r.push(qe({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function LN(e){var t=qe(e).toHsl(),n=t.h;return[qe(e),qe({h:(n+72)%360,s:t.s,l:t.l}),qe({h:(n+216)%360,s:t.s,l:t.l})]}function BN(e,t,n){t=t||6,n=n||30;var r=qe(e).toHsl(),i=360/n,o=[qe(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(qe(r));return o}function jN(e,t){t=t||6;for(var n=qe(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(qe({h:r,s:i,v:o})),o=(o+a)%1;return s}function zN(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function zx(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ut(e,t){VN(e)&&(e="100%");var n=HN(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Th(e){return Math.min(1,Math.max(0,e))}function ar(e){return parseInt(e,16)}function VN(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function HN(e){return typeof e=="string"&&e.indexOf("%")!=-1}function ei(e){return e.length==1?"0"+e:""+e}function Pu(e){return e<=1&&(e=100*e+"%"),e}function Vx(e){return Math.round(255*parseFloat(e)).toString(16)}function fE(e){return ar(e)/255}function Wi(e){return!!Kr.CSS_UNIT.exec(e)}function $N(e){e=e.replace(EN,"").replace(xN,"").toLowerCase();var t,n=!1;if(k1[e])e=k1[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(t=Kr.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=Kr.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Kr.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=Kr.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Kr.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=Kr.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Kr.hex8.exec(e))?{r:ar(t[1]),g:ar(t[2]),b:ar(t[3]),a:fE(t[4]),format:n?"name":"hex8"}:(t=Kr.hex6.exec(e))?{r:ar(t[1]),g:ar(t[2]),b:ar(t[3]),format:n?"name":"hex"}:(t=Kr.hex4.exec(e))?{r:ar(t[1]+""+t[1]),g:ar(t[2]+""+t[2]),b:ar(t[3]+""+t[3]),a:fE(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=Kr.hex3.exec(e))&&{r:ar(t[1]+""+t[1]),g:ar(t[2]+""+t[2]),b:ar(t[3]+""+t[3]),format:n?"name":"hex"}}function GN(e){var t,n;return(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&t!=="AAA"&&(t="AA"),(n=(e.size||"small").toLowerCase())!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}function Xi(e){let t={width:e.bitmap.width,height:e.bitmap.height,data:be.from(e.bitmap.data)};return new e.constructor(t)}function ks(e,t,n,r,i,o){let s,a,l,u,c;if(typeof t=="function")c=t,s=0,a=0,l=e.bitmap.width,u=e.bitmap.height;else{if(s=t,typeof n!="number")throw new Error("y must be a number");if(a=n,typeof r!="number")throw new Error("w must be a number");if(l=r,typeof i!="number")throw new Error("h must be a number");if(u=i,typeof o!="function")throw new Error("cb must be a function");c=o}s=Math.round(s),a=Math.round(a),l=Math.round(l),u=Math.round(u);let d=c.bind(e);for(let h=a;h<a+u;h++)for(let f=s;f<s+l;f++)d(f,h,e.bitmap.width*h+f<<2);return e}function*WN(e,t,n,r,i){t=Math.round(t),n=Math.round(n),r=Math.round(r),i=Math.round(i);for(let o=n;o<n+i;o++)for(let s=t;s<t+r;s++){let a=e.bitmap.width*o+s<<2;yield{x:s,y:o,idx:a,image:e}}}function Ja(e){if(typeof e!="number")throw new Error("i must be a number");let t={r:0,g:0,b:0,a:0};return t.r=Math.floor(e/Math.pow(256,3)),t.g=Math.floor((e-t.r*Math.pow(256,3))/Math.pow(256,2)),t.b=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2))/Math.pow(256,1)),t.a=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2)-t.b*Math.pow(256,1))/Math.pow(256,0)),t}function qN(e,t,n,r){if(typeof e!="number"||typeof t!="number"||typeof n!="number"||typeof r!="number")throw new Error("r, g, b and a must be numbers");if(e<0||e>255)throw new Error("r must be between 0 and 255");if(t<0||t>255)throw new Error("g must be between 0 and 255");if(n<0||n>255)throw new Error("b must be between 0 and 255");if(r<0||r>255)throw new Error("a must be between 0 and 255");let i=255&e;return i<<=8,i|=255&t,i<<=8,i|=255&n,i<<=8,i|=255&r,i>>>=0,i}function Fu(e,t){let n=s=>Math.pow(s,2),{max:r}=Math,i="a"in e?e.a:255,o="a"in t?t.a:255;return(r(n(e.r-t.r),n(e.r-t.r-i+o))+r(n(e.g-t.g),n(e.g-t.g-i+o))+r(n(e.b-t.b),n(e.b-t.b-i+o)))/195075}function dn(e){return e=Math.max(e,0),e=Math.min(e,255)}function Hx(e){return typeof e=="number"?e:parseInt(qe(e).toHex8(),16)}function $x(e,t={}){return ks({bitmap:e},0,0,e.width,e.height,function(n,r,i){let o=e.data[i+0],s=e.data[i+1],a=e.data[i+2],l=e.data[i+3];e.data[i+0]=l,e.data[i+1]=a,e.data[i+2]=s,e.data[i+3]=o}),wN(fe(fe({},e),t)).data}function Gx(e,t){let n=bN(e,t);return ks({bitmap:n},0,0,n.width,n.height,function(r,i,o){let s=n.data[o+1],a=n.data[o+2],l=n.data[o+3];n.data[o+0]=l,n.data[o+1]=a,n.data[o+2]=s,n.data[o+3]=255}),n}function ZN(){return{mime:"image/x-ms-bmp",encode:$x,decode:Gx}}function Wx(){return{mime:"image/bmp",encode:$x,decode:Gx}}function QN(e,t,n,r){var i=0,o=(r=r===void 0?{}:r).loop===void 0?null:r.loop,s=r.palette===void 0?null:r.palette;if(t<=0||n<=0||t>65535||n>65535)throw new Error("Width/Height invalid.");function a(m){var g=m.length;if(g<2||g>256||g&g-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return g}e[i++]=71,e[i++]=73,e[i++]=70,e[i++]=56,e[i++]=57,e[i++]=97;var l=0,u=0;if(s!==null){for(var c=a(s);c>>=1;)++l;if(c=1<<l,--l,r.background!==void 0){if((u=r.background)>=c)throw new Error("Background index out of range.");if(u===0)throw new Error("Background index explicitly passed as 0.")}}if(e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=(s!==null?128:0)|l,e[i++]=u,e[i++]=0,s!==null)for(var d=0,h=s.length;d<h;++d){var f=s[d];e[i++]=f>>16&255,e[i++]=f>>8&255,e[i++]=255&f}if(o!==null){if(o<0||o>65535)throw new Error("Loop count invalid.");e[i++]=33,e[i++]=255,e[i++]=11,e[i++]=78,e[i++]=69,e[i++]=84,e[i++]=83,e[i++]=67,e[i++]=65,e[i++]=80,e[i++]=69,e[i++]=50,e[i++]=46,e[i++]=48,e[i++]=3,e[i++]=1,e[i++]=255&o,e[i++]=o>>8&255,e[i++]=0}var p=!1;this.addFrame=function(m,g,_,b,v,x){if(p===!0&&(--i,p=!1),x=x===void 0?{}:x,m<0||g<0||m>65535||g>65535)throw new Error("x/y invalid.");if(_<=0||b<=0||_>65535||b>65535)throw new Error("Width/Height invalid.");if(v.length<_*b)throw new Error("Not enough pixels for the frame size.");var D=!0,k=x.palette;if(k==null&&(D=!1,k=s),k==null)throw new Error("Must supply either a local or global palette.");for(var C=a(k),O=0;C>>=1;)++O;C=1<<O;var A=x.delay===void 0?0:x.delay,S=x.disposal===void 0?0:x.disposal;if(S<0||S>3)throw new Error("Disposal out of range.");var w=!1,y=0;if(x.transparent!==void 0&&x.transparent!==null&&(w=!0,(y=x.transparent)<0||y>=C))throw new Error("Transparent color index.");if((S!==0||w||A!==0)&&(e[i++]=33,e[i++]=249,e[i++]=4,e[i++]=S<<2|(w===!0?1:0),e[i++]=255&A,e[i++]=A>>8&255,e[i++]=y,e[i++]=0),e[i++]=44,e[i++]=255&m,e[i++]=m>>8&255,e[i++]=255&g,e[i++]=g>>8&255,e[i++]=255&_,e[i++]=_>>8&255,e[i++]=255&b,e[i++]=b>>8&255,e[i++]=D===!0?128|O-1:0,D===!0)for(var z=0,U=k.length;z<U;++z){var P=k[z];e[i++]=P>>16&255,e[i++]=P>>8&255,e[i++]=255&P}return i=JN(e,i,O<2?2:O,v)},this.end=function(){return p===!1&&(e[i++]=59,p=!0),i},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(m){e=m},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(m){i=m}}function JN(e,t,n,r){e[t++]=n;var i=t++,o=1<<n,s=o-1,a=o+1,l=a+1,u=n+1,c=0,d=0;function h(D){for(;c>=D;)e[t++]=255&d,d>>=8,c-=8,t===i+256&&(e[i]=255,i=t++)}function f(D){d|=D<<c,c+=u,h(8)}var p=r[0]&s,m={};f(o);for(var g=1,_=r.length;g<_;++g){var b=r[g]&s,v=p<<8|b,x=m[v];if(x===void 0){for(d|=p<<c,c+=u;c>=8;)e[t++]=255&d,d>>=8,c-=8,t===i+256&&(e[i]=255,i=t++);l===4096?(f(o),l=a+1,u=n+1,m={}):(l>=1<<u&&++u,m[v]=l++),p=b}else p=x}return f(p),f(a),h(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0),t}function XN(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,s=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;o&&(a=t,l=s,t+=3*s);var u=!0,c=[],d=0,h=null,f=0,p=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((w=e[t++])>=0))throw Error("Invalid block size");if(w===0)break;t+=w}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],1&m||(h=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((w=e[t++])>=0))throw Error("Invalid block size");if(w===0)break;t+=w}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,x=e[t++],D=x>>6&1,k=1<<(7&x)+1,C=a,O=l,A=!1;x>>7&&(A=!0,C=t,O=k,t+=3*k);var S=t;for(t++;;){var w;if(!((w=e[t++])>=0))throw Error("Invalid block size");if(w===0)break;t+=w}c.push({x:g,y:_,width:b,height:v,has_local_palette:A,palette_offset:C,palette_size:O,data_offset:S,data_length:t-S,transparent_index:h,interlaced:!!D,delay:d,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(y){if(y<0||y>=c.length)throw new Error("Frame index out of range.");return c[y]},this.decodeAndBlitFrameBGRA=function(y,z){var U=this.frameInfo(y),P=U.width*U.height,V=new Uint8Array(P);hE(e,U.data_offset,V,P);var Z=U.palette_offset,Y=U.transparent_index;Y===null&&(Y=256);var H=U.width,q=n-H,W=H,Q=4*(U.y*n+U.x),ee=4*((U.y+U.height)*n+U.x),ne=Q,J=4*q;U.interlaced===!0&&(J+=4*n*7);for(var X=8,ie=0,le=V.length;ie<le;++ie){var ue=V[ie];if(W===0&&(W=H,(ne+=J)>=ee&&(J=4*q+4*n*(X-1),ne=Q+(H+q)*(X<<1),X>>=1)),ue===Y)ne+=4;else{var te=e[Z+3*ue],T=e[Z+3*ue+1],I=e[Z+3*ue+2];z[ne++]=I,z[ne++]=T,z[ne++]=te,z[ne++]=255}--W}},this.decodeAndBlitFrameRGBA=function(y,z){var U=this.frameInfo(y),P=U.width*U.height,V=new Uint8Array(P);hE(e,U.data_offset,V,P);var Z=U.palette_offset,Y=U.transparent_index;Y===null&&(Y=256);var H=U.width,q=n-H,W=H,Q=4*(U.y*n+U.x),ee=4*((U.y+U.height)*n+U.x),ne=Q,J=4*q;U.interlaced===!0&&(J+=4*n*7);for(var X=8,ie=0,le=V.length;ie<le;++ie){var ue=V[ie];if(W===0&&(W=H,(ne+=J)>=ee&&(J=4*q+4*n*(X-1),ne=Q+(H+q)*(X<<1),X>>=1)),ue===Y)ne+=4;else{var te=e[Z+3*ue],T=e[Z+3*ue+1],I=e[Z+3*ue+2];z[ne++]=te,z[ne++]=T,z[ne++]=I,z[ne++]=255}--W}}}function hE(e,t,n,r){for(var i=e[t++],o=1<<i,s=o+1,a=s+1,l=i+1,u=(1<<l)-1,c=0,d=0,h=0,f=e[t++],p=new Int32Array(4096),m=null;;){for(;c<16&&f!==0;)d|=e[t++]<<c,c+=8,f===1?f=e[t++]:--f;if(c<l)break;var g=d&u;if(d>>=l,c-=l,g!==o){if(g===s)break;for(var _=g<a?g:m,b=0,v=_;v>o;)v=p[v]>>8,++b;var x=v;if(h+b+(_!==g?1:0)>r)return void console.log("Warning, gif stream longer than expected.");n[h++]=x;var D=h+=b;for(_!==g&&(n[h++]=x),v=_;b--;)v=p[v],n[--D]=255&v,v>>=8;m!==null&&a<4096&&(p[a++]=m<<8|x,a>=u+1&&l<12&&(++l,u=u<<1|1)),m=g}else a=s+1,u=(1<<(l=i+1))-1,m=null}return h!==r&&console.log("Warning, gif stream shorter than expected."),n}function o1(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}function tD(e,t,n){return{x:.4124*(e=o1(e/255))+.3576*(t=o1(t/255))+.1805*(n=o1(n/255)),y:.2126*e+.7152*t+.0722*n,z:.0193*e+.1192*t+.9505*n}}function Mo(e){return e*(Math.PI/180)}function rD(e,t,n){let r=e;return r<t&&(r=t),r<n&&(r=n),r}function iD(e,t,n){let r=e;return r>t&&(r=t),r>n&&(r=n),r}function d4(e,t,n){return e>n&&(e=n),e<t&&(e=t),0|e}function Rr(e){return(e=Math.round(e))>255?e=255:e<0&&(e=0),e}function dr(e){return e>255?e=255:e<0&&(e=0),e}function ry(e,t){let n=typeof e[0],r;if(n==="number"||n==="string"){let i=Object.create(null);for(let o=0,s=e.length;o<s;o++){let a=e[o];i[a]||i[a]===0||(i[a]=o)}r=e.sort((o,s)=>t(o,s)||i[o]-i[s])}else{let i=e.slice(0);r=e.sort((o,s)=>t(o,s)||i.indexOf(o)-i.indexOf(s))}return r}function dh(e,t,n){let r=iD(e,t,n),i=rD(e,t,n),o=i-r,s=(r+i)/510,a=0;s>0&&s<1&&(a=o/(s<.5?i+r:510-i-r));let l=0;return o>0&&(l=i===e?(t-n)/o:i===t?2+(n-e)/o:4+(e-t)/o,l*=60,l<0&&(l+=360)),{h:l,s:a,l:s}}function s1(e){return e>.008856?e**(1/3):7.787*e+16/116}function oD(e,t,n){if(e=s1(e/f4),t=s1(t/h4),n=s1(n/p4),116*t-16<0)throw new Error("xxx");return{L:Math.max(0,116*t-16),a:500*(e-t),b:200*(t-n)}}function qu(e,t,n){let r=tD(e,t,n);return oD(r.x,r.y,r.z)}function a1(e){return e>.206893034?e**3:(e-16/116)/7.787}function sD(e,t,n){let r=(e+16)/116,i=r-n/200;return{x:m4*a1(t/500+r),y:g4*a1(r),z:y4*a1(i)}}function l1(e){return e>.0031308?1.055*e**(1/2.4)-.055:12.92*e}function aD(e,t,n){let r=l1(3.2406*e+-1.5372*t+-.4986*n),i=l1(-.9689*e+1.8758*t+.0415*n),o=l1(.0557*e+-.204*t+1.057*n);return{r:Rr(255*r),g:Rr(255*i),b:Rr(255*o)}}function _4(e,t,n){let r=sD(e,t,n);return aD(r.x,r.y,r.z)}function R1(e,t){let n=360/t;for(let r=1,i=n-n/2;r<t;r++,i+=n)if(e>=i&&e<i+n)return r;return 0}function Ba(e){let t=[];for(let n=0;n<e;n++)t[n]=0;return t}function ja(e,t,n,r){let i=new Array(e);for(let o=0;o<e;o++){i[o]=new Array(t);for(let s=0;s<t;s++){i[o][s]=new Array(n);for(let a=0;a<n;a++){i[o][s][a]=new Array(r);for(let l=0;l<r;l++)i[o][s][a][l]=0}}}return i}function Ua(e,t,n){let r=new Array(e);for(let i=0;i<e;i++){r[i]=new Array(t);for(let o=0;o<t;o++){r[i][o]=new Array(n);for(let s=0;s<n;s++)r[i][o][s]=0}}return r}function za(e,t,n,r,i){for(let o=0;o<t;o++){e[o]=[];for(let s=0;s<n;s++){e[o][s]=[];for(let a=0;a<r;a++)e[o][s][a]=i}}}function Va(e,t,n){for(let r=0;r<t;r++)e[r]=n}function*x4(e,t,n){let r=Math.max(e,t),i={width:e,height:t,level:Math.floor(Math.log(r)/Math.log(2)+1),callback:n,tracker:new to(e*t,99),index:0,x:0,y:0};yield*at(In(i,1)),lr(i,0)}function*In(e,t){if(!(e.level<1)){switch(e.tracker.shouldNotify(e.index)&&(yield{progress:e.tracker.progress}),e.level--,t){case 2:yield*at(In(e,1)),lr(e,3),yield*at(In(e,2)),lr(e,4),yield*at(In(e,2)),lr(e,2),yield*at(In(e,4));break;case 3:yield*at(In(e,4)),lr(e,2),yield*at(In(e,3)),lr(e,1),yield*at(In(e,3)),lr(e,3),yield*at(In(e,1));break;case 1:yield*at(In(e,2)),lr(e,4),yield*at(In(e,1)),lr(e,3),yield*at(In(e,1)),lr(e,1),yield*at(In(e,3));break;case 4:yield*at(In(e,3)),lr(e,1),yield*at(In(e,4)),lr(e,2),yield*at(In(e,4)),lr(e,4),yield*at(In(e,2))}e.level++}}function lr(e,t){switch(e.x>=0&&e.x<e.width&&e.y>=0&&e.y<e.height&&(e.callback(e.x,e.y),e.index++),t){case 2:e.x--;break;case 3:e.x++;break;case 1:e.y--;break;case 4:e.y++}}function I4(e,t){if(e.getHeight()!==t.getHeight()||e.getWidth()!==t.getWidth())throw new Error("Images have different sizes!");let n=(255*D4)**2,r=(255*C4)**2,i=0,o=0;return S4(e,t,(s,a,l,u)=>{let c=0,d=0,h=0;for(let p=0;p<s.length;p++)d+=(s[p]-l)**2,h+=(a[p]-u)**2,c+=(s[p]-l)*(a[p]-u);let f=s.length-1;d/=f,h/=f,c/=f,o+=(2*l*u+n)*(2*c+r)/((l**2+u**2+n)*(d+h+r)),i++}),o/i}function S4(e,t,n){let r=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o+=8)for(let s=0;s<r;s+=8){let a=Math.min(8,r-s),l=Math.min(8,i-o),u=gE(e,s,o,a,l),c=gE(t,s,o,a,l);n(u,c,yE(u),yE(c))}}function gE(e,t,n,r,i){let o=e.getPointArray(),s=[],a=0;for(let l=n;l<n+i;l++){let u=l*e.getWidth();for(let c=t;c<t+r;c++){let d=o[u+c];s[a]=.2126*d.r+.7152*d.g+.0722*d.b,a++}}return s}function yE(e){let t=0;for(let n of e)t+=n;return t/e.length}function M4(e,{colorDistanceFormula:t,paletteQuantization:n,colors:r}={}){let i=kD(Ph(t),n,r);return e.forEach(o=>i.sample(o)),i.quantizeSync()}function A4(o){return Pe(this,arguments,function*(e,{colorDistanceFormula:t,paletteQuantization:n,colors:r,onProgress:i}={}){return new Promise((s,a)=>{let l=kD(Ph(t),n,r),u;e.forEach(h=>l.sample(h));let c=l.quantize(),d=()=>{try{let h=c.next();h.done?s(u):(h.value.palette&&(u=h.value.palette),i&&i(h.value.progress),fh(d))}catch(h){a(h)}};fh(d)})})}function T4(e,t,{colorDistanceFormula:n,imageQuantization:r}={}){return TD(Ph(n),r).quantizeSync(e,t)}function k4(o,s){return Pe(this,arguments,function*(e,t,{colorDistanceFormula:n,imageQuantization:r,onProgress:i}={}){return new Promise((a,l)=>{let u,c=TD(Ph(n),r).quantize(e,t),d=()=>{try{let h=c.next();h.done?a(u):(h.value.pointContainer&&(u=h.value.pointContainer),i&&i(h.value.progress),fh(d))}catch(h){l(h)}};fh(d)})})}function Ph(e="euclidean-bt709"){switch(e){case"cie94-graphic-arts":return new dD;case"cie94-textiles":return new cD;case"ciede2000":return new Qr;case"color-metric":return new fD;case"euclidean":return new hD;case"euclidean-bt709":return new pD;case"euclidean-bt709-noalpha":return new mD;case"manhattan":return new gD;case"manhattan-bt709":return new _D;case"manhattan-nommyde":return new yD;case"pngquant":return new vD;default:throw new Error(`Unknown colorDistanceFormula ${e}`)}}function TD(e,t="floyd-steinberg"){switch(t){case"nearest":return new SD(e);case"riemersma":return new iy(e);case"floyd-steinberg":return new vi(e,0);case"false-floyd-steinberg":return new vi(e,1);case"stucki":return new vi(e,2);case"atkinson":return new vi(e,3);case"jarvis":return new vi(e,4);case"burkes":return new vi(e,5);case"sierra":return new vi(e,6);case"two-sierra":return new vi(e,7);case"sierra-lite":return new vi(e,8);default:throw new Error(`Unknown imageQuantization ${t}`)}}function kD(e,t="wuquant",n=256){switch(t){case"neuquant":return new $t(e,n);case"rgbquant":return new DD(e,n);case"wuquant":return new el(e,n);case"neuquant-float":return new Gt(e,n);default:throw new Error(`Unknown paletteQuantization ${t}`)}}function RD(){return vE||(vE=1,(function(e){let t=r4,n=R4,r=ny,{GifFrame:i}=Fh,{GifError:o}=Wu,{GifCodec:s}=ND(),a=[".jpg",".jpeg",".png",".bmp"],l=new s;function u(c,d,h,f,p){let m=Array.isArray(c)?c:[c];if(p){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(p.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${p.ditherAlgorithm}'`);p.serpentine===void 0&&(p.serpentine=!0),p.minimumColorDistanceToDither===void 0&&(p.minimumColorDistanceToDither=0),p.calculateErrorLikeGIMP===void 0&&(p.calculateErrorLikeGIMP=!1)}let g=new n.distance.Euclidean,_=new n.palette[d](g,h,f),b;b=p?new n.image.ErrorDiffusionArray(g,n.image.ErrorDiffusionArrayKernel[p.ditherAlgorithm],p.serpentine,p.minimumColorDistanceToDither,p.calculateErrorLikeGIMP):new n.image.NearestColor(g);let v=[];m.forEach(D=>{let k=D.bitmap.data,C=new ArrayBuffer(k.length),O=new Uint32Array(C);for(let S=0,w=0;S<k.length;S+=4,++w)O[w]=k.readUInt32LE(S,!0);let A=n.utils.PointContainer.fromUint32Array(O,D.bitmap.width,D.bitmap.height);_.sample(A),v.push(A)});let x=_.quantizeSync();for(let D=0;D<m.length;++D){let k=m[D].bitmap.data,C=b.quantizeSync(v[D],x).toUint32Array();for(let O=0,A=0;O<k.length;O+=4,++A)k.writeUInt32LE(C[A],O)}}e.cloneFrames=function(c){let d=[];return c.forEach(h=>{d.push(new i(h))}),d},e.getColorInfo=function(c,d){let h=!1,f=[];for(let b=0;b<c.length;++b){let v=c[b].getPalette();if(v.usesTransparency&&(h=!0),v.indexCount>256)throw new o(`Frame ${b} uses more than 256 color indexes`);f.push(v)}if(d===0)return{usesTransparency:h,palettes:f};let p=new Set;f.forEach(b=>{b.colors.forEach(v=>{p.add(v)})});let m=p.size;if(h&&++m,d&&m>d)return{usesTransparency:h,palettes:f};let g=new Array(p.size),_=p.values();for(let b=0;b<g.length;++b)g[b]=_.next().value;return g.sort((b,v)=>b-v),{colors:g,indexCount:m,usesTransparency:h,palettes:f}},e.copyAsJimp=function(c,d){return e.shareAsJimp(c,new r(d))},e.getMaxDimensions=function(c){let d=0,h=0;return c.forEach(f=>{let p=f.xOffset+f.bitmap.width;p>d&&(d=p);let m=f.yOffset+f.bitmap.height;m>h&&(h=m)}),{maxWidth:d,maxHeight:h}},e.quantizeDekker=function(c,d,h){u(c,"NeuQuantFloat",d=d||256,0,h)},e.quantizeSorokin=function(c,d,h,f){let p;switch(d=d||256,h=h||"min-pop"){case"min-pop":p=2;break;case"top-pop":p=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${h}'`)}u(c,"RGBQuant",d,p,f)},e.quantizeWu=function(c,d,h,f){if(d=d||256,(h=h||5)<1||h>8)throw new Error("Invalid quantization quality");u(c,"WuQuant",d,h,f)},e.read=function(c,d){return d=d||l,be.isBuffer(c)?d.decodeGif(c):(function(h){return new Promise((f,p)=>{t.readFile(h,(m,g)=>m?p(m):f(g))})})(c).then(h=>d.decodeGif(h))},e.shareAsJimp=function(c,d){let h=new c(d.bitmap.width,d.bitmap.height,0);return h.bitmap.data=d.bitmap.data,h},e.write=function(c,d,h,f){f=f||l;let p=c.match(/\.[a-zA-Z]+$/);if(p!==null&&a.includes(p[0].toLowerCase()))throw new Error(`GIF '${c}' has an unexpected suffix`);return f.encodeGif(d,h).then(m=>(function(g,_){return new Promise((b,v)=>{t.writeFile(g,_,x=>x?v(x):b())})})(c,m.buffer).then(()=>m))}})(pE)),pE}function ND(){if(bE)return i1;bE=1;let e=ch,{Gif:t,GifError:n}=Wu;function r(){let d=RD();return r=function(){return d},d}let{GifFrame:i}=Fh;function o(d,h){let f=d.indexOf(h);return f===-1?null:f}function s(d,h){for(var f,p=0,m=d.length-1;p<=m;)if(d[f=Math.floor((p+m)/2)]>h)m=f-1;else{if(!(d[f]<h))return f;p=f+1}return null}function a(d){let h=d.colors;d.usesTransparency&&h.push(0);let f=h.length,p=2;for(;f>p;)p<<=1;h.length=p,h.fill(0,f)}function l(d,h){let f=d.bitmap.width*d.bitmap.height;return f=Math.ceil(f*h/8),f+=Math.ceil(f/255),100+f+768}function u(d){let h=d.indexCount,f=0;for(--h;h;)++f,h>>=1;return f>0?f:1}function c(d,h,f,p,m){if(f.interlaced)throw new n("writing interlaced GIFs is not supported");let g=(function(b,v,x){let D=x.colors,k=D.length<=8?o:s,C=v.bitmap.data,O=new be(C.length/4),A=D.length,S=0,w=0;for(;S<C.length;){if(C[S+3]!==0){let y=C.readUInt32BE(S,!0)>>8&16777215;O[w]=k(D,y)}else O[w]=A;S+=4,++w}if(x.usesTransparency){if(A===256)throw new n(`Frame ${b} already has 256 colorsand so can't use transparency`)}else A=null;return{buffer:O,transparentIndex:A}})(h,f,p),_={delay:f.delayCentisecs,disposal:f.disposalMethod,transparent:g.transparentIndex};m&&(a(p),_.palette=p.colors);try{let b,v=d.getOutputBuffer(),x=d.getOutputBufferPosition(),D=!0;for(;D;)if(b=d.addFrame(f.xOffset,f.yOffset,f.bitmap.width,f.bitmap.height,g.buffer,_),D=!1,b>=v.length-1){let k=new be(1.5*v.length);v.copy(k),d.setOutputBuffer(k),d.setOutputBufferPosition(x),v=k,D=!0}return v}catch(b){throw new n(b)}}return i1.GifCodec=class{constructor(d={}){this._transparentRGB=null,typeof d.transparentRGB=="number"&&d.transparentRGB!==0&&(this._transparentRGBA=256*d.transparentRGB),this._testInitialBufferSize=0}decodeGif(d){try{let h;try{h=new e.GifReader(d)}catch(g){throw new n(g)}let f=h.numFrames(),p=[],m={width:h.width,height:h.height,loops:h.loopCount(),usesTransparency:!1};for(let g=0;g<f;++g){let _=this._decodeFrame(h,g,m.usesTransparency);p.push(_.frame),_.usesTransparency&&(m.usesTransparency=!0)}return Promise.resolve(new t(d,p,m))}catch(h){return Promise.reject(h)}}encodeGif(d,h={}){try{if(d===null||d.length===0)throw new n("there are no frames");let f=r().getMaxDimensions(d);return(h=Object.assign({},h)).width=f.maxWidth,h.height=f.maxHeight,h.loops===void 0&&(h.loops=0),h.colorScope=h.colorScope||t.GlobalColorsPreferred,Promise.resolve(this._encodeGif(d,h))}catch(f){return Promise.reject(f)}}_decodeFrame(d,h,f){let p,m;try{if(p=d.frameInfo(h),m=new be(d.width*d.height*4),d.decodeAndBlitFrameRGBA(h,m),p.width!==d.width||p.height!==d.height){if(p.y&&(m=m.slice(p.y*d.width*4)),d.width>p.width)for(let _=0;_<p.height;++_)m.copy(m,_*p.width*4,4*(p.x+_*d.width),4*(p.x+_*d.width)+4*p.width);m=m.slice(0,p.width*p.height*4)}}catch(_){throw new n(_)}let g=!1;if(this._transparentRGBA===null){if(!f)for(let _=3;_<m.length;_+=4)m[_]===0&&(g=!0,_=m.length)}else for(let _=3;_<m.length;_+=4)m[_]===0&&(m.writeUInt32BE(this._transparentRGBA,_-3),g=!0);return{frame:new i(p.width,p.height,m,{xOffset:p.x,yOffset:p.y,disposalMethod:p.disposal,interlaced:p.interlaced,delayCentisecs:p.delay}),usesTransparency:g}}_encodeGif(d,h){let f;if(h.colorScope===t.LocalColorsOnly)f=r().getColorInfo(d,0);else if(f=r().getColorInfo(d,256),!f.colors){if(h.colorScope===t.GlobalColorsOnly)throw new n("Too many color indexes for global color table");h.colorScope=t.LocalColorsOnly}h.usesTransparency=f.usesTransparency;let p=f.palettes;return h.colorScope===t.LocalColorsOnly?(function(m,g,_,b){let v={loop:g.loops},x,D=new be(_);try{x=new e.GifWriter(D,g.width,g.height,v)}catch(k){throw new n(k)}for(let k=0;k<m.length;++k)D=c(x,k,m[k],b[k],!0);return new t(D.slice(0,x.end()),m,g)})(d,h,2e3,p):(function(m,g,_,b){let v={colors:b.colors.slice(),usesTransparency:b.usesTransparency};a(v);let x={palette:v.colors,loop:g.loops},D,k=new be(_);try{D=new e.GifWriter(k,g.width,g.height,x)}catch(C){throw new n(C)}for(let C=0;C<m.length;++C)k=c(D,C,m[C],b,!1);return new t(k.slice(0,D.end()),m,g)})(d,h,2e3,f)}_getSizeEstimateGlobal(d,h){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let f=968,p=u(d);return h.forEach(m=>{f+=l(m,p)}),f}_getSizeEstimateLocal(d,h){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let f=200;for(let p=0;p<h.length;++p){let m=u(d[p]);f+=l(h[p],m)}return f}},i1}function OD(){return{mime:"image/gif",encode:e=>Pe(null,null,function*(){let t=new Yf.BitmapImage(e);Yf.GifUtil.quantizeDekker(t,256);let n=new Yf.GifFrame(e);return(yield new Yf.GifCodec().encodeGif([n],{})).buffer}),decode:e=>{let t=new ch.GifReader(e),n=be.alloc(t.width*t.height*4);return t.decodeAndBlitFrameRGBA(0,n),{data:n,width:t.width,height:t.height}}}}function LD(){return{mime:"image/jpeg",encode:(e,{quality:t=100}={})=>EE.encode(e,t).data,decode:(e,t)=>EE.decode(e,t)}}function Bu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function oy(){return{mime:"image/png",hasAlpha:!0,encode:(e,a={})=>{var l=a,{deflateLevel:t=9,deflateStrategy:n=3,filterType:r=hh.AUTO,colorType:i,inputHasAlpha:o=!0}=l,s=vp(l,["deflateLevel","deflateStrategy","filterType","colorType","inputHasAlpha"]);let u=new u1.PNG({width:e.width,height:e.height});return u.data=e.data,u1.PNG.sync.write(u,ke(fe({},s),{deflateLevel:t,deflateStrategy:n,filterType:r,colorType:i!==void 0?i:o?Zu.COLOR_ALPHA:Zu.COLOR,inputHasAlpha:o}))},decode:(e,t)=>{let n=u1.PNG.sync.read(e,t);return{data:n.data,width:n.width,height:n.height}}}}function Lo(){return DE||(DE=1,(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,s){return Object.prototype.hasOwnProperty.call(o,s)}e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var l in a)n(a,l)&&(o[l]=a[l])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var r={arraySet:function(o,s,a,l,u){if(s.subarray&&o.subarray)o.set(s.subarray(a,a+l),u);else for(var c=0;c<l;c++)o[u+c]=s[a+c]},flattenChunks:function(o){var s,a,l,u,c,d;for(l=0,s=0,a=o.length;s<a;s++)l+=o[s].length;for(d=new Uint8Array(l),u=0,s=0,a=o.length;s<a;s++)c=o[s],d.set(c,u),u+=c.length;return d}},i={arraySet:function(o,s,a,l,u){for(var c=0;c<l;c++)o[u+c]=s[a+c]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)})(xE)),xE}function $4(){if(CE)return Ds;CE=1;var e=Lo(),t=0,n=1;function r(B){for(var L=B.length;--L>=0;)B[L]=0}var i=0,o=29,s=256,a=s+1+o,l=30,u=19,c=2*a+1,d=15,h=16,f=7,p=256,m=16,g=17,_=18,b=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],v=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(2*(a+2));r(k);var C=new Array(2*l);r(C);var O=new Array(512);r(O);var A=new Array(256);r(A);var S=new Array(o);r(S);var w,y,z,U=new Array(l);function P(B,L,M,R,G){this.static_tree=B,this.extra_bits=L,this.extra_base=M,this.elems=R,this.max_length=G,this.has_stree=B&&B.length}function V(B,L){this.dyn_tree=B,this.max_code=0,this.stat_desc=L}function Z(B){return B<256?O[B]:O[256+(B>>>7)]}function Y(B,L){B.pending_buf[B.pending++]=255&L,B.pending_buf[B.pending++]=L>>>8&255}function H(B,L,M){B.bi_valid>h-M?(B.bi_buf|=L<<B.bi_valid&65535,Y(B,B.bi_buf),B.bi_buf=L>>h-B.bi_valid,B.bi_valid+=M-h):(B.bi_buf|=L<<B.bi_valid&65535,B.bi_valid+=M)}function q(B,L,M){H(B,M[2*L],M[2*L+1])}function W(B,L){var M=0;do M|=1&B,B>>>=1,M<<=1;while(--L>0);return M>>>1}function Q(B,L,M){var R,G,E=new Array(d+1),N=0;for(R=1;R<=d;R++)E[R]=N=N+M[R-1]<<1;for(G=0;G<=L;G++){var F=B[2*G+1];F!==0&&(B[2*G]=W(E[F]++,F))}}function ee(B){var L;for(L=0;L<a;L++)B.dyn_ltree[2*L]=0;for(L=0;L<l;L++)B.dyn_dtree[2*L]=0;for(L=0;L<u;L++)B.bl_tree[2*L]=0;B.dyn_ltree[2*p]=1,B.opt_len=B.static_len=0,B.last_lit=B.matches=0}function ne(B){B.bi_valid>8?Y(B,B.bi_buf):B.bi_valid>0&&(B.pending_buf[B.pending++]=B.bi_buf),B.bi_buf=0,B.bi_valid=0}function J(B,L,M,R){var G=2*L,E=2*M;return B[G]<B[E]||B[G]===B[E]&&R[L]<=R[M]}function X(B,L,M){for(var R=B.heap[M],G=M<<1;G<=B.heap_len&&(G<B.heap_len&&J(L,B.heap[G+1],B.heap[G],B.depth)&&G++,!J(L,R,B.heap[G],B.depth));)B.heap[M]=B.heap[G],M=G,G<<=1;B.heap[M]=R}function ie(B,L,M){var R,G,E,N,F=0;if(B.last_lit!==0)do R=B.pending_buf[B.d_buf+2*F]<<8|B.pending_buf[B.d_buf+2*F+1],G=B.pending_buf[B.l_buf+F],F++,R===0?q(B,G,L):(q(B,(E=A[G])+s+1,L),(N=b[E])!==0&&H(B,G-=S[E],N),q(B,E=Z(--R),M),(N=v[E])!==0&&H(B,R-=U[E],N));while(F<B.last_lit);q(B,p,L)}function le(B,L){var M,R,G,E=L.dyn_tree,N=L.stat_desc.static_tree,F=L.stat_desc.has_stree,$=L.stat_desc.elems,oe=-1;for(B.heap_len=0,B.heap_max=c,M=0;M<$;M++)E[2*M]!==0?(B.heap[++B.heap_len]=oe=M,B.depth[M]=0):E[2*M+1]=0;for(;B.heap_len<2;)E[2*(G=B.heap[++B.heap_len]=oe<2?++oe:0)]=1,B.depth[G]=0,B.opt_len--,F&&(B.static_len-=N[2*G+1]);for(L.max_code=oe,M=B.heap_len>>1;M>=1;M--)X(B,E,M);G=$;do M=B.heap[1],B.heap[1]=B.heap[B.heap_len--],X(B,E,1),R=B.heap[1],B.heap[--B.heap_max]=M,B.heap[--B.heap_max]=R,E[2*G]=E[2*M]+E[2*R],B.depth[G]=(B.depth[M]>=B.depth[R]?B.depth[M]:B.depth[R])+1,E[2*M+1]=E[2*R+1]=G,B.heap[1]=G++,X(B,E,1);while(B.heap_len>=2);B.heap[--B.heap_max]=B.heap[1],(function(se,pe){var De,ge,Se,Ce,je,Ue,Te=pe.dyn_tree,Je=pe.max_code,Be=pe.stat_desc.static_tree,re=pe.stat_desc.has_stree,Ie=pe.stat_desc.extra_bits,ce=pe.stat_desc.extra_base,ye=pe.stat_desc.max_length,K=0;for(Ce=0;Ce<=d;Ce++)se.bl_count[Ce]=0;for(Te[2*se.heap[se.heap_max]+1]=0,De=se.heap_max+1;De<c;De++)(Ce=Te[2*Te[2*(ge=se.heap[De])+1]+1]+1)>ye&&(Ce=ye,K++),Te[2*ge+1]=Ce,ge>Je||(se.bl_count[Ce]++,je=0,ge>=ce&&(je=Ie[ge-ce]),Ue=Te[2*ge],se.opt_len+=Ue*(Ce+je),re&&(se.static_len+=Ue*(Be[2*ge+1]+je)));if(K!==0){do{for(Ce=ye-1;se.bl_count[Ce]===0;)Ce--;se.bl_count[Ce]--,se.bl_count[Ce+1]+=2,se.bl_count[ye]--,K-=2}while(K>0);for(Ce=ye;Ce!==0;Ce--)for(ge=se.bl_count[Ce];ge!==0;)(Se=se.heap[--De])>Je||(Te[2*Se+1]!==Ce&&(se.opt_len+=(Ce-Te[2*Se+1])*Te[2*Se],Te[2*Se+1]=Ce),ge--)}})(B,L),Q(E,oe,B.bl_count)}function ue(B,L,M){var R,G,E=-1,N=L[1],F=0,$=7,oe=4;for(N===0&&($=138,oe=3),L[2*(M+1)+1]=65535,R=0;R<=M;R++)G=N,N=L[2*(R+1)+1],++F<$&&G===N||(F<oe?B.bl_tree[2*G]+=F:G!==0?(G!==E&&B.bl_tree[2*G]++,B.bl_tree[2*m]++):F<=10?B.bl_tree[2*g]++:B.bl_tree[2*_]++,F=0,E=G,N===0?($=138,oe=3):G===N?($=6,oe=3):($=7,oe=4))}function te(B,L,M){var R,G,E=-1,N=L[1],F=0,$=7,oe=4;for(N===0&&($=138,oe=3),R=0;R<=M;R++)if(G=N,N=L[2*(R+1)+1],!(++F<$&&G===N)){if(F<oe)do q(B,G,B.bl_tree);while(--F!=0);else G!==0?(G!==E&&(q(B,G,B.bl_tree),F--),q(B,m,B.bl_tree),H(B,F-3,2)):F<=10?(q(B,g,B.bl_tree),H(B,F-3,3)):(q(B,_,B.bl_tree),H(B,F-11,7));F=0,E=G,N===0?($=138,oe=3):G===N?($=6,oe=3):($=7,oe=4)}}r(U);var T=!1;function I(B,L,M,R){H(B,(i<<1)+(R?1:0),3),(function(G,E,N,F){ne(G),Y(G,N),Y(G,~N),e.arraySet(G.pending_buf,G.window,E,N,G.pending),G.pending+=N})(B,L,M)}return Ds._tr_init=function(B){T||((function(){var L,M,R,G,E,N=new Array(d+1);for(R=0,G=0;G<o-1;G++)for(S[G]=R,L=0;L<1<<b[G];L++)A[R++]=G;for(A[R-1]=G,E=0,G=0;G<16;G++)for(U[G]=E,L=0;L<1<<v[G];L++)O[E++]=G;for(E>>=7;G<l;G++)for(U[G]=E<<7,L=0;L<1<<v[G]-7;L++)O[256+E++]=G;for(M=0;M<=d;M++)N[M]=0;for(L=0;L<=143;)k[2*L+1]=8,L++,N[8]++;for(;L<=255;)k[2*L+1]=9,L++,N[9]++;for(;L<=279;)k[2*L+1]=7,L++,N[7]++;for(;L<=287;)k[2*L+1]=8,L++,N[8]++;for(Q(k,a+1,N),L=0;L<l;L++)C[2*L+1]=5,C[2*L]=W(L,5);w=new P(k,b,s+1,a,d),y=new P(C,v,0,l,d),z=new P(new Array(0),x,0,u,f)})(),T=!0),B.l_desc=new V(B.dyn_ltree,w),B.d_desc=new V(B.dyn_dtree,y),B.bl_desc=new V(B.bl_tree,z),B.bi_buf=0,B.bi_valid=0,ee(B)},Ds._tr_stored_block=I,Ds._tr_flush_block=function(B,L,M,R){var G,E,N=0;B.level>0?(B.strm.data_type===2&&(B.strm.data_type=(function(F){var $,oe=4093624447;for($=0;$<=31;$++,oe>>>=1)if(1&oe&&F.dyn_ltree[2*$]!==0)return t;if(F.dyn_ltree[18]!==0||F.dyn_ltree[20]!==0||F.dyn_ltree[26]!==0)return n;for($=32;$<s;$++)if(F.dyn_ltree[2*$]!==0)return n;return t})(B)),le(B,B.l_desc),le(B,B.d_desc),N=(function(F){var $;for(ue(F,F.dyn_ltree,F.l_desc.max_code),ue(F,F.dyn_dtree,F.d_desc.max_code),le(F,F.bl_desc),$=u-1;$>=3&&F.bl_tree[2*D[$]+1]===0;$--);return F.opt_len+=3*($+1)+5+5+4,$})(B),G=B.opt_len+3+7>>>3,(E=B.static_len+3+7>>>3)<=G&&(G=E)):G=E=M+5,M+4<=G&&L!==-1?I(B,L,M,R):B.strategy===4||E===G?(H(B,2+(R?1:0),3),ie(B,k,C)):(H(B,4+(R?1:0),3),(function(F,$,oe,se){var pe;for(H(F,$-257,5),H(F,oe-1,5),H(F,se-4,4),pe=0;pe<se;pe++)H(F,F.bl_tree[2*D[pe]+1],3);te(F,F.dyn_ltree,$-1),te(F,F.dyn_dtree,oe-1)})(B,B.l_desc.max_code+1,B.d_desc.max_code+1,N+1),ie(B,B.dyn_ltree,B.dyn_dtree)),ee(B),R&&ne(B)},Ds._tr_tally=function(B,L,M){return B.pending_buf[B.d_buf+2*B.last_lit]=L>>>8&255,B.pending_buf[B.d_buf+2*B.last_lit+1]=255&L,B.pending_buf[B.l_buf+B.last_lit]=255&M,B.last_lit++,L===0?B.dyn_ltree[2*M]++:(B.matches++,L--,B.dyn_ltree[2*(A[M]+s+1)]++,B.dyn_dtree[2*Z(L)]++),B.last_lit===B.lit_bufsize-1},Ds._tr_align=function(B){H(B,2,3),q(B,p,k),(function(L){L.bi_valid===16?(Y(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):L.bi_valid>=8&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)})(B)},Ds}function UD(){return IE||(IE=1,c1=function(e,t,n,r){for(var i=65535&e,o=e>>>16&65535,s=0;n!==0;){n-=s=n>2e3?2e3:n;do o=o+(i=i+t[r++]|0)|0;while(--s);i%=65521,o%=65521}return i|o<<16}),c1}function zD(){if(SE)return d1;SE=1;var e=(function(){for(var t,n=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;n[r]=t}return n})();return d1=function(t,n,r,i){var o=e,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^n[a])];return~t},d1}function sy(){return AE?ME:(AE=1,ME={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function G4(){if(TE)return Yr;TE=1;var e,t=Lo(),n=$4(),r=UD(),i=zD(),o=sy(),s=0,a=4,l=0,u=-2,c=-1,d=4,h=2,f=8,p=9,m=286,g=30,_=19,b=2*m+1,v=15,x=3,D=258,k=D+x+1,C=42,O=103,A=113,S=666,w=1,y=2,z=3,U=4;function P(T,I){return T.msg=o[I],I}function V(T){return(T<<1)-(T>4?9:0)}function Z(T){for(var I=T.length;--I>=0;)T[I]=0}function Y(T){var I=T.state,B=I.pending;B>T.avail_out&&(B=T.avail_out),B!==0&&(t.arraySet(T.output,I.pending_buf,I.pending_out,B,T.next_out),T.next_out+=B,I.pending_out+=B,T.total_out+=B,T.avail_out-=B,I.pending-=B,I.pending===0&&(I.pending_out=0))}function H(T,I){n._tr_flush_block(T,T.block_start>=0?T.block_start:-1,T.strstart-T.block_start,I),T.block_start=T.strstart,Y(T.strm)}function q(T,I){T.pending_buf[T.pending++]=I}function W(T,I){T.pending_buf[T.pending++]=I>>>8&255,T.pending_buf[T.pending++]=255&I}function Q(T,I){var B,L,M=T.max_chain_length,R=T.strstart,G=T.prev_length,E=T.nice_match,N=T.strstart>T.w_size-k?T.strstart-(T.w_size-k):0,F=T.window,$=T.w_mask,oe=T.prev,se=T.strstart+D,pe=F[R+G-1],De=F[R+G];T.prev_length>=T.good_match&&(M>>=2),E>T.lookahead&&(E=T.lookahead);do if(F[(B=I)+G]===De&&F[B+G-1]===pe&&F[B]===F[R]&&F[++B]===F[R+1]){R+=2,B++;do;while(F[++R]===F[++B]&&F[++R]===F[++B]&&F[++R]===F[++B]&&F[++R]===F[++B]&&F[++R]===F[++B]&&F[++R]===F[++B]&&F[++R]===F[++B]&&F[++R]===F[++B]&&R<se);if(L=D-(se-R),R=se-D,L>G){if(T.match_start=I,G=L,L>=E)break;pe=F[R+G-1],De=F[R+G]}}while((I=oe[I&$])>N&&--M!=0);return G<=T.lookahead?G:T.lookahead}function ee(T){var I,B,L,M,R,G,E,N,F,$,oe=T.w_size;do{if(M=T.window_size-T.lookahead-T.strstart,T.strstart>=oe+(oe-k)){t.arraySet(T.window,T.window,oe,oe,0),T.match_start-=oe,T.strstart-=oe,T.block_start-=oe,I=B=T.hash_size;do L=T.head[--I],T.head[I]=L>=oe?L-oe:0;while(--B);I=B=oe;do L=T.prev[--I],T.prev[I]=L>=oe?L-oe:0;while(--B);M+=oe}if(T.strm.avail_in===0)break;if(G=T.strm,E=T.window,N=T.strstart+T.lookahead,F=M,$=void 0,($=G.avail_in)>F&&($=F),B=$===0?0:(G.avail_in-=$,t.arraySet(E,G.input,G.next_in,$,N),G.state.wrap===1?G.adler=r(G.adler,E,$,N):G.state.wrap===2&&(G.adler=i(G.adler,E,$,N)),G.next_in+=$,G.total_in+=$,$),T.lookahead+=B,T.lookahead+T.insert>=x)for(R=T.strstart-T.insert,T.ins_h=T.window[R],T.ins_h=(T.ins_h<<T.hash_shift^T.window[R+1])&T.hash_mask;T.insert&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[R+x-1])&T.hash_mask,T.prev[R&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=R,R++,T.insert--,!(T.lookahead+T.insert<x)););}while(T.lookahead<k&&T.strm.avail_in!==0)}function ne(T,I){for(var B,L;;){if(T.lookahead<k){if(ee(T),T.lookahead<k&&I===s)return w;if(T.lookahead===0)break}if(B=0,T.lookahead>=x&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+x-1])&T.hash_mask,B=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),B!==0&&T.strstart-B<=T.w_size-k&&(T.match_length=Q(T,B)),T.match_length>=x)if(L=n._tr_tally(T,T.strstart-T.match_start,T.match_length-x),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=x){T.match_length--;do T.strstart++,T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+x-1])&T.hash_mask,B=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart;while(--T.match_length!=0);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+1])&T.hash_mask;else L=n._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(L&&(H(T,!1),T.strm.avail_out===0))return w}return T.insert=T.strstart<x-1?T.strstart:x-1,I===a?(H(T,!0),T.strm.avail_out===0?z:U):T.last_lit&&(H(T,!1),T.strm.avail_out===0)?w:y}function J(T,I){for(var B,L,M;;){if(T.lookahead<k){if(ee(T),T.lookahead<k&&I===s)return w;if(T.lookahead===0)break}if(B=0,T.lookahead>=x&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+x-1])&T.hash_mask,B=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=x-1,B!==0&&T.prev_length<T.max_lazy_match&&T.strstart-B<=T.w_size-k&&(T.match_length=Q(T,B),T.match_length<=5&&(T.strategy===1||T.match_length===x&&T.strstart-T.match_start>4096)&&(T.match_length=x-1)),T.prev_length>=x&&T.match_length<=T.prev_length){M=T.strstart+T.lookahead-x,L=n._tr_tally(T,T.strstart-1-T.prev_match,T.prev_length-x),T.lookahead-=T.prev_length-1,T.prev_length-=2;do++T.strstart<=M&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+x-1])&T.hash_mask,B=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart);while(--T.prev_length!=0);if(T.match_available=0,T.match_length=x-1,T.strstart++,L&&(H(T,!1),T.strm.avail_out===0))return w}else if(T.match_available){if((L=n._tr_tally(T,0,T.window[T.strstart-1]))&&H(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return w}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(L=n._tr_tally(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<x-1?T.strstart:x-1,I===a?(H(T,!0),T.strm.avail_out===0?z:U):T.last_lit&&(H(T,!1),T.strm.avail_out===0)?w:y}function X(T,I,B,L,M){this.good_length=T,this.max_lazy=I,this.nice_length=B,this.max_chain=L,this.func=M}function ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(2*b),this.dyn_dtree=new t.Buf16(2*(2*g+1)),this.bl_tree=new t.Buf16(2*(2*_+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(v+1),this.heap=new t.Buf16(2*m+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(2*m+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function le(T){var I;return T&&T.state?(T.total_in=T.total_out=0,T.data_type=h,(I=T.state).pending=0,I.pending_out=0,I.wrap<0&&(I.wrap=-I.wrap),I.status=I.wrap?C:A,T.adler=I.wrap===2?0:1,I.last_flush=s,n._tr_init(I),l):P(T,u)}function ue(T){var I=le(T);return I===l&&(function(B){B.window_size=2*B.w_size,Z(B.head),B.max_lazy_match=e[B.level].max_lazy,B.good_match=e[B.level].good_length,B.nice_match=e[B.level].nice_length,B.max_chain_length=e[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=x-1,B.match_available=0,B.ins_h=0})(T.state),I}function te(T,I,B,L,M,R){if(!T)return u;var G=1;if(I===c&&(I=6),L<0?(G=0,L=-L):L>15&&(G=2,L-=16),M<1||M>p||B!==f||L<8||L>15||I<0||I>9||R<0||R>d)return P(T,u);L===8&&(L=9);var E=new ie;return T.state=E,E.strm=T,E.wrap=G,E.gzhead=null,E.w_bits=L,E.w_size=1<<E.w_bits,E.w_mask=E.w_size-1,E.hash_bits=M+7,E.hash_size=1<<E.hash_bits,E.hash_mask=E.hash_size-1,E.hash_shift=~~((E.hash_bits+x-1)/x),E.window=new t.Buf8(2*E.w_size),E.head=new t.Buf16(E.hash_size),E.prev=new t.Buf16(E.w_size),E.lit_bufsize=1<<M+6,E.pending_buf_size=4*E.lit_bufsize,E.pending_buf=new t.Buf8(E.pending_buf_size),E.d_buf=1*E.lit_bufsize,E.l_buf=3*E.lit_bufsize,E.level=I,E.strategy=R,E.method=B,ue(T)}return e=[new X(0,0,0,0,function(T,I){var B=65535;for(B>T.pending_buf_size-5&&(B=T.pending_buf_size-5);;){if(T.lookahead<=1){if(ee(T),T.lookahead===0&&I===s)return w;if(T.lookahead===0)break}T.strstart+=T.lookahead,T.lookahead=0;var L=T.block_start+B;if((T.strstart===0||T.strstart>=L)&&(T.lookahead=T.strstart-L,T.strstart=L,H(T,!1),T.strm.avail_out===0)||T.strstart-T.block_start>=T.w_size-k&&(H(T,!1),T.strm.avail_out===0))return w}return T.insert=0,I===a?(H(T,!0),T.strm.avail_out===0?z:U):(T.strstart>T.block_start&&(H(T,!1),T.strm.avail_out),w)}),new X(4,4,8,4,ne),new X(4,5,16,8,ne),new X(4,6,32,32,ne),new X(4,4,16,16,J),new X(8,16,32,32,J),new X(8,16,128,128,J),new X(8,32,128,256,J),new X(32,128,258,1024,J),new X(32,258,258,4096,J)],Yr.deflateInit=function(T,I){return te(T,I,f,15,8,0)},Yr.deflateInit2=te,Yr.deflateReset=ue,Yr.deflateResetKeep=le,Yr.deflateSetHeader=function(T,I){return T&&T.state?T.state.wrap!==2?u:(T.state.gzhead=I,l):u},Yr.deflate=function(T,I){var B,L,M,R;if(!T||!T.state||I>5||I<0)return T?P(T,u):u;if(L=T.state,!T.output||!T.input&&T.avail_in!==0||L.status===S&&I!==a)return P(T,T.avail_out===0?-5:u);if(L.strm=T,B=L.last_flush,L.last_flush=I,L.status===C)if(L.wrap===2)T.adler=0,q(L,31),q(L,139),q(L,8),L.gzhead?(q(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),q(L,255&L.gzhead.time),q(L,L.gzhead.time>>8&255),q(L,L.gzhead.time>>16&255),q(L,L.gzhead.time>>24&255),q(L,L.level===9?2:L.strategy>=2||L.level<2?4:0),q(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(q(L,255&L.gzhead.extra.length),q(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(T.adler=i(T.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(q(L,0),q(L,0),q(L,0),q(L,0),q(L,0),q(L,L.level===9?2:L.strategy>=2||L.level<2?4:0),q(L,3),L.status=A);else{var G=f+(L.w_bits-8<<4)<<8;G|=(L.strategy>=2||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(G|=32),G+=31-G%31,L.status=A,W(L,G),L.strstart!==0&&(W(L,T.adler>>>16),W(L,65535&T.adler)),T.adler=1}if(L.status===69)if(L.gzhead.extra){for(M=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>M&&(T.adler=i(T.adler,L.pending_buf,L.pending-M,M)),Y(T),M=L.pending,L.pending!==L.pending_buf_size));)q(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>M&&(T.adler=i(T.adler,L.pending_buf,L.pending-M,M)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){M=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>M&&(T.adler=i(T.adler,L.pending_buf,L.pending-M,M)),Y(T),M=L.pending,L.pending===L.pending_buf_size)){R=1;break}R=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,q(L,R)}while(R!==0);L.gzhead.hcrc&&L.pending>M&&(T.adler=i(T.adler,L.pending_buf,L.pending-M,M)),R===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){M=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>M&&(T.adler=i(T.adler,L.pending_buf,L.pending-M,M)),Y(T),M=L.pending,L.pending===L.pending_buf_size)){R=1;break}R=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,q(L,R)}while(R!==0);L.gzhead.hcrc&&L.pending>M&&(T.adler=i(T.adler,L.pending_buf,L.pending-M,M)),R===0&&(L.status=O)}else L.status=O;if(L.status===O&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&Y(T),L.pending+2<=L.pending_buf_size&&(q(L,255&T.adler),q(L,T.adler>>8&255),T.adler=0,L.status=A)):L.status=A),L.pending!==0){if(Y(T),T.avail_out===0)return L.last_flush=-1,l}else if(T.avail_in===0&&V(I)<=V(B)&&I!==a)return P(T,-5);if(L.status===S&&T.avail_in!==0)return P(T,-5);if(T.avail_in!==0||L.lookahead!==0||I!==s&&L.status!==S){var E=L.strategy===2?(function(N,F){for(var $;;){if(N.lookahead===0&&(ee(N),N.lookahead===0)){if(F===s)return w;break}if(N.match_length=0,$=n._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++,$&&(H(N,!1),N.strm.avail_out===0))return w}return N.insert=0,F===a?(H(N,!0),N.strm.avail_out===0?z:U):N.last_lit&&(H(N,!1),N.strm.avail_out===0)?w:y})(L,I):L.strategy===3?(function(N,F){for(var $,oe,se,pe,De=N.window;;){if(N.lookahead<=D){if(ee(N),N.lookahead<=D&&F===s)return w;if(N.lookahead===0)break}if(N.match_length=0,N.lookahead>=x&&N.strstart>0&&(oe=De[se=N.strstart-1])===De[++se]&&oe===De[++se]&&oe===De[++se]){pe=N.strstart+D;do;while(oe===De[++se]&&oe===De[++se]&&oe===De[++se]&&oe===De[++se]&&oe===De[++se]&&oe===De[++se]&&oe===De[++se]&&oe===De[++se]&&se<pe);N.match_length=D-(pe-se),N.match_length>N.lookahead&&(N.match_length=N.lookahead)}if(N.match_length>=x?($=n._tr_tally(N,1,N.match_length-x),N.lookahead-=N.match_length,N.strstart+=N.match_length,N.match_length=0):($=n._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++),$&&(H(N,!1),N.strm.avail_out===0))return w}return N.insert=0,F===a?(H(N,!0),N.strm.avail_out===0?z:U):N.last_lit&&(H(N,!1),N.strm.avail_out===0)?w:y})(L,I):e[L.level].func(L,I);if(E!==z&&E!==U||(L.status=S),E===w||E===z)return T.avail_out===0&&(L.last_flush=-1),l;if(E===y&&(I===1?n._tr_align(L):I!==5&&(n._tr_stored_block(L,0,0,!1),I===3&&(Z(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),Y(T),T.avail_out===0))return L.last_flush=-1,l}return I!==a?l:L.wrap<=0?1:(L.wrap===2?(q(L,255&T.adler),q(L,T.adler>>8&255),q(L,T.adler>>16&255),q(L,T.adler>>24&255),q(L,255&T.total_in),q(L,T.total_in>>8&255),q(L,T.total_in>>16&255),q(L,T.total_in>>24&255)):(W(L,T.adler>>>16),W(L,65535&T.adler)),Y(T),L.wrap>0&&(L.wrap=-L.wrap),L.pending!==0?l:1)},Yr.deflateEnd=function(T){var I;return T&&T.state?(I=T.state.status)!==C&&I!==69&&I!==73&&I!==91&&I!==O&&I!==A&&I!==S?P(T,u):(T.state=null,I===A?P(T,-3):l):u},Yr.deflateSetDictionary=function(T,I){var B,L,M,R,G,E,N,F,$=I.length;if(!T||!T.state||(R=(B=T.state).wrap)===2||R===1&&B.status!==C||B.lookahead)return u;for(R===1&&(T.adler=r(T.adler,I,$,0)),B.wrap=0,$>=B.w_size&&(R===0&&(Z(B.head),B.strstart=0,B.block_start=0,B.insert=0),F=new t.Buf8(B.w_size),t.arraySet(F,I,$-B.w_size,B.w_size,0),I=F,$=B.w_size),G=T.avail_in,E=T.next_in,N=T.input,T.avail_in=$,T.next_in=0,T.input=I,ee(B);B.lookahead>=x;){L=B.strstart,M=B.lookahead-(x-1);do B.ins_h=(B.ins_h<<B.hash_shift^B.window[L+x-1])&B.hash_mask,B.prev[L&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=L,L++;while(--M);B.strstart=L,B.lookahead=x-1,ee(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=x-1,B.match_available=0,T.next_in=E,T.input=N,T.avail_in=G,B.wrap=R,l},Yr.deflateInfo="pako deflate (from Nodeca project)",Yr}function VD(){if(kE)return Cs;kE=1;var e=Lo(),t=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch{t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{n=!1}for(var r=new e.Buf8(256),i=0;i<256;i++)r[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;function o(s,a){if(a<65534&&(s.subarray&&n||!s.subarray&&t))return String.fromCharCode.apply(null,e.shrinkBuf(s,a));for(var l="",u=0;u<a;u++)l+=String.fromCharCode(s[u]);return l}return r[254]=r[254]=1,Cs.string2buf=function(s){var a,l,u,c,d,h=s.length,f=0;for(c=0;c<h;c++)(64512&(l=s.charCodeAt(c)))==55296&&c+1<h&&(64512&(u=s.charCodeAt(c+1)))==56320&&(l=65536+(l-55296<<10)+(u-56320),c++),f+=l<128?1:l<2048?2:l<65536?3:4;for(a=new e.Buf8(f),d=0,c=0;d<f;c++)(64512&(l=s.charCodeAt(c)))==55296&&c+1<h&&(64512&(u=s.charCodeAt(c+1)))==56320&&(l=65536+(l-55296<<10)+(u-56320),c++),l<128?a[d++]=l:l<2048?(a[d++]=192|l>>>6,a[d++]=128|63&l):l<65536?(a[d++]=224|l>>>12,a[d++]=128|l>>>6&63,a[d++]=128|63&l):(a[d++]=240|l>>>18,a[d++]=128|l>>>12&63,a[d++]=128|l>>>6&63,a[d++]=128|63&l);return a},Cs.buf2binstring=function(s){return o(s,s.length)},Cs.binstring2buf=function(s){for(var a=new e.Buf8(s.length),l=0,u=a.length;l<u;l++)a[l]=s.charCodeAt(l);return a},Cs.buf2string=function(s,a){var l,u,c,d,h=a||s.length,f=new Array(2*h);for(u=0,l=0;l<h;)if((c=s[l++])<128)f[u++]=c;else if((d=r[c])>4)f[u++]=65533,l+=d-1;else{for(c&=d===2?31:d===3?15:7;d>1&&l<h;)c=c<<6|63&s[l++],d--;d>1?f[u++]=65533:c<65536?f[u++]=c:(c-=65536,f[u++]=55296|c>>10&1023,f[u++]=56320|1023&c)}return o(f,u)},Cs.utf8border=function(s,a){var l;for((a=a||s.length)>s.length&&(a=s.length),l=a-1;l>=0&&(192&s[l])==128;)l--;return l<0||l===0?a:l+r[s[l]]>a?l:a},Cs}function HD(){return NE?RE:(NE=1,RE=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0})}function W4(){if(OE)return Ha;OE=1;var e=G4(),t=Lo(),n=VD(),r=sy(),i=HD(),o=Object.prototype.toString,s=0,a=-1,l=0,u=8;function c(h){if(!(this instanceof c))return new c(h);this.options=t.assign({level:a,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},h||{});var f=this.options;f.raw&&f.windowBits>0?f.windowBits=-f.windowBits:f.gzip&&f.windowBits>0&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var p=e.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(p!==s)throw new Error(r[p]);if(f.header&&e.deflateSetHeader(this.strm,f.header),f.dictionary){var m;if(m=typeof f.dictionary=="string"?n.string2buf(f.dictionary):o.call(f.dictionary)==="[object ArrayBuffer]"?new Uint8Array(f.dictionary):f.dictionary,(p=e.deflateSetDictionary(this.strm,m))!==s)throw new Error(r[p]);this._dict_set=!0}}function d(h,f){var p=new c(f);if(p.push(h,!0),p.err)throw p.msg||r[p.err];return p.result}return c.prototype.push=function(h,f){var p,m,g=this.strm,_=this.options.chunkSize;if(this.ended)return!1;m=f===~~f?f:f===!0?4:0,typeof h=="string"?g.input=n.string2buf(h):o.call(h)==="[object ArrayBuffer]"?g.input=new Uint8Array(h):g.input=h,g.next_in=0,g.avail_in=g.input.length;do{if(g.avail_out===0&&(g.output=new t.Buf8(_),g.next_out=0,g.avail_out=_),(p=e.deflate(g,m))!==1&&p!==s)return this.onEnd(p),this.ended=!0,!1;g.avail_out!==0&&(g.avail_in!==0||m!==4&&m!==2)||(this.options.to==="string"?this.onData(n.buf2binstring(t.shrinkBuf(g.output,g.next_out))):this.onData(t.shrinkBuf(g.output,g.next_out)))}while((g.avail_in>0||g.avail_out===0)&&p!==1);return m===4?(p=e.deflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===s):m!==2||(this.onEnd(s),g.avail_out=0,!0)},c.prototype.onData=function(h){this.chunks.push(h)},c.prototype.onEnd=function(h){h===s&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},Ha.Deflate=c,Ha.deflate=d,Ha.deflateRaw=function(h,f){return(f=f||{}).raw=!0,d(h,f)},Ha.gzip=function(h,f){return(f=f||{}).gzip=!0,d(h,f)},Ha}function q4(){return PE?f1:(PE=1,f1=function(e,t){var n,r,i,o,s,a,l,u,c,d,h,f,p,m,g,_,b,v,x,D,k,C,O,A,S;n=e.state,r=e.next_in,A=e.input,i=r+(e.avail_in-5),o=e.next_out,S=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,h=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,_=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{p<15&&(f+=A[r++]<<p,p+=8,f+=A[r++]<<p,p+=8),v=m[f&_];t:for(;;){if(f>>>=x=v>>>24,p-=x,(x=v>>>16&255)===0)S[o++]=65535&v;else{if(!(16&x)){if(64&x){if(32&x){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}v=m[(65535&v)+(f&(1<<x)-1)];continue t}for(D=65535&v,(x&=15)&&(p<x&&(f+=A[r++]<<p,p+=8),D+=f&(1<<x)-1,f>>>=x,p-=x),p<15&&(f+=A[r++]<<p,p+=8,f+=A[r++]<<p,p+=8),v=g[f&b];;){if(f>>>=x=v>>>24,p-=x,16&(x=v>>>16&255)){if(k=65535&v,p<(x&=15)&&(f+=A[r++]<<p,(p+=8)<x&&(f+=A[r++]<<p,p+=8)),(k+=f&(1<<x)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=x,p-=x,k>(x=o-s)){if((x=k-x)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(C=0,O=h,d===0){if(C+=u-x,x<D){D-=x;do S[o++]=h[C++];while(--x);C=o-k,O=S}}else if(d<x){if(C+=u+d-x,(x-=d)<D){D-=x;do S[o++]=h[C++];while(--x);if(C=0,d<D){D-=x=d;do S[o++]=h[C++];while(--x);C=o-k,O=S}}}else if(C+=d-x,x<D){D-=x;do S[o++]=h[C++];while(--x);C=o-k,O=S}for(;D>2;)S[o++]=O[C++],S[o++]=O[C++],S[o++]=O[C++],D-=3;D&&(S[o++]=O[C++],D>1&&(S[o++]=O[C++]))}else{C=o-k;do S[o++]=S[C++],S[o++]=S[C++],S[o++]=S[C++],D-=3;while(D>2);D&&(S[o++]=S[C++],D>1&&(S[o++]=S[C++]))}break}if(64&x){e.msg="invalid distance code",n.mode=30;break e}v=g[(65535&v)+(f&(1<<x)-1)]}}break}}while(r<i&&o<a);r-=D=p>>3,f&=(1<<(p-=D<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=f,n.bits=p},f1)}function Z4(){if(LE)return FE;LE=1;var e=Lo(),t=15,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return FE=function(s,a,l,u,c,d,h,f){var p,m,g,_,b,v,x,D,k,C=f.bits,O=0,A=0,S=0,w=0,y=0,z=0,U=0,P=0,V=0,Z=0,Y=null,H=0,q=new e.Buf16(16),W=new e.Buf16(16),Q=null,ee=0;for(O=0;O<=t;O++)q[O]=0;for(A=0;A<u;A++)q[a[l+A]]++;for(y=C,w=t;w>=1&&q[w]===0;w--);if(y>w&&(y=w),w===0)return c[d++]=20971520,c[d++]=20971520,f.bits=1,0;for(S=1;S<w&&q[S]===0;S++);for(y<S&&(y=S),P=1,O=1;O<=t;O++)if(P<<=1,(P-=q[O])<0)return-1;if(P>0&&(s===0||w!==1))return-1;for(W[1]=0,O=1;O<t;O++)W[O+1]=W[O]+q[O];for(A=0;A<u;A++)a[l+A]!==0&&(h[W[a[l+A]]++]=A);if(s===0?(Y=Q=h,v=19):s===1?(Y=n,H-=257,Q=r,ee-=257,v=256):(Y=i,Q=o,v=-1),Z=0,A=0,O=S,b=d,z=y,U=0,g=-1,_=(V=1<<y)-1,s===1&&V>852||s===2&&V>592)return 1;for(;;){x=O-U,h[A]<v?(D=0,k=h[A]):h[A]>v?(D=Q[ee+h[A]],k=Y[H+h[A]]):(D=96,k=0),p=1<<O-U,S=m=1<<z;do c[b+(Z>>U)+(m-=p)]=x<<24|D<<16|k;while(m!==0);for(p=1<<O-1;Z&p;)p>>=1;if(p!==0?(Z&=p-1,Z+=p):Z=0,A++,--q[O]==0){if(O===w)break;O=a[l+h[A]]}if(O>y&&(Z&_)!==g){for(U===0&&(U=y),b+=S,P=1<<(z=O-U);z+U<w&&!((P-=q[z+U])<=0);)z++,P<<=1;if(V+=1<<z,s===1&&V>852||s===2&&V>592)return 1;c[g=Z&_]=y<<24|z<<16|b-d}}return Z!==0&&(c[b+Z]=O-U<<24|64<<16),f.bits=y,0}}function Y4(){if(BE)return Ar;BE=1;var e=Lo(),t=UD(),n=zD(),r=q4(),i=Z4(),o=1,s=2,a=0,l=-2,u=1,c=12,d=30,h=852,f=592;function p(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(A){var S;return A&&A.state?(S=A.state,A.total_in=A.total_out=S.total=0,A.msg="",S.wrap&&(A.adler=1&S.wrap),S.mode=u,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new e.Buf32(h),S.distcode=S.distdyn=new e.Buf32(f),S.sane=1,S.back=-1,a):l}function _(A){var S;return A&&A.state?((S=A.state).wsize=0,S.whave=0,S.wnext=0,g(A)):l}function b(A,S){var w,y;return A&&A.state?(y=A.state,S<0?(w=0,S=-S):(w=1+(S>>4),S<48&&(S&=15)),S&&(S<8||S>15)?l:(y.window!==null&&y.wbits!==S&&(y.window=null),y.wrap=w,y.wbits=S,_(A))):l}function v(A,S){var w,y;return A?(y=new m,A.state=y,y.window=null,(w=b(A,S))!==a&&(A.state=null),w):l}var x,D,k=!0;function C(A){if(k){var S;for(x=new e.Buf32(512),D=new e.Buf32(32),S=0;S<144;)A.lens[S++]=8;for(;S<256;)A.lens[S++]=9;for(;S<280;)A.lens[S++]=7;for(;S<288;)A.lens[S++]=8;for(i(o,A.lens,0,288,x,0,A.work,{bits:9}),S=0;S<32;)A.lens[S++]=5;i(s,A.lens,0,32,D,0,A.work,{bits:5}),k=!1}A.lencode=x,A.lenbits=9,A.distcode=D,A.distbits=5}function O(A,S,w,y){var z,U=A.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new e.Buf8(U.wsize)),y>=U.wsize?(e.arraySet(U.window,S,w-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):((z=U.wsize-U.wnext)>y&&(z=y),e.arraySet(U.window,S,w-y,z,U.wnext),(y-=z)?(e.arraySet(U.window,S,w-y,y,0),U.wnext=y,U.whave=U.wsize):(U.wnext+=z,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=z))),0}return Ar.inflateReset=_,Ar.inflateReset2=b,Ar.inflateResetKeep=g,Ar.inflateInit=function(A){return v(A,15)},Ar.inflateInit2=v,Ar.inflate=function(A,S){var w,y,z,U,P,V,Z,Y,H,q,W,Q,ee,ne,J,X,ie,le,ue,te,T,I,B,L,M=0,R=new e.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return l;(w=A.state).mode===c&&(w.mode=13),P=A.next_out,z=A.output,Z=A.avail_out,U=A.next_in,y=A.input,V=A.avail_in,Y=w.hold,H=w.bits,q=V,W=Z,I=a;e:for(;;)switch(w.mode){case u:if(w.wrap===0){w.mode=13;break}for(;H<16;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}if(2&w.wrap&&Y===35615){w.check=0,R[0]=255&Y,R[1]=Y>>>8&255,w.check=n(w.check,R,2,0),Y=0,H=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&Y)<<8)+(Y>>8))%31){A.msg="incorrect header check",w.mode=d;break}if((15&Y)!=8){A.msg="unknown compression method",w.mode=d;break}if(H-=4,T=8+(15&(Y>>>=4)),w.wbits===0)w.wbits=T;else if(T>w.wbits){A.msg="invalid window size",w.mode=d;break}w.dmax=1<<T,A.adler=w.check=1,w.mode=512&Y?10:c,Y=0,H=0;break;case 2:for(;H<16;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}if(w.flags=Y,(255&w.flags)!=8){A.msg="unknown compression method",w.mode=d;break}if(57344&w.flags){A.msg="unknown header flags set",w.mode=d;break}w.head&&(w.head.text=Y>>8&1),512&w.flags&&(R[0]=255&Y,R[1]=Y>>>8&255,w.check=n(w.check,R,2,0)),Y=0,H=0,w.mode=3;case 3:for(;H<32;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}w.head&&(w.head.time=Y),512&w.flags&&(R[0]=255&Y,R[1]=Y>>>8&255,R[2]=Y>>>16&255,R[3]=Y>>>24&255,w.check=n(w.check,R,4,0)),Y=0,H=0,w.mode=4;case 4:for(;H<16;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}w.head&&(w.head.xflags=255&Y,w.head.os=Y>>8),512&w.flags&&(R[0]=255&Y,R[1]=Y>>>8&255,w.check=n(w.check,R,2,0)),Y=0,H=0,w.mode=5;case 5:if(1024&w.flags){for(;H<16;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}w.length=Y,w.head&&(w.head.extra_len=Y),512&w.flags&&(R[0]=255&Y,R[1]=Y>>>8&255,w.check=n(w.check,R,2,0)),Y=0,H=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&((Q=w.length)>V&&(Q=V),Q&&(w.head&&(T=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),e.arraySet(w.head.extra,y,U,Q,T)),512&w.flags&&(w.check=n(w.check,y,Q,U)),V-=Q,U+=Q,w.length-=Q),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(V===0)break e;Q=0;do T=y[U+Q++],w.head&&T&&w.length<65536&&(w.head.name+=String.fromCharCode(T));while(T&&Q<V);if(512&w.flags&&(w.check=n(w.check,y,Q,U)),V-=Q,U+=Q,T)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(V===0)break e;Q=0;do T=y[U+Q++],w.head&&T&&w.length<65536&&(w.head.comment+=String.fromCharCode(T));while(T&&Q<V);if(512&w.flags&&(w.check=n(w.check,y,Q,U)),V-=Q,U+=Q,T)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;H<16;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}if(Y!==(65535&w.check)){A.msg="header crc mismatch",w.mode=d;break}Y=0,H=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),A.adler=w.check=0,w.mode=c;break;case 10:for(;H<32;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}A.adler=w.check=p(Y),Y=0,H=0,w.mode=11;case 11:if(w.havedict===0)return A.next_out=P,A.avail_out=Z,A.next_in=U,A.avail_in=V,w.hold=Y,w.bits=H,2;A.adler=w.check=1,w.mode=c;case c:if(S===5||S===6)break e;case 13:if(w.last){Y>>>=7&H,H-=7&H,w.mode=27;break}for(;H<3;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}switch(w.last=1&Y,H-=1,3&(Y>>>=1)){case 0:w.mode=14;break;case 1:if(C(w),w.mode=20,S===6){Y>>>=2,H-=2;break e}break;case 2:w.mode=17;break;case 3:A.msg="invalid block type",w.mode=d}Y>>>=2,H-=2;break;case 14:for(Y>>>=7&H,H-=7&H;H<32;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}if((65535&Y)!=(Y>>>16^65535)){A.msg="invalid stored block lengths",w.mode=d;break}if(w.length=65535&Y,Y=0,H=0,w.mode=15,S===6)break e;case 15:w.mode=16;case 16:if(Q=w.length){if(Q>V&&(Q=V),Q>Z&&(Q=Z),Q===0)break e;e.arraySet(z,y,U,Q,P),V-=Q,U+=Q,Z-=Q,P+=Q,w.length-=Q;break}w.mode=c;break;case 17:for(;H<14;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}if(w.nlen=257+(31&Y),Y>>>=5,H-=5,w.ndist=1+(31&Y),Y>>>=5,H-=5,w.ncode=4+(15&Y),Y>>>=4,H-=4,w.nlen>286||w.ndist>30){A.msg="too many length or distance symbols",w.mode=d;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;H<3;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}w.lens[G[w.have++]]=7&Y,Y>>>=3,H-=3}for(;w.have<19;)w.lens[G[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,B={bits:w.lenbits},I=i(0,w.lens,0,19,w.lencode,0,w.work,B),w.lenbits=B.bits,I){A.msg="invalid code lengths set",w.mode=d;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;X=(M=w.lencode[Y&(1<<w.lenbits)-1])>>>16&255,ie=65535&M,!((J=M>>>24)<=H);){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}if(ie<16)Y>>>=J,H-=J,w.lens[w.have++]=ie;else{if(ie===16){for(L=J+2;H<L;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}if(Y>>>=J,H-=J,w.have===0){A.msg="invalid bit length repeat",w.mode=d;break}T=w.lens[w.have-1],Q=3+(3&Y),Y>>>=2,H-=2}else if(ie===17){for(L=J+3;H<L;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}H-=J,T=0,Q=3+(7&(Y>>>=J)),Y>>>=3,H-=3}else{for(L=J+7;H<L;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}H-=J,T=0,Q=11+(127&(Y>>>=J)),Y>>>=7,H-=7}if(w.have+Q>w.nlen+w.ndist){A.msg="invalid bit length repeat",w.mode=d;break}for(;Q--;)w.lens[w.have++]=T}}if(w.mode===d)break;if(w.lens[256]===0){A.msg="invalid code -- missing end-of-block",w.mode=d;break}if(w.lenbits=9,B={bits:w.lenbits},I=i(o,w.lens,0,w.nlen,w.lencode,0,w.work,B),w.lenbits=B.bits,I){A.msg="invalid literal/lengths set",w.mode=d;break}if(w.distbits=6,w.distcode=w.distdyn,B={bits:w.distbits},I=i(s,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,B),w.distbits=B.bits,I){A.msg="invalid distances set",w.mode=d;break}if(w.mode=20,S===6)break e;case 20:w.mode=21;case 21:if(V>=6&&Z>=258){A.next_out=P,A.avail_out=Z,A.next_in=U,A.avail_in=V,w.hold=Y,w.bits=H,r(A,W),P=A.next_out,z=A.output,Z=A.avail_out,U=A.next_in,y=A.input,V=A.avail_in,Y=w.hold,H=w.bits,w.mode===c&&(w.back=-1);break}for(w.back=0;X=(M=w.lencode[Y&(1<<w.lenbits)-1])>>>16&255,ie=65535&M,!((J=M>>>24)<=H);){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}if(X&&!(240&X)){for(le=J,ue=X,te=ie;X=(M=w.lencode[te+((Y&(1<<le+ue)-1)>>le)])>>>16&255,ie=65535&M,!(le+(J=M>>>24)<=H);){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}Y>>>=le,H-=le,w.back+=le}if(Y>>>=J,H-=J,w.back+=J,w.length=ie,X===0){w.mode=26;break}if(32&X){w.back=-1,w.mode=c;break}if(64&X){A.msg="invalid literal/length code",w.mode=d;break}w.extra=15&X,w.mode=22;case 22:if(w.extra){for(L=w.extra;H<L;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}w.length+=Y&(1<<w.extra)-1,Y>>>=w.extra,H-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;X=(M=w.distcode[Y&(1<<w.distbits)-1])>>>16&255,ie=65535&M,!((J=M>>>24)<=H);){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}if(!(240&X)){for(le=J,ue=X,te=ie;X=(M=w.distcode[te+((Y&(1<<le+ue)-1)>>le)])>>>16&255,ie=65535&M,!(le+(J=M>>>24)<=H);){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}Y>>>=le,H-=le,w.back+=le}if(Y>>>=J,H-=J,w.back+=J,64&X){A.msg="invalid distance code",w.mode=d;break}w.offset=ie,w.extra=15&X,w.mode=24;case 24:if(w.extra){for(L=w.extra;H<L;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}w.offset+=Y&(1<<w.extra)-1,Y>>>=w.extra,H-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){A.msg="invalid distance too far back",w.mode=d;break}w.mode=25;case 25:if(Z===0)break e;if(Q=W-Z,w.offset>Q){if((Q=w.offset-Q)>w.whave&&w.sane){A.msg="invalid distance too far back",w.mode=d;break}Q>w.wnext?(Q-=w.wnext,ee=w.wsize-Q):ee=w.wnext-Q,Q>w.length&&(Q=w.length),ne=w.window}else ne=z,ee=P-w.offset,Q=w.length;Q>Z&&(Q=Z),Z-=Q,w.length-=Q;do z[P++]=ne[ee++];while(--Q);w.length===0&&(w.mode=21);break;case 26:if(Z===0)break e;z[P++]=w.length,Z--,w.mode=21;break;case 27:if(w.wrap){for(;H<32;){if(V===0)break e;V--,Y|=y[U++]<<H,H+=8}if(W-=Z,A.total_out+=W,w.total+=W,W&&(A.adler=w.check=w.flags?n(w.check,z,W,P-W):t(w.check,z,W,P-W)),W=Z,(w.flags?Y:p(Y))!==w.check){A.msg="incorrect data check",w.mode=d;break}Y=0,H=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;H<32;){if(V===0)break e;V--,Y+=y[U++]<<H,H+=8}if(Y!==(4294967295&w.total)){A.msg="incorrect length check",w.mode=d;break}Y=0,H=0}w.mode=29;case 29:I=1;break e;case d:I=-3;break e;case 31:return-4;default:return l}return A.next_out=P,A.avail_out=Z,A.next_in=U,A.avail_in=V,w.hold=Y,w.bits=H,(w.wsize||W!==A.avail_out&&w.mode<d&&(w.mode<27||S!==4))&&O(A,A.output,A.next_out,W-A.avail_out),q-=A.avail_in,W-=A.avail_out,A.total_in+=q,A.total_out+=W,w.total+=W,w.wrap&&W&&(A.adler=w.check=w.flags?n(w.check,z,W,A.next_out-W):t(w.check,z,W,A.next_out-W)),A.data_type=w.bits+(w.last?64:0)+(w.mode===c?128:0)+(w.mode===20||w.mode===15?256:0),(q===0&&W===0||S===4)&&I===a&&(I=-5),I},Ar.inflateEnd=function(A){if(!A||!A.state)return l;var S=A.state;return S.window&&(S.window=null),A.state=null,a},Ar.inflateGetHeader=function(A,S){var w;return A&&A.state&&2&(w=A.state).wrap?(w.head=S,S.done=!1,a):l},Ar.inflateSetDictionary=function(A,S){var w,y=S.length;return A&&A.state?(w=A.state).wrap!==0&&w.mode!==11?l:w.mode===11&&t(1,S,y,0)!==w.check?-3:O(A,S,y,y)?(w.mode=31,-4):(w.havedict=1,a):l},Ar.inflateInfo="pako inflate (from Nodeca project)",Ar}function $D(){return UE?jE:(UE=1,jE={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function K4(){return VE?zE:(VE=1,zE=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1})}function Q4(){if(HE)return $a;HE=1;var e=Y4(),t=Lo(),n=VD(),r=$D(),i=sy(),o=HD(),s=K4(),a=Object.prototype.toString;function l(c){if(!(this instanceof l))return new l(c);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},c||{});var d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),!(d.windowBits>=0&&d.windowBits<16)||c&&c.windowBits||(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&(15&d.windowBits||(d.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var h=e.inflateInit2(this.strm,d.windowBits);if(h!==r.Z_OK)throw new Error(i[h]);if(this.header=new s,e.inflateGetHeader(this.strm,this.header),d.dictionary&&(typeof d.dictionary=="string"?d.dictionary=n.string2buf(d.dictionary):a.call(d.dictionary)==="[object ArrayBuffer]"&&(d.dictionary=new Uint8Array(d.dictionary)),d.raw&&(h=e.inflateSetDictionary(this.strm,d.dictionary))!==r.Z_OK))throw new Error(i[h])}function u(c,d){var h=new l(d);if(h.push(c,!0),h.err)throw h.msg||i[h.err];return h.result}return l.prototype.push=function(c,d){var h,f,p,m,g,_=this.strm,b=this.options.chunkSize,v=this.options.dictionary,x=!1;if(this.ended)return!1;f=d===~~d?d:d===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof c=="string"?_.input=n.binstring2buf(c):a.call(c)==="[object ArrayBuffer]"?_.input=new Uint8Array(c):_.input=c,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new t.Buf8(b),_.next_out=0,_.avail_out=b),(h=e.inflate(_,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&v&&(h=e.inflateSetDictionary(this.strm,v)),h===r.Z_BUF_ERROR&&x===!0&&(h=r.Z_OK,x=!1),h!==r.Z_STREAM_END&&h!==r.Z_OK)return this.onEnd(h),this.ended=!0,!1;_.next_out&&(_.avail_out!==0&&h!==r.Z_STREAM_END&&(_.avail_in!==0||f!==r.Z_FINISH&&f!==r.Z_SYNC_FLUSH)||(this.options.to==="string"?(p=n.utf8border(_.output,_.next_out),m=_.next_out-p,g=n.buf2string(_.output,p),_.next_out=m,_.avail_out=b-m,m&&t.arraySet(_.output,_.output,p,m,0),this.onData(g)):this.onData(t.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(x=!0)}while((_.avail_in>0||_.avail_out===0)&&h!==r.Z_STREAM_END);return h===r.Z_STREAM_END&&(f=r.Z_FINISH),f===r.Z_FINISH?(h=e.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===r.Z_OK):f!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),_.avail_out=0,!0)},l.prototype.onData=function(c){this.chunks.push(c)},l.prototype.onEnd=function(c){c===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},$a.Inflate=l,$a.inflate=u,$a.inflateRaw=function(c,d){return(d=d||{}).raw=!0,u(c,d)},$a.ungzip=u,$a}function J4(){if(GE)return $E;GE=1;var e={};return(0,Lo().assign)(e,W4(),Q4(),$D()),$E=e}function WE(e){return typeof e=="number"?e:e instanceof Uint8Array?e[0]:typeof e[0]=="string"?parseInt(e[0]):e[0]}function GD(){return{mime:"image/tiff",encode:e=>{let t=Qf.encodeImage(e.data,e.width,e.height);return be.from(t)},decode:e=>{let t=Qf.decode(e),n=t[0];if(!n)throw new Error("No page found in TIFF");if(!n.t256)throw new Error("No image width found in TIFF");if(!n.t257)throw new Error("No image height found in TIFF");t.forEach(i=>{Qf.decodeImage(e,i)});let r=Qf.toRGBA8(n);return{data:be.from(r),width:WE(n.t256),height:WE(n.t257)}}}}function tO(e){WD=e}function ph(){return WD}function ze(e,t){let n=ph(),r=mh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===il?void 0:il].filter(i=>!!i)});e.common.issues.push(r)}function yh(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function qD(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function pt(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,s)=>{var a,l;let{message:u}=e;return o.code==="invalid_enum_value"?{message:u??s.defaultError}:s.data===void 0?{message:(a=u??r)!==null&&a!==void 0?a:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:s.defaultError}},description:i}}function YD(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function mO(e){return new RegExp(`^${YD(e)}$`)}function KD(e){let t=`${ZD}T${YD(e)}`,n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function gO(e,t){return!(t!=="v4"&&t||!dO.test(e))||!(t!=="v6"&&t||!fO.test(e))}function yO(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}function Xa(e){if(e instanceof Qn){let t={};for(let n in e.shape){let r=e.shape[n];t[n]=No.create(Xa(r))}return new Qn(ke(fe({},e._def),{shape:()=>t}))}return e instanceof eo?new eo(ke(fe({},e._def),{type:Xa(e.element)})):e instanceof No?No.create(Xa(e.unwrap())):e instanceof sl?sl.create(Xa(e.unwrap())):e instanceof ol?ol.create(e.items.map(t=>Xa(t))):e}function L1(e,t){let n=Ro(e),r=Ro(t);if(e===t)return{valid:!0,data:e};if(n===$e.object&&r===$e.object){let i=St.objectKeys(t),o=St.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s=fe(fe({},e),t);for(let a of o){let l=L1(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}if(n===$e.array&&r===$e.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let o=0;o<e.length;o++){let s=L1(e[o],t[o]);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}return n===$e.date&&r===$e.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}function tC(e,t){return new Ns(fe({values:e,typeName:rt.ZodEnum},pt(t)))}function rC(e,t={},n){return e?_h.create().superRefine((r,i)=>{var o,s;if(!e(r)){let a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(s=(o=a.fatal)!==null&&o!==void 0?o:n)===null||s===void 0||s,u=typeof a=="string"?{message:a}:a;i.addIssue(ke(fe({code:"custom"},u),{fatal:l}))}}):_h.create()}function YE(e,t,n,r){let i=[0,0,0,0],o=(t.length-1)/2;for(let s=0;s<t.length;s+=1)for(let a=0;a<t[s].length;a+=1){let l=e.getPixelIndex(n+s-o,r+a-o);i[0]+=e.bitmap.data[l]*t[s][a],i[1]+=e.bitmap.data[l+1]*t[s][a],i[2]+=e.bitmap.data[l+2]*t[s][a],i[3]+=e.bitmap.data[l+3]*t[s][a]}return i}function p1(e,t,n=50){return{r:(t.r-e.r)*(n/100)+e.r,g:(t.g-e.g)*(n/100)+e.g,b:(t.b-e.b)*(n/100)+e.b}}function k8(e){let t={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return e.scan((n,r,i)=>{t.r[e.bitmap.data[i+0]]++,t.g[e.bitmap.data[i+1]]++,t.b[e.bitmap.data[i+2]]++}),t}function V8(e){return Pe(this,null,function*(){let t=yield jh.fromStream(e);try{return yield Uh(t)}finally{yield t.close()}})}function dC(e){return Pe(this,null,function*(){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||be.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);let t=e instanceof be?e:be.from(e);if(t&&t.length>1)return Uh(jh.fromBuffer(t))})}function yi(e,t,n){n=fe({offset:0},n);for(let[r,i]of t.entries())if(n.mask){if(i!==(n.mask[r]&e[r+n.offset]))return!1}else if(i!==e[r+n.offset])return!1;return!0}function Uh(e){return Pe(this,null,function*(){try{return H8(e)}catch(t){if(!(t instanceof jh.EndOfStreamError))throw t}})}function H8(e){return Pe(this,null,function*(){let t=be.alloc(cC),n=(i,o)=>yi(t,i,o),r=(i,o)=>n(j8(i),o);if(e.fileInfo.size||(e.fileInfo.size=Number.MAX_SAFE_INTEGER),yield e.peekBuffer(t,{length:12,mayBeLess:!0}),n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(n([37,33]))return yield e.peekBuffer(t,{length:24,mayBeLess:!0}),r("PS-Adobe-",{offset:2})&&r(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r("ID3")){yield e.ignore(6);let i=yield e.readToken(z8);return e.position+i>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(yield e.ignore(i),Uh(e))}if(r("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((t[0]===67||t[0]===70)&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r("FLIF"))return{ext:"flif",mime:"image/flif"};if(r("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(r("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(r("FORM"))return{ext:"aif",mime:"audio/aiff"};if(r("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(n([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){yield e.readBuffer(t,{length:30});let i={compressedSize:t.readUInt32LE(18),uncompressedSize:t.readUInt32LE(22),filenameLength:t.readUInt16LE(26),extraFieldLength:t.readUInt16LE(28)};if(i.filename=yield e.readToken(new Zi.StringType(i.filenameLength,"utf-8")),yield e.ignore(i.extraFieldLength),i.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(i.filename.endsWith(".rels")||i.filename.endsWith(".xml"))switch(i.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(i.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(i.filename.startsWith("3D/")&&i.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(i.filename==="mimetype"&&i.compressedSize===i.uncompressedSize)switch(yield e.readToken(new Zi.StringType(i.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}if(i.compressedSize===0){let o=-1;for(;o<0&&e.position<e.fileInfo.size;)yield e.peekBuffer(t,{mayBeLess:!0}),o=t.indexOf("504B0304",0,"hex"),yield e.ignore(o>=0?o:t.length)}else yield e.ignore(i.compressedSize)}}catch(i){if(!(i instanceof jh.EndOfStreamError))throw i}return{ext:"zip",mime:"application/zip"}}if(r("OggS")){yield e.ignore(28);let i=be.alloc(8);return yield e.readBuffer(i),yi(i,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:yi(i,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:yi(i,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:yi(i,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:yi(i,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:yi(i,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(n([80,75])&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8))return{ext:"zip",mime:"application/zip"};if(r("ftyp",{offset:4})&&96&t[8]){let i=t.toString("binary",8,12).replace("\0"," ").trim();switch(i){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return i.startsWith("3g")?i.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(r("MThd"))return{ext:"mid",mime:"audio/midi"};if(r("wOFF")&&(n([0,1,0,0],{offset:4})||r("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(r("wOF2")&&(n([0,1,0,0],{offset:4})||r("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([212,195,178,161])||n([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(r("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(r("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(r("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(r("%PDF")){yield e.ignore(1350);let i=10485760,o=be.alloc(Math.min(i,e.fileInfo.size));return yield e.readBuffer(o,{mayBeLess:!0}),o.includes(be.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([73,73,42,0]))return r("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:n([28,0,254,0],{offset:8})||n([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:n([8,0,0,0],{offset:4})&&(n([45,0,254,0],{offset:8})||n([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(t=be.alloc(24),yield e.peekBuffer(t),(n([16,251,134,1],{offset:4})||n([8,0,0,0],{offset:4}))&&n([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r("MAC "))return{ext:"ape",mime:"audio/ape"};if(n([26,69,223,163])){function i(){return Pe(this,null,function*(){let l=yield e.peekNumber(Zi.UINT8),u=128,c=0;for(;!(l&u)&&u!==0;)++c,u>>=1;let d=be.alloc(c+1);return yield e.readBuffer(d),d})}function o(){return Pe(this,null,function*(){let l=yield i(),u=yield i();u[0]^=128>>u.length-1;let c=Math.min(6,u.length);return{id:l.readUIntBE(0,l.length),len:u.readUIntBE(u.length-c,c)}})}function s(l,u){return Pe(this,null,function*(){for(;u>0;){let c=yield o();if(c.id===17026)return e.readToken(new Zi.StringType(c.len,"utf-8"));yield e.ignore(c.len),--u}})}let a=yield o();switch(yield s(0,a.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r("MSCF")||r("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(n([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(r("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r("IMPM"))return{ext:"it",mime:"audio/x-it"};if(r("-lh0-",{offset:2})||r("-lh1-",{offset:2})||r("-lh2-",{offset:2})||r("-lh3-",{offset:2})||r("-lh4-",{offset:2})||r("-lh5-",{offset:2})||r("-lh6-",{offset:2})||r("-lh7-",{offset:2})||r("-lzs-",{offset:2})||r("-lz4-",{offset:2})||r("-lz5-",{offset:2})||r("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(n([0,0,1,186])){if(n([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(n([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(r("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([82,97,114,33,26,7])&&(t[6]===0||t[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(r("solid "))return{ext:"stl",mime:"model/stl"};if(r("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(r("!<arch>"))return yield e.ignore(8),(yield e.readToken(new Zi.StringType(13,"ascii")))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(n([137,80,78,71,13,10,26,10])){function i(){return Pe(this,null,function*(){return{length:yield e.readToken(Zi.INT32_BE),type:yield e.readToken(new Zi.StringType(4,"binary"))}})}yield e.ignore(8);do{let o=yield i();if(o.length<0)return;switch(o.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:yield e.ignore(o.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(n([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(n([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(n([102,114,101,101],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(r("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(n([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(n([48,38,178,117,142,102,207,17,166,217])){function i(){return Pe(this,null,function*(){let o=be.alloc(16);return yield e.readBuffer(o),{id:o,size:Number(yield e.readToken(Zi.UINT64_LE))}})}for(yield e.ignore(30);e.position+24<e.fileInfo.size;){let o=yield i(),s=o.size-24;if(yi(o.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let a=be.alloc(16);if(s-=yield e.readBuffer(a),yi(a,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(yi(a,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}yield e.ignore(s)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((n([126,16,4])||n([126,24,4]))&&n([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(n([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(n([0,0,0,12,106,80,32,32,13,10,135,10]))switch(yield e.ignore(20),yield e.readToken(new Zi.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(n([255,10])||n([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(yield e.peekBuffer(t,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),r("BEGIN:")){if(r("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(r("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(r("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(r("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(r("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(n([4,0,0,0])&&t.length>=16){let i=t.readUInt32LE(12);if(i>12&&t.length>=i+16)try{let o=t.slice(16,i+16).toString();if(JSON.parse(o).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(n([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(n([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(yield e.peekBuffer(t,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),U8(t))return{ext:"tar",mime:"application/x-tar"};if(n([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(r("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(t.length>=2&&n([255,224],{offset:0,mask:[255,224]})){if(n([16],{offset:1,mask:[22]}))return n([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(n([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}})}function JE(e,t){return e.then(function(n){return[null,n]}).catch(function(n){return[n,void 0]})}function oh(){this._types=Object.create(null),this._extensions=Object.create(null);for(let e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}function fC(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a;return{r:(e.r*e.a+t.r*t.a*(1-e.a))/r,g:(e.g*e.a+t.g*t.a*(1-e.a))/r,b:(e.b*e.a+t.b*t.a*(1-e.a))/r,a:r}}function hC(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a;return{r:(t.r*t.a+e.r*e.a*(1-t.a))/r,g:(t.g*t.a+e.g*e.a*(1-t.a))/r,b:(t.b*t.a+e.b*e.a*(1-t.a))/r,a:r}}function pC(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(i*a+i*(1-t.a)+a*(1-e.a))/r,g:(o*l+o*(1-t.a)+l*(1-e.a))/r,b:(s*u+s*(1-t.a)+u*(1-e.a))/r,a:r}}function mC(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a;return{r:(i+t.r*t.a)/r,g:(o+t.g*t.a)/r,b:(s+t.b*t.a)/r,a:r}}function gC(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(i*t.a+a*e.a-i*a+i*(1-t.a)+a*(1-e.a))/r,g:(o*t.a+l*e.a-o*l+o*(1-t.a)+l*(1-e.a))/r,b:(s*t.a+u*e.a-s*u+s*(1-t.a)+u*(1-e.a))/r,a:r}}function yC(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(2*a<=t.a?2*i*a+i*(1-t.a)+a*(1-e.a):i*(1+t.a)+a*(1+e.a)-2*a*i-t.a*e.a)/r,g:(2*l<=t.a?2*o*l+o*(1-t.a)+l*(1-e.a):o*(1+t.a)+l*(1+e.a)-2*l*o-t.a*e.a)/r,b:(2*u<=t.a?2*s*u+s*(1-t.a)+u*(1-e.a):s*(1+t.a)+u*(1+e.a)-2*u*s-t.a*e.a)/r,a:r}}function _C(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(Math.min(i*t.a,a*e.a)+i*(1-t.a)+a*(1-e.a))/r,g:(Math.min(o*t.a,l*e.a)+o*(1-t.a)+l*(1-e.a))/r,b:(Math.min(s*t.a,u*e.a)+s*(1-t.a)+u*(1-e.a))/r,a:r}}function vC(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(Math.max(i*t.a,a*e.a)+i*(1-t.a)+a*(1-e.a))/r,g:(Math.max(o*t.a,l*e.a)+o*(1-t.a)+l*(1-e.a))/r,b:(Math.max(s*t.a,u*e.a)+s*(1-t.a)+u*(1-e.a))/r,a:r}}function bC(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(2*i<=e.a?2*i*a+i*(1-t.a)+a*(1-e.a):i*(1+t.a)+a*(1+e.a)-2*a*i-t.a*e.a)/r,g:(2*o<=e.a?2*o*l+o*(1-t.a)+l*(1-e.a):o*(1+t.a)+l*(1+e.a)-2*l*o-t.a*e.a)/r,b:(2*s<=e.a?2*s*u+s*(1-t.a)+u*(1-e.a):s*(1+t.a)+u*(1+e.a)-2*u*s-t.a*e.a)/r,a:r}}function wC(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(i+a-2*Math.min(i*t.a,a*e.a))/r,g:(o+l-2*Math.min(o*t.a,l*e.a))/r,b:(s+u-2*Math.min(s*t.a,u*e.a))/r,a:r}}function EC(e,t,n=1){e.a*=n;let r=t.a+e.a-t.a*e.a,i=e.r*e.a,o=e.g*e.a,s=e.b*e.a,a=t.r*t.a,l=t.g*t.a,u=t.b*t.a;return{r:(i*t.a+a*e.a-2*i*a+i*(1-t.a)+a*(1-e.a))/r,g:(o*t.a+l*e.a-2*o*l+o*(1-t.a)+l*(1-e.a))/r,b:(s*t.a+u*e.a-2*s*u+s*(1-t.a)+u*(1-e.a))/r,a:r}}function $1(e,t,n=0,r=0,i={}){if(!(t instanceof e.constructor))throw new Error("The source must be a Jimp image");if(typeof n!="number"||typeof r!="number")throw new Error("x and y must be numbers");let{mode:o=Ch.SRC_OVER}=i,{opacitySource:s=1,opacityDest:a=1}=i;(typeof s!="number"||s<0||s>1)&&(s=1),(typeof a!="number"||a<0||a>1)&&(a=1);let l=eP[o];return n=Math.round(n),r=Math.round(r),a!==1&&e.scan((u,c,d)=>{let h=e.bitmap.data[d+3]*a;e.bitmap.data[d+3]=h}),t.scan((u,c,d)=>{let h=e.getPixelIndex(n+u,r+c,Oo.CROP);if(h===-1)return;let f=l({r:t.bitmap.data[d+0]/255,g:t.bitmap.data[d+1]/255,b:t.bitmap.data[d+2]/255,a:t.bitmap.data[d+3]/255},{r:e.bitmap.data[h+0]/255,g:e.bitmap.data[h+1]/255,b:e.bitmap.data[h+2]/255,a:e.bitmap.data[h+3]/255},s);e.bitmap.data[h+0]=dn(255*f.r),e.bitmap.data[h+1]=dn(255*f.g),e.bitmap.data[h+2]=dn(255*f.b),e.bitmap.data[h+3]=dn(255*f.a)}),e}function nP(e,t){switch(e){case 1:return t.nextUInt8();case 3:case 8:return t.nextUInt16();case 4:case 9:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function rP(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function iP(e,t){var n,r,i=t.nextUInt16(),o=t.nextUInt16(),s=rP(o),a=t.nextUInt32(),l=s*a;if(l>4&&(t=e.openWithOffset(t.nextUInt32())),o===2){var u=(n=t.nextString(a)).indexOf("\0");u!==-1&&(n=n.substr(0,u))}else if(o===7)n=t.nextBuffer(a);else if(o!==0)for(n=[],r=0;r<a;++r)n.push(nP(o,t));return l<4&&t.skip(4-l),[i,n,o]}function Ou(e,t,n){var r,i,o=t.nextUInt16();for(i=0;i<o;++i)n((r=iP(e,t))[0],r[1],r[2])}function oP(e){if(e.nextString(6)!=="Exif\0\0")throw new Error("Invalid EXIF header");var t=e.mark(),n=e.nextUInt16();if(n===18761)e.setBigEndian(!1);else{if(n!==19789)throw new Error("Invalid TIFF header");e.setBigEndian(!0)}if(e.nextUInt16()!==42)throw new Error("Invalid TIFF data");return t}function G1(e){return parseInt(e,10)}function DC(e,t){e=e.map(G1),t=t.map(G1);var n=e[0],r=e[1]-1,i=e[2],o=t[0],s=t[1],a=t[2];return Date.UTC(n,r,i,o,s,a,0)/1e3}function CC(e){var t=e.substr(0,10).split("-"),n=e.substr(11,8).split(":"),r=e.substr(19,6).split(":").map(G1),i=r[0]*sP+r[1]*aP,o=DC(t,n);if(typeof(o-=i)=="number"&&!isNaN(o))return o}function IC(e){var t=e.split(" "),n=DC(t[0].split(":"),t[1].split(":"));if(typeof n=="number"&&!isNaN(n))return n}function lP(e){var t=e.length===19&&e.charAt(4)===":";return e.length===25&&e.charAt(10)==="T"?CC(e):t?IC(e):void 0}function pP(){return ex?XE:(ex=1,XE={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}})}function nx(e,t,n,r,i,o,s){this.startMarker=e,this.tags=t,this.imageSize=n,this.thumbnailOffset=r,this.thumbnailLength=i,this.thumbnailType=o,this.app1Offset=s}function SC(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}function gP(){if(ix)return rx;function e(t,n,r,i,o,s){this.global=o,n=n||0,r=r||t.byteLength-n,this.arrayBuffer=t.slice(n,n+r),this.view=new o.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(i),this.offset=0,this.parentOffset=(s||0)+n}return ix=1,e.prototype={setBigEndian:function(t){this.littleEndian=!t},nextUInt8:function(){var t=this.view.getUint8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.view.getInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},nextUInt32:function(){var t=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},nextInt16:function(){var t=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},nextInt32:function(){var t=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},nextFloat:function(){var t=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},nextDouble:function(){var t=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},nextBuffer:function(t){var n=this.arrayBuffer.slice(this.offset,this.offset+t);return this.offset+=t,n},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(t){var n=this.arrayBuffer.slice(this.offset,this.offset+t);return n=String.fromCharCode.apply(null,new this.global.Uint8Array(n)),this.offset+=t,n},mark:function(){var t=this;return{openWithOffset:function(n){return n=(n||0)+this.offset,new e(t.arrayBuffer,n,t.arrayBuffer.byteLength-n,!t.littleEndian,t.global,t.parentOffset)},offset:this.offset,getParentOffset:function(){return t.parentOffset}}},offsetFrom:function(t){return this.parentOffset+this.offset-(t.offset+t.getParentOffset())},skip:function(t){this.offset+=t},branch:function(t,n){return n=typeof n=="number"?n:this.arrayBuffer.byteLength-(this.offset+t),new e(this.arrayBuffer,this.offset+t,n,!this.littleEndian,this.global,this.parentOffset)}},rx=e}function yP(){if(sx)return ox;function e(t,n,r,i){this.buffer=t,this.offset=n||0,r=typeof r=="number"?r:t.length,this.endPosition=this.offset+r,this.setBigEndian(i)}return sx=1,e.prototype={setBigEndian:function(t){this.bigEndian=!!t},nextUInt8:function(){var t=this.buffer.readUInt8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.buffer.readInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,t},nextUInt32:function(){var t=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,t},nextInt16:function(){var t=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,t},nextInt32:function(){var t=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,t},nextFloat:function(){var t=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,t},nextDouble:function(){var t=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,t},nextBuffer:function(t){var n=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n},remainingLength:function(){return this.endPosition-this.offset},nextString:function(t){var n=this.buffer.toString("utf8",this.offset,this.offset+t);return this.offset+=t,n},mark:function(){var t=this;return{openWithOffset:function(n){return n=(n||0)+this.offset,new e(t.buffer,n,t.endPosition-n,t.bigEndian)},offset:this.offset}},offsetFrom:function(t){return this.offset-t.offset},skip:function(t){this.offset+=t},branch:function(t,n){return n=typeof n=="number"?n:this.endPosition-(this.offset+t),new e(this.buffer,this.offset+t,n,this.bigEndian)}},ox=e}function _P(){return(0,eval)("this")}function W1(e){let t=e._exif;return t&&t.tags&&t.tags.Orientation||1}function wP(e){let t=e.bitmap.width,n=e.bitmap.height;switch(W1(e)){case 1:default:return null;case 2:return function(r,i){return[t-r-1,i]};case 3:return function(r,i){return[t-r-1,n-i-1]};case 4:return function(r,i){return[r,n-i-1]};case 5:return function(r,i){return[i,r]};case 6:return function(r,i){return[i,n-r-1]};case 7:return function(r,i){return[t-i-1,n-r-1]};case 8:return function(r,i){return[t-i-1,r]}}}function EP(e,t,n,r){let i=e.bitmap.data,o=e.bitmap.width,s=be.alloc(i.length);for(let a=0;a<t;a++)for(let l=0;l<n;l++){let[u,c]=r(a,l),d=t*l+a<<2,h=o*c+u<<2,f=i.readUInt32BE(h);s.writeUInt32BE(f,d)}e.bitmap.data=s,e.bitmap.width=t,e.bitmap.height=n,e._exif.tags.Orientation=1}function xP(e){if(W1(e)<2)return;let t=wP(e),n=W1(e)>4,r=n?e.bitmap.height:e.bitmap.width,i=n?e.bitmap.width:e.bitmap.height;t&&EP(e,r,i,t)}function DP(e,t){return Pe(this,null,function*(){try{e._exif=bP.create(t).parse(),xP(e)}catch{}})}function lx(e){let t=be.alloc(e.byteLength),n=new Uint8Array(e);for(let r=0;r<t.length;++r)t[r]=n[r];return t}function MC({plugins:e,formats:t}={}){let n=e||[],r=(t||[]).map(o=>o()),i=class{constructor(o=_1){if(eh(this,"bitmap",_1),eh(this,"background",0),eh(this,"formats",[]),eh(this,"mime"),this.formats=r,"data"in o)this.bitmap=o;else if(this.bitmap={data:be.alloc(o.width*o.height*4),width:o.width,height:o.height},o.color){this.background=typeof o.color=="string"?Hx(o.color):o.color;for(let s=0;s<this.bitmap.data.length;s+=4)this.bitmap.data.writeUInt32BE(this.background,s)}for(let s of n)for(let a in s)this[a]=(...l)=>{let u=s[a]?.(this,...l);return typeof u=="object"&&"bitmap"in u?(this.bitmap=u.bitmap,this):u}}static read(o,s){return Pe(this,null,function*(){if(be.isBuffer(o)||o instanceof ArrayBuffer)return this.fromBuffer(o);let[a,l]=yield JE(fetch(o));if(a)throw new Error(`Could not load Buffer from URL: ${o}`);if(!l.ok)throw new Error(`HTTP Status ${l.status} for url ${o}`);let[u,c]=yield JE(l.arrayBuffer());if(u)throw new Error(`Could not load Buffer from ${o}`);let d=lx(c);return this.fromBuffer(d,s)})}static fromBitmap(o){let s;if(o.data instanceof be&&(s=be.from(o.data)),(o.data instanceof Uint8Array||o.data instanceof Uint8ClampedArray)&&(s=be.from(o.data.buffer)),Array.isArray(o.data)&&(s=be.concat(o.data.map(a=>be.from(a.toString(16).padStart(8,"0"),"hex")))),!s)throw new Error("data must be a Buffer");if(typeof o.height!="number"||typeof o.width!="number")throw new Error("bitmap must have width and height");return new i({height:o.height,width:o.width,data:s})}static fromBuffer(o,s){return Pe(this,null,function*(){let a=o instanceof ArrayBuffer?lx(o):o,l=yield W8.fromBuffer(a);if(!l||!l.mime)throw new Error("Could not find MIME for Buffer");let u=r.find(d=>d.mime===l.mime);if(!u||!u.decode)throw new Error(`Mime type ${l.mime} does not support decoding`);let c=new i(yield u.decode(a,s?.[u.mime]));return c.mime=l.mime,DP(c,a),c})}inspect(){return"<Jimp "+(this.bitmap===_1?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}toString(){return"[object Jimp]"}get width(){return this.bitmap.width}get height(){return this.bitmap.height}getBuffer(o,s){return Pe(this,null,function*(){let a=this.formats.find(u=>u.mime===o);if(!a||!a.encode)throw new Error(`Unsupported MIME type: ${o}`);let l;return a.hasAlpha?l=this:(l=new i({width:this.bitmap.width,height:this.bitmap.height,color:this.background}),$1(l,this)),a.encode(l.bitmap,s)})}getBase64(o,s){return Pe(this,null,function*(){return"data:"+o+";base64,"+(yield this.getBuffer(o,s)).toString("base64")})}write(o,s){return Pe(this,null,function*(){let a=J8.getType(o);yield q8(o,yield this.getBuffer(a,s))})}clone(){return new i(ke(fe({},this.bitmap),{data:be.from(this.bitmap.data)}))}getPixelIndex(o,s,a){let l,u;if(a||(a=Oo.EXTEND),typeof o!="number"||typeof s!="number")throw new Error("x and y must be numbers");l=o=Math.round(o),u=s=Math.round(s),a===Oo.EXTEND&&(o<0&&(l=0),o>=this.bitmap.width&&(l=this.bitmap.width-1),s<0&&(u=0),s>=this.bitmap.height&&(u=this.bitmap.height-1)),a===Oo.WRAP&&(o<0&&(l=this.bitmap.width+o),o>=this.bitmap.width&&(l=o%this.bitmap.width),s<0&&(u=this.bitmap.height+s),s>=this.bitmap.height&&(u=s%this.bitmap.height));let c=this.bitmap.width*u+l<<2;return(l<0||l>=this.bitmap.width)&&(c=-1),(u<0||u>=this.bitmap.height)&&(c=-1),c}getPixelColor(o,s){if(typeof o!="number"||typeof s!="number")throw new Error("x and y must be numbers");let a=this.getPixelIndex(o,s);return this.bitmap.data.readUInt32BE(a)}setPixelColor(o,s,a){if(typeof o!="number"||typeof s!="number"||typeof a!="number")throw new Error("hex, x and y must be numbers");let l=this.getPixelIndex(s,a);return this.bitmap.data.writeUInt32BE(o,l),this}hasAlpha(){let{width:o,height:s,data:a}=this.bitmap,l=o*s<<2;for(let u=3;u<l;u+=4)if(a[u]!==255)return!0;return!1}composite(o,s=0,a=0,l={}){return $1(this,o,s,a,l)}scan(o,s,a,l,u){return ks(this,o,s,a,l,u)}scanIterator(o=0,s=0,a=this.bitmap.width,l=this.bitmap.height){if(typeof o!="number"||typeof s!="number")throw new Error("x and y must be numbers");if(typeof a!="number"||typeof l!="number")throw new Error("w and h must be numbers");return WN(this,o,s,a,l)}};return i}function cn(e,t,n,r,i,o,s){this.widthOriginal=Math.abs(Math.floor(e)||0),this.heightOriginal=Math.abs(Math.floor(t)||0),this.targetWidth=Math.abs(Math.floor(n)||0),this.targetHeight=Math.abs(Math.floor(r)||0),this.colorChannels=i?4:3,this.interpolationPass=!!o,this.resizeCallback=typeof s=="function"?s:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}function q1(e,t){if(!(e&&t&&e.length&&t.length))throw new Error("Bad alphabet");this.srcAlphabet=e,this.dstAlphabet=t}function zu(e,t){var n=new $P(e,t);return function(r){return n.convert(r)}}function ZP(e){let t=255&e,n=255&(e>>>=8),r=255&(e>>>=8);return{r:255&(e>>>=8),g:r,b:n,a:t}}function YP(e){for(let t=1;t<e;t++)Sh[t]=1;Sh[0]=1/Math.sqrt(2)}function KP(e,t){let n=t,r=[];for(let i=0;i<n;i++){let o=[];for(let s=0;s<n;s++){let a=0;for(let l=0;l<n;l++)for(let u=0;u<n;u++)a+=Math.cos((2*l+1)/(2*n)*i*Math.PI)*Math.cos((2*u+1)/(2*n)*s*Math.PI)*e[l][u];a*=Sh[i]*Sh[s]/4,o[s]=a,r[i]=o}}return r}function JP(e,t){let n=new al,r=n.getHash(e),i=n.getHash(t);return n.distance(r,i)}function XP(e,t){return new al().distance(e,t)}function rl(e,t){let n=0;for(let r=0;r<t.length;r++){let i=t[r],o=e.chars[i];if(o){let s=e.kernings[i],a=t[r+1],l=s&&a&&s[a]&&s[a]||0;n+=(o.xadvance||0)+l}}return n}function kC(e,t,n){let r=t.replace(/[\r\n]+/g,` 
`).split(" "),i=[],o=[],s=0;return r.forEach(a=>{if(rl(e,a+(r.length>1?" ":""))>n){let c=a[Symbol.iterator](),d="";for(let h of c){let f=[...o,d+h].join(" "),p=rl(e,f);p<n?d+=h:p>n?(i.push([...o,d]),o=[],d=h):(i.push([...o,d+h]),o=[],d="")}return}let l=[...o,a].join(" "),u=rl(e,l);u<=n&&!a.includes(`
`)?(u>s&&(s=u),o.push(a)):(i.push(o),o=[a.replace(`
`,"")])}),i.push(o),{lines:i,longestLine:s}}function Z1(e,t,n){let{lines:r}=kC(e,t,n);return r.length*e.common.lineHeight}function i6(e,t,n,r){return r===Di.LEFT?0:r===Di.CENTER?(n-rl(e,t))/2:n-rl(e,t)}function o6(e,t,n,r,i){if(i.width>0&&i.height>0){let o=t.pages[i.page];o&&(e=_y.blit(e,{src:o,x:n+i.xoffset,y:r+i.yoffset,srcX:i.x,srcY:i.y,srcW:i.width,srcH:i.height}))}return e}function s6(e,t,n,r,i,o){for(let s=0;s<i.length;s++){let a=i[s],l;l=t.chars[a]?a:/\s/.test(a)?"":"?";let u=t.chars[l]||{xadvance:void 0},c=t.kernings[l];u&&o6(e,t,n,r,u);let d=i[s+1];n+=(c&&d&&c[d]&&c[d]||0)+(u.xadvance||o)}}function dx(e){return function(t,n){return n*e+t<<2}}function u6(e,t){if(Math.abs(t)%90!=0)throw new Error("Unsupported matrix rotation degree");let n=e.bitmap.width,r=e.bitmap.height,i;switch(t){case 90:case-270:i=90;break;case 180:case-180:i=180;break;case 270:case-90:i=-90;break;default:throw new Error("Unsupported matrix rotation degree")}let o=i===180?n:r,s=i===180?r:n,a=be.alloc(e.bitmap.data.length),l=dx(n),u=dx(o);for(let c=0;c<n;c++)for(let d=0;d<r;d++){let h=l(c,d),f=e.bitmap.data.readUInt32BE(h),p;switch(i){case 90:p=u(d,n-c-1);break;case-90:p=u(r-d-1,c);break;case 180:p=u(n-c-1,r-d-1);break;default:throw new Error("Unsupported matrix rotation angle")}a.writeUInt32BE(f,p)}e.bitmap.data=a,e.bitmap.width=o,e.bitmap.height=s}function fx(e,t){return function(n,r){return{x:n+e,y:r+t}}}function c6(e,t,n){let r=t*Math.PI/180,i=Math.cos(r),o=Math.sin(r),s=e.bitmap.width,a=e.bitmap.height;if(n===!0||typeof n=="string"){s=Math.ceil(Math.abs(e.bitmap.width*i)+Math.abs(e.bitmap.height*o))+1,a=Math.ceil(Math.abs(e.bitmap.width*o)+Math.abs(e.bitmap.height*i))+1,s%2!=0&&s++,a%2!=0&&a++;let f=Xi(e);e.scan((m,g,_)=>{e.bitmap.data.writeUInt32BE(e.background,_)});let p=Math.max(s,a,e.bitmap.width,e.bitmap.height);e=$1(e=Fo.resize(e,{h:p,w:p,mode:n===!0?void 0:n}),f,e.bitmap.width/2-f.bitmap.width/2,e.bitmap.height/2-f.bitmap.height/2)}let l=e.bitmap.width,u=e.bitmap.height,c=be.alloc(e.bitmap.data.length),d=fx(-l/2,-u/2),h=fx(l/2+.5,u/2+.5);for(let f=1;f<=u;f++)for(let p=1;p<=l;p++){let m=d(p,f),g=h(i*m.x-o*m.y,i*m.y+o*m.x),_=l*(f-1)+p-1<<2;if(g.x>=0&&g.x<l&&g.y>=0&&g.y<u){let b=l*(0|g.y)+g.x<<2,v=e.bitmap.data.readUInt32BE(b);c.writeUInt32BE(v,_)}else c.writeUInt32BE(e.background,_)}if(e.bitmap.data=c,n===!0||typeof n=="string"){let f=Math.max(l/2-s/2,0),p=Math.max(u/2-a/2,0);e=by.crop(e,{x:f,y:p,w:s,h:a})}}function v1(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}function LC(e,t,n){return{x:.4124*(e=v1(e/255))+.3576*(t=v1(t/255))+.1805*(n=v1(n/255)),y:.2126*e+.7152*t+.0722*n,z:.0193*e+.1192*t+.9505*n}}function To(e){return e*(Math.PI/180)}function jC(e,t,n){let r=e;return r<t&&(r=t),r<n&&(r=n),r}function UC(e,t,n){let r=e;return r>t&&(r=t),r>n&&(r=n),r}function y6(e,t,n){return e>n&&(e=n),e<t&&(e=t),0|e}function Nr(e){return(e=Math.round(e))>255?e=255:e<0&&(e=0),e}function fr(e){return e>255?e=255:e<0&&(e=0),e}function wy(e,t){let n=typeof e[0],r;if(n==="number"||n==="string"){let i=Object.create(null);for(let o=0,s=e.length;o<s;o++){let a=e[o];i[a]||i[a]===0||(i[a]=o)}r=e.sort((o,s)=>t(o,s)||i[o]-i[s])}else{let i=e.slice(0);r=e.sort((o,s)=>t(o,s)||i.indexOf(o)-i.indexOf(s))}return r}function Mh(e,t,n){let r=UC(e,t,n),i=jC(e,t,n),o=i-r,s=(r+i)/510,a=0;s>0&&s<1&&(a=o/(s<.5?i+r:510-i-r));let l=0;return o>0&&(l=i===e?(t-n)/o:i===t?2+(n-e)/o:4+(e-t)/o,l*=60,l<0&&(l+=360)),{h:l,s:a,l:s}}function b1(e){return e>.008856?e**(1/3):7.787*e+16/116}function zC(e,t,n){if(e=b1(e/_6),t=b1(t/v6),n=b1(n/b6),116*t-16<0)throw new Error("xxx");return{L:Math.max(0,116*t-16),a:500*(e-t),b:200*(t-n)}}function ec(e,t,n){let r=LC(e,t,n);return zC(r.x,r.y,r.z)}function w1(e){return e>.206893034?e**3:(e-16/116)/7.787}function VC(e,t,n){let r=(e+16)/116,i=r-n/200;return{x:w6*w1(t/500+r),y:E6*w1(r),z:x6*w1(i)}}function E1(e){return e>.0031308?1.055*e**(1/2.4)-.055:12.92*e}function HC(e,t,n){let r=E1(3.2406*e+-1.5372*t+-.4986*n),i=E1(-.9689*e+1.8758*t+.0415*n),o=E1(.0557*e+-.204*t+1.057*n);return{r:Nr(255*r),g:Nr(255*i),b:Nr(255*o)}}function D6(e,t,n){let r=VC(e,t,n);return HC(r.x,r.y,r.z)}function Y1(e,t){let n=360/t;for(let r=1,i=n-n/2;r<t;r++,i+=n)if(e>=i&&e<i+n)return r;return 0}function qa(e){let t=[];for(let n=0;n<e;n++)t[n]=0;return t}function Za(e,t,n,r){let i=new Array(e);for(let o=0;o<e;o++){i[o]=new Array(t);for(let s=0;s<t;s++){i[o][s]=new Array(n);for(let a=0;a<n;a++){i[o][s][a]=new Array(r);for(let l=0;l<r;l++)i[o][s][a][l]=0}}}return i}function Ya(e,t,n){let r=new Array(e);for(let i=0;i<e;i++){r[i]=new Array(t);for(let o=0;o<t;o++){r[i][o]=new Array(n);for(let s=0;s<n;s++)r[i][o][s]=0}}return r}function Ka(e,t,n,r,i){for(let o=0;o<t;o++){e[o]=[];for(let s=0;s<n;s++){e[o][s]=[];for(let a=0;a<r;a++)e[o][s][a]=i}}}function Qa(e,t,n){for(let r=0;r<t;r++)e[r]=n}function*R6(e,t,n){let r=Math.max(e,t),i={width:e,height:t,level:Math.floor(Math.log(r)/Math.log(2)+1),callback:n,tracker:new ro(e*t,99),index:0,x:0,y:0};yield*at(Sn(i,1)),ur(i,0)}function*Sn(e,t){if(!(e.level<1)){switch(e.tracker.shouldNotify(e.index)&&(yield{progress:e.tracker.progress}),e.level--,t){case 2:yield*at(Sn(e,1)),ur(e,3),yield*at(Sn(e,2)),ur(e,4),yield*at(Sn(e,2)),ur(e,2),yield*at(Sn(e,4));break;case 3:yield*at(Sn(e,4)),ur(e,2),yield*at(Sn(e,3)),ur(e,1),yield*at(Sn(e,3)),ur(e,3),yield*at(Sn(e,1));break;case 1:yield*at(Sn(e,2)),ur(e,4),yield*at(Sn(e,1)),ur(e,3),yield*at(Sn(e,1)),ur(e,1),yield*at(Sn(e,3));break;case 4:yield*at(Sn(e,3)),ur(e,1),yield*at(Sn(e,4)),ur(e,2),yield*at(Sn(e,4)),ur(e,4),yield*at(Sn(e,2))}e.level++}}function ur(e,t){switch(e.x>=0&&e.x<e.width&&e.y>=0&&e.y<e.height&&(e.callback(e.x,e.y),e.index++),t){case 2:e.x--;break;case 3:e.x++;break;case 1:e.y--;break;case 4:e.y++}}function F6(e,t){if(e.getHeight()!==t.getHeight()||e.getWidth()!==t.getWidth())throw new Error("Images have different sizes!");let n=(255*O6)**2,r=(255*P6)**2,i=0,o=0;return L6(e,t,(s,a,l,u)=>{let c=0,d=0,h=0;for(let p=0;p<s.length;p++)d+=(s[p]-l)**2,h+=(a[p]-u)**2,c+=(s[p]-l)*(a[p]-u);let f=s.length-1;d/=f,h/=f,c/=f,o+=(2*l*u+n)*(2*c+r)/((l**2+u**2+n)*(d+h+r)),i++}),o/i}function L6(e,t,n){let r=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o+=8)for(let s=0;s<r;s+=8){let a=Math.min(8,r-s),l=Math.min(8,i-o),u=px(e,s,o,a,l),c=px(t,s,o,a,l);n(u,c,mx(u),mx(c))}}function px(e,t,n,r,i){let o=e.getPointArray(),s=[],a=0;for(let l=n;l<n+i;l++){let u=l*e.getWidth();for(let c=t;c<t+r;c++){let d=o[u+c];s[a]=.2126*d.r+.7152*d.g+.0722*d.b,a++}}return s}function mx(e){let t=0;for(let n of e)t+=n;return t/e.length}function B6(e,{colorDistanceFormula:t,paletteQuantization:n,colors:r}={}){let i=z6(lI(t),n,r);return e.forEach(o=>i.sample(o)),i.quantizeSync()}function j6(e,t,{colorDistanceFormula:n,imageQuantization:r}={}){return U6(lI(n),r).quantizeSync(e,t)}function lI(e="euclidean-bt709"){switch(e){case"cie94-graphic-arts":return new WC;case"cie94-textiles":return new GC;case"ciede2000":return new Jr;case"color-metric":return new qC;case"euclidean":return new ZC;case"euclidean-bt709":return new YC;case"euclidean-bt709-noalpha":return new KC;case"manhattan":return new QC;case"manhattan-bt709":return new XC;case"manhattan-nommyde":return new JC;case"pngquant":return new eI;default:throw new Error(`Unknown colorDistanceFormula ${e}`)}}function U6(e,t="floyd-steinberg"){switch(t){case"nearest":return new sI(e);case"riemersma":return new Ey(e);case"floyd-steinberg":return new bi(e,0);case"false-floyd-steinberg":return new bi(e,1);case"stucki":return new bi(e,2);case"atkinson":return new bi(e,3);case"jarvis":return new bi(e,4);case"burkes":return new bi(e,5);case"sierra":return new bi(e,6);case"two-sierra":return new bi(e,7);case"sierra-lite":return new bi(e,8);default:throw new Error(`Unknown imageQuantization ${t}`)}}function z6(e,t="wuquant",n=256){switch(t){case"neuquant":return new Wt(e,n);case"rgbquant":return new iI(e,n);case"wuquant":return new nl(e,n);case"neuquant-float":return new qt(e,n);default:throw new Error(`Unknown paletteQuantization ${t}`)}}function G6(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(n===-1)throw new Error("no named row at line "+t);var r=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(l){return l.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var i=[],o=0;o<e.length;o++){var s=e[o];o===0?i.push({key:s[0],data:""}):o===e.length-1?i[i.length-1].data=gx(s[0]):(i[i.length-1].data=gx(s[0]),i.push({key:s[1],data:""}))}var a={key:r,data:{}};return i.forEach(function(l){a.data[l.key]=l.data}),a}function gx(e){return e&&e.length!==0?e.indexOf('"')===0||e.indexOf("'")===0?e.substring(1,e.length-1):e.indexOf(",")!==-1?W6(e):parseInt(e,10):""}function W6(e){return e.split(",").map(function(t){return parseInt(t,10)})}function Y6(e){return e.split(",").map(function(t){return parseInt(t,10)})}function _x(e){return eF(e).reduce(function(t,n){return t[tF(n.nodeName)]=n.nodeValue,t},{})}function eF(e){for(var t=[],n=0;n<e.attributes.length;n++)t.push(e.attributes[n]);return t}function tF(e){return J6[e.toLowerCase()]||e}function oF(e,t,n){if(n>t.length-1)return 0;var r=t.readUInt8(n++),i=t.readInt32LE(n);switch(n+=4,r){case 1:e.info=sF(t,n);break;case 2:e.common=aF(t,n);break;case 3:e.pages=lF(t,n,i);break;case 4:e.chars=uF(t,n,i);break;case 5:e.kernings=cF(t,n,i)}return 5+i}function sF(e,t){var n={};n.size=e.readInt16LE(t);var r=e.readUInt8(t+2);return n.smooth=r>>7&1,n.unicode=r>>6&1,n.italic=r>>5&1,n.bold=r>>4&1,r>>3&1&&(n.fixedHeight=1),n.charset=e.readUInt8(t+3)||"",n.stretchH=e.readUInt16LE(t+4),n.aa=e.readUInt8(t+6),n.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)],n.spacing=[e.readInt8(t+11),e.readInt8(t+12)],n.outline=e.readUInt8(t+13),n.face=dF(e,t+14),n}function aF(e,t){var n={};return n.lineHeight=e.readUInt16LE(t),n.base=e.readUInt16LE(t+2),n.scaleW=e.readUInt16LE(t+4),n.scaleH=e.readUInt16LE(t+6),n.pages=e.readUInt16LE(t+8),e.readUInt8(t+10),n.packed=0,n.alphaChnl=e.readUInt8(t+11),n.redChnl=e.readUInt8(t+12),n.greenChnl=e.readUInt8(t+13),n.blueChnl=e.readUInt8(t+14),n}function lF(e,t,n){for(var r=[],i=uI(e,t),o=i.length+1,s=n/o,a=0;a<s;a++)r[a]=e.slice(t,t+i.length).toString("utf8"),t+=o;return r}function uF(e,t,n){for(var r=[],i=n/20,o=0;o<i;o++){var s={},a=20*o;s.id=e.readUInt32LE(t+0+a),s.x=e.readUInt16LE(t+4+a),s.y=e.readUInt16LE(t+6+a),s.width=e.readUInt16LE(t+8+a),s.height=e.readUInt16LE(t+10+a),s.xoffset=e.readInt16LE(t+12+a),s.yoffset=e.readInt16LE(t+14+a),s.xadvance=e.readInt16LE(t+16+a),s.page=e.readUInt8(t+18+a),s.chnl=e.readUInt8(t+19+a),r[o]=s}return r}function cF(e,t,n){for(var r=[],i=n/10,o=0;o<i;o++){var s={},a=10*o;s.first=e.readUInt32LE(t+0+a),s.second=e.readUInt32LE(t+4+a),s.amount=e.readInt16LE(t+8+a),r[o]=s}return r}function uI(e,t){for(var n=t;n<e.length&&e[n]!==0;n++);return e.slice(t,n)}function dF(e,t){return uI(e,t).toString("utf8")}function cI(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];i==="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function K1(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:"/";if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t=r.charAt(0)==="/")}return e=cI(Dy(e.split("/"),function(i){return!!i}),!t).join("/"),(t?"/":"")+e||"."}function dI(e){var t=fI(e),n=wF(e,-1)==="/";return e=cI(Dy(e.split("/"),function(r){return!!r}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function fI(e){return e.charAt(0)==="/"}function pF(){return dI(Dy(Array.prototype.slice.call(arguments,0),function(e,t){if(typeof e!="string")throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))}function mF(e,t){function n(u){for(var c=0;c<u.length&&u[c]==="";c++);for(var d=u.length-1;d>=0&&u[d]==="";d--);return c>d?[]:u.slice(c,d-c+1)}e=K1(e).substr(1),t=K1(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),s=o,a=0;a<o;a++)if(r[a]!==i[a]){s=a;break}var l=[];for(a=s;a<r.length;a++)l.push("..");return(l=l.concat(i.slice(s))).join("/")}function _F(e){var t=xy(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}function vF(e,t){var n=xy(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n}function bF(e){return xy(e)[3]}function Dy(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function EF(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function OF(e){let t=[],n="";return e.forEach(r=>{r.type===Xr.CONTENT?n+=r.value:(n.length&&(t.push(Q1(n)),n=""),t.push(r))}),n.length&&t.push(Q1(n)),t}function VF(e){if(typeof e=="string")return e.substring(0,3)==="BMF";let t=e.slice(0,4);return e.length>4&&t[0]===D1[0]&&t[1]===D1[1]&&t[2]===D1[2]}function Cx(e,t){return VF(t)?(typeof t=="string"&&(t=be.from(t,"binary")),fF(t)):(t=t.toString().trim(),/.json$/.test(e)||t.charAt(0)==="{"?JSON.parse(t):/.xml$/.test(e)||t.charAt(0)==="<"?nF(t):q6(t))}function sh(e){for(let t in e){try{e[t]=parseInt(e[t],10)}catch{}typeof e[t]=="object"&&sh(e[t])}return e}function HF(e){return Pe(this,null,function*(){if(yI&&typeof e=="string"){let t=yield fetch(e),n=yield t.text(),r=UF(n).font.children.reduce((a,l)=>fe(fe({},a),l),{}),i=[],o=[],s=[];for(let a=0;a<r.pages.children.length;a++){let l=r.pages.children[a].page;i[parseInt(l.id,10)]=sh(l.file)}for(let a=0;a<r.chars.children.length;a++)o.push(sh(r.chars.children[a].char));for(let a=0;a<r.kernings.children.length;a++)s.push(sh(r.kernings.children[a].kerning));return{info:r.info,common:r.common,pages:i,chars:o,kernings:s}}if(typeof e=="string"){let t=yield fetch(e);return Cx(e,yield t.text())}return Cx("",e)})}function $F(e,t){return Pe(this,null,function*(){let n={},r={};for(let i=0;i<t.chars.length;i++){let o=t.chars[i];n[String.fromCharCode(o.id)]=o}for(let i=0;i<t.kernings.length;i++){let o=String.fromCharCode(t.kernings[i].first);r[o]=r[o]||{},r[o][String.fromCharCode(t.kernings[i].second)]=t.kernings[i].amount}return ke(fe({},t),{chars:n,kernings:r,pages:yield Promise.all(t.pages.map(i=>Pe(null,null,function*(){return zF.read(vx.join(vx.dirname(e),i))})))})})}function GF(e){return Pe(this,null,function*(){let t=e;if(typeof window>"u"&&!yI){let{existsSync:n,promises:r}=yield Promise.resolve().then(function(){return qx});n(e)&&(t=yield r.readFile(e))}return $F(e,yield HF(t))})}function ZF(e,t,n,r,i,o){if(!C1(e)||!C1(t)||n&&!C1(n))throw new Error("Image data: Uint8Array, Uint8ClampedArray or Buffer expected.");if(e.length!==t.length||n&&n.length!==e.length)throw new Error("Image sizes do not match.");if(e.length!==r*i*4)throw new Error("Image data size does not match width/height.");o=Object.assign({},qF,o);let s=r*i,a=new Uint32Array(e.buffer,e.byteOffset,s),l=new Uint32Array(t.buffer,t.byteOffset,s),u=!0;for(let h=0;h<s;h++)if(a[h]!==l[h]){u=!1;break}if(u){if(n&&!o.diffMask)for(let h=0;h<s;h++)Ax(e,4*h,o.alpha,n);return 0}let c=35215*o.threshold*o.threshold,d=0;for(let h=0;h<i;h++)for(let f=0;f<r;f++){let p=4*(h*r+f),m=_I(e,t,p,p);Math.abs(m)>c?o.includeAA||!Ix(e,f,h,r,i,t)&&!Ix(t,f,h,r,i,e)?(n&&X1(n,p,...m<0&&o.diffColorAlt||o.diffColor),d++):n&&!o.diffMask&&X1(n,p,...o.aaColor):n&&(o.diffMask||Ax(e,p,o.alpha,n))}return d}function C1(e){return ArrayBuffer.isView(e)&&e.constructor.BYTES_PER_ELEMENT===1}function Ix(e,t,n,r,i,o){let s=Math.max(t-1,0),a=Math.max(n-1,0),l=Math.min(t+1,r-1),u=Math.min(n+1,i-1),c=4*(n*r+t),d,h,f,p,m=t===s||t===l||n===a||n===u?1:0,g=0,_=0;for(let b=s;b<=l;b++)for(let v=a;v<=u;v++){if(b===t&&v===n)continue;let x=_I(e,e,c,4*(v*r+b),!0);if(x===0){if(m++,m>2)return!1}else x<g?(g=x,d=b,h=v):x>_&&(_=x,f=b,p=v)}return g!==0&&_!==0&&(th(e,d,h,r,i)&&th(o,d,h,r,i)||th(e,f,p,r,i)&&th(o,f,p,r,i))}function th(e,t,n,r,i){let o=Math.max(t-1,0),s=Math.max(n-1,0),a=Math.min(t+1,r-1),l=Math.min(n+1,i-1),u=4*(n*r+t),c=t===o||t===a||n===s||n===l?1:0;for(let d=o;d<=a;d++)for(let h=s;h<=l;h++){if(d===t&&h===n)continue;let f=4*(h*r+d);if(e[u]===e[f]&&e[u+1]===e[f+1]&&e[u+2]===e[f+2]&&e[u+3]===e[f+3]&&c++,c>2)return!0}return!1}function _I(e,t,n,r,i){let o=e[n+0],s=e[n+1],a=e[n+2],l=e[n+3],u=t[r+0],c=t[r+1],d=t[r+2],h=t[r+3];if(l===h&&o===u&&s===c&&a===d)return 0;l<255&&(l/=255,o=As(o,l),s=As(s,l),a=As(a,l)),h<255&&(h/=255,u=As(u,h),c=As(c,h),d=As(d,h));let f=J1(o,s,a),p=J1(u,c,d),m=f-p;if(i)return m;let g=Sx(o,s,a)-Sx(u,c,d),_=Mx(o,s,a)-Mx(u,c,d),b=.5053*m*m+.299*g*g+.1957*_*_;return f>p?-b:b}function J1(e,t,n){return .29889531*e+.58662247*t+.11448223*n}function Sx(e,t,n){return .59597799*e-.2741761*t-.32180189*n}function Mx(e,t,n){return .21147017*e-.52261711*t+.31114694*n}function As(e,t){return 255+(e-255)*t}function X1(e,t,n,r,i){e[t+0]=n,e[t+1]=r,e[t+2]=i,e[t+3]=255}function Ax(e,t,n,r){let i=As(J1(e[t+0],e[t+1],e[t+2]),n*e[t+3]/255);X1(r,t,i,i,i)}function KF(e,t,n=.1){let r=e.bitmap,i=t.bitmap;if(r.width===i.width&&r.height===i.height||(r.width*r.height>i.width*i.height?r=Fo.resize(Xi(e),{w:i.width,h:i.height}).bitmap:i=Fo.resize(Xi(t),{w:r.width,h:r.height}).bitmap),typeof n!="number"||n<0||n>1)throw new Error("threshold must be a number between 0 and 1");let o=new e.constructor({width:r.width,height:r.height,color:4294967295});return{percent:YF(r.data,i.data,o.bitmap.data,o.bitmap.width,o.bitmap.height,{threshold:n})/(o.bitmap.width*o.bitmap.height),image:o}}var gn,Xw,wi,kr,VR,ey,WR,Rx,qR,rE,cN,M1,_i,ko,A1,T1,EN,xN,k1,UN,Kr,Gi,qf,Zf,ch,YN,KN,e4,ny,Wu,rh,t4,i1,pE,n4,qx,r4,kh,i4,o4,s4,a4,l4,Ii,u4,c4,we,Zx,Yx,Kx,Qx,Jx,Xx,eD,nD,f4,h4,p4,m4,g4,y4,lD,Fs,uD,cD,dD,Bt,Qr,fD,Rh,hD,pD,mD,Nh,gD,yD,_D,vD,bD,nc,pr,Yi,mE,rc,wD,v4,ED,xD,to,Ln,b4,vt,$t,Bn,w4,bt,Gt,Lu,Hu,E4,DD,CD,it,el,ID,Oh,SD,MD,vi,iy,AD,D4,C4,fh,R4,Fh,_E,Nu,vE,bE,N4,O4,P4,F4,L4,B4,Yf,PD,j4,FD,wE,Kf,U4,z4,V4,H4,EE,BD,u1,hh,sr,Zu,qi,jD,xE,DE,Ha,Yr,Ds,CE,c1,IE,d1,SE,ME,AE,TE,Cs,kE,RE,NE,OE,$a,Ar,f1,PE,FE,LE,BE,jE,UE,zE,VE,HE,$E,GE,X4,Qf,St,O1,$e,Ro,Ae,eO,Ji,il,WD,mh,nO,kn,st,gh,zn,P1,F1,Yu,Ku,Qe,ju,Uu,Or,qE,mt,rO,iO,oO,sO,aO,lO,uO,cO,h1,dO,fO,hO,ZD,pO,Po,ay,ly,uy,cy,QD,dy,fy,_h,$u,Ts,JD,eo,Qn,hy,Ao,vh,py,ol,bh,XD,eC,wh,my,Rs,Ns,Os,Lh,hr,No,sl,gy,yy,nC,_O,Qu,Ju,Ps,vO,rt,bO,iC,oC,wO,EO,sC,xO,DO,CO,IO,SO,MO,AO,TO,kO,RO,NO,OO,PO,FO,LO,BO,jO,UO,zO,VO,HO,$O,GO,WO,ZE,qO,ZO,YO,KO,QO,JO,XO,e8,t8,de,Oo,Is,ic,n8,r8,_y,i8,o8,s8,a8,l8,Bh,u8,c8,d8,f8,aC,h8,p8,m8,g8,y8,B1,_8,v8,b8,w8,E8,x8,D8,C8,I8,S8,M8,A8,T8,m1,g1,vy,lC,R8,uC,Eh,Xu,oc,ih,KE,xh,j1,Jf,U1,N8,Xf,O8,z1,Dh,P8,F8,V1,L8,B8,Zi,jh,j8,U8,z8,QE,cC,$8,H1,G8,W8,q8,Z8,Y8,K8,Q8,J8,Di,Ss,xi,Ms,Ch,Tr,X8,eP,tP,xC,sP,aP,uP,tl,cP,dP,fP,hP,XE,ex,Ga,tx,y1,mP,rx,ix,ox,sx,ax,vP,bP,CP,IP,eh,_1,Ci,Wa,ux,SP,MP,AP,Fo,TP,kP,RP,NP,by,OP,PP,FP,LP,BP,jP,UP,zP,VP,HP,$P,GP,Ih,WP,qP,cx,al,Sh,AC,TC,QP,e6,t6,n6,r6,a6,l6,d6,f6,h6,RC,p6,no,Ee,m6,NC,OC,PC,FC,g6,BC,_6,v6,b6,w6,E6,x6,C6,Ls,$C,GC,WC,jt,Jr,qC,zh,ZC,YC,KC,Vh,QC,JC,XC,eI,I6,sc,mr,Ki,hx,ac,tI,S6,nI,rI,ro,jn,M6,wt,Wt,Un,A6,Et,qt,Vu,Gu,T6,iI,oI,ot,nl,k6,Hh,sI,aI,bi,Ey,N6,O6,P6,V6,H6,$6,q6,x1,Z6,K6,yx,Q6,J6,X6,nF,rF,iF,fF,hF,xy,gF,yF,vx,wF,$h,xF,DF,CF,IF,hI,cr,mn,bx,wx,Ex,SF,MF,AF,Xr,xx,TF,kF,RF,tc,Q1,pI,mI,gI,NF,PF,FF,Dx,LF,BF,jF,UF,yI,zF,D1,WF,qF,YF,vI,bI,QF,ll,Gh=pS(()=>{"use strict";gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};typeof self>"u"&&typeof gn=="object"&&(gn.self=gn);Xw=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},wi=[],kr=[],VR=typeof Uint8Array<"u"?Uint8Array:Array,ey=!1;WR={}.toString,Rx=Array.isArray||function(e){return WR.call(e)=="[object Array]"},qR=50;be.TYPED_ARRAY_SUPPORT=Xw.TYPED_ARRAY_SUPPORT===void 0||Xw.TYPED_ARRAY_SUPPORT,ah(),be.poolSize=8192,be._augment=function(e){return e.__proto__=be.prototype,e},be.from=function(e,t,n){return Nx(null,e,t,n)},be.TYPED_ARRAY_SUPPORT&&(be.prototype.__proto__=Uint8Array.prototype,be.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&be[Symbol.species]),be.alloc=function(e,t,n){return ZR(null,e,t,n)},be.allocUnsafe=function(e){return I1(null,e)},be.allocUnsafeSlow=function(e){return I1(null,e)},be.isBuffer=yN,be.compare=function(e,t){if(!Ei(e)||!Ei(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},be.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},be.concat=function(e,t){if(!Rx(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return be.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=be.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!Ei(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},be.byteLength=Px,be.prototype._isBuffer=!0,be.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)xs(this,t,t+1);return this},be.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)xs(this,t,t+3),xs(this,t+1,t+2);return this},be.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)xs(this,t,t+7),xs(this,t+1,t+6),xs(this,t+2,t+5),xs(this,t+3,t+4);return this},be.prototype.toString=function(){var e=0|this.length;return e===0?"":arguments.length===0?Lx(this,0,e):JR.apply(this,arguments)},be.prototype.equals=function(e){if(!Ei(e))throw new TypeError("Argument must be a Buffer");return this===e||be.compare(this,e)===0},be.prototype.inspect=function(){var e="",t=qR;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},be.prototype.compare=function(e,t,n,r,i){if(!Ei(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(r,i),u=e.slice(t,n),c=0;c<a;++c)if(l[c]!==u[c]){o=l[c],s=u[c];break}return o<s?-1:s<o?1:0},be.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},be.prototype.indexOf=function(e,t,n){return tE(this,e,t,n,!0)},be.prototype.lastIndexOf=function(e,t,n){return tE(this,e,t,n,!1)},be.prototype.write=function(e,t,n,r){if(t===void 0)r="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,r===void 0&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return XR(this,e,t,n);case"utf8":case"utf-8":return eN(this,e,t,n);case"ascii":return Fx(this,e,t,n);case"latin1":case"binary":return tN(this,e,t,n);case"base64":return nN(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rN(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},be.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};rE=4096;be.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),be.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=be.prototype;else{var i=t-e;n=new be(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},be.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||bn(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},be.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||bn(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},be.prototype.readUInt8=function(e,t){return t||bn(e,1,this.length),this[e]},be.prototype.readUInt16LE=function(e,t){return t||bn(e,2,this.length),this[e]|this[e+1]<<8},be.prototype.readUInt16BE=function(e,t){return t||bn(e,2,this.length),this[e]<<8|this[e+1]},be.prototype.readUInt32LE=function(e,t){return t||bn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},be.prototype.readUInt32BE=function(e,t){return t||bn(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},be.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||bn(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},be.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||bn(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},be.prototype.readInt8=function(e,t){return t||bn(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},be.prototype.readInt16LE=function(e,t){t||bn(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},be.prototype.readInt16BE=function(e,t){t||bn(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},be.prototype.readInt32LE=function(e,t){return t||bn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},be.prototype.readInt32BE=function(e,t){return t||bn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},be.prototype.readFloatLE=function(e,t){return t||bn(e,4,this.length),$f(this,e,!0,23,4)},be.prototype.readFloatBE=function(e,t){return t||bn(e,4,this.length),$f(this,e,!1,23,4)},be.prototype.readDoubleLE=function(e,t){return t||bn(e,8,this.length),$f(this,e,!0,52,8)},be.prototype.readDoubleBE=function(e,t){return t||bn(e,8,this.length),$f(this,e,!1,52,8)},be.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||Kn(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},be.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||Kn(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},be.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||Kn(this,e,t,1,255,0),be.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},be.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||Kn(this,e,t,2,65535,0),be.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Gf(this,e,t,!0),t+2},be.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||Kn(this,e,t,2,65535,0),be.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Gf(this,e,t,!1),t+2},be.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||Kn(this,e,t,4,4294967295,0),be.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Wf(this,e,t,!0),t+4},be.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||Kn(this,e,t,4,4294967295,0),be.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Wf(this,e,t,!1),t+4},be.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Kn(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},be.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Kn(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},be.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||Kn(this,e,t,1,127,-128),be.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},be.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||Kn(this,e,t,2,32767,-32768),be.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Gf(this,e,t,!0),t+2},be.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||Kn(this,e,t,2,32767,-32768),be.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Gf(this,e,t,!1),t+2},be.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||Kn(this,e,t,4,2147483647,-2147483648),be.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Wf(this,e,t,!0),t+4},be.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||Kn(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),be.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Wf(this,e,t,!1),t+4},be.prototype.writeFloatLE=function(e,t,n){return iE(this,e,t,!0,n)},be.prototype.writeFloatBE=function(e,t,n){return iE(this,e,t,!1,n)},be.prototype.writeDoubleLE=function(e,t,n){return oE(this,e,t,!0,n)},be.prototype.writeDoubleBE=function(e,t,n){return oE(this,e,t,!1,n)},be.prototype.copy=function(e,t,n,r){if(n||(n=0),r||r===0||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!be.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},be.prototype.fill=function(e,t,n,r){if(typeof e=="string"){if(typeof t=="string"?(r=t,t=0,n=this.length):typeof n=="string"&&(r=n,n=this.length),e.length===1){var i=e.charCodeAt(0);i<256&&(e=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!be.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof e=="number"&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=n===void 0?this.length:n>>>0,e||(e=0),typeof e=="number")for(o=t;o<n;++o)this[o]=e;else{var s=Ei(e)?e:lh(new be(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};cN=/[^+\/0-9A-Za-z-_]/g;(function(e){e[e.BITMAP_INFO_HEADER=40]="BITMAP_INFO_HEADER",e[e.BITMAP_V2_INFO_HEADER=52]="BITMAP_V2_INFO_HEADER",e[e.BITMAP_V3_INFO_HEADER=56]="BITMAP_V3_INFO_HEADER",e[e.BITMAP_V4_HEADER=108]="BITMAP_V4_HEADER",e[e.BITMAP_V5_HEADER=124]="BITMAP_V5_HEADER"})(M1||(M1={}));_i=M1;(function(e){e[e.NONE=0]="NONE",e[e.BI_RLE8=1]="BI_RLE8",e[e.BI_RLE4=2]="BI_RLE4",e[e.BI_BIT_FIELDS=3]="BI_BIT_FIELDS",e[e.BI_ALPHA_BIT_FIELDS=6]="BI_ALPHA_BIT_FIELDS"})(ko||(ko={}));A1=class{flag;fileSize;reserved1;reserved2;offset;headerSize;width;height;planes;bitPP;compression;rawSize;hr;vr;colors;importantColors;palette;data;maskRed;maskGreen;maskBlue;maskAlpha;toRGBA;pos;bottomUp;buffer;locRed;locGreen;locBlue;locAlpha;shiftRed;shiftGreen;shiftBlue;shiftAlpha;constructor(t,{toRGBA:n}={toRGBA:!1}){if(this.buffer=t,this.toRGBA=!!n,this.pos=0,this.bottomUp=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!=="BM")throw new Error("Invalid BMP File");this.locRed=this.toRGBA?0:3,this.locGreen=this.toRGBA?1:2,this.locBlue=this.toRGBA?2:1,this.locAlpha=this.toRGBA?3:0,this.parseHeader(),this.parseRGBA()}parseHeader(){if(this.fileSize=this.readUInt32LE(),this.reserved1=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.reserved2=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.offset=this.readUInt32LE(),this.headerSize=this.readUInt32LE(),!(this.headerSize in _i))throw new Error(`Unsupported BMP header size ${this.headerSize}`);if(this.width=this.readUInt32LE(),this.height=this.readUInt32LE(),this.height=this.height>2147483647?this.height-4294967296:this.height,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compression=this.readUInt32LE(),this.rawSize=this.readUInt32LE(),this.hr=this.readUInt32LE(),this.vr=this.readUInt32LE(),this.colors=this.readUInt32LE(),this.importantColors=this.readUInt32LE(),this.bitPP===32?(this.maskAlpha=0,this.maskRed=16711680,this.maskGreen=65280,this.maskBlue=255):this.bitPP===16&&(this.maskAlpha=0,this.maskRed=31744,this.maskGreen=992,this.maskBlue=31),(this.headerSize>_i.BITMAP_INFO_HEADER||this.compression===ko.BI_BIT_FIELDS||this.compression===ko.BI_ALPHA_BIT_FIELDS)&&(this.maskRed=this.readUInt32LE(),this.maskGreen=this.readUInt32LE(),this.maskBlue=this.readUInt32LE()),(this.headerSize>_i.BITMAP_V2_INFO_HEADER||this.compression===ko.BI_ALPHA_BIT_FIELDS)&&(this.maskAlpha=this.readUInt32LE()),this.headerSize>_i.BITMAP_V3_INFO_HEADER&&(this.pos+=_i.BITMAP_V4_HEADER-_i.BITMAP_V3_INFO_HEADER),this.headerSize>_i.BITMAP_V4_HEADER&&(this.pos+=_i.BITMAP_V5_HEADER-_i.BITMAP_V4_HEADER),this.bitPP<=8||this.colors>0){let n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(let r=0;r<n;r++){let i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.palette[r]={red:s,green:o,blue:i,quad:a}}}this.height<0&&(this.height*=-1,this.bottomUp=!1);let t=vN(this.maskRed,this.maskGreen,this.maskBlue,this.maskAlpha);this.shiftRed=t.shiftRed,this.shiftGreen=t.shiftGreen,this.shiftBlue=t.shiftBlue,this.shiftAlpha=t.shiftAlpha}parseRGBA(){switch(this.data=be.alloc(this.width*this.height*4),this.bitPP){case 1:this.bit1();break;case 4:this.bit4();break;case 8:this.bit8();break;case 16:this.bit16();break;case 24:this.bit24();break;default:this.bit32()}}bit1(){let t=Math.ceil(this.width/8),n=t%4,r=n!==0?4-n:0;this.scanImage(r,t,(i,o)=>{let s=this.buffer.readUInt8(this.pos++),a=o*this.width*4+8*i*4;for(let l=0;l<8&&8*i+l<this.width;l++){let u=this.palette[s>>7-l&1];this.data[a+l*this.locAlpha]=0,this.data[a+4*l+this.locBlue]=u.blue,this.data[a+4*l+this.locGreen]=u.green,this.data[a+4*l+this.locRed]=u.red}})}bit4(){if(this.compression===ko.BI_RLE4){this.data.fill(0);let t=!1,n=this.bottomUp?this.height-1:0,r=0;for(;r<this.data.length;){let i=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);if(i===0){if(o===0){n+=this.bottomUp?-1:1,r=n*this.width*4,t=!1;continue}if(o===1)break;if(o===2){let s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);n+=this.bottomUp?-a:a,r+=a*this.width*4+4*s}else{let s=this.buffer.readUInt8(this.pos++);for(let a=0;a<o;a++)r=this.setPixelData(r,t?15&s:(240&s)>>4),1&a&&a+1<o&&(s=this.buffer.readUInt8(this.pos++)),t=!t;(o+1>>1&1)==1&&this.pos++}}else for(let s=0;s<i;s++)r=this.setPixelData(r,t?15&o:(240&o)>>4),t=!t}}else{let t=Math.ceil(this.width/2),n=t%4,r=n!==0?4-n:0;this.scanImage(r,t,(i,o)=>{let s=this.buffer.readUInt8(this.pos++),a=o*this.width*4+2*i*4,l=s>>4,u=this.palette[l];if(this.data[a]=0,this.data[a+1]=u.blue,this.data[a+2]=u.green,this.data[a+3]=u.red,2*i+1>=this.width)return!1;let c=15&s;u=this.palette[c],this.data[a+4]=0,this.data[a+4+1]=u.blue,this.data[a+4+2]=u.green,this.data[a+4+3]=u.red})}}bit8(){if(this.compression===ko.BI_RLE8){this.data.fill(0);let t=this.bottomUp?this.height-1:0,n=0;for(;n<this.data.length;){let r=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(r===0){if(i===0){t+=this.bottomUp?-1:1,n=t*this.width*4;continue}if(i===1)break;if(i===2){let o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);t+=this.bottomUp?-s:s,n+=s*this.width*4+4*o}else{for(let o=0;o<i;o++){let s=this.buffer.readUInt8(this.pos++);n=this.setPixelData(n,s)}!0&i&&this.pos++}}else for(let o=0;o<r;o++)n=this.setPixelData(n,i)}}else{let t=this.width%4,n=t!==0?4-t:0;this.scanImage(n,this.width,(r,i)=>{let o=this.buffer.readUInt8(this.pos++),s=i*this.width*4+4*r;if(o<this.palette.length){let a=this.palette[o];this.data[s]=0,this.data[s+1]=a.blue,this.data[s+2]=a.green,this.data[s+3]=a.red}else this.data[s]=0,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255})}}bit16(){let t=this.width%2*2;this.scanImage(t,this.width,(n,r)=>{let i=r*this.width*4+4*n,o=this.buffer.readUInt16LE(this.pos);this.pos+=2,this.data[i+this.locRed]=this.shiftRed(o),this.data[i+this.locGreen]=this.shiftGreen(o),this.data[i+this.locBlue]=this.shiftBlue(o),this.data[i+this.locAlpha]=this.shiftAlpha(o)})}bit24(){let t=this.width%4;this.scanImage(t,this.width,(n,r)=>{let i=r*this.width*4+4*n,o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.data[i+this.locRed]=a,this.data[i+this.locGreen]=s,this.data[i+this.locBlue]=o,this.data[i+this.locAlpha]=0})}bit32(){this.scanImage(0,this.width,(t,n)=>{let r=n*this.width*4+4*t,i=this.readUInt32LE();this.data[r+this.locRed]=this.shiftRed(i),this.data[r+this.locGreen]=this.shiftGreen(i),this.data[r+this.locBlue]=this.shiftBlue(i),this.data[r+this.locAlpha]=this.shiftAlpha(i)})}scanImage(t=0,n=this.width,r){for(let i=this.height-1;i>=0;i--){let o=this.bottomUp?i:this.height-1-i;for(let s=0;s<n;s++)if(r.call(this,s,o)===!1)return;this.pos+=t}}readUInt32LE(){let t=this.buffer.readUInt32LE(this.pos);return this.pos+=4,t}setPixelData(t,n){let{blue:r,green:i,red:o}=this.palette[n];return this.data[t+this.locAlpha]=0,this.data[t+1+this.locBlue]=r,this.data[t+2+this.locGreen]=i,this.data[t+3+this.locRed]=o,t+4}};T1=class{fileSize;reserved1;reserved2;offset;width;flag;height;planes;bitPP;compress;hr;vr;colors;importantColors;rawSize;headerSize;data;palette;extraBytes;buffer;bytesInColor;pos;constructor(t){switch(this.buffer=t.data,this.width=t.width,this.height=t.height,this.headerSize=_i.BITMAP_INFO_HEADER,this.flag="BM",this.bitPP=t.bitPP||24,this.offset=54,this.reserved1=t.reserved1||0,this.reserved2=t.reserved2||0,this.planes=1,this.compress=0,this.hr=t.hr||0,this.vr=t.vr||0,this.importantColors=t.importantColors||0,this.colors=Math.min(2**(this.bitPP-1||1),t.colors||1/0),this.palette=t.palette||[],this.colors&&this.bitPP<16?this.offset+=4*this.colors:this.colors=0,this.bitPP){case 32:this.bytesInColor=4;break;case 16:this.bytesInColor=2;break;case 8:this.bytesInColor=1;break;case 4:this.bytesInColor=.5;break;case 1:this.bytesInColor=1/8;break;default:this.bytesInColor=3,this.bitPP=24}let n=this.width*this.bitPP/32,r=Math.ceil(n);this.extraBytes=4*(r-n),this.rawSize=this.height*r*4+2,this.fileSize=this.rawSize+this.offset,this.data=be.alloc(this.fileSize,1),this.pos=0,this.encode()}encode(){switch(this.pos=0,this.writeHeader(),this.bitPP){case 32:this.bit32();break;case 16:this.bit16();break;case 8:this.bit8();break;case 4:this.bit4();break;case 1:this.bit1();break;default:this.bit24()}}writeHeader(){this.data.write(this.flag,this.pos,2),this.pos+=2,this.writeUInt32LE(this.fileSize),this.writeUInt32LE(this.reserved1<<16|this.reserved2),this.writeUInt32LE(this.offset),this.writeUInt32LE(this.headerSize),this.writeUInt32LE(this.width),this.writeUInt32LE(this.height),this.data.writeUInt16LE(this.planes,this.pos),this.pos+=2,this.data.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,this.writeUInt32LE(this.compress),this.writeUInt32LE(this.rawSize),this.writeUInt32LE(this.hr),this.writeUInt32LE(this.vr),this.writeUInt32LE(this.colors),this.writeUInt32LE(this.importantColors)}bit1(){this.palette.length&&this.colors===2?this.initColors(1):(this.writeUInt32LE(16777215),this.writeUInt32LE(0)),this.pos+=1;let t=[];this.writeImage((n,r,i)=>{let o=r;o++;let s=this.buffer[o++],a=this.buffer[o++],l=.2126*this.buffer[o++]+.7152*a+.0722*s;return t.push(l>127?0:1),(i+1)%8==0?(this.data[n-1]=sE(t),t=[]):i===this.width-1&&t.length>0&&(this.data[n-1]=sE(t)<<4,t=[]),o})}bit4(){let t=this.initColors(4),n=[];this.writeImage((r,i,o)=>{let s=i,a=r1({quad:this.buffer[s++],blue:this.buffer[s++],green:this.buffer[s++],red:this.buffer[s++]}),l=t.findIndex(u=>u===a);return l!==-1?n.push(l):n.push(0),(o+1)%2==0&&(this.data[r]=n[0]<<4|n[1],n=[]),s})}bit8(){let t=this.initColors(8);this.writeImage((n,r)=>{let i=r,o=r1({quad:this.buffer[i++],blue:this.buffer[i++],green:this.buffer[i++],red:this.buffer[i++]}),s=t.findIndex(a=>a===o);return this.data[n]=s!==-1?s:0,i})}bit16(){this.writeImage((t,n)=>{let r=n+1,i=this.buffer[r++]/8,o=this.buffer[r++]/8,s=this.buffer[r++]/8<<10|o<<5|i;return this.data[t]=255&s,this.data[t+1]=(65280&s)>>8,r})}bit24(){this.writeImage((t,n)=>{let r=n+1;return this.data[t]=this.buffer[r++],this.data[t+1]=this.buffer[r++],this.data[t+2]=this.buffer[r++],r})}bit32(){this.writeImage((t,n)=>{let r=n;return this.data[t+3]=this.buffer[r++],this.data[t]=this.buffer[r++],this.data[t+1]=this.buffer[r++],this.data[t+2]=this.buffer[r++],r})}writeImage(t){let n=this.extraBytes+this.width*this.bytesInColor,r=0;for(let i=0;i<this.height;i++)for(let o=0;o<this.width;o++){let s=Math.floor(this.pos+(this.height-1-i)*n+o*this.bytesInColor);r=t.call(this,s,r,o,i)}}initColors(t){let n=[];if(!this.palette.length)throw new Error(`To encode ${t}-bit BMPs a pallette is needed. Please choose up to ${this.colors} colors. Colors must be 32-bit integers.`);for(let r=0;r<this.colors;r++){let i=r1(this.palette[r]);this.writeUInt32LE(i),n.push(i)}return n}writeUInt32LE(t){this.data.writeUInt32LE(t,this.pos),this.pos+=4}};EN=/^\s+/,xN=/\s+$/;qe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=zx(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=lE(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=lE(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return this._a==1?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=aE(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=aE(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return this._a==1?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return uE(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return MN(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Ut(this._r,255))+"%",g:Math.round(100*Ut(this._g,255))+"%",b:Math.round(100*Ut(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*Ut(this._r,255))+"%, "+Math.round(100*Ut(this._g,255))+"%, "+Math.round(100*Ut(this._b,255))+"%)":"rgba("+Math.round(100*Ut(this._r,255))+"%, "+Math.round(100*Ut(this._g,255))+"%, "+Math.round(100*Ut(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(UN[uE(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+cE(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=qe(e);n="#"+cE(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||e!=="hex"&&e!=="hex6"&&e!=="hex3"&&e!=="hex4"&&e!=="hex8"&&e!=="name"?(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),e!=="hex"&&e!=="hex6"||(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString()):e==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return qe(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(RN,arguments)},brighten:function(){return this._applyModification(NN,arguments)},darken:function(){return this._applyModification(ON,arguments)},desaturate:function(){return this._applyModification(AN,arguments)},saturate:function(){return this._applyModification(TN,arguments)},greyscale:function(){return this._applyModification(kN,arguments)},spin:function(){return this._applyModification(PN,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(BN,arguments)},complement:function(){return this._applyCombination(FN,arguments)},monochromatic:function(){return this._applyCombination(jN,arguments)},splitcomplement:function(){return this._applyCombination(LN,arguments)},triad:function(){return this._applyCombination(dE,[3])},tetrad:function(){return this._applyCombination(dE,[4])}},qe.fromRatio=function(e,t){if(uh(e)=="object"){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=r==="a"?e[r]:Pu(e[r]));e=n}return qe(e,t)},qe.equals=function(e,t){return!(!e||!t)&&qe(e).toRgbString()==qe(t).toRgbString()},qe.random=function(){return qe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},qe.mix=function(e,t,n){n=n===0?0:n||50;var r=qe(e).toRgb(),i=qe(t).toRgb(),o=n/100;return qe({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},qe.readability=function(e,t){var n=qe(e),r=qe(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},qe.isReadable=function(e,t,n){var r,i,o=qe.readability(e,t);switch(i=!1,(r=GN(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},qe.mostReadable=function(e,t,n){var r,i,o,s,a=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var u=0;u<t.length;u++)(r=qe.readability(e,t[u]))>l&&(l=r,a=qe(t[u]));return qe.isReadable(e,a,{level:o,size:s})||!i?a:(n.includeFallbackColors=!1,qe.mostReadable(e,["#fff","#000"],n))};k1=qe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},UN=qe.hexNames=zN(k1);Kr=(Gi="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",qf="[\\s|\\(]+("+Gi+")[,|\\s]+("+Gi+")[,|\\s]+("+Gi+")\\s*\\)?",Zf="[\\s|\\(]+("+Gi+")[,|\\s]+("+Gi+")[,|\\s]+("+Gi+")[,|\\s]+("+Gi+")\\s*\\)?",{CSS_UNIT:new RegExp(Gi),rgb:new RegExp("rgb"+qf),rgba:new RegExp("rgba"+Zf),hsl:new RegExp("hsl"+qf),hsla:new RegExp("hsla"+Zf),hsv:new RegExp("hsv"+qf),hsva:new RegExp("hsva"+Zf),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});ch={};try{KN=ch.GifWriter=QN,YN=ch.GifReader=XN}catch{}e4=class nh{constructor(...t){if(t.length===0)throw new Error("constructor requires parameters");let n=t[0];if(n!==null&&typeof n=="object")if(n instanceof nh){let r=n.bitmap;this.bitmap={width:r.width,height:r.height,data:new be(r.width*r.height*4)},r.data.copy(this.bitmap.data)}else{if(!(n.width&&n.height&&n.data))throw new Error("unrecognized constructor parameters");this.bitmap=n}else{if(typeof n!="number"||typeof t[1]!="number")throw new Error("unrecognized constructor parameters");{let r=n,i=t[1],o=t[2];this.bitmap={width:r,height:i},be.isBuffer(o)?this.bitmap.data=o:(this.bitmap.data=new be(r*i*4),typeof o=="number"&&this.fillRGBA(o))}}}blit(t,n,r,i,o,s,a){if(i+s>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(n+s>t.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(o+a>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(r+a>t.bitmap.height)throw new Erro("copy exceeds height of target bitmap");let l=this.bitmap.data,u=t.bitmap.data,c=4*this.bitmap.width,d=4*t.bitmap.width,h=4*s,f=o*c+4*i,p=r*d+4*n;for(;--a>=0;)l.copy(u,p,f,f+h),f+=c,p+=d;return this}fillRGBA(t){let n=this.bitmap.data,r=4*this.bitmap.height,i=0;for(;i<r;)n.writeUInt32BE(t,i),i+=4;for(;i<n.length;)n.copy(n,i,0,r),i+=r;return this}getRGBA(t,n){let r=4*(n*this.bitmap.width+t);return this.bitmap.data.readUInt32BE(r)}getRGBASet(){let t=new Set,n=this.bitmap.data;for(let r=0;r<n.length;r+=4)t.add(n.readUInt32BE(r,!0));return t}greyscale(){let t=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(n,r,i)=>{let o=Math.round(.299*t[i]+.587*t[i+1]+.114*t[i+2]);t[i]=o,t[i+1]=o,t[i+2]=o}),this}reframe(t,n,r,i,o){let s=t<0?0:t,a=n<0?0:n,l=r+s>this.bitmap.width?this.bitmap.width-s:r,u=i+a>this.bitmap.height?this.bitmap.height-a:i,c=t<0?-t:0,d=n<0?-n:0,h;if(o===void 0){if(s!==t||a!=n||l!==r||u!==i)throw new GifError("fillRGBA required for this reframing");h=new nh(r,i)}else h=new nh(r,i,o);return this.blit(h,c,d,s,a,l,u),this.bitmap=h.bitmap,this}scale(t){if(t===1)return;if(!Number.isInteger(t)||t<1)throw new Error("the scale must be an integer >= 1");let n=this.bitmap.width,r=this.bitmap.height,i=n*t*4,o=this.bitmap.data,s=new be(r*i*t),a,l=0,u=0;for(let c=0;c<r;++c){a=u;for(let d=0;d<n;++d){let h=o.readUInt32BE(l,!0);for(let f=0;f<t;++f)s.writeUInt32BE(h,u),u+=4;l+=4}for(let d=1;d<t;++d)s.copy(s,u,a,u),u+=i,a+=i}return this.bitmap={width:n*t,height:r*t,data:s},this}scanAllCoords(t){let n=this.bitmap.width,r=this.bitmap.data.length,i=0,o=0;for(let s=0;s<r;s+=4)t(i,o,s),++i===n&&(i=0,++o)}scanAllIndexes(t){let n=this.bitmap.data.length;for(let r=0;r<n;r+=4)t(r)}},ny=e4,Wu={},rh=class{constructor(e,t,n){this.width=n.width,this.height=n.height,this.loops=n.loops,this.usesTransparency=n.usesTransparency,this.colorScope=n.colorScope,this.frames=t,this.buffer=e}};rh.GlobalColorsPreferred=0,rh.GlobalColorsOnly=1,rh.LocalColorsOnly=2;t4=class extends Error{constructor(e){super(e),e instanceof Error&&(this.stack="Gif"+e.stack)}};Wu.Gif=rh,Wu.GifError=t4;i1={},pE={},n4={},qx=Object.freeze({__proto__:null,default:n4}),r4=zR(qx),kh=Object.defineProperty,i4=Object.getOwnPropertyDescriptor,o4=Object.getOwnPropertyNames,s4=Object.prototype.hasOwnProperty,a4=(e,t,n)=>t in e?kh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,l4=e=>kh(e,"__esModule",{value:!0}),Ii=(e,t)=>{for(var n in t)kh(e,n,{get:t[n],enumerable:!0})},u4=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of o4(t))!s4.call(e,i)&&n&&kh(e,i,{get:()=>t[i],enumerable:!(r=i4(t,i))||r.enumerable});return e},c4=(e=>(t,n)=>e&&e.get(t)||(n=u4(l4({}),t,1),e&&e.set(t,n),n))(typeof WeakMap<"u"?new WeakMap:0),we=(e,t,n)=>(a4(e,typeof t!="symbol"?t+"":t,n),n),Zx={};Ii(Zx,{applyPalette:()=>k4,applyPaletteSync:()=>T4,buildPalette:()=>A4,buildPaletteSync:()=>M4,constants:()=>Yx,conversion:()=>eD,distance:()=>lD,image:()=>ID,palette:()=>bD,quality:()=>AD,utils:()=>wD});Yx={};Ii(Yx,{bt709:()=>Kx});Kx={};Ii(Kx,{Y:()=>Qx,x:()=>Jx,y:()=>Xx});Qx=(e=>(e[e.RED=.2126]="RED",e[e.GREEN=.7152]="GREEN",e[e.BLUE=.0722]="BLUE",e[e.WHITE=1]="WHITE",e))(Qx||{}),Jx=(e=>(e[e.RED=.64]="RED",e[e.GREEN=.3]="GREEN",e[e.BLUE=.15]="BLUE",e[e.WHITE=.3127]="WHITE",e))(Jx||{}),Xx=(e=>(e[e.RED=.33]="RED",e[e.GREEN=.6]="GREEN",e[e.BLUE=.06]="BLUE",e[e.WHITE=.329]="WHITE",e))(Xx||{}),eD={};Ii(eD,{lab2rgb:()=>_4,lab2xyz:()=>sD,rgb2hsl:()=>dh,rgb2lab:()=>qu,rgb2xyz:()=>tD,xyz2lab:()=>oD,xyz2rgb:()=>aD});nD={};Ii(nD,{degrees2radians:()=>Mo,inRange0to255:()=>dr,inRange0to255Rounded:()=>Rr,intInRange:()=>d4,max3:()=>rD,min3:()=>iD,stableSort:()=>ry});f4=.95047,h4=1,p4=1.08883;m4=.95047,g4=1,y4=1.08883;lD={};Ii(lD,{AbstractDistanceCalculator:()=>Fs,AbstractEuclidean:()=>Rh,AbstractManhattan:()=>Nh,CIE94GraphicArts:()=>dD,CIE94Textiles:()=>cD,CIEDE2000:()=>Qr,CMetric:()=>fD,Euclidean:()=>hD,EuclideanBT709:()=>pD,EuclideanBT709NoAlpha:()=>mD,Manhattan:()=>gD,ManhattanBT709:()=>_D,ManhattanNommyde:()=>yD,PNGQuant:()=>vD});Fs=class{constructor(){we(this,"_maxDistance"),we(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(e,t,n,r){this._whitePoint={r:e>0?255/e:0,g:t>0?255/t:0,b:n>0?255/n:0,a:r>0?255/r:0},this._maxDistance=this.calculateRaw(e,t,n,r,0,0,0,0)}calculateNormalized(e,t){return this.calculateRaw(e.r,e.g,e.b,e.a,t.r,t.g,t.b,t.a)/this._maxDistance}},uD=class extends Fs{calculateRaw(e,t,n,r,i,o,s,a){let l=qu(dr(e*this._whitePoint.r),dr(t*this._whitePoint.g),dr(n*this._whitePoint.b)),u=qu(dr(i*this._whitePoint.r),dr(o*this._whitePoint.g),dr(s*this._whitePoint.b)),c=l.L-u.L,d=l.a-u.a,h=l.b-u.b,f=Math.sqrt(l.a*l.a+l.b*l.b),p=f-Math.sqrt(u.a*u.a+u.b*u.b),m=d*d+h*h-p*p;m=m<0?0:Math.sqrt(m);let g=(a-r)*this._whitePoint.a*this._kA;return Math.sqrt((c/this._Kl)**2+(p/(1+this._K1*f))**2+(m/(1+this._K2*f))**2+g**2)}},cD=class extends uD{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},dD=class extends uD{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},Bt=class extends Fs{_setDefaults(){}static _calculatehp(e,t){let n=Math.atan2(e,t);return n>=0?n:n+Bt._deg360InRad}static _calculateRT(e,t){let n=t**7,r=2*Math.sqrt(n/(n+Bt._pow25to7)),i=Bt._deg30InRad*Math.exp(-(((e-Bt._deg275InRad)/Bt._deg25InRad)**2));return-Math.sin(2*i)*r}static _calculateT(e){return 1-.17*Math.cos(e-Bt._deg30InRad)+.24*Math.cos(2*e)+.32*Math.cos(3*e+Bt._deg6InRad)-.2*Math.cos(4*e-Bt._deg63InRad)}static _calculate_ahp(e,t,n,r){let i=n+r;return e===0?i:t<=Bt._deg180InRad?i/2:i<Bt._deg360InRad?(i+Bt._deg360InRad)/2:(i-Bt._deg360InRad)/2}static _calculate_dHp(e,t,n,r){let i;return i=e===0?0:t<=Bt._deg180InRad?n-r:n<=r?n-r+Bt._deg360InRad:n-r-Bt._deg360InRad,2*Math.sqrt(e)*Math.sin(i/2)}calculateRaw(e,t,n,r,i,o,s,a){let l=qu(dr(e*this._whitePoint.r),dr(t*this._whitePoint.g),dr(n*this._whitePoint.b)),u=qu(dr(i*this._whitePoint.r),dr(o*this._whitePoint.g),dr(s*this._whitePoint.b)),c=(a-r)*this._whitePoint.a*Bt._kA,d=this.calculateRawInLab(l,u);return Math.sqrt(d+c*c)}calculateRawInLab(e,t){let n=e.L,r=e.a,i=e.b,o=t.L,s=t.a,a=t.b,l=((Math.sqrt(r*r+i*i)+Math.sqrt(s*s+a*a))/2)**7,u=.5*(1-Math.sqrt(l/(l+Bt._pow25to7))),c=(1+u)*r,d=(1+u)*s,h=Math.sqrt(c*c+i*i),f=Math.sqrt(d*d+a*a),p=h*f,m=Bt._calculatehp(i,c),g=Bt._calculatehp(a,d),_=Math.abs(m-g),b=o-n,v=f-h,x=Bt._calculate_dHp(p,_,g,m),D=Bt._calculate_ahp(p,_,m,g),k=(h+f)/2,C=((n+o)/2-50)**2,O=v/(1+.045*k),A=x/(1+.015*Bt._calculateT(D)*k);return(b/(1+.015*C/Math.sqrt(20+C)))**2+O**2+A**2+Bt._calculateRT(D,k)*O*A}},Qr=Bt;we(Qr,"_kA",25/255),we(Qr,"_pow25to7",25**7),we(Qr,"_deg360InRad",Mo(360)),we(Qr,"_deg180InRad",Mo(180)),we(Qr,"_deg30InRad",Mo(30)),we(Qr,"_deg6InRad",Mo(6)),we(Qr,"_deg63InRad",Mo(63)),we(Qr,"_deg275InRad",Mo(275)),we(Qr,"_deg25InRad",Mo(25));fD=class extends Fs{calculateRaw(e,t,n,r,i,o,s,a){let l=(e+i)/2*this._whitePoint.r,u=(e-i)*this._whitePoint.r,c=(t-o)*this._whitePoint.g,d=(n-s)*this._whitePoint.b,h=((512+l)*u*u>>8)+4*c*c+((767-l)*d*d>>8),f=(a-r)*this._whitePoint.a;return Math.sqrt(h+f*f)}_setDefaults(){}},Rh=class extends Fs{calculateRaw(e,t,n,r,i,o,s,a){let l=i-e,u=o-t,c=s-n,d=a-r;return Math.sqrt(this._kR*l*l+this._kG*u*u+this._kB*c*c+this._kA*d*d)}},hD=class extends Rh{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},pD=class extends Rh{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},mD=class extends Rh{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},Nh=class extends Fs{calculateRaw(e,t,n,r,i,o,s,a){let l=i-e,u=o-t,c=s-n,d=a-r;return l<0&&(l=0-l),u<0&&(u=0-u),c<0&&(c=0-c),d<0&&(d=0-d),this._kR*l+this._kG*u+this._kB*c+this._kA*d}},gD=class extends Nh{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},yD=class extends Nh{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},_D=class extends Nh{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},vD=class extends Fs{calculateRaw(e,t,n,r,i,o,s,a){let l=(a-r)*this._whitePoint.a;return this._colordifferenceCh(e*this._whitePoint.r,i*this._whitePoint.r,l)+this._colordifferenceCh(t*this._whitePoint.g,o*this._whitePoint.g,l)+this._colordifferenceCh(n*this._whitePoint.b,s*this._whitePoint.b,l)}_colordifferenceCh(e,t,n){let r=e-t,i=r+n;return r*r+i*i}_setDefaults(){}},bD={};Ii(bD,{AbstractPaletteQuantizer:()=>nc,ColorHistogram:()=>Hu,NeuQuant:()=>$t,NeuQuantFloat:()=>Gt,RGBQuant:()=>DD,WuColorCube:()=>CD,WuQuant:()=>el});nc=class{quantizeSync(){for(let e of this.quantize())if(e.palette)return e.palette;throw new Error("unreachable")}},pr=class{constructor(){we(this,"r"),we(this,"g"),we(this,"b"),we(this,"a"),we(this,"uint32"),we(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(e){let t=new pr;return t.r=0|e[0],t.g=0|e[1],t.b=0|e[2],t.a=0|e[3],t._loadUINT32(),t._loadQuadruplet(),t}static createByRGBA(e,t,n,r){let i=new pr;return i.r=0|e,i.g=0|t,i.b=0|n,i.a=0|r,i._loadUINT32(),i._loadQuadruplet(),i}static createByUint32(e){let t=new pr;return t.uint32=e>>>0,t._loadRGBA(),t._loadQuadruplet(),t}from(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this.uint32=e.uint32,this.rgba[0]=e.r,this.rgba[1]=e.g,this.rgba[2]=e.b,this.rgba[3]=e.a}getLuminosity(e){let t=this.r,n=this.g,r=this.b;return e&&(t=Math.min(255,255-this.a+this.a*t/255),n=Math.min(255,255-this.a+this.a*n/255),r=Math.min(255,255-this.a+this.a*r/255)),.2126*t+.7152*n+.0722*r}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},Yi=class{constructor(){we(this,"_pointArray"),we(this,"_width"),we(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(e){this._width=e}setHeight(e){this._height=e}getPointArray(){return this._pointArray}clone(){let e=new Yi;e._width=this._width,e._height=this._height;for(let t=0,n=this._pointArray.length;t<n;t++)e._pointArray[t]=pr.createByUint32(0|this._pointArray[t].uint32);return e}toUint32Array(){let e=this._pointArray.length,t=new Uint32Array(e);for(let n=0;n<e;n++)t[n]=this._pointArray[n].uint32;return t}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(e){let t=e.naturalWidth,n=e.naturalHeight,r=document.createElement("canvas");return r.width=t,r.height=n,r.getContext("2d").drawImage(e,0,0,t,n,0,0,t,n),Yi.fromHTMLCanvasElement(r)}static fromHTMLCanvasElement(e){let t=e.width,n=e.height,r=e.getContext("2d").getImageData(0,0,t,n);return Yi.fromImageData(r)}static fromImageData(e){let t=e.width,n=e.height;return Yi.fromUint8Array(e.data,t,n)}static fromUint8Array(e,t,n){switch(Object.prototype.toString.call(e)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:e=new Uint8Array(e)}let r=new Uint32Array(e.buffer);return Yi.fromUint32Array(r,t,n)}static fromUint32Array(e,t,n){let r=new Yi;r._width=t,r._height=n;for(let i=0,o=e.length;i<o;i++)r._pointArray[i]=pr.createByUint32(0|e[i]);return r}static fromBuffer(e,t,n){let r=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/Uint32Array.BYTES_PER_ELEMENT);return Yi.fromUint32Array(r,t,n)}},mE=10;rc=class{constructor(){we(this,"_pointContainer"),we(this,"_pointArray",[]),we(this,"_i32idx",{}),this._pointContainer=new Yi,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(e){this._pointArray.push(e),this._pointContainer.setWidth(this._pointArray.length)}has(e){for(let t=this._pointArray.length-1;t>=0;t--)if(e.uint32===this._pointArray[t].uint32)return!0;return!1}getNearestColor(e,t){return this._pointArray[0|this._getNearestIndex(e,t)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(e){return typeof this._i32idx[e]=="number"?this._i32idx[e]:-1}_getNearestIndex(e,t){let n=this._nearestPointFromCache(""+t.uint32);if(n>=0)return n;let r=Number.MAX_VALUE;n=0;for(let i=0,o=this._pointArray.length;i<o;i++){let s=this._pointArray[i],a=e.calculateRaw(t.r,t.g,t.b,t.a,s.r,s.g,s.b,s.a);a<r&&(r=a,n=i)}return this._i32idx[t.uint32]=n,n}sort(){this._i32idx={},this._pointArray.sort((e,t)=>{let n=dh(e.r,e.g,e.b),r=dh(t.r,t.g,t.b),i=e.r===e.g&&e.g===e.b?0:1+R1(n.h,mE),o=(t.r===t.g&&t.g===t.b?0:1+R1(r.h,mE))-i;if(o)return-o;let s=e.getLuminosity(!0),a=t.getLuminosity(!0);if(a-s!=0)return a-s;let l=(100*r.s|0)-(100*n.s|0);return l?-l:0})}},wD={};Ii(wD,{HueStatistics:()=>ED,Palette:()=>rc,Point:()=>pr,PointContainer:()=>Yi,ProgressTracker:()=>to,arithmetic:()=>nD});v4=class{constructor(){we(this,"num",0),we(this,"cols",[])}},ED=class{constructor(e,t){we(this,"_numGroups"),we(this,"_minCols"),we(this,"_stats"),we(this,"_groupsFull"),this._numGroups=e,this._minCols=t,this._stats=[];for(let n=0;n<=e;n++)this._stats[n]=new v4;this._groupsFull=0}check(e){this._groupsFull===this._numGroups+1&&(this.check=()=>{});let t=255&e,n=e>>>8&255,r=e>>>16&255,i=t===n&&n===r?0:1+R1(dh(t,n,r).h,this._numGroups),o=this._stats[i],s=this._minCols;o.num++,o.num>s||(o.num===s&&this._groupsFull++,o.num<=s&&this._stats[i].cols.push(e))}injectIntoDictionary(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(n=>{e[n]?e[n]++:e[n]=1})}injectIntoArray(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(n=>{e.indexOf(n)===-1&&e.push(n)})}},xD=class{constructor(e,t){we(this,"progress"),we(this,"_step"),we(this,"_range"),we(this,"_last"),we(this,"_progressRange"),this._range=e,this._progressRange=t,this._step=Math.max(1,this._range/(xD.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(e){return e-this._last>=this._step&&(this._last=e,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},to=xD;we(to,"steps",100);Ln=3,b4=class{constructor(e){we(this,"r"),we(this,"g"),we(this,"b"),we(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return pr.createByRGBA(this.r>>Ln,this.g>>Ln,this.b>>Ln,this.a>>Ln)}subtract(e,t,n,r){this.r-=0|e,this.g-=0|t,this.b-=0|n,this.a-=0|r}},vt=class extends nc{constructor(e,t=256){super(),we(this,"_pointArray"),we(this,"_networkSize"),we(this,"_network"),we(this,"_sampleFactor"),we(this,"_radPower"),we(this,"_freq"),we(this,"_bias"),we(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<Ln,255<<Ln,255<<Ln,255<<Ln)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*at(this._learn()),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new b4((e<<Ln+8)/this._networkSize|0),this._freq[e]=vt._initialBias/this._networkSize|0,this._bias[e]=0}*_learn(){let e=this._sampleFactor,t=this._pointArray.length;t<vt._minpicturebytes&&(e=1);let n=30+(e-1)/3|0,r=t/e|0,i,o=r/vt._nCycles|0,s=vt._initAlpha,a=(this._networkSize>>3)*vt._radiusBias,l=a>>vt._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=s*((l*l-c*c)*vt._radBias/(l*l))>>>0;i=t<vt._minpicturebytes?1:t%vt._prime1!=0?vt._prime1:t%vt._prime2!=0?vt._prime2:t%vt._prime3!=0?vt._prime3:vt._prime4;let u=new to(r,99);for(let c=0,d=0;c<r;){u.shouldNotify(c)&&(yield{progress:u.progress});let h=this._pointArray[d],f=h.b<<Ln,p=h.g<<Ln,m=h.r<<Ln,g=h.a<<Ln,_=this._contest(f,p,m,g);if(this._alterSingle(s,_,f,p,m,g),l!==0&&this._alterNeighbour(l,_,f,p,m,g),d+=i,d>=t&&(d-=t),c++,o===0&&(o=1),c%o==0){s-=s/n|0,a-=a/vt._radiusDecrease|0,l=a>>vt._radiusBiasShift,l<=1&&(l=0);for(let b=0;b<l;b++)this._radPower[b]=s*((l*l-b*b)*vt._radBias/(l*l))>>>0}}}_buildPalette(){let e=new rc;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,n,r,i,o){let s=t-e;s<-1&&(s=-1);let a=t+e;a>this._networkSize&&(a=this._networkSize);let l=t+1,u=t-1,c=1;for(;l<a||u>s;){let d=this._radPower[c++]/vt._alphaRadBias;if(l<a){let h=this._network[l++];h.subtract(d*(h.r-i),d*(h.g-r),d*(h.b-n),d*(h.a-o))}if(u>s){let h=this._network[u--];h.subtract(d*(h.r-i),d*(h.g-r),d*(h.b-n),d*(h.a-o))}}}_alterSingle(e,t,n,r,i,o){e/=vt._initAlpha;let s=this._network[t];s.subtract(e*(s.r-i),e*(s.g-r),e*(s.b-n),e*(s.a-o))}_contest(e,t,n,r){let i=1020<<Ln,o=~(1<<31),s=o,a=-1,l=a;for(let u=0;u<this._networkSize;u++){let c=this._network[u],d=this._distance.calculateNormalized(c,{r:n,g:t,b:e,a:r})*i|0;d<o&&(o=d,a=u);let h=d-(this._bias[u]>>vt._initialBiasShift-Ln);h<s&&(s=h,l=u);let f=this._freq[u]>>vt._betaShift;this._freq[u]-=f,this._bias[u]+=f<<vt._gammaShift}return this._freq[a]+=vt._beta,this._bias[a]-=vt._betaGamma,l}},$t=vt;we($t,"_prime1",499),we($t,"_prime2",491),we($t,"_prime3",487),we($t,"_prime4",503),we($t,"_minpicturebytes",vt._prime4),we($t,"_nCycles",100),we($t,"_initialBiasShift",16),we($t,"_initialBias",1<<vt._initialBiasShift),we($t,"_gammaShift",10),we($t,"_betaShift",10),we($t,"_beta",vt._initialBias>>vt._betaShift),we($t,"_betaGamma",vt._initialBias<<vt._gammaShift-vt._betaShift),we($t,"_radiusBiasShift",6),we($t,"_radiusBias",1<<vt._radiusBiasShift),we($t,"_radiusDecrease",30),we($t,"_alphaBiasShift",10),we($t,"_initAlpha",1<<vt._alphaBiasShift),we($t,"_radBiasShift",8),we($t,"_radBias",1<<vt._radBiasShift),we($t,"_alphaRadBiasShift",vt._alphaBiasShift+vt._radBiasShift),we($t,"_alphaRadBias",1<<vt._alphaRadBiasShift);Bn=3,w4=class{constructor(e){we(this,"r"),we(this,"g"),we(this,"b"),we(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return pr.createByRGBA(this.r>>Bn,this.g>>Bn,this.b>>Bn,this.a>>Bn)}subtract(e,t,n,r){this.r-=e,this.g-=t,this.b-=n,this.a-=r}},bt=class extends nc{constructor(e,t=256){super(),we(this,"_pointArray"),we(this,"_networkSize"),we(this,"_network"),we(this,"_sampleFactor"),we(this,"_radPower"),we(this,"_freq"),we(this,"_bias"),we(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<Bn,255<<Bn,255<<Bn,255<<Bn)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*at(this._learn()),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new w4((e<<Bn+8)/this._networkSize),this._freq[e]=bt._initialBias/this._networkSize,this._bias[e]=0}*_learn(){let e=this._sampleFactor,t=this._pointArray.length;t<bt._minpicturebytes&&(e=1);let n=30+(e-1)/3,r=t/e,i,o=r/bt._nCycles|0,s=bt._initAlpha,a=(this._networkSize>>3)*bt._radiusBias,l=a>>bt._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=s*((l*l-c*c)*bt._radBias/(l*l));i=t<bt._minpicturebytes?1:t%bt._prime1!=0?bt._prime1:t%bt._prime2!=0?bt._prime2:t%bt._prime3!=0?bt._prime3:bt._prime4;let u=new to(r,99);for(let c=0,d=0;c<r;){u.shouldNotify(c)&&(yield{progress:u.progress});let h=this._pointArray[d],f=h.b<<Bn,p=h.g<<Bn,m=h.r<<Bn,g=h.a<<Bn,_=this._contest(f,p,m,g);if(this._alterSingle(s,_,f,p,m,g),l!==0&&this._alterNeighbour(l,_,f,p,m,g),d+=i,d>=t&&(d-=t),c++,o===0&&(o=1),c%o==0){s-=s/n,a-=a/bt._radiusDecrease,l=a>>bt._radiusBiasShift,l<=1&&(l=0);for(let b=0;b<l;b++)this._radPower[b]=s*((l*l-b*b)*bt._radBias/(l*l))}}}_buildPalette(){let e=new rc;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,n,r,i,o){let s=t-e;s<-1&&(s=-1);let a=t+e;a>this._networkSize&&(a=this._networkSize);let l=t+1,u=t-1,c=1;for(;l<a||u>s;){let d=this._radPower[c++]/bt._alphaRadBias;if(l<a){let h=this._network[l++];h.subtract(d*(h.r-i),d*(h.g-r),d*(h.b-n),d*(h.a-o))}if(u>s){let h=this._network[u--];h.subtract(d*(h.r-i),d*(h.g-r),d*(h.b-n),d*(h.a-o))}}}_alterSingle(e,t,n,r,i,o){e/=bt._initAlpha;let s=this._network[t];s.subtract(e*(s.r-i),e*(s.g-r),e*(s.b-n),e*(s.a-o))}_contest(e,t,n,r){let i=1020<<Bn,o=~(1<<31),s=o,a=-1,l=a;for(let u=0;u<this._networkSize;u++){let c=this._network[u],d=this._distance.calculateNormalized(c,{r:n,g:t,b:e,a:r})*i;d<o&&(o=d,a=u);let h=d-(this._bias[u]>>bt._initialBiasShift-Bn);h<s&&(s=h,l=u);let f=this._freq[u]>>bt._betaShift;this._freq[u]-=f,this._bias[u]+=f<<bt._gammaShift}return this._freq[a]+=bt._beta,this._bias[a]-=bt._betaGamma,l}},Gt=bt;we(Gt,"_prime1",499),we(Gt,"_prime2",491),we(Gt,"_prime3",487),we(Gt,"_prime4",503),we(Gt,"_minpicturebytes",bt._prime4),we(Gt,"_nCycles",100),we(Gt,"_initialBiasShift",16),we(Gt,"_initialBias",1<<bt._initialBiasShift),we(Gt,"_gammaShift",10),we(Gt,"_betaShift",10),we(Gt,"_beta",bt._initialBias>>bt._betaShift),we(Gt,"_betaGamma",bt._initialBias<<bt._gammaShift-bt._betaShift),we(Gt,"_radiusBiasShift",6),we(Gt,"_radiusBias",1<<bt._radiusBiasShift),we(Gt,"_radiusDecrease",30),we(Gt,"_alphaBiasShift",10),we(Gt,"_initAlpha",1<<bt._alphaBiasShift),we(Gt,"_radBiasShift",8),we(Gt,"_radBias",1<<bt._radBiasShift),we(Gt,"_alphaRadBiasShift",bt._alphaBiasShift+bt._radBiasShift),we(Gt,"_alphaRadBias",1<<bt._alphaRadBiasShift);Lu=class{constructor(e,t){we(this,"_method"),we(this,"_hueStats"),we(this,"_histogram"),we(this,"_initColors"),we(this,"_minHueCols"),this._method=e,this._minHueCols=t<<2,this._initColors=t<<2,this._hueStats=new ED(Lu._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(e){switch(this._method){case 1:this._colorStats1D(e);break;case 2:this._colorStats2D(e)}}getImportanceSortedColorsIDXI32(){let e=ry(Object.keys(this._histogram),(n,r)=>this._histogram[r]-this._histogram[n]);if(e.length===0)return[];let t;switch(this._method){case 1:let n=Math.min(e.length,this._initColors),r=e[n-1],i=this._histogram[r];t=e.slice(0,n);let o=n,s=e.length;for(;o<s&&this._histogram[e[o]]===i;)t.push(e[o++]);this._hueStats.injectIntoArray(t);break;case 2:t=e;break;default:throw new Error("Incorrect method")}return t.map(n=>+n)}_colorStats1D(e){let t=this._histogram,n=e.getPointArray(),r=n.length;for(let i=0;i<r;i++){let o=n[i].uint32;this._hueStats.check(o),o in t?t[o]++:t[o]=1}}_colorStats2D(e){let t=e.getWidth(),n=e.getHeight(),r=e.getPointArray(),i=Lu._boxSize[0],o=Lu._boxSize[1],s=i*o,a=this._makeBoxes(t,n,i,o),l=this._histogram;a.forEach(u=>{let c=Math.round(u.w*u.h/s)*Lu._boxPixels;c<2&&(c=2);let d={};this._iterateBox(u,t,h=>{let f=r[h].uint32;this._hueStats.check(f),f in l?l[f]++:f in d?++d[f]>=c&&(l[f]=d[f]):d[f]=1})}),this._hueStats.injectIntoDictionary(l)}_iterateBox(e,t,n){let r=e,i=r.y*t+r.x,o=(r.y+r.h-1)*t+(r.x+r.w-1),s=t-r.w+1,a=0,l=i;do n.call(this,l),l+=++a%r.w==0?s:1;while(l<=o)}_makeBoxes(e,t,n,r){let i=e%n,o=t%r,s=e-i,a=t-o,l=[];for(let u=0;u<t;u+=r)for(let c=0;c<e;c+=n)l.push({x:c,y:u,w:c===s?i:n,h:u===a?o:r});return l}},Hu=Lu;we(Hu,"_boxSize",[64,64]),we(Hu,"_boxPixels",2),we(Hu,"_hueGroups",10);E4=class{constructor(e,t,n){we(this,"index"),we(this,"color"),we(this,"distance"),this.index=e,this.color=t,this.distance=n}},DD=class extends nc{constructor(e,t=256,n=2){super(),we(this,"_colors"),we(this,"_initialDistance"),we(this,"_distanceIncrement"),we(this,"_histogram"),we(this,"_distance"),this._distance=e,this._colors=t,this._histogram=new Hu(n,t),this._initialDistance=.01,this._distanceIncrement=.005}sample(e){this._histogram.sample(e)}*quantize(){let e=this._histogram.getImportanceSortedColorsIDXI32();if(e.length===0)throw new Error("No colors in image");yield*at(this._buildPalette(e))}*_buildPalette(e){let t=new rc,n=t.getPointContainer().getPointArray(),r=new Array(e.length);for(let c=0;c<e.length;c++)n.push(pr.createByUint32(e[c])),r[c]=1;let i=n.length,o=[],s=i,a=this._initialDistance,l=new to(s-this._colors,99);for(;s>this._colors;){o.length=0;for(let c=0;c<i;c++){if(l.shouldNotify(i-s)&&(yield{progress:l.progress}),r[c]===0)continue;let d=n[c];for(let h=c+1;h<i;h++){if(r[h]===0)continue;let f=n[h],p=this._distance.calculateNormalized(d,f);p<a&&(o.push(new E4(h,f,p)),r[h]=0,s--)}}a+=s>3*this._colors?this._initialDistance:this._distanceIncrement}if(s<this._colors){ry(o,(d,h)=>h.distance-d.distance);let c=0;for(;s<this._colors&&c<o.length;)r[o[c].index]=1,s++,c++}let u=n.length;for(let c=u-1;c>=0;c--)r[c]===0&&(c!==u-1&&(n[c]=n[u-1]),--u);n.length=u,t.sort(),yield{palette:t,progress:100}}};CD=class{constructor(){we(this,"redMinimum"),we(this,"redMaximum"),we(this,"greenMinimum"),we(this,"greenMaximum"),we(this,"blueMinimum"),we(this,"blueMaximum"),we(this,"volume"),we(this,"alphaMinimum"),we(this,"alphaMaximum")}},it=class extends nc{constructor(e,t=256,n=5){super(),we(this,"_reds"),we(this,"_greens"),we(this,"_blues"),we(this,"_alphas"),we(this,"_sums"),we(this,"_weights"),we(this,"_momentsRed"),we(this,"_momentsGreen"),we(this,"_momentsBlue"),we(this,"_momentsAlpha"),we(this,"_moments"),we(this,"_table"),we(this,"_pixels"),we(this,"_cubes"),we(this,"_colors"),we(this,"_significantBitsPerChannel"),we(this,"_maxSideIndex"),we(this,"_alphaMaxSideIndex"),we(this,"_sideSize"),we(this,"_alphaSideSize"),we(this,"_distance"),this._distance=e,this._setQuality(n),this._initialize(t)}sample(e){let t=e.getPointArray();for(let n=0,r=t.length;n<r;n++)this._addColor(t[n]);this._pixels=this._pixels.concat(t)}*quantize(){yield*at(this._preparePalette());let e=new rc;for(let t=0;t<this._colors;t++)if(this._sums[t]>0){let n=this._sums[t],r=this._reds[t]/n,i=this._greens[t]/n,o=this._blues[t]/n,s=this._alphas[t]/n,a=pr.createByRGBA(0|r,0|i,0|o,0|s);e.add(a)}e.sort(),yield{palette:e,progress:100}}*_preparePalette(){yield*at(this._calculateMoments());let e=0,t=Ba(this._colors);for(let s=1;s<this._colors;++s){this._cut(this._cubes[e],this._cubes[s])?(t[e]=this._cubes[e].volume>1?this._calculateVariance(this._cubes[e]):0,t[s]=this._cubes[s].volume>1?this._calculateVariance(this._cubes[s]):0):(t[e]=0,s--),e=0;let a=t[0];for(let l=1;l<=s;++l)t[l]>a&&(a=t[l],e=l);if(a<=0){this._colors=s+1;break}}let n=[],r=[],i=[],o=[];for(let s=0;s<this._colors;++s){let a=it._volume(this._cubes[s],this._weights);a>0?(n[s]=it._volume(this._cubes[s],this._momentsRed)/a|0,r[s]=it._volume(this._cubes[s],this._momentsGreen)/a|0,i[s]=it._volume(this._cubes[s],this._momentsBlue)/a|0,o[s]=it._volume(this._cubes[s],this._momentsAlpha)/a|0):(n[s]=0,r[s]=0,i[s]=0,o[s]=0)}this._reds=Ba(this._colors+1),this._greens=Ba(this._colors+1),this._blues=Ba(this._colors+1),this._alphas=Ba(this._colors+1),this._sums=Ba(this._colors+1);for(let s=0,a=this._pixels.length;s<a;s++){let l=this._pixels[s],u=-1,c=Number.MAX_VALUE;for(let d=0;d<this._colors;d++){let h=n[d],f=r[d],p=i[d],m=o[d],g=this._distance.calculateRaw(h,f,p,m,l.r,l.g,l.b,l.a);g<c&&(c=g,u=d)}this._reds[u]+=l.r,this._greens[u]+=l.g,this._blues[u]+=l.b,this._alphas[u]+=l.a,this._sums[u]++}}_addColor(e){let t=8-this._significantBitsPerChannel,n=1+(e.r>>t),r=1+(e.g>>t),i=1+(e.b>>t),o=1+(e.a>>t);this._weights[o][n][r][i]++,this._momentsRed[o][n][r][i]+=e.r,this._momentsGreen[o][n][r][i]+=e.g,this._momentsBlue[o][n][r][i]+=e.b,this._momentsAlpha[o][n][r][i]+=e.a,this._moments[o][n][r][i]+=this._table[e.r]+this._table[e.g]+this._table[e.b]+this._table[e.a]}*_calculateMoments(){let e=[],t=[],n=[],r=[],i=[],o=[],s=Ua(this._sideSize,this._sideSize,this._sideSize),a=Ua(this._sideSize,this._sideSize,this._sideSize),l=Ua(this._sideSize,this._sideSize,this._sideSize),u=Ua(this._sideSize,this._sideSize,this._sideSize),c=Ua(this._sideSize,this._sideSize,this._sideSize),d=Ua(this._sideSize,this._sideSize,this._sideSize),h=0,f=new to(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){za(s,this._sideSize,this._sideSize,this._sideSize,0),za(a,this._sideSize,this._sideSize,this._sideSize,0),za(l,this._sideSize,this._sideSize,this._sideSize,0),za(u,this._sideSize,this._sideSize,this._sideSize,0),za(c,this._sideSize,this._sideSize,this._sideSize,0),za(d,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++h){f.shouldNotify(h)&&(yield{progress:f.progress}),Va(e,this._sideSize,0),Va(t,this._sideSize,0),Va(n,this._sideSize,0),Va(r,this._sideSize,0),Va(i,this._sideSize,0),Va(o,this._sideSize,0);for(let g=1;g<=this._maxSideIndex;++g){let _=0,b=0,v=0,x=0,D=0,k=0;for(let C=1;C<=this._maxSideIndex;++C)_+=this._weights[p][m][g][C],b+=this._momentsRed[p][m][g][C],v+=this._momentsGreen[p][m][g][C],x+=this._momentsBlue[p][m][g][C],D+=this._momentsAlpha[p][m][g][C],k+=this._moments[p][m][g][C],e[C]+=_,t[C]+=b,n[C]+=v,r[C]+=x,i[C]+=D,o[C]+=k,s[m][g][C]=s[m-1][g][C]+e[C],a[m][g][C]=a[m-1][g][C]+t[C],l[m][g][C]=l[m-1][g][C]+n[C],u[m][g][C]=u[m-1][g][C]+r[C],c[m][g][C]=c[m-1][g][C]+i[C],d[m][g][C]=d[m-1][g][C]+o[C],this._weights[p][m][g][C]=this._weights[p-1][m][g][C]+s[m][g][C],this._momentsRed[p][m][g][C]=this._momentsRed[p-1][m][g][C]+a[m][g][C],this._momentsGreen[p][m][g][C]=this._momentsGreen[p-1][m][g][C]+l[m][g][C],this._momentsBlue[p][m][g][C]=this._momentsBlue[p-1][m][g][C]+u[m][g][C],this._momentsAlpha[p][m][g][C]=this._momentsAlpha[p-1][m][g][C]+c[m][g][C],this._moments[p][m][g][C]=this._moments[p-1][m][g][C]+d[m][g][C]}}}}static _volumeFloat(e,t){return t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMaximum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum])}static _volume(e,t){return 0|it._volumeFloat(e,t)}static _top(e,t,n,r){let i;switch(t){case it._alpha:i=r[n][e.redMaximum][e.greenMaximum][e.blueMaximum]-r[n][e.redMaximum][e.greenMinimum][e.blueMaximum]-r[n][e.redMinimum][e.greenMaximum][e.blueMaximum]+r[n][e.redMinimum][e.greenMinimum][e.blueMaximum]-(r[n][e.redMaximum][e.greenMaximum][e.blueMinimum]-r[n][e.redMaximum][e.greenMinimum][e.blueMinimum]-r[n][e.redMinimum][e.greenMaximum][e.blueMinimum]+r[n][e.redMinimum][e.greenMinimum][e.blueMinimum]);break;case it._red:i=r[e.alphaMaximum][n][e.greenMaximum][e.blueMaximum]-r[e.alphaMaximum][n][e.greenMinimum][e.blueMaximum]-r[e.alphaMinimum][n][e.greenMaximum][e.blueMaximum]+r[e.alphaMinimum][n][e.greenMinimum][e.blueMaximum]-(r[e.alphaMaximum][n][e.greenMaximum][e.blueMinimum]-r[e.alphaMaximum][n][e.greenMinimum][e.blueMinimum]-r[e.alphaMinimum][n][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][n][e.greenMinimum][e.blueMinimum]);break;case it._green:i=r[e.alphaMaximum][e.redMaximum][n][e.blueMaximum]-r[e.alphaMaximum][e.redMinimum][n][e.blueMaximum]-r[e.alphaMinimum][e.redMaximum][n][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][n][e.blueMaximum]-(r[e.alphaMaximum][e.redMaximum][n][e.blueMinimum]-r[e.alphaMaximum][e.redMinimum][n][e.blueMinimum]-r[e.alphaMinimum][e.redMaximum][n][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][n][e.blueMinimum]);break;case it._blue:i=r[e.alphaMaximum][e.redMaximum][e.greenMaximum][n]-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][n]-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][n]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][n]-(r[e.alphaMinimum][e.redMaximum][e.greenMaximum][n]-r[e.alphaMinimum][e.redMaximum][e.greenMinimum][n]-r[e.alphaMinimum][e.redMinimum][e.greenMaximum][n]+r[e.alphaMinimum][e.redMinimum][e.greenMinimum][n]);break;default:throw new Error("impossible")}return 0|i}static _bottom(e,t,n){switch(t){case it._alpha:return-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case it._red:return-n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case it._green:return-n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case it._blue:return-n[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-(-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);default:return 0}}_calculateVariance(e){let t=it._volume(e,this._momentsRed),n=it._volume(e,this._momentsGreen),r=it._volume(e,this._momentsBlue),i=it._volume(e,this._momentsAlpha);return it._volumeFloat(e,this._moments)-(t*t+n*n+r*r+i*i)/it._volume(e,this._weights)}_maximize(e,t,n,r,i,o,s,a,l){let u=0|it._bottom(e,t,this._momentsRed),c=0|it._bottom(e,t,this._momentsGreen),d=0|it._bottom(e,t,this._momentsBlue),h=0|it._bottom(e,t,this._momentsAlpha),f=0|it._bottom(e,t,this._weights),p=0,m=-1;for(let g=n;g<r;++g){let _=u+it._top(e,t,g,this._momentsRed),b=c+it._top(e,t,g,this._momentsGreen),v=d+it._top(e,t,g,this._momentsBlue),x=h+it._top(e,t,g,this._momentsAlpha),D=f+it._top(e,t,g,this._weights);if(D!==0){let k=_*_+b*b+v*v+x*x,C=k/D;_=i-_,b=o-b,v=s-v,x=a-x,D=l-D,D!==0&&(k=_*_+b*b+v*v+x*x,C+=k/D,C>p&&(p=C,m=g))}}return{max:p,position:m}}_cut(e,t){let n,r=it._volume(e,this._momentsRed),i=it._volume(e,this._momentsGreen),o=it._volume(e,this._momentsBlue),s=it._volume(e,this._momentsAlpha),a=it._volume(e,this._weights),l=this._maximize(e,it._red,e.redMinimum+1,e.redMaximum,r,i,o,s,a),u=this._maximize(e,it._green,e.greenMinimum+1,e.greenMaximum,r,i,o,s,a),c=this._maximize(e,it._blue,e.blueMinimum+1,e.blueMaximum,r,i,o,s,a),d=this._maximize(e,it._alpha,e.alphaMinimum+1,e.alphaMaximum,r,i,o,s,a);if(d.max>=l.max&&d.max>=u.max&&d.max>=c.max){if(n=it._alpha,d.position<0)return!1}else n=l.max>=d.max&&l.max>=u.max&&l.max>=c.max?it._red:u.max>=d.max&&u.max>=l.max&&u.max>=c.max?it._green:it._blue;switch(t.redMaximum=e.redMaximum,t.greenMaximum=e.greenMaximum,t.blueMaximum=e.blueMaximum,t.alphaMaximum=e.alphaMaximum,n){case it._red:t.redMinimum=e.redMaximum=l.position,t.greenMinimum=e.greenMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case it._green:t.greenMinimum=e.greenMaximum=u.position,t.redMinimum=e.redMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case it._blue:t.blueMinimum=e.blueMaximum=c.position,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum,t.alphaMinimum=e.alphaMinimum;break;case it._alpha:t.alphaMinimum=e.alphaMaximum=d.position,t.blueMinimum=e.blueMinimum,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum}return e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),!0}_initialize(e){this._colors=e,this._cubes=[];for(let t=0;t<e;t++)this._cubes[t]=new CD;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=ja(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=ja(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=ja(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=ja(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=ja(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=ja(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let t=0;t<256;++t)this._table[t]=t*t;this._pixels=[]}_setQuality(e=5){this._significantBitsPerChannel=e,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},el=it;we(el,"_alpha",3),we(el,"_red",2),we(el,"_green",1),we(el,"_blue",0);ID={};Ii(ID,{AbstractImageQuantizer:()=>Oh,ErrorDiffusionArray:()=>vi,ErrorDiffusionArrayKernel:()=>MD,ErrorDiffusionRiemersma:()=>iy,NearestColor:()=>SD});Oh=class{quantizeSync(e,t){for(let n of this.quantize(e,t))if(n.pointContainer)return n.pointContainer;throw new Error("unreachable")}},SD=class extends Oh{constructor(e){super(),we(this,"_distance"),this._distance=e}*quantize(e,t){let n=e.getPointArray(),r=e.getWidth(),i=e.getHeight(),o=new to(i,99);for(let s=0;s<i;s++){o.shouldNotify(s)&&(yield{progress:o.progress});for(let a=0,l=s*r;a<r;a++,l++){let u=n[l];u.from(t.getNearestColor(this._distance,u))}}yield{pointContainer:e,progress:100}}},MD=(e=>(e[e.FloydSteinberg=0]="FloydSteinberg",e[e.FalseFloydSteinberg=1]="FalseFloydSteinberg",e[e.Stucki=2]="Stucki",e[e.Atkinson=3]="Atkinson",e[e.Jarvis=4]="Jarvis",e[e.Burkes=5]="Burkes",e[e.Sierra=6]="Sierra",e[e.TwoSierra=7]="TwoSierra",e[e.SierraLite=8]="SierraLite",e))(MD||{}),vi=class extends Oh{constructor(e,t,n=!0,r=0,i=!1){super(),we(this,"_minColorDistance"),we(this,"_serpentine"),we(this,"_kernel"),we(this,"_calculateErrorLikeGIMP"),we(this,"_distance"),this._setKernel(t),this._distance=e,this._minColorDistance=r,this._serpentine=n,this._calculateErrorLikeGIMP=i}*quantize(e,t){let n=e.getPointArray(),r=new pr,i=e.getWidth(),o=e.getHeight(),s=[],a=1,l=1;for(let c of this._kernel){let d=c[2]+1;l<d&&(l=d)}for(let c=0;c<l;c++)this._fillErrorLine(s[c]=[],i);let u=new to(o,99);for(let c=0;c<o;c++){u.shouldNotify(c)&&(yield{progress:u.progress}),this._serpentine&&(a*=-1);let d=c*i,h=a===1?0:i-1,f=a===1?i:-1;this._fillErrorLine(s[0],i),s.push(s.shift());let p=s[0];for(let m=h,g=d+h;m!==f;m+=a,g+=a){let _=n[g],b=p[m];r.from(_);let v=pr.createByRGBA(Rr(_.r+b[0]),Rr(_.g+b[1]),Rr(_.b+b[2]),Rr(_.a+b[3])),x=t.getNearestColor(this._distance,v);if(_.from(x),this._minColorDistance&&this._distance.calculateNormalized(r,x)<this._minColorDistance)continue;let D,k,C,O;this._calculateErrorLikeGIMP?(D=v.r-x.r,k=v.g-x.g,C=v.b-x.b,O=v.a-x.a):(D=r.r-x.r,k=r.g-x.g,C=r.b-x.b,O=r.a-x.a);let A=a===1?0:this._kernel.length-1,S=a===1?this._kernel.length:-1;for(let w=A;w!==S;w+=a){let y=this._kernel[w][1]*a,z=this._kernel[w][2];if(y+m>=0&&y+m<i&&z+c>=0&&z+c<o){let U=this._kernel[w][0],P=s[z][y+m];P[0]+=D*U,P[1]+=k*U,P[2]+=C*U,P[3]+=O*U}}}}yield{pointContainer:e,progress:100}}_fillErrorLine(e,t){e.length>t&&(e.length=t);let n=e.length;for(let r=0;r<n;r++){let i=e[r];i[0]=i[1]=i[2]=i[3]=0}for(let r=n;r<t;r++)e[r]=[0,0,0,0]}_setKernel(e){switch(e){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${e}`)}}};iy=class extends Oh{constructor(e,t=16,n=1){super(),we(this,"_distance"),we(this,"_weights"),we(this,"_errorQueueSize"),this._distance=e,this._errorQueueSize=t,this._weights=iy._createWeights(n,t)}*quantize(e,t){let n=e.getPointArray(),r=e.getWidth(),i=e.getHeight(),o=[],s=0;for(let a=0;a<this._errorQueueSize;a++)o[a]={r:0,g:0,b:0,a:0};yield*at(x4(r,i,(a,l)=>{let u=n[a+l*r],{r:c,g:d,b:h,a:f}=u;for(let _=0;_<this._errorQueueSize;_++){let b=this._weights[_],v=o[(_+s)%this._errorQueueSize];c+=v.r*b,d+=v.g*b,h+=v.b*b,f+=v.a*b}let p=pr.createByRGBA(Rr(c),Rr(d),Rr(h),Rr(f)),m=t.getNearestColor(this._distance,p);s=(s+1)%this._errorQueueSize;let g=(s+this._errorQueueSize-1)%this._errorQueueSize;o[g].r=u.r-m.r,o[g].g=u.g-m.g,o[g].b=u.b-m.b,o[g].a=u.a-m.a,u.from(m)})),yield{pointContainer:e,progress:100}}static _createWeights(e,t){let n=[],r=Math.exp(Math.log(t)/(t-1));for(let i=0,o=1;i<t;i++)n[i]=(o+.5|0)/t*e,o*=r;return n}},AD={};Ii(AD,{ssim:()=>I4});D4=.01,C4=.03;fh=typeof setImmediate=="function"?setImmediate:typeof process<"u"&&typeof(process==null?void 0:process.nextTick)=="function"?e=>process.nextTick(e):e=>setTimeout(e,0);R4=c4(Zx),Fh={},_E=ny,Nu=class N1 extends _E{constructor(...t){if(super(...t),t[0]instanceof N1){let n=t[0];this.xOffset=n.xOffset,this.yOffset=n.yOffset,this.disposalMethod=n.disposalMethod,this.delayCentisecs=n.delayCentisecs,this.interlaced=n.interlaced}else{let n=t[t.length-1],r={};typeof n!="object"||n instanceof _E||(r=n),this.xOffset=r.xOffset||0,this.yOffset=r.yOffset||0,this.disposalMethod=r.disposalMethod!==void 0?r.disposalMethod:N1.DisposeToBackgroundColor,this.delayCentisecs=r.delayCentisecs||8,this.interlaced=r.interlaced||!1}}getPalette(){let t=new Set,n=this.bitmap.data,r=0,i=!1;for(;r<n.length;){if(n[r+3]===0)i=!0;else{let l=n.readUInt32BE(r,!0)>>8&16777215;t.add(l)}r+=4}let o=new Array(t.size),s=t.values();for(r=0;r<o.length;++r)o[r]=s.next().value;o.sort((l,u)=>l-u);let a=o.length;return i&&++a,{colors:o,usesTransparency:i,indexCount:a}}};Nu.DisposeToAnything=0,Nu.DisposeNothing=1,Nu.DisposeToBackgroundColor=2,Nu.DisposeToPrevious=3,Fh.GifFrame=Nu;N4=ny,{Gif:O4,GifError:P4}=Wu,{GifCodec:F4}=ND(),{GifFrame:L4}=Fh,B4=RD(),Yf={BitmapImage:N4,Gif:O4,GifCodec:F4,GifFrame:L4,GifUtil:B4,GifError:P4};PD={exports:{}};(function(e){function t(n){var r,i,o,s,a,l=Math.floor,u=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),f=new Array(65535),p=new Array(65535),m=new Array(64),g=new Array(64),_=[],b=0,v=7,x=new Array(64),D=new Array(64),k=new Array(64),C=new Array(256),O=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],w=[0,1,2,3,4,5,6,7,8,9,10,11],y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(ne,J){for(var X=0,ie=0,le=new Array,ue=1;ue<=16;ue++){for(var te=1;te<=ne[ue];te++)le[J[ie]]=[],le[J[ie]][0]=X,le[J[ie]][1]=ue,ie++,X++;X*=2}return le}function H(ne){for(var J=ne[0],X=ne[1]-1;X>=0;)J&1<<X&&(b|=1<<v),X--,--v<0&&(b==255?(q(255),q(0)):q(b),v=7,b=0)}function q(ne){_.push(ne)}function W(ne){q(ne>>8&255),q(255&ne)}function Q(ne,J,X,ie,le){for(var ue,te=le[0],T=le[240],I=(function($,oe){var se,pe,De,ge,Se,Ce,je,Ue,Te,Je,Be=0;for(Te=0;Te<8;++Te){se=$[Be],pe=$[Be+1],De=$[Be+2],ge=$[Be+3],Se=$[Be+4],Ce=$[Be+5],je=$[Be+6];var re=se+(Ue=$[Be+7]),Ie=se-Ue,ce=pe+je,ye=pe-je,K=De+Ce,xe=De-Ce,Ge=ge+Se,j=ge-Se,ve=re+Ge,he=re-Ge,ae=ce+K,me=ce-K;$[Be]=ve+ae,$[Be+4]=ve-ae;var _e=.707106781*(me+he);$[Be+2]=he+_e,$[Be+6]=he-_e;var We=.382683433*((ve=j+xe)-(me=ye+Ie)),Le=.5411961*ve+We,Ve=1.306562965*me+We,gt=.707106781*(ae=xe+ye),Vn=Ie+gt,Ot=Ie-gt;$[Be+5]=Ot+Le,$[Be+3]=Ot-Le,$[Be+1]=Vn+Ve,$[Be+7]=Vn-Ve,Be+=8}for(Be=0,Te=0;Te<8;++Te){se=$[Be],pe=$[Be+8],De=$[Be+16],ge=$[Be+24],Se=$[Be+32],Ce=$[Be+40],je=$[Be+48];var zt=se+(Ue=$[Be+56]),en=se-Ue,tn=pe+je,$o=pe-je,Go=De+Ce,Vt=De-Ce,Rn=ge+Se,Fr=ge-Se,Nn=zt+Rn,fn=zt-Rn,Yt=tn+Go,Bs=tn-Go;$[Be]=Nn+Yt,$[Be+32]=Nn-Yt;var Vy=.707106781*(Bs+fn);$[Be+16]=fn+Vy,$[Be+48]=fn-Vy;var Hy=.382683433*((Nn=Fr+Vt)-(Bs=$o+en)),$y=.5411961*Nn+Hy,Gy=1.306562965*Bs+Hy,Wy=.707106781*(Yt=Vt+$o),qy=en+Wy,Zy=en-Wy;$[Be+40]=Zy+$y,$[Be+24]=Zy-$y,$[Be+8]=qy+Gy,$[Be+56]=qy-Gy,Be++}for(Te=0;Te<64;++Te)Je=$[Te]*oe[Te],m[Te]=Je>0?Je+.5|0:Je-.5|0;return m})(ne,J),B=0;B<64;++B)g[A[B]]=I[B];var L=g[0]-X;X=g[0],L==0?H(ie[0]):(H(ie[p[ue=32767+L]]),H(f[ue]));for(var M=63;M>0&&g[M]==0;M--);if(M==0)return H(te),X;for(var R,G=1;G<=M;){for(var E=G;g[G]==0&&G<=M;++G);var N=G-E;if(N>=16){R=N>>4;for(var F=1;F<=R;++F)H(T);N&=15}ue=32767+g[G],H(le[(N<<4)+p[ue]]),H(f[ue]),G++}return M!=63&&H(te),X}function ee(ne){ne<=0&&(ne=1),ne>100&&(ne=100),a!=ne&&((function(J){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var le=l((X[ie]*J+50)/100);le<1?le=1:le>255&&(le=255),u[A[ie]]=le}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var T=l((ue[te]*J+50)/100);T<1?T=1:T>255&&(T=255),c[A[te]]=T}for(var I=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],B=0,L=0;L<8;L++)for(var M=0;M<8;M++)d[B]=1/(u[A[B]]*I[L]*I[M]*8),h[B]=1/(c[A[B]]*I[L]*I[M]*8),B++})(ne<50?Math.floor(5e3/ne):Math.floor(200-2*ne)),a=ne)}this.encode=function(ne,J){var X;new Date().getTime(),J&&ee(J),_=new Array,b=0,v=7,W(65496),W(65504),W(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),W(1),W(1),q(0),q(0),(X=ne.comments)!==void 0&&X.constructor===Array&&X.forEach(De=>{if(typeof De=="string"){W(65534);var ge,Se=De.length;for(W(Se+2),ge=0;ge<Se;ge++)q(De.charCodeAt(ge))}}),(function(De){if(De){W(65505),De[0]===69&&De[1]===120&&De[2]===105&&De[3]===102?W(De.length+2):(W(De.length+5+2),q(69),q(120),q(105),q(102),q(0));for(var ge=0;ge<De.length;ge++)q(De[ge])}})(ne.exifBuffer),(function(){W(65499),W(132),q(0);for(var De=0;De<64;De++)q(u[De]);q(1);for(var ge=0;ge<64;ge++)q(c[ge])})(),(function(De,ge){W(65472),W(17),q(8),W(ge),W(De),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)})(ne.width,ne.height),(function(){W(65476),W(418),q(0);for(var De=0;De<16;De++)q(S[De+1]);for(var ge=0;ge<=11;ge++)q(w[ge]);q(16);for(var Se=0;Se<16;Se++)q(y[Se+1]);for(var Ce=0;Ce<=161;Ce++)q(z[Ce]);q(1);for(var je=0;je<16;je++)q(U[je+1]);for(var Ue=0;Ue<=11;Ue++)q(P[Ue]);q(17);for(var Te=0;Te<16;Te++)q(V[Te+1]);for(var Je=0;Je<=161;Je++)q(Z[Je])})(),W(65498),W(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var ie=0,le=0,ue=0;b=0,v=7,this.encode.displayName="_encode_";for(var te,T,I,B,L,M,R,G,E,N=ne.data,F=ne.width,$=ne.height,oe=4*F,se=0;se<$;){for(te=0;te<oe;){for(M=L=oe*se+te,R=-1,G=0,E=0;E<64;E++)M=L+(G=E>>3)*oe+(R=4*(7&E)),se+G>=$&&(M-=oe*(se+1+G-$)),te+R>=oe&&(M-=te+R-oe+4),T=N[M++],I=N[M++],B=N[M++],x[E]=(O[T]+O[I+256|0]+O[B+512|0]>>16)-128,D[E]=(O[T+768|0]+O[I+1024|0]+O[B+1280|0]>>16)-128,k[E]=(O[T+1280|0]+O[I+1536|0]+O[B+1792|0]>>16)-128;ie=Q(x,d,ie,r,o),le=Q(D,h,le,i,s),ue=Q(k,h,ue,i,s),te+=32}se+=8}if(v>=0){var pe=[];pe[1]=v+1,pe[0]=(1<<v+1)-1,H(pe)}return W(65497),be.from(_)},new Date().getTime(),n||(n=50),(function(){for(var ne=String.fromCharCode,J=0;J<256;J++)C[J]=ne(J)})(),r=Y(S,w),i=Y(U,P),o=Y(y,z),s=Y(V,Z),(function(){for(var ne=1,J=2,X=1;X<=15;X++){for(var ie=ne;ie<J;ie++)p[32767+ie]=X,f[32767+ie]=[],f[32767+ie][1]=X,f[32767+ie][0]=ie;for(var le=-(J-1);le<=-ne;le++)p[32767+le]=X,f[32767+le]=[],f[32767+le][1]=X,f[32767+le][0]=J-1+le;ne<<=1,J<<=1}})(),(function(){for(var ne=0;ne<256;ne++)O[ne]=19595*ne,O[ne+256|0]=38470*ne,O[ne+512|0]=7471*ne+32768,O[ne+768|0]=-11059*ne,O[ne+1024|0]=-21709*ne,O[ne+1280|0]=32768*ne+8421375,O[ne+1536|0]=-27439*ne,O[ne+1792|0]=-5329*ne})(),ee(n),new Date().getTime()}PD.exports=function(n,r){r===void 0&&(r=50);var i=new t(r),o=i.encode(n,r);return{data:o,width:n.width,height:n.height}}})();j4=PD.exports,FD={exports:{}};wE=FD,Kf=(function(){var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,n=799,r=3406,i=2276,o=1567,s=3784,a=5793,l=2896;function u(){}function c(_,b){for(var v,x,D=0,k=[],C=16;C>0&&!_[C-1];)C--;k.push({children:[],index:0});var O,A=k[0];for(v=0;v<C;v++){for(x=0;x<_[v];x++){for((A=k.pop()).children[A.index]=b[D];A.index>0;){if(k.length===0)throw new Error("Could not recreate Huffman Table");A=k.pop()}for(A.index++,k.push(A);k.length<=v;)k.push(O={children:[],index:0}),A.children[A.index]=O.children,A=O;D++}v+1<C&&(k.push(O={children:[],index:0}),A.children[A.index]=O.children,A=O)}return k[0].children}function d(_,b,v,x,D,k,C,O,A,S){v.precision,v.samplesPerLine,v.scanLines;var w=v.mcusPerLine,y=v.progressive;v.maxH,v.maxV;var z=b,U=0,P=0;function V(){if(P>0)return P--,U>>P&1;if((U=_[b++])==255){var G=_[b++];if(G)throw new Error("unexpected marker: "+(U<<8|G).toString(16))}return P=7,U>>>7}function Z(G){for(var E,N=G;(E=V())!==null;){if(typeof(N=N[E])=="number")return N;if(typeof N!="object")throw new Error("invalid huffman sequence")}return null}function Y(G){for(var E=0;G>0;){var N=V();if(N===null)return;E=E<<1|N,G--}return E}function H(G){var E=Y(G);return E>=1<<G-1?E:E+(-1<<G)+1}var q,W=0,Q=0;function ee(G,E,N,F,$){var oe=N%w,se=(N/w|0)*G.v+F,pe=oe*G.h+$;G.blocks[se]===void 0&&S.tolerantDecoding||E(G,G.blocks[se][pe])}function ne(G,E,N){var F=N/G.blocksPerLine|0,$=N%G.blocksPerLine;G.blocks[F]===void 0&&S.tolerantDecoding||E(G,G.blocks[F][$])}var J,X,ie,le,ue,te,T=x.length;te=y?k===0?O===0?function(G,E){var N=Z(G.huffmanTableDC),F=N===0?0:H(N)<<A;E[0]=G.pred+=F}:function(G,E){E[0]|=V()<<A}:O===0?function(G,E){if(W>0)W--;else for(var N=k,F=C;N<=F;){var $=Z(G.huffmanTableAC),oe=15&$,se=$>>4;if(oe!==0)E[e[N+=se]]=H(oe)*(1<<A),N++;else{if(se<15){W=Y(se)+(1<<se)-1;break}N+=16}}}:function(G,E){for(var N=k,F=C,$=0;N<=F;){var oe=e[N],se=E[oe]<0?-1:1;switch(Q){case 0:var pe=Z(G.huffmanTableAC),De=15&pe;if($=pe>>4,De===0)$<15?(W=Y($)+(1<<$),Q=4):($=16,Q=1);else{if(De!==1)throw new Error("invalid ACn encoding");q=H(De),Q=$?2:3}continue;case 1:case 2:E[oe]?E[oe]+=(V()<<A)*se:--$==0&&(Q=Q==2?3:0);break;case 3:E[oe]?E[oe]+=(V()<<A)*se:(E[oe]=q<<A,Q=0);break;case 4:E[oe]&&(E[oe]+=(V()<<A)*se)}N++}Q===4&&--W==0&&(Q=0)}:function(G,E){var N=Z(G.huffmanTableDC),F=N===0?0:H(N);E[0]=G.pred+=F;for(var $=1;$<64;){var oe=Z(G.huffmanTableAC),se=15&oe,pe=oe>>4;if(se!==0)E[e[$+=pe]]=H(se),$++;else{if(pe<15)break;$+=16}}};var I,B,L,M,R=0;for(B=T==1?x[0].blocksPerLine*x[0].blocksPerColumn:w*v.mcusPerColumn,D||(D=B);R<B;){for(X=0;X<T;X++)x[X].pred=0;if(W=0,T==1)for(J=x[0],ue=0;ue<D;ue++)ne(J,te,R),R++;else for(ue=0;ue<D;ue++){for(X=0;X<T;X++)for(L=(J=x[X]).h,M=J.v,ie=0;ie<M;ie++)for(le=0;le<L;le++)ee(J,te,R,ie,le);if(++R===B)break}if(R===B)do{if(_[b]===255&&_[b+1]!==0)break;b+=1}while(b<_.length-2);if(P=0,(I=_[b]<<8|_[b+1])<65280)throw new Error("marker was not found");if(!(I>=65488&&I<=65495))break;b+=2}return b-z}function h(_,b){var v,x,D=[],k=b.blocksPerLine,C=b.blocksPerColumn,O=k<<3,A=new Int32Array(64),S=new Uint8Array(64);function w(Y,H,q){var W,Q,ee,ne,J,X,ie,le,ue,te,T=b.quantizationTable,I=q;for(te=0;te<64;te++)I[te]=Y[te]*T[te];for(te=0;te<8;++te){var B=8*te;I[1+B]!=0||I[2+B]!=0||I[3+B]!=0||I[4+B]!=0||I[5+B]!=0||I[6+B]!=0||I[7+B]!=0?(W=a*I[0+B]+128>>8,Q=a*I[4+B]+128>>8,ee=I[2+B],ne=I[6+B],J=l*(I[1+B]-I[7+B])+128>>8,le=l*(I[1+B]+I[7+B])+128>>8,X=I[3+B]<<4,ie=I[5+B]<<4,ue=W-Q+1>>1,W=W+Q+1>>1,Q=ue,ue=ee*s+ne*o+128>>8,ee=ee*o-ne*s+128>>8,ne=ue,ue=J-ie+1>>1,J=J+ie+1>>1,ie=ue,ue=le+X+1>>1,X=le-X+1>>1,le=ue,ue=W-ne+1>>1,W=W+ne+1>>1,ne=ue,ue=Q-ee+1>>1,Q=Q+ee+1>>1,ee=ue,ue=J*i+le*r+2048>>12,J=J*r-le*i+2048>>12,le=ue,ue=X*n+ie*t+2048>>12,X=X*t-ie*n+2048>>12,ie=ue,I[0+B]=W+le,I[7+B]=W-le,I[1+B]=Q+ie,I[6+B]=Q-ie,I[2+B]=ee+X,I[5+B]=ee-X,I[3+B]=ne+J,I[4+B]=ne-J):(ue=a*I[0+B]+512>>10,I[0+B]=ue,I[1+B]=ue,I[2+B]=ue,I[3+B]=ue,I[4+B]=ue,I[5+B]=ue,I[6+B]=ue,I[7+B]=ue)}for(te=0;te<8;++te){var L=te;I[8+L]!=0||I[16+L]!=0||I[24+L]!=0||I[32+L]!=0||I[40+L]!=0||I[48+L]!=0||I[56+L]!=0?(W=a*I[0+L]+2048>>12,Q=a*I[32+L]+2048>>12,ee=I[16+L],ne=I[48+L],J=l*(I[8+L]-I[56+L])+2048>>12,le=l*(I[8+L]+I[56+L])+2048>>12,X=I[24+L],ie=I[40+L],ue=W-Q+1>>1,W=W+Q+1>>1,Q=ue,ue=ee*s+ne*o+2048>>12,ee=ee*o-ne*s+2048>>12,ne=ue,ue=J-ie+1>>1,J=J+ie+1>>1,ie=ue,ue=le+X+1>>1,X=le-X+1>>1,le=ue,ue=W-ne+1>>1,W=W+ne+1>>1,ne=ue,ue=Q-ee+1>>1,Q=Q+ee+1>>1,ee=ue,ue=J*i+le*r+2048>>12,J=J*r-le*i+2048>>12,le=ue,ue=X*n+ie*t+2048>>12,X=X*t-ie*n+2048>>12,ie=ue,I[0+L]=W+le,I[56+L]=W-le,I[8+L]=Q+ie,I[48+L]=Q-ie,I[16+L]=ee+X,I[40+L]=ee-X,I[24+L]=ne+J,I[32+L]=ne-J):(ue=a*q[te+0]+8192>>14,I[0+L]=ue,I[8+L]=ue,I[16+L]=ue,I[24+L]=ue,I[32+L]=ue,I[40+L]=ue,I[48+L]=ue,I[56+L]=ue)}for(te=0;te<64;++te){var M=128+(I[te]+8>>4);H[te]=M<0?0:M>255?255:M}}g(O*C*8);for(var y=0;y<C;y++){var z=y<<3;for(v=0;v<8;v++)D.push(new Uint8Array(O));for(var U=0;U<k;U++){w(b.blocks[y][U],S,A);var P=0,V=U<<3;for(x=0;x<8;x++){var Z=D[z+x];for(v=0;v<8;v++)Z[V+v]=S[P++]}}}return D}function f(_){return _<0?0:_>255?255:_}u.prototype={load:function(_){var b=new XMLHttpRequest;b.open("GET",_,!0),b.responseType="arraybuffer",b.onload=(function(){var v=new Uint8Array(b.response||b.mozResponseArrayBuffer);this.parse(v),this.onload&&this.onload()}).bind(this),b.send(null)},parse:function(_){var b=1e3*this.opts.maxResolutionInMP*1e3,v=0;function x(){var ge=_[v]<<8|_[v+1];return v+=2,ge}function D(ge){var Se,Ce,je=1,Ue=1;for(Ce in ge.components)ge.components.hasOwnProperty(Ce)&&(je<(Se=ge.components[Ce]).h&&(je=Se.h),Ue<Se.v&&(Ue=Se.v));var Te=Math.ceil(ge.samplesPerLine/8/je),Je=Math.ceil(ge.scanLines/8/Ue);for(Ce in ge.components)if(ge.components.hasOwnProperty(Ce)){Se=ge.components[Ce];var Be=Math.ceil(Math.ceil(ge.samplesPerLine/8)*Se.h/je),re=Math.ceil(Math.ceil(ge.scanLines/8)*Se.v/Ue),Ie=Te*Se.h,ce=Je*Se.v,ye=[];g(ce*Ie*256);for(var K=0;K<ce;K++){for(var xe=[],Ge=0;Ge<Ie;Ge++)xe.push(new Int32Array(64));ye.push(xe)}Se.blocksPerLine=Be,Se.blocksPerColumn=re,Se.blocks=ye}ge.maxH=je,ge.maxV=Ue,ge.mcusPerLine=Te,ge.mcusPerColumn=Je}_.length;var k,C,O,A,S=null,w=null,y=[],z=[],U=[],P=[],V=x(),Z=-1;if(this.comments=[],V!=65496)throw new Error("SOI not found");for(V=x();V!=65497;){switch(V){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var Y=(O=void 0,A=void 0,O=x(),A=_.subarray(v,v+O-2),v+=A.length,A);if(V===65534){var H=String.fromCharCode.apply(null,Y);this.comments.push(H)}V===65504&&Y[0]===74&&Y[1]===70&&Y[2]===73&&Y[3]===70&&Y[4]===0&&(S={version:{major:Y[5],minor:Y[6]},densityUnits:Y[7],xDensity:Y[8]<<8|Y[9],yDensity:Y[10]<<8|Y[11],thumbWidth:Y[12],thumbHeight:Y[13],thumbData:Y.subarray(14,14+3*Y[12]*Y[13])}),V===65505&&Y[0]===69&&Y[1]===120&&Y[2]===105&&Y[3]===102&&Y[4]===0&&(this.exifBuffer=Y.subarray(5,Y.length)),V===65518&&Y[0]===65&&Y[1]===100&&Y[2]===111&&Y[3]===98&&Y[4]===101&&Y[5]===0&&(w={version:Y[6],flags0:Y[7]<<8|Y[8],flags1:Y[9]<<8|Y[10],transformCode:Y[11]});break;case 65499:for(var q=x()+v-2;v<q;){var W=_[v++];g(256);var Q=new Int32Array(64);if(W>>4){if(W>>4!=1)throw new Error("DQT: invalid table spec");for(pe=0;pe<64;pe++)Q[e[pe]]=x()}else for(pe=0;pe<64;pe++)Q[e[pe]]=_[v++];y[15&W]=Q}break;case 65472:case 65473:case 65474:x(),(k={}).extended=V===65473,k.progressive=V===65474,k.precision=_[v++],k.scanLines=x(),k.samplesPerLine=x(),k.components={},k.componentsOrder=[];var ee=k.scanLines*k.samplesPerLine;if(ee>b){var ne=Math.ceil((ee-b)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${ne}MP`)}var J,X=_[v++];for(oe=0;oe<X;oe++){J=_[v];var ie=_[v+1]>>4,le=15&_[v+1],ue=_[v+2];if(ie<=0||le<=0)throw new Error("Invalid sampling factor, expected values above 0");k.componentsOrder.push(J),k.components[J]={h:ie,v:le,quantizationIdx:ue},v+=3}D(k),z.push(k);break;case 65476:var te=x();for(oe=2;oe<te;){var T=_[v++],I=new Uint8Array(16),B=0;for(pe=0;pe<16;pe++,v++)B+=I[pe]=_[v];g(16+B);var L=new Uint8Array(B);for(pe=0;pe<B;pe++,v++)L[pe]=_[v];oe+=17+B,(T>>4?U:P)[15&T]=c(I,L)}break;case 65501:x(),C=x();break;case 65500:x(),x();break;case 65498:x();var M=_[v++],R=[];for(oe=0;oe<M;oe++){De=k.components[_[v++]];var G=_[v++];De.huffmanTableDC=P[G>>4],De.huffmanTableAC=U[15&G],R.push(De)}var E=_[v++],N=_[v++],F=_[v++],$=d(_,v,k,R,C,E,N,F>>4,15&F,this.opts);v+=$;break;case 65535:_[v]!==255&&v--;break;default:if(_[v-3]==255&&_[v-2]>=192&&_[v-2]<=254){v-=3;break}if(V===224||V==225){if(Z!==-1)throw new Error(`first unknown JPEG marker at offset ${Z.toString(16)}, second unknown JPEG marker ${V.toString(16)} at offset ${(v-1).toString(16)}`);Z=v-1;let ge=x();if(_[v+ge-2]===255){v+=ge-2;break}}throw new Error("unknown JPEG marker "+V.toString(16))}V=x()}if(z.length!=1)throw new Error("only single frame JPEGs supported");for(var oe=0;oe<z.length;oe++){var se=z[oe].components;for(var pe in se)se[pe].quantizationTable=y[se[pe].quantizationIdx],delete se[pe].quantizationIdx}for(this.width=k.samplesPerLine,this.height=k.scanLines,this.jfif=S,this.adobe=w,this.components=[],oe=0;oe<k.componentsOrder.length;oe++){var De=k.components[k.componentsOrder[oe]];this.components.push({lines:h(0,De),scaleX:De.h/k.maxH,scaleY:De.v/k.maxV})}},getData:function(_,b){var v,x,D,k,C,O,A,S,w,y,z,U,P,V,Z,Y,H,q,W,Q,ee,ne=this.width/_,J=this.height/b,X=0,ie=_*b*this.components.length;g(ie);var le=new Uint8Array(ie);switch(this.components.length){case 1:for(v=this.components[0],y=0;y<b;y++)for(C=v.lines[0|y*v.scaleY*J],w=0;w<_;w++)z=C[0|w*v.scaleX*ne],le[X++]=z;break;case 2:for(v=this.components[0],x=this.components[1],y=0;y<b;y++)for(C=v.lines[0|y*v.scaleY*J],O=x.lines[0|y*x.scaleY*J],w=0;w<_;w++)z=C[0|w*v.scaleX*ne],le[X++]=z,z=O[0|w*x.scaleX*ne],le[X++]=z;break;case 3:for(ee=!0,this.adobe&&this.adobe.transformCode?ee=!0:this.opts.colorTransform!==void 0&&(ee=!!this.opts.colorTransform),v=this.components[0],x=this.components[1],D=this.components[2],y=0;y<b;y++)for(C=v.lines[0|y*v.scaleY*J],O=x.lines[0|y*x.scaleY*J],A=D.lines[0|y*D.scaleY*J],w=0;w<_;w++)ee?(z=C[0|w*v.scaleX*ne],U=O[0|w*x.scaleX*ne],q=f(z+1.402*((P=A[0|w*D.scaleX*ne])-128)),W=f(z-.3441363*(U-128)-.71413636*(P-128)),Q=f(z+1.772*(U-128))):(q=C[0|w*v.scaleX*ne],W=O[0|w*x.scaleX*ne],Q=A[0|w*D.scaleX*ne]),le[X++]=q,le[X++]=W,le[X++]=Q;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(ee=!1,this.adobe&&this.adobe.transformCode?ee=!0:this.opts.colorTransform!==void 0&&(ee=!!this.opts.colorTransform),v=this.components[0],x=this.components[1],D=this.components[2],k=this.components[3],y=0;y<b;y++)for(C=v.lines[0|y*v.scaleY*J],O=x.lines[0|y*x.scaleY*J],A=D.lines[0|y*D.scaleY*J],S=k.lines[0|y*k.scaleY*J],w=0;w<_;w++)ee?(z=C[0|w*v.scaleX*ne],U=O[0|w*x.scaleX*ne],P=A[0|w*D.scaleX*ne],V=S[0|w*k.scaleX*ne],Z=255-f(z+1.402*(P-128)),Y=255-f(z-.3441363*(U-128)-.71413636*(P-128)),H=255-f(z+1.772*(U-128))):(Z=C[0|w*v.scaleX*ne],Y=O[0|w*x.scaleX*ne],H=A[0|w*D.scaleX*ne],V=S[0|w*k.scaleX*ne]),le[X++]=255-Z,le[X++]=255-Y,le[X++]=255-H,le[X++]=255-V;break;default:throw new Error("Unsupported color mode")}return le},copyToImageData:function(_,b){var v,x,D,k,C,O,A,S,w,y=_.width,z=_.height,U=_.data,P=this.getData(y,z),V=0,Z=0;switch(this.components.length){case 1:for(x=0;x<z;x++)for(v=0;v<y;v++)D=P[V++],U[Z++]=D,U[Z++]=D,U[Z++]=D,b&&(U[Z++]=255);break;case 3:for(x=0;x<z;x++)for(v=0;v<y;v++)A=P[V++],S=P[V++],w=P[V++],U[Z++]=A,U[Z++]=S,U[Z++]=w,b&&(U[Z++]=255);break;case 4:for(x=0;x<z;x++)for(v=0;v<y;v++)C=P[V++],O=P[V++],D=P[V++],A=255-f(C*(1-(k=P[V++])/255)+k),S=255-f(O*(1-k/255)+k),w=255-f(D*(1-k/255)+k),U[Z++]=A,U[Z++]=S,U[Z++]=w,b&&(U[Z++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,m=0;function g(_=0){var b=p+_;if(b>m){var v=Math.ceil((b-m)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${v}MB`)}p=b}return u.resetMaxMemoryUsage=function(_){p=0,m=_},u.getBytesAllocated=function(){return p},u.requestMemoryAllocation=g,u})(),wE.exports=function(e,t={}){var n=fe({colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},t),r=new Uint8Array(e),i=new Kf;i.opts=n,Kf.resetMaxMemoryUsage(1024*n.maxMemoryUsageInMB*1024),i.parse(r);var o=n.formatAsRGBA?4:3,s=i.width*i.height*o;try{Kf.requestMemoryAllocation(s);var a={width:i.width,height:i.height,exifBuffer:i.exifBuffer,data:n.useTArray?new Uint8Array(s):be.alloc(s)};i.comments.length>0&&(a.comments=i.comments)}catch(l){throw l instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+s):l instanceof ReferenceError&&l.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):l}return i.copyToImageData(a,n.formatAsRGBA),a};U4=FD.exports,z4=j4,V4=U4,H4={encode:z4,decode:V4},EE=ti(H4);BD={exports:{}};BD.exports=(function(){function e(t,n,r){function i(a,l){if(!n[a]){if(!t[a]){var u=typeof Bu=="function"&&Bu;if(!l&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(h){return i(t[a][1][h]||h)},d,d.exports,e,t,n,r)}return n[a].exports}for(var o=typeof Bu=="function"&&Bu,s=0;s<r.length;s++)i(r[s]);return i}return e})()({1:[function(e,t,n){(function(r){(function(){let i=e("./interlace"),o=[function(){},function(c,d,h,f){if(f===d.length)throw new Error("Ran out of data");let p=d[f];c[h]=p,c[h+1]=p,c[h+2]=p,c[h+3]=255},function(c,d,h,f){if(f+1>=d.length)throw new Error("Ran out of data");let p=d[f];c[h]=p,c[h+1]=p,c[h+2]=p,c[h+3]=d[f+1]},function(c,d,h,f){if(f+2>=d.length)throw new Error("Ran out of data");c[h]=d[f],c[h+1]=d[f+1],c[h+2]=d[f+2],c[h+3]=255},function(c,d,h,f){if(f+3>=d.length)throw new Error("Ran out of data");c[h]=d[f],c[h+1]=d[f+1],c[h+2]=d[f+2],c[h+3]=d[f+3]}],s=[function(){},function(c,d,h,f){let p=d[0];c[h]=p,c[h+1]=p,c[h+2]=p,c[h+3]=f},function(c,d,h){let f=d[0];c[h]=f,c[h+1]=f,c[h+2]=f,c[h+3]=d[1]},function(c,d,h,f){c[h]=d[0],c[h+1]=d[1],c[h+2]=d[2],c[h+3]=f},function(c,d,h){c[h]=d[0],c[h+1]=d[1],c[h+2]=d[2],c[h+3]=d[3]}];function a(c,d){let h=[],f=0;function p(){if(f===c.length)throw new Error("Ran out of data");let m,g,_,b,v,x,D,k,C=c[f];switch(f++,d){default:throw new Error("unrecognised depth");case 16:D=c[f],f++,h.push((C<<8)+D);break;case 4:D=15&C,k=C>>4,h.push(k,D);break;case 2:v=3&C,x=C>>2&3,D=C>>4&3,k=C>>6&3,h.push(k,D,x,v);break;case 1:m=1&C,g=C>>1&1,_=C>>2&1,b=C>>3&1,v=C>>4&1,x=C>>5&1,D=C>>6&1,k=C>>7&1,h.push(k,D,x,v,b,_,g,m)}}return{get:function(m){for(;h.length<m;)p();let g=h.slice(0,m);return h=h.slice(m),g},resetAfterLine:function(){h.length=0},end:function(){if(f!==c.length)throw new Error("extra data found")}}}function l(c,d,h,f,p,m){let g=c.width,_=c.height,b=c.index;for(let v=0;v<_;v++)for(let x=0;x<g;x++){let D=h(x,v,b);o[f](d,p,D,m),m+=f}return m}function u(c,d,h,f,p,m){let g=c.width,_=c.height,b=c.index;for(let v=0;v<_;v++){for(let x=0;x<g;x++){let D=p.get(f),k=h(x,v,b);s[f](d,D,k,m)}p.resetAfterLine()}}n.dataToBitMap=function(c,d){let h,f,p=d.width,m=d.height,g=d.depth,_=d.bpp,b=d.interlace;g!==8&&(h=a(c,g)),f=g<=8?r.alloc(p*m*4):new Uint16Array(p*m*4);let v,x,D=Math.pow(2,g)-1,k=0;if(b)v=i.getImagePasses(p,m),x=i.getInterlaceIterator(p,m);else{let C=0;x=function(){let O=C;return C+=4,O},v=[{width:p,height:m}]}for(let C=0;C<v.length;C++)g===8?k=l(v[C],f,x,_,c,k):u(v[C],f,x,_,h,D);if(g===8){if(k!==c.length)throw new Error("extra data found")}else h.end();return f}}).call(this)}).call(this,e("buffer").Buffer)},{"./interlace":11,buffer:32}],2:[function(e,t,n){(function(r){(function(){let i=e("./constants");t.exports=function(o,s,a,l){let u=[i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(l.colorType)!==-1;if(l.colorType===l.inputColorType){let v=(function(){let x=new ArrayBuffer(2);return new DataView(x).setInt16(0,256,!0),new Int16Array(x)[0]!==256})();if(l.bitDepth===8||l.bitDepth===16&&v)return o}let c=l.bitDepth!==16?o:new Uint16Array(o.buffer),d=255,h=i.COLORTYPE_TO_BPP_MAP[l.inputColorType];h!==4||l.inputHasAlpha||(h=3);let f=i.COLORTYPE_TO_BPP_MAP[l.colorType];l.bitDepth===16&&(d=65535,f*=2);let p=r.alloc(s*a*f),m=0,g=0,_=l.bgColor||{};function b(){let v,x,D,k=d;switch(l.inputColorType){case i.COLORTYPE_COLOR_ALPHA:k=c[m+3],v=c[m],x=c[m+1],D=c[m+2];break;case i.COLORTYPE_COLOR:v=c[m],x=c[m+1],D=c[m+2];break;case i.COLORTYPE_ALPHA:k=c[m+1],v=c[m],x=v,D=v;break;case i.COLORTYPE_GRAYSCALE:v=c[m],x=v,D=v;break;default:throw new Error("input color type:"+l.inputColorType+" is not supported at present")}return l.inputHasAlpha&&(u||(k/=d,v=Math.min(Math.max(Math.round((1-k)*_.red+k*v),0),d),x=Math.min(Math.max(Math.round((1-k)*_.green+k*x),0),d),D=Math.min(Math.max(Math.round((1-k)*_.blue+k*D),0),d))),{red:v,green:x,blue:D,alpha:k}}_.red===void 0&&(_.red=d),_.green===void 0&&(_.green=d),_.blue===void 0&&(_.blue=d);for(let v=0;v<a;v++)for(let x=0;x<s;x++){let D=b();switch(l.colorType){case i.COLORTYPE_COLOR_ALPHA:case i.COLORTYPE_COLOR:l.bitDepth===8?(p[g]=D.red,p[g+1]=D.green,p[g+2]=D.blue,u&&(p[g+3]=D.alpha)):(p.writeUInt16BE(D.red,g),p.writeUInt16BE(D.green,g+2),p.writeUInt16BE(D.blue,g+4),u&&p.writeUInt16BE(D.alpha,g+6));break;case i.COLORTYPE_ALPHA:case i.COLORTYPE_GRAYSCALE:{let k=(D.red+D.green+D.blue)/3;l.bitDepth===8?(p[g]=k,u&&(p[g+1]=D.alpha)):(p.writeUInt16BE(k,g),u&&p.writeUInt16BE(D.alpha,g+2));break}default:throw new Error("unrecognised color Type "+l.colorType)}m+=h,g+=f}return p}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,buffer:32}],3:[function(e,t,n){(function(r,i){(function(){let o=e("util"),s=e("stream"),a=t.exports=function(){s.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};o.inherits(a,s),a.prototype.read=function(l,u){this._reads.push({length:Math.abs(l),allowLess:l<0,func:u}),r.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},a.prototype.write=function(l,u){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let c;return c=i.isBuffer(l)?l:i.from(l,u||this._encoding),this._buffers.push(c),this._buffered+=c.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},a.prototype.end=function(l,u){l&&this.write(l,u),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},a.prototype.destroySoon=a.prototype.end,a.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},a.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},a.prototype._processReadAllowingLess=function(l){this._reads.shift();let u=this._buffers[0];u.length>l.length?(this._buffered-=l.length,this._buffers[0]=u.slice(l.length),l.func.call(this,u.slice(0,l.length))):(this._buffered-=u.length,this._buffers.shift(),l.func.call(this,u))},a.prototype._processRead=function(l){this._reads.shift();let u=0,c=0,d=i.alloc(l.length);for(;u<l.length;){let h=this._buffers[c++],f=Math.min(h.length,l.length-u);h.copy(d,u,0,f),u+=f,f!==h.length&&(this._buffers[--c]=h.slice(f))}c>0&&this._buffers.splice(0,c),this._buffered-=l.length,l.func.call(this,d)},a.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let l=this._reads[0];if(l.allowLess)this._processReadAllowingLess(l);else{if(!(this._buffered>=l.length))break;this._processRead(l)}}this._buffers&&!this.writable&&this._end()}catch(l){this.emit("error",l)}}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,buffer:32,stream:65,util:84}],4:[function(e,t,n){t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],5:[function(e,t,n){let r=[];(function(){for(let o=0;o<256;o++){let s=o;for(let a=0;a<8;a++)1&s?s=3988292384^s>>>1:s>>>=1;r[o]=s}})();let i=t.exports=function(){this._crc=-1};i.prototype.write=function(o){for(let s=0;s<o.length;s++)this._crc=r[255&(this._crc^o[s])]^this._crc>>>8;return!0},i.prototype.crc32=function(){return~this._crc},i.crc32=function(o){let s=-1;for(let a=0;a<o.length;a++)s=r[255&(s^o[a])]^s>>>8;return~s}},{}],6:[function(e,t,n){(function(r){(function(){let i=e("./paeth-predictor");function o(_,b,v,x,D){for(let k=0;k<v;k++)x[D+k]=_[b+k]}function s(_,b,v){let x=0,D=b+v;for(let k=b;k<D;k++)x+=Math.abs(_[k]);return x}function a(_,b,v,x,D,k){for(let C=0;C<v;C++){let O=C>=k?_[b+C-k]:0,A=_[b+C]-O;x[D+C]=A}}function l(_,b,v,x){let D=0;for(let k=0;k<v;k++){let C=k>=x?_[b+k-x]:0,O=_[b+k]-C;D+=Math.abs(O)}return D}function u(_,b,v,x,D){for(let k=0;k<v;k++){let C=b>0?_[b+k-v]:0,O=_[b+k]-C;x[D+k]=O}}function c(_,b,v){let x=0,D=b+v;for(let k=b;k<D;k++){let C=b>0?_[k-v]:0,O=_[k]-C;x+=Math.abs(O)}return x}function d(_,b,v,x,D,k){for(let C=0;C<v;C++){let O=C>=k?_[b+C-k]:0,A=b>0?_[b+C-v]:0,S=_[b+C]-(O+A>>1);x[D+C]=S}}function h(_,b,v,x){let D=0;for(let k=0;k<v;k++){let C=k>=x?_[b+k-x]:0,O=b>0?_[b+k-v]:0,A=_[b+k]-(C+O>>1);D+=Math.abs(A)}return D}function f(_,b,v,x,D,k){for(let C=0;C<v;C++){let O=C>=k?_[b+C-k]:0,A=b>0?_[b+C-v]:0,S=b>0&&C>=k?_[b+C-(v+k)]:0,w=_[b+C]-i(O,A,S);x[D+C]=w}}function p(_,b,v,x){let D=0;for(let k=0;k<v;k++){let C=k>=x?_[b+k-x]:0,O=b>0?_[b+k-v]:0,A=b>0&&k>=x?_[b+k-(v+x)]:0,S=_[b+k]-i(C,O,A);D+=Math.abs(S)}return D}let m={0:o,1:a,2:u,3:d,4:f},g={0:s,1:l,2:c,3:h,4:p};t.exports=function(_,b,v,x,D){let k;if("filterType"in x&&x.filterType!==-1){if(typeof x.filterType!="number")throw new Error("unrecognised filter types");k=[x.filterType]}else k=[0,1,2,3,4];x.bitDepth===16&&(D*=2);let C=b*D,O=0,A=0,S=r.alloc((C+1)*v),w=k[0];for(let y=0;y<v;y++){if(k.length>1){let z=1/0;for(let U=0;U<k.length;U++){let P=g[k[U]](_,A,C,D);P<z&&(w=k[U],z=P)}}S[O]=w,O++,m[w](_,A,C,S,O,D),O+=C,A+=C}return S}}).call(this)}).call(this,e("buffer").Buffer)},{"./paeth-predictor":15,buffer:32}],7:[function(e,t,n){(function(r){(function(){let i=e("util"),o=e("./chunkstream"),s=e("./filter-parse"),a=t.exports=function(l){o.call(this);let u=[],c=this;this._filter=new s(l,{read:this.read.bind(this),write:function(d){u.push(d)},complete:function(){c.emit("complete",r.concat(u))}}),this._filter.start()};i.inherits(a,o)}).call(this)}).call(this,e("buffer").Buffer)},{"./chunkstream":3,"./filter-parse":9,buffer:32,util:84}],8:[function(e,t,n){(function(r){(function(){let i=e("./sync-reader"),o=e("./filter-parse");n.process=function(s,a){let l=[],u=new i(s);return new o(a,{read:u.read.bind(u),write:function(c){l.push(c)},complete:function(){}}).start(),u.process(),r.concat(l)}}).call(this)}).call(this,e("buffer").Buffer)},{"./filter-parse":9,"./sync-reader":22,buffer:32}],9:[function(e,t,n){(function(r){(function(){let i=e("./interlace"),o=e("./paeth-predictor");function s(l,u,c){let d=l*u;return c!==8&&(d=Math.ceil(d/(8/c))),d}let a=t.exports=function(l,u){let c=l.width,d=l.height,h=l.interlace,f=l.bpp,p=l.depth;if(this.read=u.read,this.write=u.write,this.complete=u.complete,this._imageIndex=0,this._images=[],h){let m=i.getImagePasses(c,d);for(let g=0;g<m.length;g++)this._images.push({byteWidth:s(m[g].width,f,p),height:m[g].height,lineIndex:0})}else this._images.push({byteWidth:s(c,f,p),height:d,lineIndex:0});this._xComparison=p===8?f:p===16?2*f:1};a.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},a.prototype._unFilterType1=function(l,u,c){let d=this._xComparison,h=d-1;for(let f=0;f<c;f++){let p=l[1+f],m=f>h?u[f-d]:0;u[f]=p+m}},a.prototype._unFilterType2=function(l,u,c){let d=this._lastLine;for(let h=0;h<c;h++){let f=l[1+h],p=d?d[h]:0;u[h]=f+p}},a.prototype._unFilterType3=function(l,u,c){let d=this._xComparison,h=d-1,f=this._lastLine;for(let p=0;p<c;p++){let m=l[1+p],g=f?f[p]:0,_=p>h?u[p-d]:0,b=Math.floor((_+g)/2);u[p]=m+b}},a.prototype._unFilterType4=function(l,u,c){let d=this._xComparison,h=d-1,f=this._lastLine;for(let p=0;p<c;p++){let m=l[1+p],g=f?f[p]:0,_=p>h?u[p-d]:0,b=p>h&&f?f[p-d]:0,v=o(_,g,b);u[p]=m+v}},a.prototype._reverseFilterLine=function(l){let u,c=l[0],d=this._images[this._imageIndex],h=d.byteWidth;if(c===0)u=l.slice(1,h+1);else switch(u=r.alloc(h),c){case 1:this._unFilterType1(l,u,h);break;case 2:this._unFilterType2(l,u,h);break;case 3:this._unFilterType3(l,u,h);break;case 4:this._unFilterType4(l,u,h);break;default:throw new Error("Unrecognised filter type - "+c)}this.write(u),d.lineIndex++,d.lineIndex>=d.height?(this._lastLine=null,this._imageIndex++,d=this._images[this._imageIndex]):this._lastLine=u,d?this.read(d.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this)}).call(this,e("buffer").Buffer)},{"./interlace":11,"./paeth-predictor":15,buffer:32}],10:[function(e,t,n){(function(r){(function(){function i(a,l,u,c,d){let h=0;for(let f=0;f<c;f++)for(let p=0;p<u;p++){let m=d[a[h]];if(!m)throw new Error("index "+a[h]+" not in palette");for(let g=0;g<4;g++)l[h+g]=m[g];h+=4}}function o(a,l,u,c,d){let h=0;for(let f=0;f<c;f++)for(let p=0;p<u;p++){let m=!1;if(d.length===1?d[0]===a[h]&&(m=!0):d[0]===a[h]&&d[1]===a[h+1]&&d[2]===a[h+2]&&(m=!0),m)for(let g=0;g<4;g++)l[h+g]=0;h+=4}}function s(a,l,u,c,d){let h=255,f=Math.pow(2,d)-1,p=0;for(let m=0;m<c;m++)for(let g=0;g<u;g++){for(let _=0;_<4;_++)l[p+_]=Math.floor(a[p+_]*h/f+.5);p+=4}}t.exports=function(a,l,u=!1){let c=l.depth,d=l.width,h=l.height,f=l.colorType,p=l.transColor,m=l.palette,g=a;return f===3?i(a,g,d,h,m):(p&&o(a,g,d,h,p),c===8||u||(c===16&&(g=r.alloc(d*h*4)),s(a,g,d,h,c))),g}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:32}],11:[function(e,t,n){let r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];n.getImagePasses=function(i,o){let s=[],a=i%8,l=o%8,u=(i-a)/8,c=(o-l)/8;for(let d=0;d<r.length;d++){let h=r[d],f=u*h.x.length,p=c*h.y.length;for(let m=0;m<h.x.length&&h.x[m]<a;m++)f++;for(let m=0;m<h.y.length&&h.y[m]<l;m++)p++;f>0&&p>0&&s.push({width:f,height:p,index:d})}return s},n.getInterlaceIterator=function(i){return function(o,s,a){let l=o%r[a].x.length,u=(o-l)/r[a].x.length*8+r[a].x[l],c=s%r[a].y.length;return 4*u+((s-c)/r[a].y.length*8+r[a].y[c])*i*4}}},{}],12:[function(e,t,n){(function(r){(function(){let i=e("util"),o=e("stream"),s=e("./constants"),a=e("./packer"),l=t.exports=function(u){o.call(this);let c=u||{};this._packer=new a(c),this._deflate=this._packer.createDeflate(),this.readable=!0};i.inherits(l,o),l.prototype.pack=function(u,c,d,h){this.emit("data",r.from(s.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(c,d)),h&&this.emit("data",this._packer.packGAMA(h));let f=this._packer.filterData(u,c,d);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(p){this.emit("data",this._packer.packIDAT(p))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(f)}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,stream:65,util:84}],13:[function(e,t,n){(function(r){(function(){let i=!0,o=e("zlib");o.deflateSync||(i=!1);let s=e("./constants"),a=e("./packer");t.exports=function(l,u){if(!i)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let c=new a(u||{}),d=[];d.push(r.from(s.PNG_SIGNATURE)),d.push(c.packIHDR(l.width,l.height)),l.gamma&&d.push(c.packGAMA(l.gamma));let h=c.filterData(l.data,l.width,l.height),f=o.deflateSync(h,c.getDeflateOptions());if(h=null,!f||!f.length)throw new Error("bad png - invalid compressed data response");return d.push(c.packIDAT(f)),d.push(c.packIEND()),r.concat(d)}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./packer":14,buffer:32,zlib:31}],14:[function(e,t,n){(function(r){(function(){let i=e("./constants"),o=e("./crc"),s=e("./bitpacker"),a=e("./filter-pack"),l=e("zlib"),u=t.exports=function(c){if(this._options=c,c.deflateChunkSize=c.deflateChunkSize||32768,c.deflateLevel=c.deflateLevel!=null?c.deflateLevel:9,c.deflateStrategy=c.deflateStrategy!=null?c.deflateStrategy:3,c.inputHasAlpha=c.inputHasAlpha==null||c.inputHasAlpha,c.deflateFactory=c.deflateFactory||l.createDeflate,c.bitDepth=c.bitDepth||8,c.colorType=typeof c.colorType=="number"?c.colorType:i.COLORTYPE_COLOR_ALPHA,c.inputColorType=typeof c.inputColorType=="number"?c.inputColorType:i.COLORTYPE_COLOR_ALPHA,[i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(c.colorType)===-1)throw new Error("option color type:"+c.colorType+" is not supported at present");if([i.COLORTYPE_GRAYSCALE,i.COLORTYPE_COLOR,i.COLORTYPE_COLOR_ALPHA,i.COLORTYPE_ALPHA].indexOf(c.inputColorType)===-1)throw new Error("option input color type:"+c.inputColorType+" is not supported at present");if(c.bitDepth!==8&&c.bitDepth!==16)throw new Error("option bit depth:"+c.bitDepth+" is not supported at present")};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(c,d,h){let f=s(c,d,h,this._options),p=i.COLORTYPE_TO_BPP_MAP[this._options.colorType];return a(f,d,h,this._options,p)},u.prototype._packChunk=function(c,d){let h=d?d.length:0,f=r.alloc(h+12);return f.writeUInt32BE(h,0),f.writeUInt32BE(c,4),d&&d.copy(f,8),f.writeInt32BE(o.crc32(f.slice(4,f.length-4)),f.length-4),f},u.prototype.packGAMA=function(c){let d=r.alloc(4);return d.writeUInt32BE(Math.floor(c*i.GAMMA_DIVISION),0),this._packChunk(i.TYPE_gAMA,d)},u.prototype.packIHDR=function(c,d){let h=r.alloc(13);return h.writeUInt32BE(c,0),h.writeUInt32BE(d,4),h[8]=this._options.bitDepth,h[9]=this._options.colorType,h[10]=0,h[11]=0,h[12]=0,this._packChunk(i.TYPE_IHDR,h)},u.prototype.packIDAT=function(c){return this._packChunk(i.TYPE_IDAT,c)},u.prototype.packIEND=function(){return this._packChunk(i.TYPE_IEND,null)}}).call(this)}).call(this,e("buffer").Buffer)},{"./bitpacker":2,"./constants":4,"./crc":5,"./filter-pack":6,buffer:32,zlib:31}],15:[function(e,t,n){t.exports=function(r,i,o){let s=r+i-o,a=Math.abs(s-r),l=Math.abs(s-i),u=Math.abs(s-o);return a<=l&&a<=u?r:l<=u?i:o}},{}],16:[function(e,t,n){let r=e("util"),i=e("zlib"),o=e("./chunkstream"),s=e("./filter-parse-async"),a=e("./parser"),l=e("./bitmapper"),u=e("./format-normaliser"),c=t.exports=function(d){o.call(this),this._parser=new a(d,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=d,this.writable=!0,this._parser.start()};r.inherits(c,o),c.prototype._handleError=function(d){this.emit("error",d),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},c.prototype._inflateData=function(d){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let h=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,f=Math.max(h,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:f});let p=h,m=this.emit.bind(this,"error");this._inflate.on("error",function(_){p&&m(_)}),this._filter.on("complete",this._complete.bind(this));let g=this._filter.write.bind(this._filter);this._inflate.on("data",function(_){p&&(_.length>p&&(_=_.slice(0,p)),p-=_.length,g(_))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(d)},c.prototype._handleMetaData=function(d){this._metaData=d,this._bitmapInfo=Object.create(d),this._filter=new s(this._bitmapInfo)},c.prototype._handleTransColor=function(d){this._bitmapInfo.transColor=d},c.prototype._handlePalette=function(d){this._bitmapInfo.palette=d},c.prototype._simpleTransparency=function(){this._metaData.alpha=!0},c.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},c.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},c.prototype._complete=function(d){if(this.errord)return;let h;try{let f=l.dataToBitMap(d,this._bitmapInfo);h=u(f,this._bitmapInfo,this._options.skipRescale),f=null}catch(f){return void this._handleError(f)}this.emit("parsed",h)}},{"./bitmapper":1,"./chunkstream":3,"./filter-parse-async":7,"./format-normaliser":10,"./parser":18,util:84,zlib:31}],17:[function(e,t,n){(function(r){(function(){let i=!0,o=e("zlib"),s=e("./sync-inflate");o.deflateSync||(i=!1);let a=e("./sync-reader"),l=e("./filter-parse-sync"),u=e("./parser"),c=e("./bitmapper"),d=e("./format-normaliser");t.exports=function(h,f){if(!i)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let p,m,g;function _(P){p=P}function b(P){m=P}function v(P){m.transColor=P}function x(P){m.palette=P}function D(){m.alpha=!0}function k(P){g=P}let C=[];function O(P){C.push(P)}let A=new a(h);if(new u(f,{read:A.read.bind(A),error:_,metadata:b,gamma:k,palette:x,transColor:v,inflateData:O,simpleTransparency:D}).start(),A.process(),p)throw p;let S,w=r.concat(C);if(C.length=0,m.interlace)S=o.inflateSync(w);else{let P=(1+(m.width*m.bpp*m.depth+7>>3))*m.height;S=s(w,{chunkSize:P,maxLength:P})}if(w=null,!S||!S.length)throw new Error("bad png - invalid inflate data response");let y=l.process(S,m);w=null;let z=c.dataToBitMap(y,m);y=null;let U=d(z,m,f.skipRescale);return m.data=U,m.gamma=g||0,m}}).call(this)}).call(this,e("buffer").Buffer)},{"./bitmapper":1,"./filter-parse-sync":8,"./format-normaliser":10,"./parser":18,"./sync-inflate":21,"./sync-reader":22,buffer:32,zlib:31}],18:[function(e,t,n){(function(r){(function(){let i=e("./constants"),o=e("./crc"),s=t.exports=function(a,l){this._options=a,a.checkCRC=a.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[i.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[i.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[i.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[i.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[i.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[i.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=l.read,this.error=l.error,this.metadata=l.metadata,this.gamma=l.gamma,this.transColor=l.transColor,this.palette=l.palette,this.parsed=l.parsed,this.inflateData=l.inflateData,this.finished=l.finished,this.simpleTransparency=l.simpleTransparency,this.headersFinished=l.headersFinished||function(){}};s.prototype.start=function(){this.read(i.PNG_SIGNATURE.length,this._parseSignature.bind(this))},s.prototype._parseSignature=function(a){let l=i.PNG_SIGNATURE;for(let u=0;u<l.length;u++)if(a[u]!==l[u])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},s.prototype._parseChunkBegin=function(a){let l=a.readUInt32BE(0),u=a.readUInt32BE(4),c="";for(let h=4;h<8;h++)c+=String.fromCharCode(a[h]);let d=!!(32&a[4]);if(this._hasIHDR||u===i.TYPE_IHDR){if(this._crc=new o,this._crc.write(r.from(c)),this._chunks[u])return this._chunks[u](l);d?this.read(l+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+c))}else this.error(new Error("Expected IHDR on beggining"))},s.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},s.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},s.prototype._parseChunkEnd=function(a){let l=a.readInt32BE(0),u=this._crc.crc32();this._options.checkCRC&&u!==l?this.error(new Error("Crc error - "+l+" - "+u)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},s.prototype._handleIHDR=function(a){this.read(a,this._parseIHDR.bind(this))},s.prototype._parseIHDR=function(a){this._crc.write(a);let l=a.readUInt32BE(0),u=a.readUInt32BE(4),c=a[8],d=a[9],h=a[10],f=a[11],p=a[12];if(c!==8&&c!==4&&c!==2&&c!==1&&c!==16)return void this.error(new Error("Unsupported bit depth "+c));if(!(d in i.COLORTYPE_TO_BPP_MAP))return void this.error(new Error("Unsupported color type"));if(h!==0)return void this.error(new Error("Unsupported compression method"));if(f!==0)return void this.error(new Error("Unsupported filter method"));if(p!==0&&p!==1)return void this.error(new Error("Unsupported interlace method"));this._colorType=d;let m=i.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:l,height:u,depth:c,interlace:!!p,palette:!!(d&i.COLORTYPE_PALETTE),color:!!(d&i.COLORTYPE_COLOR),alpha:!!(d&i.COLORTYPE_ALPHA),bpp:m,colorType:d}),this._handleChunkEnd()},s.prototype._handlePLTE=function(a){this.read(a,this._parsePLTE.bind(this))},s.prototype._parsePLTE=function(a){this._crc.write(a);let l=Math.floor(a.length/3);for(let u=0;u<l;u++)this._palette.push([a[3*u],a[3*u+1],a[3*u+2],255]);this.palette(this._palette),this._handleChunkEnd()},s.prototype._handleTRNS=function(a){this.simpleTransparency(),this.read(a,this._parseTRNS.bind(this))},s.prototype._parseTRNS=function(a){if(this._crc.write(a),this._colorType===i.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0)return void this.error(new Error("Transparency chunk must be after palette"));if(a.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(let l=0;l<a.length;l++)this._palette[l][3]=a[l];this.palette(this._palette)}this._colorType===i.COLORTYPE_GRAYSCALE&&this.transColor([a.readUInt16BE(0)]),this._colorType===i.COLORTYPE_COLOR&&this.transColor([a.readUInt16BE(0),a.readUInt16BE(2),a.readUInt16BE(4)]),this._handleChunkEnd()},s.prototype._handleGAMA=function(a){this.read(a,this._parseGAMA.bind(this))},s.prototype._parseGAMA=function(a){this._crc.write(a),this.gamma(a.readUInt32BE(0)/i.GAMMA_DIVISION),this._handleChunkEnd()},s.prototype._handleIDAT=function(a){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-a,this._parseIDAT.bind(this,a))},s.prototype._parseIDAT=function(a,l){if(this._crc.write(l),this._colorType===i.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(l);let u=a-l.length;u>0?this._handleIDAT(u):this._handleChunkEnd()},s.prototype._handleIEND=function(a){this.read(a,this._parseIEND.bind(this))},s.prototype._parseIEND=function(a){this._crc.write(a),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this)}).call(this,e("buffer").Buffer)},{"./constants":4,"./crc":5,buffer:32}],19:[function(e,t,n){let r=e("./parser-sync"),i=e("./packer-sync");n.read=function(o,s){return r(o,s||{})},n.write=function(o,s){return i(o,s)}},{"./packer-sync":13,"./parser-sync":17}],20:[function(e,t,n){(function(r,i){(function(){let o=e("util"),s=e("stream"),a=e("./parser-async"),l=e("./packer-async"),u=e("./png-sync"),c=n.PNG=function(d){s.call(this),d=d||{},this.width=0|d.width,this.height=0|d.height,this.data=this.width>0&&this.height>0?i.alloc(4*this.width*this.height):null,d.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new a(d),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(h){this.data=h,this.emit("parsed",h)}).bind(this)),this._packer=new l(d),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};o.inherits(c,s),c.sync=u,c.prototype.pack=function(){return this.data&&this.data.length?(r.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this):(this.emit("error","No data provided"),this)},c.prototype.parse=function(d,h){if(h){let f,p;f=(function(m){this.removeListener("error",p),this.data=m,h(null,this)}).bind(this),p=(function(m){this.removeListener("parsed",f),h(m,null)}).bind(this),this.once("parsed",f),this.once("error",p)}return this.end(d),this},c.prototype.write=function(d){return this._parser.write(d),!0},c.prototype.end=function(d){this._parser.end(d)},c.prototype._metadata=function(d){this.width=d.width,this.height=d.height,this.emit("metadata",d)},c.prototype._gamma=function(d){this.gamma=d},c.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},c.bitblt=function(d,h,f,p,m,g,_,b){if(p|=0,m|=0,g|=0,_|=0,b|=0,(f|=0)>d.width||p>d.height||f+m>d.width||p+g>d.height)throw new Error("bitblt reading outside image");if(_>h.width||b>h.height||_+m>h.width||b+g>h.height)throw new Error("bitblt writing outside image");for(let v=0;v<g;v++)d.data.copy(h.data,(b+v)*h.width+_<<2,(p+v)*d.width+f<<2,(p+v)*d.width+f+m<<2)},c.prototype.bitblt=function(d,h,f,p,m,g,_){return c.bitblt(this,d,h,f,p,m,g,_),this},c.adjustGamma=function(d){if(d.gamma){for(let h=0;h<d.height;h++)for(let f=0;f<d.width;f++){let p=d.width*h+f<<2;for(let m=0;m<3;m++){let g=d.data[p+m]/255;g=Math.pow(g,1/2.2/d.gamma),d.data[p+m]=Math.round(255*g)}}d.gamma=0}},c.prototype.adjustGamma=function(){c.adjustGamma(this)}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./packer-async":12,"./parser-async":16,"./png-sync":19,_process:63,buffer:32,stream:65,util:84}],21:[function(e,t,n){(function(r,i){(function(){let o=e("assert").ok,s=e("zlib"),a=e("util"),l=e("buffer").kMaxLength;function u(p){if(!(this instanceof u))return new u(p);p&&p.chunkSize<s.Z_MIN_CHUNK&&(p.chunkSize=s.Z_MIN_CHUNK),s.Inflate.call(this,p),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,p&&p.maxLength!=null&&(this._maxLength=p.maxLength)}function c(p){return new u(p)}function d(p,m){p._handle&&(p._handle.close(),p._handle=null)}function h(p,m){if(typeof m=="string"&&(m=i.from(m)),!(m instanceof i))throw new TypeError("Not a string or buffer");let g=p._finishFlushFlag;return g==null&&(g=s.Z_FINISH),p._processChunk(m,g)}function f(p,m){return h(new u(m),p)}u.prototype._processChunk=function(p,m,g){if(typeof g=="function")return s.Inflate._processChunk.call(this,p,m,g);let _,b,v=this,x=p&&p.length,D=this._chunkSize-this._offset,k=this._maxLength,C=0,O=[],A=0;function S(y,z){if(v._hadError)return;let U=D-z;if(o(U>=0,"have should not go down"),U>0){let P=v._buffer.slice(v._offset,v._offset+U);if(v._offset+=U,P.length>k&&(P=P.slice(0,k)),O.push(P),A+=P.length,k-=P.length,k===0)return!1}return(z===0||v._offset>=v._chunkSize)&&(D=v._chunkSize,v._offset=0,v._buffer=i.allocUnsafe(v._chunkSize)),z===0&&(C+=x-y,x=y,!0)}this.on("error",function(y){_=y}),o(this._handle,"zlib binding closed");do b=this._handle.writeSync(m,p,C,x,this._buffer,this._offset,D),b=b||this._writeState;while(!this._hadError&&S(b[0],b[1]));if(this._hadError)throw _;if(A>=l)throw d(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes");let w=i.concat(O,A);return d(this),w},a.inherits(u,s.Inflate),t.exports=n=f,n.Inflate=u,n.createInflate=c,n.inflateSync=f}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,assert:23,buffer:32,util:84,zlib:31}],22:[function(e,t,n){let r=t.exports=function(i){this._buffer=i,this._reads=[]};r.prototype.read=function(i,o){this._reads.push({length:Math.abs(i),allowLess:i<0,func:o})},r.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let i=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=i.length||i.allowLess))break;{this._reads.shift();let o=this._buffer;this._buffer=o.slice(i.length),i.func.call(this,o.slice(0,i.length))}}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}},{}],23:[function(e,t,n){(function(r){(function(){var i=e("object-assign");function o(U,P){if(U===P)return 0;for(var V=U.length,Z=P.length,Y=0,H=Math.min(V,Z);Y<H;++Y)if(U[Y]!==P[Y]){V=U[Y],Z=P[Y];break}return V<Z?-1:Z<V?1:0}function s(U){return r.Buffer&&typeof r.Buffer.isBuffer=="function"?r.Buffer.isBuffer(U):!(U==null||!U._isBuffer)}var a=e("util/"),l=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c=(function(){}).name==="foo";function d(U){return Object.prototype.toString.call(U)}function h(U){return!s(U)&&typeof r.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(U):!!U&&(U instanceof DataView||!!(U.buffer&&U.buffer instanceof ArrayBuffer)))}var f=t.exports=x,p=/\s*function\s+([^\(\s]*)\s*/;function m(U){if(a.isFunction(U)){if(c)return U.name;var P=U.toString().match(p);return P&&P[1]}}function g(U,P){return typeof U=="string"?U.length<P?U:U.slice(0,P):U}function _(U){if(c||!a.isFunction(U))return a.inspect(U);var P=m(U);return"[Function"+(P?": "+P:"")+"]"}function b(U){return g(_(U.actual),128)+" "+U.operator+" "+g(_(U.expected),128)}function v(U,P,V,Z,Y){throw new f.AssertionError({message:V,actual:U,expected:P,operator:Z,stackStartFunction:Y})}function x(U,P){U||v(U,!0,P,"==",f.ok)}function D(U,P,V,Z){if(U===P)return!0;if(s(U)&&s(P))return o(U,P)===0;if(a.isDate(U)&&a.isDate(P))return U.getTime()===P.getTime();if(a.isRegExp(U)&&a.isRegExp(P))return U.source===P.source&&U.global===P.global&&U.multiline===P.multiline&&U.lastIndex===P.lastIndex&&U.ignoreCase===P.ignoreCase;if(U!==null&&typeof U=="object"||P!==null&&typeof P=="object"){if(h(U)&&h(P)&&d(U)===d(P)&&!(U instanceof Float32Array||U instanceof Float64Array))return o(new Uint8Array(U.buffer),new Uint8Array(P.buffer))===0;if(s(U)!==s(P))return!1;var Y=(Z=Z||{actual:[],expected:[]}).actual.indexOf(U);return Y!==-1&&Y===Z.expected.indexOf(P)||(Z.actual.push(U),Z.expected.push(P),C(U,P,V,Z))}return V?U===P:U==P}function k(U){return Object.prototype.toString.call(U)=="[object Arguments]"}function C(U,P,V,Z){if(U==null||P==null)return!1;if(a.isPrimitive(U)||a.isPrimitive(P))return U===P;if(V&&Object.getPrototypeOf(U)!==Object.getPrototypeOf(P))return!1;var Y=k(U),H=k(P);if(Y&&!H||!Y&&H)return!1;if(Y)return D(U=u.call(U),P=u.call(P),V);var q,W,Q=z(U),ee=z(P);if(Q.length!==ee.length)return!1;for(Q.sort(),ee.sort(),W=Q.length-1;W>=0;W--)if(Q[W]!==ee[W])return!1;for(W=Q.length-1;W>=0;W--)if(!D(U[q=Q[W]],P[q],V,Z))return!1;return!0}function O(U,P,V){D(U,P,!0)&&v(U,P,V,"notDeepStrictEqual",O)}function A(U,P){if(!U||!P)return!1;if(Object.prototype.toString.call(P)=="[object RegExp]")return P.test(U);try{if(U instanceof P)return!0}catch{}return!Error.isPrototypeOf(P)&&P.call({},U)===!0}function S(U){var P;try{U()}catch(V){P=V}return P}function w(U,P,V,Z){var Y;if(typeof P!="function")throw new TypeError('"block" argument must be a function');typeof V=="string"&&(Z=V,V=null),Y=S(P),Z=(V&&V.name?" ("+V.name+").":".")+(Z?" "+Z:"."),U&&!Y&&v(Y,V,"Missing expected exception"+Z);var H=typeof Z=="string",q=!U&&Y&&!V;if((!U&&a.isError(Y)&&H&&A(Y,V)||q)&&v(Y,V,"Got unwanted exception"+Z),U&&Y&&V&&!A(Y,V)||!U&&Y)throw Y}function y(U,P){U||v(U,!0,P,"==",y)}f.AssertionError=function(U){this.name="AssertionError",this.actual=U.actual,this.expected=U.expected,this.operator=U.operator,U.message?(this.message=U.message,this.generatedMessage=!1):(this.message=b(this),this.generatedMessage=!0);var P=U.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var V=new Error;if(V.stack){var Z=V.stack,Y=m(P),H=Z.indexOf(`
`+Y);if(H>=0){var q=Z.indexOf(`
`,H+1);Z=Z.substring(q+1)}this.stack=Z}}},a.inherits(f.AssertionError,Error),f.fail=v,f.ok=x,f.equal=function(U,P,V){U!=P&&v(U,P,V,"==",f.equal)},f.notEqual=function(U,P,V){U==P&&v(U,P,V,"!=",f.notEqual)},f.deepEqual=function(U,P,V){D(U,P,!1)||v(U,P,V,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(U,P,V){D(U,P,!0)||v(U,P,V,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(U,P,V){D(U,P,!1)&&v(U,P,V,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=O,f.strictEqual=function(U,P,V){U!==P&&v(U,P,V,"===",f.strictEqual)},f.notStrictEqual=function(U,P,V){U===P&&v(U,P,V,"!==",f.notStrictEqual)},f.throws=function(U,P,V){w(!0,U,P,V)},f.doesNotThrow=function(U,P,V){w(!1,U,P,V)},f.ifError=function(U){if(U)throw U},f.strict=i(y,f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var z=Object.keys||function(U){var P=[];for(var V in U)l.call(U,V)&&P.push(V);return P}}).call(this)}).call(this,gn!==void 0?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"object-assign":51,"util/":26}],24:[function(e,t,n){typeof Object.create=="function"?t.exports=function(r,i){r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,i){r.super_=i;var o=function(){};o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}},{}],25:[function(e,t,n){t.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}},{}],26:[function(e,t,n){(function(r,i){(function(){var o=/%[sdj%]/g;n.format=function(W){if(!C(W)){for(var Q=[],ee=0;ee<arguments.length;ee++)Q.push(l(arguments[ee]));return Q.join(" ")}ee=1;for(var ne=arguments,J=ne.length,X=String(W).replace(o,function(le){if(le==="%%")return"%";if(ee>=J)return le;switch(le){case"%s":return String(ne[ee++]);case"%d":return Number(ne[ee++]);case"%j":try{return JSON.stringify(ne[ee++])}catch{return"[Circular]"}default:return le}}),ie=ne[ee];ee<J;ie=ne[++ee])x(ie)||!w(ie)?X+=" "+ie:X+=" "+l(ie);return X},n.deprecate=function(W,Q){if(A(i.process))return function(){return n.deprecate(W,Q).apply(this,arguments)};if(r.noDeprecation===!0)return W;var ee=!1;function ne(){if(!ee){if(r.throwDeprecation)throw new Error(Q);r.traceDeprecation?console.trace(Q):console.error(Q),ee=!0}return W.apply(this,arguments)}return ne};var s,a={};function l(W,Q){var ee={seen:[],stylize:c};return arguments.length>=3&&(ee.depth=arguments[2]),arguments.length>=4&&(ee.colors=arguments[3]),v(Q)?ee.showHidden=Q:Q&&n._extend(ee,Q),A(ee.showHidden)&&(ee.showHidden=!1),A(ee.depth)&&(ee.depth=2),A(ee.colors)&&(ee.colors=!1),A(ee.customInspect)&&(ee.customInspect=!0),ee.colors&&(ee.stylize=u),h(ee,W,ee.depth)}function u(W,Q){var ee=l.styles[Q];return ee?"\x1B["+l.colors[ee][0]+"m"+W+"\x1B["+l.colors[ee][1]+"m":W}function c(W,Q){return W}function d(W){var Q={};return W.forEach(function(ee,ne){Q[ee]=!0}),Q}function h(W,Q,ee){if(W.customInspect&&Q&&U(Q.inspect)&&Q.inspect!==n.inspect&&(!Q.constructor||Q.constructor.prototype!==Q)){var ne=Q.inspect(ee,W);return C(ne)||(ne=h(W,ne,ee)),ne}var J=f(W,Q);if(J)return J;var X=Object.keys(Q),ie=d(X);if(W.showHidden&&(X=Object.getOwnPropertyNames(Q)),z(Q)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return p(Q);if(X.length===0){if(U(Q)){var le=Q.name?": "+Q.name:"";return W.stylize("[Function"+le+"]","special")}if(S(Q))return W.stylize(RegExp.prototype.toString.call(Q),"regexp");if(y(Q))return W.stylize(Date.prototype.toString.call(Q),"date");if(z(Q))return p(Q)}var ue,te="",T=!1,I=["{","}"];return b(Q)&&(T=!0,I=["[","]"]),U(Q)&&(te=" [Function"+(Q.name?": "+Q.name:"")+"]"),S(Q)&&(te=" "+RegExp.prototype.toString.call(Q)),y(Q)&&(te=" "+Date.prototype.toUTCString.call(Q)),z(Q)&&(te=" "+p(Q)),X.length!==0||T&&Q.length!=0?ee<0?S(Q)?W.stylize(RegExp.prototype.toString.call(Q),"regexp"):W.stylize("[Object]","special"):(W.seen.push(Q),ue=T?m(W,Q,ee,ie,X):X.map(function(B){return g(W,Q,ee,ie,B,T)}),W.seen.pop(),_(ue,te,I)):I[0]+te+I[1]}function f(W,Q){if(A(Q))return W.stylize("undefined","undefined");if(C(Q)){var ee="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(ee,"string")}return k(Q)?W.stylize(""+Q,"number"):v(Q)?W.stylize(""+Q,"boolean"):x(Q)?W.stylize("null","null"):void 0}function p(W){return"["+Error.prototype.toString.call(W)+"]"}function m(W,Q,ee,ne,J){for(var X=[],ie=0,le=Q.length;ie<le;++ie)q(Q,String(ie))?X.push(g(W,Q,ee,ne,String(ie),!0)):X.push("");return J.forEach(function(ue){ue.match(/^\d+$/)||X.push(g(W,Q,ee,ne,ue,!0))}),X}function g(W,Q,ee,ne,J,X){var ie,le,ue;if((ue=Object.getOwnPropertyDescriptor(Q,J)||{value:Q[J]}).get?le=ue.set?W.stylize("[Getter/Setter]","special"):W.stylize("[Getter]","special"):ue.set&&(le=W.stylize("[Setter]","special")),q(ne,J)||(ie="["+J+"]"),le||(W.seen.indexOf(ue.value)<0?(le=x(ee)?h(W,ue.value,null):h(W,ue.value,ee-1)).indexOf(`
`)>-1&&(le=X?le.split(`
`).map(function(te){return"  "+te}).join(`
`).substr(2):`
`+le.split(`
`).map(function(te){return"   "+te}).join(`
`)):le=W.stylize("[Circular]","special")),A(ie)){if(X&&J.match(/^\d+$/))return le;(ie=JSON.stringify(""+J)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ie=ie.substr(1,ie.length-2),ie=W.stylize(ie,"name")):(ie=ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ie=W.stylize(ie,"string"))}return ie+": "+le}function _(W,Q,ee){return W.reduce(function(ne,J){return J.indexOf(`
`),ne+J.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ee[0]+(Q===""?"":Q+`
 `)+" "+W.join(`,
  `)+" "+ee[1]:ee[0]+Q+" "+W.join(", ")+" "+ee[1]}function b(W){return Array.isArray(W)}function v(W){return typeof W=="boolean"}function x(W){return W===null}function D(W){return W==null}function k(W){return typeof W=="number"}function C(W){return typeof W=="string"}function O(W){return typeof W=="symbol"}function A(W){return W===void 0}function S(W){return w(W)&&V(W)==="[object RegExp]"}function w(W){return typeof W=="object"&&W!==null}function y(W){return w(W)&&V(W)==="[object Date]"}function z(W){return w(W)&&(V(W)==="[object Error]"||W instanceof Error)}function U(W){return typeof W=="function"}function P(W){return W===null||typeof W=="boolean"||typeof W=="number"||typeof W=="string"||typeof W=="symbol"||W===void 0}function V(W){return Object.prototype.toString.call(W)}function Z(W){return W<10?"0"+W.toString(10):W.toString(10)}n.debuglog=function(W){if(A(s)&&(s=r.env.NODE_DEBUG||""),W=W.toUpperCase(),!a[W])if(new RegExp("\\b"+W+"\\b","i").test(s)){var Q=r.pid;a[W]=function(){var ee=n.format.apply(n,arguments);console.error("%s %d: %s",W,Q,ee)}}else a[W]=function(){};return a[W]},n.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=b,n.isBoolean=v,n.isNull=x,n.isNullOrUndefined=D,n.isNumber=k,n.isString=C,n.isSymbol=O,n.isUndefined=A,n.isRegExp=S,n.isObject=w,n.isDate=y,n.isError=z,n.isFunction=U,n.isPrimitive=P,n.isBuffer=e("./support/isBuffer");var Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var W=new Date,Q=[Z(W.getHours()),Z(W.getMinutes()),Z(W.getSeconds())].join(":");return[W.getDate(),Y[W.getMonth()],Q].join(" ")}function q(W,Q){return Object.prototype.hasOwnProperty.call(W,Q)}n.log=function(){console.log("%s - %s",H(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(W,Q){if(!Q||!w(Q))return W;for(var ee=Object.keys(Q),ne=ee.length;ne--;)W[ee[ne]]=Q[ee[ne]];return W}}).call(this)}).call(this,e("_process"),gn!==void 0?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":25,_process:63,inherits:24}],27:[function(e,t,n){(function(r){(function(){var i=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o=typeof globalThis>"u"?r:globalThis;t.exports=function(){for(var s=[],a=0;a<i.length;a++)typeof o[i[a]]=="function"&&(s[s.length]=i[a]);return s}}).call(this)}).call(this,gn!==void 0?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],28:[function(e,t,n){n.byteLength=c,n.toByteArray=h,n.fromByteArray=m;for(var r=[],i=[],o=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(g){var _=g.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=g.indexOf("=");return b===-1&&(b=_),[b,b===_?0:4-b%4]}function c(g){var _=u(g),b=_[0],v=_[1];return 3*(b+v)/4-v}function d(g,_,b){return 3*(_+b)/4-b}function h(g){var _,b,v=u(g),x=v[0],D=v[1],k=new o(d(g,x,D)),C=0,O=D>0?x-4:x;for(b=0;b<O;b+=4)_=i[g.charCodeAt(b)]<<18|i[g.charCodeAt(b+1)]<<12|i[g.charCodeAt(b+2)]<<6|i[g.charCodeAt(b+3)],k[C++]=_>>16&255,k[C++]=_>>8&255,k[C++]=255&_;return D===2&&(_=i[g.charCodeAt(b)]<<2|i[g.charCodeAt(b+1)]>>4,k[C++]=255&_),D===1&&(_=i[g.charCodeAt(b)]<<10|i[g.charCodeAt(b+1)]<<4|i[g.charCodeAt(b+2)]>>2,k[C++]=_>>8&255,k[C++]=255&_),k}function f(g){return r[g>>18&63]+r[g>>12&63]+r[g>>6&63]+r[63&g]}function p(g,_,b){for(var v,x=[],D=_;D<b;D+=3)v=(g[D]<<16&16711680)+(g[D+1]<<8&65280)+(255&g[D+2]),x.push(f(v));return x.join("")}function m(g){for(var _,b=g.length,v=b%3,x=[],D=16383,k=0,C=b-v;k<C;k+=D)x.push(p(g,k,k+D>C?C:k+D));return v===1?(_=g[b-1],x.push(r[_>>2]+r[_<<4&63]+"==")):v===2&&(_=(g[b-2]<<8)+g[b-1],x.push(r[_>>10]+r[_>>4&63]+r[_<<2&63]+"=")),x.join("")}i[45]=62,i[95]=63},{}],29:[function(e,t,n){},{}],30:[function(e,t,n){(function(r,i){(function(){var o=e("assert"),s=e("pako/lib/zlib/zstream"),a=e("pako/lib/zlib/deflate.js"),l=e("pako/lib/zlib/inflate.js"),u=e("pako/lib/zlib/constants");for(var c in u)n[c]=u[c];n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7;var d=31,h=139;function f(p){if(typeof p!="number"||p<n.DEFLATE||p>n.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=p,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}f.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,o(this.init_done,"close before init"),o(this.mode<=n.UNZIP),this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==n.INFLATE&&this.mode!==n.GUNZIP&&this.mode!==n.INFLATERAW&&this.mode!==n.UNZIP||l.inflateEnd(this.strm),this.mode=n.NONE,this.dictionary=null)},f.prototype.write=function(p,m,g,_,b,v,x){return this._write(!0,p,m,g,_,b,v,x)},f.prototype.writeSync=function(p,m,g,_,b,v,x){return this._write(!1,p,m,g,_,b,v,x)},f.prototype._write=function(p,m,g,_,b,v,x,D){if(o.equal(arguments.length,8),o(this.init_done,"write before init"),o(this.mode!==n.NONE,"already finalized"),o.equal(!1,this.write_in_progress,"write already in progress"),o.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,o.equal(!1,m===void 0,"must provide flush value"),this.write_in_progress=!0,m!==n.Z_NO_FLUSH&&m!==n.Z_PARTIAL_FLUSH&&m!==n.Z_SYNC_FLUSH&&m!==n.Z_FULL_FLUSH&&m!==n.Z_FINISH&&m!==n.Z_BLOCK)throw new Error("Invalid flush value");if(g==null&&(g=i.alloc(0),b=0,_=0),this.strm.avail_in=b,this.strm.input=g,this.strm.next_in=_,this.strm.avail_out=D,this.strm.output=v,this.strm.next_out=x,this.flush=m,!p)return this._process(),this._checkError()?this._afterSync():void 0;var k=this;return r.nextTick(function(){k._process(),k._after()}),this},f.prototype._afterSync=function(){var p=this.strm.avail_out,m=this.strm.avail_in;return this.write_in_progress=!1,[m,p]},f.prototype._process=function(){var p=null;switch(this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case n.UNZIP:switch(this.strm.avail_in>0&&(p=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(p===null)break;if(this.strm.input[p]!==d){this.mode=n.INFLATE;break}if(this.gzip_id_bytes_read=1,p++,this.strm.avail_in===1)break;case 1:if(p===null)break;this.strm.input[p]===h?(this.gzip_id_bytes_read=2,this.mode=n.GUNZIP):this.mode=n.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:for(this.err=l.inflate(this.strm,this.flush),this.err===n.Z_NEED_DICT&&this.dictionary&&(this.err=l.inflateSetDictionary(this.strm,this.dictionary),this.err===n.Z_OK?this.err=l.inflate(this.strm,this.flush):this.err===n.Z_DATA_ERROR&&(this.err=n.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===n.GUNZIP&&this.err===n.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=l.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},f.prototype._checkError=function(){switch(this.err){case n.Z_OK:case n.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===n.Z_FINISH)return this._error("unexpected end of file"),!1;break;case n.Z_STREAM_END:break;case n.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},f.prototype._after=function(){if(this._checkError()){var p=this.strm.avail_out,m=this.strm.avail_in;this.write_in_progress=!1,this.callback(m,p),this.pending_close&&this.close()}},f.prototype._error=function(p){this.strm.msg&&(p=this.strm.msg),this.onerror(p,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},f.prototype.init=function(p,m,g,_,b){o(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),o(p>=8&&p<=15,"invalid windowBits"),o(m>=-1&&m<=9,"invalid compression level"),o(g>=1&&g<=9,"invalid memlevel"),o(_===n.Z_FILTERED||_===n.Z_HUFFMAN_ONLY||_===n.Z_RLE||_===n.Z_FIXED||_===n.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(m,p,g,_,b),this._setDictionary()},f.prototype.params=function(){throw new Error("deflateParams Not supported")},f.prototype.reset=function(){this._reset(),this._setDictionary()},f.prototype._init=function(p,m,g,_,b){switch(this.level=p,this.windowBits=m,this.memLevel=g,this.strategy=_,this.flush=n.Z_NO_FLUSH,this.err=n.Z_OK,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new s,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:this.err=l.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==n.Z_OK&&this._error("Init error"),this.dictionary=b,this.write_in_progress=!1,this.init_done=!0},f.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==n.Z_OK&&this._error("Failed to set dictionary")}},f.prototype._reset=function(){switch(this.err=n.Z_OK,this.mode){case n.DEFLATE:case n.DEFLATERAW:case n.GZIP:this.err=a.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:case n.GUNZIP:this.err=l.inflateReset(this.strm)}this.err!==n.Z_OK&&this._error("Failed to reset stream")},n.Zlib=f}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{_process:63,assert:23,buffer:32,"pako/lib/zlib/constants":54,"pako/lib/zlib/deflate.js":56,"pako/lib/zlib/inflate.js":58,"pako/lib/zlib/zstream":62}],31:[function(e,t,n){(function(r){(function(){var i=e("buffer").Buffer,o=e("stream").Transform,s=e("./binding"),a=e("util"),l=e("assert").ok,u=e("buffer").kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";s.Z_MIN_WINDOWBITS=8,s.Z_MAX_WINDOWBITS=15,s.Z_DEFAULT_WINDOWBITS=15,s.Z_MIN_CHUNK=64,s.Z_MAX_CHUNK=1/0,s.Z_DEFAULT_CHUNK=16384,s.Z_MIN_MEMLEVEL=1,s.Z_MAX_MEMLEVEL=9,s.Z_DEFAULT_MEMLEVEL=8,s.Z_MIN_LEVEL=-1,s.Z_MAX_LEVEL=9,s.Z_DEFAULT_LEVEL=s.Z_DEFAULT_COMPRESSION;for(var d=Object.keys(s),h=0;h<d.length;h++){var f=d[h];f.match(/^Z/)&&Object.defineProperty(n,f,{enumerable:!0,value:s[f],writable:!1})}for(var p={Z_OK:s.Z_OK,Z_STREAM_END:s.Z_STREAM_END,Z_NEED_DICT:s.Z_NEED_DICT,Z_ERRNO:s.Z_ERRNO,Z_STREAM_ERROR:s.Z_STREAM_ERROR,Z_DATA_ERROR:s.Z_DATA_ERROR,Z_MEM_ERROR:s.Z_MEM_ERROR,Z_BUF_ERROR:s.Z_BUF_ERROR,Z_VERSION_ERROR:s.Z_VERSION_ERROR},m=Object.keys(p),g=0;g<m.length;g++){var _=m[g];p[p[_]]=_}function b(P,V,Z){var Y=[],H=0;function q(){for(var ee;(ee=P.read())!==null;)Y.push(ee),H+=ee.length;P.once("readable",q)}function W(ee){P.removeListener("end",Q),P.removeListener("readable",q),Z(ee)}function Q(){var ee,ne=null;H>=u?ne=new RangeError(c):ee=i.concat(Y,H),Y=[],P.close(),Z(ne,ee)}P.on("error",W),P.on("end",Q),P.end(V),q()}function v(P,V){if(typeof V=="string"&&(V=i.from(V)),!i.isBuffer(V))throw new TypeError("Not a string or buffer");var Z=P._finishFlushFlag;return P._processChunk(V,Z)}function x(P){if(!(this instanceof x))return new x(P);y.call(this,P,s.DEFLATE)}function D(P){if(!(this instanceof D))return new D(P);y.call(this,P,s.INFLATE)}function k(P){if(!(this instanceof k))return new k(P);y.call(this,P,s.GZIP)}function C(P){if(!(this instanceof C))return new C(P);y.call(this,P,s.GUNZIP)}function O(P){if(!(this instanceof O))return new O(P);y.call(this,P,s.DEFLATERAW)}function A(P){if(!(this instanceof A))return new A(P);y.call(this,P,s.INFLATERAW)}function S(P){if(!(this instanceof S))return new S(P);y.call(this,P,s.UNZIP)}function w(P){return P===s.Z_NO_FLUSH||P===s.Z_PARTIAL_FLUSH||P===s.Z_SYNC_FLUSH||P===s.Z_FULL_FLUSH||P===s.Z_FINISH||P===s.Z_BLOCK}function y(P,V){var Z=this;if(this._opts=P=P||{},this._chunkSize=P.chunkSize||n.Z_DEFAULT_CHUNK,o.call(this,P),P.flush&&!w(P.flush))throw new Error("Invalid flush flag: "+P.flush);if(P.finishFlush&&!w(P.finishFlush))throw new Error("Invalid flush flag: "+P.finishFlush);if(this._flushFlag=P.flush||s.Z_NO_FLUSH,this._finishFlushFlag=P.finishFlush!==void 0?P.finishFlush:s.Z_FINISH,P.chunkSize&&(P.chunkSize<n.Z_MIN_CHUNK||P.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+P.chunkSize);if(P.windowBits&&(P.windowBits<n.Z_MIN_WINDOWBITS||P.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+P.windowBits);if(P.level&&(P.level<n.Z_MIN_LEVEL||P.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+P.level);if(P.memLevel&&(P.memLevel<n.Z_MIN_MEMLEVEL||P.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+P.memLevel);if(P.strategy&&P.strategy!=n.Z_FILTERED&&P.strategy!=n.Z_HUFFMAN_ONLY&&P.strategy!=n.Z_RLE&&P.strategy!=n.Z_FIXED&&P.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+P.strategy);if(P.dictionary&&!i.isBuffer(P.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new s.Zlib(V);var Y=this;this._hadError=!1,this._handle.onerror=function(W,Q){z(Y),Y._hadError=!0;var ee=new Error(W);ee.errno=Q,ee.code=n.codes[Q],Y.emit("error",ee)};var H=n.Z_DEFAULT_COMPRESSION;typeof P.level=="number"&&(H=P.level);var q=n.Z_DEFAULT_STRATEGY;typeof P.strategy=="number"&&(q=P.strategy),this._handle.init(P.windowBits||n.Z_DEFAULT_WINDOWBITS,H,P.memLevel||n.Z_DEFAULT_MEMLEVEL,q,P.dictionary),this._buffer=i.allocUnsafe(this._chunkSize),this._offset=0,this._level=H,this._strategy=q,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Z._handle},configurable:!0,enumerable:!0})}function z(P,V){V&&r.nextTick(V),P._handle&&(P._handle.close(),P._handle=null)}function U(P){P.emit("close")}Object.defineProperty(n,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),n.Deflate=x,n.Inflate=D,n.Gzip=k,n.Gunzip=C,n.DeflateRaw=O,n.InflateRaw=A,n.Unzip=S,n.createDeflate=function(P){return new x(P)},n.createInflate=function(P){return new D(P)},n.createDeflateRaw=function(P){return new O(P)},n.createInflateRaw=function(P){return new A(P)},n.createGzip=function(P){return new k(P)},n.createGunzip=function(P){return new C(P)},n.createUnzip=function(P){return new S(P)},n.deflate=function(P,V,Z){return typeof V=="function"&&(Z=V,V={}),b(new x(V),P,Z)},n.deflateSync=function(P,V){return v(new x(V),P)},n.gzip=function(P,V,Z){return typeof V=="function"&&(Z=V,V={}),b(new k(V),P,Z)},n.gzipSync=function(P,V){return v(new k(V),P)},n.deflateRaw=function(P,V,Z){return typeof V=="function"&&(Z=V,V={}),b(new O(V),P,Z)},n.deflateRawSync=function(P,V){return v(new O(V),P)},n.unzip=function(P,V,Z){return typeof V=="function"&&(Z=V,V={}),b(new S(V),P,Z)},n.unzipSync=function(P,V){return v(new S(V),P)},n.inflate=function(P,V,Z){return typeof V=="function"&&(Z=V,V={}),b(new D(V),P,Z)},n.inflateSync=function(P,V){return v(new D(V),P)},n.gunzip=function(P,V,Z){return typeof V=="function"&&(Z=V,V={}),b(new C(V),P,Z)},n.gunzipSync=function(P,V){return v(new C(V),P)},n.inflateRaw=function(P,V,Z){return typeof V=="function"&&(Z=V,V={}),b(new A(V),P,Z)},n.inflateRawSync=function(P,V){return v(new A(V),P)},a.inherits(y,o),y.prototype.params=function(P,V,Z){if(P<n.Z_MIN_LEVEL||P>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+P);if(V!=n.Z_FILTERED&&V!=n.Z_HUFFMAN_ONLY&&V!=n.Z_RLE&&V!=n.Z_FIXED&&V!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+V);if(this._level!==P||this._strategy!==V){var Y=this;this.flush(s.Z_SYNC_FLUSH,function(){l(Y._handle,"zlib binding closed"),Y._handle.params(P,V),Y._hadError||(Y._level=P,Y._strategy=V,Z&&Z())})}else r.nextTick(Z)},y.prototype.reset=function(){return l(this._handle,"zlib binding closed"),this._handle.reset()},y.prototype._flush=function(P){this._transform(i.alloc(0),"",P)},y.prototype.flush=function(P,V){var Z=this,Y=this._writableState;(typeof P=="function"||P===void 0&&!V)&&(V=P,P=s.Z_FULL_FLUSH),Y.ended?V&&r.nextTick(V):Y.ending?V&&this.once("end",V):Y.needDrain?V&&this.once("drain",function(){return Z.flush(P,V)}):(this._flushFlag=P,this.write(i.alloc(0),"",V))},y.prototype.close=function(P){z(this,P),r.nextTick(U,this)},y.prototype._transform=function(P,V,Z){var Y,H=this._writableState,q=(H.ending||H.ended)&&(!P||H.length===P.length);return P===null||i.isBuffer(P)?this._handle?(q?Y=this._finishFlushFlag:(Y=this._flushFlag,P.length>=H.length&&(this._flushFlag=this._opts.flush||s.Z_NO_FLUSH)),void this._processChunk(P,Y,Z)):Z(new Error("zlib binding closed")):Z(new Error("invalid input"))},y.prototype._processChunk=function(P,V,Z){var Y=P&&P.length,H=this._chunkSize-this._offset,q=0,W=this,Q=typeof Z=="function";if(!Q){var ee,ne=[],J=0;this.on("error",function(te){ee=te}),l(this._handle,"zlib binding closed");do var X=this._handle.writeSync(V,P,q,Y,this._buffer,this._offset,H);while(!this._hadError&&ue(X[0],X[1]));if(this._hadError)throw ee;if(J>=u)throw z(this),new RangeError(c);var ie=i.concat(ne,J);return z(this),ie}l(this._handle,"zlib binding closed");var le=this._handle.write(V,P,q,Y,this._buffer,this._offset,H);function ue(te,T){if(this&&(this.buffer=null,this.callback=null),!W._hadError){var I=H-T;if(l(I>=0,"have should not go down"),I>0){var B=W._buffer.slice(W._offset,W._offset+I);W._offset+=I,Q?W.push(B):(ne.push(B),J+=B.length)}if((T===0||W._offset>=W._chunkSize)&&(H=W._chunkSize,W._offset=0,W._buffer=i.allocUnsafe(W._chunkSize)),T===0){if(q+=Y-te,Y=te,!Q)return!0;var L=W._handle.write(V,P,q,Y,W._buffer,W._offset,W._chunkSize);return L.callback=ue,void(L.buffer=P)}if(!Q)return!1;Z()}}le.buffer=P,le.callback=ue},a.inherits(x,y),a.inherits(D,y),a.inherits(k,y),a.inherits(C,y),a.inherits(O,y),a.inherits(A,y),a.inherits(S,y)}).call(this)}).call(this,e("_process"))},{"./binding":30,_process:63,assert:23,buffer:32,stream:65,util:84}],32:[function(e,t,n){(function(r){(function(){var i=e("base64-js"),o=e("ieee754");n.Buffer=u,n.SlowBuffer=v,n.INSPECT_MAX_BYTES=50;var s=2147483647;function a(){try{var E=new Uint8Array(1);return E.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},E.foo()===42}catch{return!1}}function l(E){if(E>s)throw new RangeError('The value "'+E+'" is invalid for option "size"');var N=new Uint8Array(E);return N.__proto__=u.prototype,N}function u(E,N,F){if(typeof E=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(E)}return c(E,N,F)}function c(E,N,F){if(typeof E=="string")return p(E,N);if(ArrayBuffer.isView(E))return m(E);if(E==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(R(E,ArrayBuffer)||E&&R(E.buffer,ArrayBuffer))return g(E,N,F);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var $=E.valueOf&&E.valueOf();if($!=null&&$!==E)return u.from($,N,F);var oe=_(E);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return u.from(E[Symbol.toPrimitive]("string"),N,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}function d(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function h(E,N,F){return d(E),E<=0?l(E):N!==void 0?typeof F=="string"?l(E).fill(N,F):l(E).fill(N):l(E)}function f(E){return d(E),l(E<0?0:0|b(E))}function p(E,N){if(typeof N=="string"&&N!==""||(N="utf8"),!u.isEncoding(N))throw new TypeError("Unknown encoding: "+N);var F=0|x(E,N),$=l(F),oe=$.write(E,N);return oe!==F&&($=$.slice(0,oe)),$}function m(E){for(var N=E.length<0?0:0|b(E.length),F=l(N),$=0;$<N;$+=1)F[$]=255&E[$];return F}function g(E,N,F){if(N<0||E.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<N+(F||0))throw new RangeError('"length" is outside of buffer bounds');var $;return($=N===void 0&&F===void 0?new Uint8Array(E):F===void 0?new Uint8Array(E,N):new Uint8Array(E,N,F)).__proto__=u.prototype,$}function _(E){if(u.isBuffer(E)){var N=0|b(E.length),F=l(N);return F.length===0||E.copy(F,0,0,N),F}return E.length!==void 0?typeof E.length!="number"||G(E.length)?l(0):m(E):E.type==="Buffer"&&Array.isArray(E.data)?m(E.data):void 0}function b(E){if(E>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|E}function v(E){return+E!=E&&(E=0),u.alloc(+E)}function x(E,N){if(u.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||R(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);var F=E.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&F===0)return 0;for(var oe=!1;;)switch(N){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return T(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*F;case"hex":return F>>>1;case"base64":return L(E).length;default:if(oe)return $?-1:T(E).length;N=(""+N).toLowerCase(),oe=!0}}function D(E,N,F){var $=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0)<=(N>>>=0))return"";for(E||(E="utf8");;)switch(E){case"hex":return W(this,N,F);case"utf8":case"utf-8":return V(this,N,F);case"ascii":return H(this,N,F);case"latin1":case"binary":return q(this,N,F);case"base64":return P(this,N,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,N,F);default:if($)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),$=!0}}function k(E,N,F){var $=E[N];E[N]=E[F],E[F]=$}function C(E,N,F,$,oe){if(E.length===0)return-1;if(typeof F=="string"?($=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),G(F=+F)&&(F=oe?0:E.length-1),F<0&&(F=E.length+F),F>=E.length){if(oe)return-1;F=E.length-1}else if(F<0){if(!oe)return-1;F=0}if(typeof N=="string"&&(N=u.from(N,$)),u.isBuffer(N))return N.length===0?-1:O(E,N,F,$,oe);if(typeof N=="number")return N&=255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(E,N,F):Uint8Array.prototype.lastIndexOf.call(E,N,F):O(E,[N],F,$,oe);throw new TypeError("val must be string, number or Buffer")}function O(E,N,F,$,oe){var se,pe=1,De=E.length,ge=N.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(E.length<2||N.length<2)return-1;pe=2,De/=2,ge/=2,F/=2}function Se(Te,Je){return pe===1?Te[Je]:Te.readUInt16BE(Je*pe)}if(oe){var Ce=-1;for(se=F;se<De;se++)if(Se(E,se)===Se(N,Ce===-1?0:se-Ce)){if(Ce===-1&&(Ce=se),se-Ce+1===ge)return Ce*pe}else Ce!==-1&&(se-=se-Ce),Ce=-1}else for(F+ge>De&&(F=De-ge),se=F;se>=0;se--){for(var je=!0,Ue=0;Ue<ge;Ue++)if(Se(E,se+Ue)!==Se(N,Ue)){je=!1;break}if(je)return se}return-1}function A(E,N,F,$){F=Number(F)||0;var oe=E.length-F;$?($=Number($))>oe&&($=oe):$=oe;var se=N.length;$>se/2&&($=se/2);for(var pe=0;pe<$;++pe){var De=parseInt(N.substr(2*pe,2),16);if(G(De))return pe;E[F+pe]=De}return pe}function S(E,N,F,$){return M(T(N,E.length-F),E,F,$)}function w(E,N,F,$){return M(I(N),E,F,$)}function y(E,N,F,$){return w(E,N,F,$)}function z(E,N,F,$){return M(L(N),E,F,$)}function U(E,N,F,$){return M(B(N,E.length-F),E,F,$)}function P(E,N,F){return N===0&&F===E.length?i.fromByteArray(E):i.fromByteArray(E.slice(N,F))}function V(E,N,F){F=Math.min(E.length,F);for(var $=[],oe=N;oe<F;){var se,pe,De,ge,Se=E[oe],Ce=null,je=Se>239?4:Se>223?3:Se>191?2:1;if(oe+je<=F)switch(je){case 1:Se<128&&(Ce=Se);break;case 2:(192&(se=E[oe+1]))==128&&(ge=(31&Se)<<6|63&se)>127&&(Ce=ge);break;case 3:se=E[oe+1],pe=E[oe+2],(192&se)==128&&(192&pe)==128&&(ge=(15&Se)<<12|(63&se)<<6|63&pe)>2047&&(ge<55296||ge>57343)&&(Ce=ge);break;case 4:se=E[oe+1],pe=E[oe+2],De=E[oe+3],(192&se)==128&&(192&pe)==128&&(192&De)==128&&(ge=(15&Se)<<18|(63&se)<<12|(63&pe)<<6|63&De)>65535&&ge<1114112&&(Ce=ge)}Ce===null?(Ce=65533,je=1):Ce>65535&&(Ce-=65536,$.push(Ce>>>10&1023|55296),Ce=56320|1023&Ce),$.push(Ce),oe+=je}return Y($)}n.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=a(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(E,N,F){return c(E,N,F)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(E,N,F){return h(E,N,F)},u.allocUnsafe=function(E){return f(E)},u.allocUnsafeSlow=function(E){return f(E)},u.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==u.prototype},u.compare=function(E,N){if(R(E,Uint8Array)&&(E=u.from(E,E.offset,E.byteLength)),R(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(E)||!u.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===N)return 0;for(var F=E.length,$=N.length,oe=0,se=Math.min(F,$);oe<se;++oe)if(E[oe]!==N[oe]){F=E[oe],$=N[oe];break}return F<$?-1:$<F?1:0},u.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(E,N){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return u.alloc(0);var F;if(N===void 0)for(N=0,F=0;F<E.length;++F)N+=E[F].length;var $=u.allocUnsafe(N),oe=0;for(F=0;F<E.length;++F){var se=E[F];if(R(se,Uint8Array)&&(se=u.from(se)),!u.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy($,oe),oe+=se.length}return $},u.byteLength=x,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<E;N+=2)k(this,N,N+1);return this},u.prototype.swap32=function(){var E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<E;N+=4)k(this,N,N+3),k(this,N+1,N+2);return this},u.prototype.swap64=function(){var E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<E;N+=8)k(this,N,N+7),k(this,N+1,N+6),k(this,N+2,N+5),k(this,N+3,N+4);return this},u.prototype.toString=function(){var E=this.length;return E===0?"":arguments.length===0?V(this,0,E):D.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(E){if(!u.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||u.compare(this,E)===0},u.prototype.inspect=function(){var E="",N=n.INSPECT_MAX_BYTES;return E=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(E+=" ... "),"<Buffer "+E+">"},u.prototype.compare=function(E,N,F,$,oe){if(R(E,Uint8Array)&&(E=u.from(E,E.offset,E.byteLength)),!u.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(N===void 0&&(N=0),F===void 0&&(F=E?E.length:0),$===void 0&&($=0),oe===void 0&&(oe=this.length),N<0||F>E.length||$<0||oe>this.length)throw new RangeError("out of range index");if($>=oe&&N>=F)return 0;if($>=oe)return-1;if(N>=F)return 1;if(this===E)return 0;for(var se=(oe>>>=0)-($>>>=0),pe=(F>>>=0)-(N>>>=0),De=Math.min(se,pe),ge=this.slice($,oe),Se=E.slice(N,F),Ce=0;Ce<De;++Ce)if(ge[Ce]!==Se[Ce]){se=ge[Ce],pe=Se[Ce];break}return se<pe?-1:pe<se?1:0},u.prototype.includes=function(E,N,F){return this.indexOf(E,N,F)!==-1},u.prototype.indexOf=function(E,N,F){return C(this,E,N,F,!0)},u.prototype.lastIndexOf=function(E,N,F){return C(this,E,N,F,!1)},u.prototype.write=function(E,N,F,$){if(N===void 0)$="utf8",F=this.length,N=0;else if(F===void 0&&typeof N=="string")$=N,F=this.length,N=0;else{if(!isFinite(N))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");N>>>=0,isFinite(F)?(F>>>=0,$===void 0&&($="utf8")):($=F,F=void 0)}var oe=this.length-N;if((F===void 0||F>oe)&&(F=oe),E.length>0&&(F<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var se=!1;;)switch($){case"hex":return A(this,E,N,F);case"utf8":case"utf-8":return S(this,E,N,F);case"ascii":return w(this,E,N,F);case"latin1":case"binary":return y(this,E,N,F);case"base64":return z(this,E,N,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,E,N,F);default:if(se)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),se=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;function Y(E){var N=E.length;if(N<=Z)return String.fromCharCode.apply(String,E);for(var F="",$=0;$<N;)F+=String.fromCharCode.apply(String,E.slice($,$+=Z));return F}function H(E,N,F){var $="";F=Math.min(E.length,F);for(var oe=N;oe<F;++oe)$+=String.fromCharCode(127&E[oe]);return $}function q(E,N,F){var $="";F=Math.min(E.length,F);for(var oe=N;oe<F;++oe)$+=String.fromCharCode(E[oe]);return $}function W(E,N,F){var $=E.length;(!N||N<0)&&(N=0),(!F||F<0||F>$)&&(F=$);for(var oe="",se=N;se<F;++se)oe+=te(E[se]);return oe}function Q(E,N,F){for(var $=E.slice(N,F),oe="",se=0;se<$.length;se+=2)oe+=String.fromCharCode($[se]+256*$[se+1]);return oe}function ee(E,N,F){if(E%1!=0||E<0)throw new RangeError("offset is not uint");if(E+N>F)throw new RangeError("Trying to access beyond buffer length")}function ne(E,N,F,$,oe,se){if(!u.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>oe||N<se)throw new RangeError('"value" argument is out of bounds');if(F+$>E.length)throw new RangeError("Index out of range")}function J(E,N,F,$,oe,se){if(F+$>E.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function X(E,N,F,$,oe){return N=+N,F>>>=0,oe||J(E,N,F,4),o.write(E,N,F,$,23,4),F+4}function ie(E,N,F,$,oe){return N=+N,F>>>=0,oe||J(E,N,F,8),o.write(E,N,F,$,52,8),F+8}u.prototype.slice=function(E,N){var F=this.length;(E=~~E)<0?(E+=F)<0&&(E=0):E>F&&(E=F),(N=N===void 0?F:~~N)<0?(N+=F)<0&&(N=0):N>F&&(N=F),N<E&&(N=E);var $=this.subarray(E,N);return $.__proto__=u.prototype,$},u.prototype.readUIntLE=function(E,N,F){E>>>=0,N>>>=0,F||ee(E,N,this.length);for(var $=this[E],oe=1,se=0;++se<N&&(oe*=256);)$+=this[E+se]*oe;return $},u.prototype.readUIntBE=function(E,N,F){E>>>=0,N>>>=0,F||ee(E,N,this.length);for(var $=this[E+--N],oe=1;N>0&&(oe*=256);)$+=this[E+--N]*oe;return $},u.prototype.readUInt8=function(E,N){return E>>>=0,N||ee(E,1,this.length),this[E]},u.prototype.readUInt16LE=function(E,N){return E>>>=0,N||ee(E,2,this.length),this[E]|this[E+1]<<8},u.prototype.readUInt16BE=function(E,N){return E>>>=0,N||ee(E,2,this.length),this[E]<<8|this[E+1]},u.prototype.readUInt32LE=function(E,N){return E>>>=0,N||ee(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},u.prototype.readUInt32BE=function(E,N){return E>>>=0,N||ee(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},u.prototype.readIntLE=function(E,N,F){E>>>=0,N>>>=0,F||ee(E,N,this.length);for(var $=this[E],oe=1,se=0;++se<N&&(oe*=256);)$+=this[E+se]*oe;return $>=(oe*=128)&&($-=Math.pow(2,8*N)),$},u.prototype.readIntBE=function(E,N,F){E>>>=0,N>>>=0,F||ee(E,N,this.length);for(var $=N,oe=1,se=this[E+--$];$>0&&(oe*=256);)se+=this[E+--$]*oe;return se>=(oe*=128)&&(se-=Math.pow(2,8*N)),se},u.prototype.readInt8=function(E,N){return E>>>=0,N||ee(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},u.prototype.readInt16LE=function(E,N){E>>>=0,N||ee(E,2,this.length);var F=this[E]|this[E+1]<<8;return 32768&F?4294901760|F:F},u.prototype.readInt16BE=function(E,N){E>>>=0,N||ee(E,2,this.length);var F=this[E+1]|this[E]<<8;return 32768&F?4294901760|F:F},u.prototype.readInt32LE=function(E,N){return E>>>=0,N||ee(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},u.prototype.readInt32BE=function(E,N){return E>>>=0,N||ee(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},u.prototype.readFloatLE=function(E,N){return E>>>=0,N||ee(E,4,this.length),o.read(this,E,!0,23,4)},u.prototype.readFloatBE=function(E,N){return E>>>=0,N||ee(E,4,this.length),o.read(this,E,!1,23,4)},u.prototype.readDoubleLE=function(E,N){return E>>>=0,N||ee(E,8,this.length),o.read(this,E,!0,52,8)},u.prototype.readDoubleBE=function(E,N){return E>>>=0,N||ee(E,8,this.length),o.read(this,E,!1,52,8)},u.prototype.writeUIntLE=function(E,N,F,$){E=+E,N>>>=0,F>>>=0,$||ne(this,E,N,F,Math.pow(2,8*F)-1,0);var oe=1,se=0;for(this[N]=255&E;++se<F&&(oe*=256);)this[N+se]=E/oe&255;return N+F},u.prototype.writeUIntBE=function(E,N,F,$){E=+E,N>>>=0,F>>>=0,$||ne(this,E,N,F,Math.pow(2,8*F)-1,0);var oe=F-1,se=1;for(this[N+oe]=255&E;--oe>=0&&(se*=256);)this[N+oe]=E/se&255;return N+F},u.prototype.writeUInt8=function(E,N,F){return E=+E,N>>>=0,F||ne(this,E,N,1,255,0),this[N]=255&E,N+1},u.prototype.writeUInt16LE=function(E,N,F){return E=+E,N>>>=0,F||ne(this,E,N,2,65535,0),this[N]=255&E,this[N+1]=E>>>8,N+2},u.prototype.writeUInt16BE=function(E,N,F){return E=+E,N>>>=0,F||ne(this,E,N,2,65535,0),this[N]=E>>>8,this[N+1]=255&E,N+2},u.prototype.writeUInt32LE=function(E,N,F){return E=+E,N>>>=0,F||ne(this,E,N,4,4294967295,0),this[N+3]=E>>>24,this[N+2]=E>>>16,this[N+1]=E>>>8,this[N]=255&E,N+4},u.prototype.writeUInt32BE=function(E,N,F){return E=+E,N>>>=0,F||ne(this,E,N,4,4294967295,0),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=255&E,N+4},u.prototype.writeIntLE=function(E,N,F,$){if(E=+E,N>>>=0,!$){var oe=Math.pow(2,8*F-1);ne(this,E,N,F,oe-1,-oe)}var se=0,pe=1,De=0;for(this[N]=255&E;++se<F&&(pe*=256);)E<0&&De===0&&this[N+se-1]!==0&&(De=1),this[N+se]=(E/pe|0)-De&255;return N+F},u.prototype.writeIntBE=function(E,N,F,$){if(E=+E,N>>>=0,!$){var oe=Math.pow(2,8*F-1);ne(this,E,N,F,oe-1,-oe)}var se=F-1,pe=1,De=0;for(this[N+se]=255&E;--se>=0&&(pe*=256);)E<0&&De===0&&this[N+se+1]!==0&&(De=1),this[N+se]=(E/pe|0)-De&255;return N+F},u.prototype.writeInt8=function(E,N,F){return E=+E,N>>>=0,F||ne(this,E,N,1,127,-128),E<0&&(E=255+E+1),this[N]=255&E,N+1},u.prototype.writeInt16LE=function(E,N,F){return E=+E,N>>>=0,F||ne(this,E,N,2,32767,-32768),this[N]=255&E,this[N+1]=E>>>8,N+2},u.prototype.writeInt16BE=function(E,N,F){return E=+E,N>>>=0,F||ne(this,E,N,2,32767,-32768),this[N]=E>>>8,this[N+1]=255&E,N+2},u.prototype.writeInt32LE=function(E,N,F){return E=+E,N>>>=0,F||ne(this,E,N,4,2147483647,-2147483648),this[N]=255&E,this[N+1]=E>>>8,this[N+2]=E>>>16,this[N+3]=E>>>24,N+4},u.prototype.writeInt32BE=function(E,N,F){return E=+E,N>>>=0,F||ne(this,E,N,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[N]=E>>>24,this[N+1]=E>>>16,this[N+2]=E>>>8,this[N+3]=255&E,N+4},u.prototype.writeFloatLE=function(E,N,F){return X(this,E,N,!0,F)},u.prototype.writeFloatBE=function(E,N,F){return X(this,E,N,!1,F)},u.prototype.writeDoubleLE=function(E,N,F){return ie(this,E,N,!0,F)},u.prototype.writeDoubleBE=function(E,N,F){return ie(this,E,N,!1,F)},u.prototype.copy=function(E,N,F,$){if(!u.isBuffer(E))throw new TypeError("argument should be a Buffer");if(F||(F=0),$||$===0||($=this.length),N>=E.length&&(N=E.length),N||(N=0),$>0&&$<F&&($=F),$===F||E.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),E.length-N<$-F&&($=E.length-N+F);var oe=$-F;if(this===E&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(N,F,$);else if(this===E&&F<N&&N<$)for(var se=oe-1;se>=0;--se)E[se+N]=this[se+F];else Uint8Array.prototype.set.call(E,this.subarray(F,$),N);return oe},u.prototype.fill=function(E,N,F,$){if(typeof E=="string"){if(typeof N=="string"?($=N,N=0,F=this.length):typeof F=="string"&&($=F,F=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!u.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(E.length===1){var oe=E.charCodeAt(0);($==="utf8"&&oe<128||$==="latin1")&&(E=oe)}}else typeof E=="number"&&(E&=255);if(N<0||this.length<N||this.length<F)throw new RangeError("Out of range index");if(F<=N)return this;var se;if(N>>>=0,F=F===void 0?this.length:F>>>0,E||(E=0),typeof E=="number")for(se=N;se<F;++se)this[se]=E;else{var pe=u.isBuffer(E)?E:u.from(E,$),De=pe.length;if(De===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(se=0;se<F-N;++se)this[se+N]=pe[se%De]}return this};var le=/[^+/0-9A-Za-z-_]/g;function ue(E){if((E=(E=E.split("=")[0]).trim().replace(le,"")).length<2)return"";for(;E.length%4!=0;)E+="=";return E}function te(E){return E<16?"0"+E.toString(16):E.toString(16)}function T(E,N){var F;N=N||1/0;for(var $=E.length,oe=null,se=[],pe=0;pe<$;++pe){if((F=E.charCodeAt(pe))>55295&&F<57344){if(!oe){if(F>56319){(N-=3)>-1&&se.push(239,191,189);continue}if(pe+1===$){(N-=3)>-1&&se.push(239,191,189);continue}oe=F;continue}if(F<56320){(N-=3)>-1&&se.push(239,191,189),oe=F;continue}F=65536+(oe-55296<<10|F-56320)}else oe&&(N-=3)>-1&&se.push(239,191,189);if(oe=null,F<128){if((N-=1)<0)break;se.push(F)}else if(F<2048){if((N-=2)<0)break;se.push(F>>6|192,63&F|128)}else if(F<65536){if((N-=3)<0)break;se.push(F>>12|224,F>>6&63|128,63&F|128)}else{if(!(F<1114112))throw new Error("Invalid code point");if((N-=4)<0)break;se.push(F>>18|240,F>>12&63|128,F>>6&63|128,63&F|128)}}return se}function I(E){for(var N=[],F=0;F<E.length;++F)N.push(255&E.charCodeAt(F));return N}function B(E,N){for(var F,$,oe,se=[],pe=0;pe<E.length&&!((N-=2)<0);++pe)$=(F=E.charCodeAt(pe))>>8,oe=F%256,se.push(oe),se.push($);return se}function L(E){return i.toByteArray(ue(E))}function M(E,N,F,$){for(var oe=0;oe<$&&!(oe+F>=N.length||oe>=E.length);++oe)N[oe+F]=E[oe];return oe}function R(E,N){return E instanceof N||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===N.name}function G(E){return E!=E}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":28,buffer:32,ieee754:45}],33:[function(e,t,n){var r=e("get-intrinsic"),i=e("./"),o=i(r("String.prototype.indexOf"));t.exports=function(s,a){var l=r(s,!!a);return typeof l=="function"&&o(s,".prototype.")>-1?i(l):l}},{"./":34,"get-intrinsic":39}],34:[function(e,t,n){var r=e("function-bind"),i=e("get-intrinsic"),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),l=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(h){var f=a(r,s,arguments);return l&&u&&l(f,"length").configurable&&u(f,"length",{value:1+c(0,h.length-(arguments.length-1))}),f};var d=function(){return a(r,o,arguments)};u?u(t.exports,"apply",{value:d}):t.exports.apply=d},{"function-bind":38,"get-intrinsic":39}],35:[function(e,t,n){var r,i=typeof Reflect=="object"?Reflect:null,o=i&&typeof i.apply=="function"?i.apply:function(C,O,A){return Function.prototype.apply.call(C,O,A)};function s(C){console&&console.warn&&console.warn(C)}r=i&&typeof i.ownKeys=="function"?i.ownKeys:Object.getOwnPropertySymbols?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.getOwnPropertyNames(C)};var a=Number.isNaN||function(C){return C!=C};function l(){l.init.call(this)}t.exports=l,t.exports.once=x,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function c(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}function d(C){return C._maxListeners===void 0?l.defaultMaxListeners:C._maxListeners}function h(C,O,A,S){var w,y,z;if(c(A),(y=C._events)===void 0?(y=C._events=Object.create(null),C._eventsCount=0):(y.newListener!==void 0&&(C.emit("newListener",O,A.listener?A.listener:A),y=C._events),z=y[O]),z===void 0)z=y[O]=A,++C._eventsCount;else if(typeof z=="function"?z=y[O]=S?[A,z]:[z,A]:S?z.unshift(A):z.push(A),(w=d(C))>0&&z.length>w&&!z.warned){z.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=C,U.type=O,U.count=z.length,s(U)}return C}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(C,O,A){var S={fired:!1,wrapFn:void 0,target:C,type:O,listener:A},w=f.bind(S);return w.listener=A,S.wrapFn=w,w}function m(C,O,A){var S=C._events;if(S===void 0)return[];var w=S[O];return w===void 0?[]:typeof w=="function"?A?[w.listener||w]:[w]:A?v(w):_(w,w.length)}function g(C){var O=this._events;if(O!==void 0){var A=O[C];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}function _(C,O){for(var A=new Array(O),S=0;S<O;++S)A[S]=C[S];return A}function b(C,O){for(;O+1<C.length;O++)C[O]=C[O+1];C.pop()}function v(C){for(var O=new Array(C.length),A=0;A<O.length;++A)O[A]=C[A].listener||C[A];return O}function x(C,O){return new Promise(function(A,S){function w(z){C.removeListener(O,y),S(z)}function y(){typeof C.removeListener=="function"&&C.removeListener("error",w),A([].slice.call(arguments))}k(C,O,y,{once:!0}),O!=="error"&&D(C,w,{once:!0})})}function D(C,O,A){typeof C.on=="function"&&k(C,"error",O,A)}function k(C,O,A,S){if(typeof C.on=="function")S.once?C.once(O,A):C.on(O,A);else{if(typeof C.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C);C.addEventListener(O,function w(y){S.once&&C.removeEventListener(O,w),A(y)})}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(C){if(typeof C!="number"||C<0||a(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");u=C}}),l.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||a(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(C){for(var O=[],A=1;A<arguments.length;A++)O.push(arguments[A]);var S=C==="error",w=this._events;if(w!==void 0)S=S&&w.error===void 0;else if(!S)return!1;if(S){var y;if(O.length>0&&(y=O[0]),y instanceof Error)throw y;var z=new Error("Unhandled error."+(y?" ("+y.message+")":""));throw z.context=y,z}var U=w[C];if(U===void 0)return!1;if(typeof U=="function")o(U,this,O);else{var P=U.length,V=_(U,P);for(A=0;A<P;++A)o(V[A],this,O)}return!0},l.prototype.addListener=function(C,O){return h(this,C,O,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(C,O){return h(this,C,O,!0)},l.prototype.once=function(C,O){return c(O),this.on(C,p(this,C,O)),this},l.prototype.prependOnceListener=function(C,O){return c(O),this.prependListener(C,p(this,C,O)),this},l.prototype.removeListener=function(C,O){var A,S,w,y,z;if(c(O),(S=this._events)===void 0)return this;if((A=S[C])===void 0)return this;if(A===O||A.listener===O)--this._eventsCount==0?this._events=Object.create(null):(delete S[C],S.removeListener&&this.emit("removeListener",C,A.listener||O));else if(typeof A!="function"){for(w=-1,y=A.length-1;y>=0;y--)if(A[y]===O||A[y].listener===O){z=A[y].listener,w=y;break}if(w<0)return this;w===0?A.shift():b(A,w),A.length===1&&(S[C]=A[0]),S.removeListener!==void 0&&this.emit("removeListener",C,z||O)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(C){var O,A,S;if((A=this._events)===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[C]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete A[C]),this;if(arguments.length===0){var w,y=Object.keys(A);for(S=0;S<y.length;++S)(w=y[S])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(O=A[C])=="function")this.removeListener(C,O);else if(O!==void 0)for(S=O.length-1;S>=0;S--)this.removeListener(C,O[S]);return this},l.prototype.listeners=function(C){return m(this,C,!0)},l.prototype.rawListeners=function(C){return m(this,C,!1)},l.listenerCount=function(C,O){return typeof C.listenerCount=="function"?C.listenerCount(O):g.call(C,O)},l.prototype.listenerCount=g,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},{}],36:[function(e,t,n){var r=e("is-callable"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,s=function(c,d,h){for(var f=0,p=c.length;f<p;f++)o.call(c,f)&&(h==null?d(c[f],f,c):d.call(h,c[f],f,c))},a=function(c,d,h){for(var f=0,p=c.length;f<p;f++)h==null?d(c.charAt(f),f,c):d.call(h,c.charAt(f),f,c)},l=function(c,d,h){for(var f in c)o.call(c,f)&&(h==null?d(c[f],f,c):d.call(h,c[f],f,c))},u=function(c,d,h){if(!r(d))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=h),i.call(c)==="[object Array]"?s(c,d,f):typeof c=="string"?a(c,d,f):l(c,d,f)};t.exports=u},{"is-callable":48}],37:[function(e,t,n){var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,s="[object Function]";t.exports=function(a){var l=this;if(typeof l!="function"||o.call(l)!==s)throw new TypeError(r+l);for(var u,c=i.call(arguments,1),d=function(){if(this instanceof u){var g=l.apply(this,c.concat(i.call(arguments)));return Object(g)===g?g:this}return l.apply(a,c.concat(i.call(arguments)))},h=Math.max(0,l.length-c.length),f=[],p=0;p<h;p++)f.push("$"+p);if(u=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(d),l.prototype){var m=function(){};m.prototype=l.prototype,u.prototype=new m,m.prototype=null}return u}},{}],38:[function(e,t,n){var r=e("./implementation");t.exports=Function.prototype.bind||r},{"./implementation":37}],39:[function(e,t,n){var r,i=SyntaxError,o=Function,s=TypeError,a=function(U){try{return o('"use strict"; return ('+U+").constructor;")()}catch{}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch{l=null}var u=function(){throw new s},c=l?(function(){try{return u}catch{try{return l(arguments,"callee").get}catch{return u}}})():u,d=e("has-symbols")(),h=Object.getPrototypeOf||function(U){return U.__proto__},f={},p=typeof Uint8Array>"u"?r:h(Uint8Array),m={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?h(h([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map<"u"&&d?h(new Map()[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set<"u"&&d?h(new Set()[Symbol.iterator]()):r,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?h(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};try{null.error}catch(U){var g=h(h(U));m["%Error.prototype%"]=g}var _=function U(P){var V;if(P==="%AsyncFunction%")V=a("async function () {}");else if(P==="%GeneratorFunction%")V=a("function* () {}");else if(P==="%AsyncGeneratorFunction%")V=a("async function* () {}");else if(P==="%AsyncGenerator%"){var Z=U("%AsyncGeneratorFunction%");Z&&(V=Z.prototype)}else if(P==="%AsyncIteratorPrototype%"){var Y=U("%AsyncGenerator%");Y&&(V=h(Y.prototype))}return m[P]=V,V},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=e("function-bind"),x=e("has"),D=v.call(Function.call,Array.prototype.concat),k=v.call(Function.apply,Array.prototype.splice),C=v.call(Function.call,String.prototype.replace),O=v.call(Function.call,String.prototype.slice),A=v.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,y=function(U){var P=O(U,0,1),V=O(U,-1);if(P==="%"&&V!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(V==="%"&&P!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var Z=[];return C(U,S,function(Y,H,q,W){Z[Z.length]=q?C(W,w,"$1"):H||Y}),Z},z=function(U,P){var V,Z=U;if(x(b,Z)&&(Z="%"+(V=b[Z])[0]+"%"),x(m,Z)){var Y=m[Z];if(Y===f&&(Y=_(Z)),Y===void 0&&!P)throw new s("intrinsic "+U+" exists, but is not available. Please file an issue!");return{alias:V,name:Z,value:Y}}throw new i("intrinsic "+U+" does not exist!")};t.exports=function(U,P){if(typeof U!="string"||U.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof P!="boolean")throw new s('"allowMissing" argument must be a boolean');if(A(/^%?[^%]*%?$/,U)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var V=y(U),Z=V.length>0?V[0]:"",Y=z("%"+Z+"%",P),H=Y.name,q=Y.value,W=!1,Q=Y.alias;Q&&(Z=Q[0],k(V,D([0,1],Q)));for(var ee=1,ne=!0;ee<V.length;ee+=1){var J=V[ee],X=O(J,0,1),ie=O(J,-1);if((X==='"'||X==="'"||X==="`"||ie==='"'||ie==="'"||ie==="`")&&X!==ie)throw new i("property names with quotes must have matching quotes");if(J!=="constructor"&&ne||(W=!0),x(m,H="%"+(Z+="."+J)+"%"))q=m[H];else if(q!=null){if(!(J in q)){if(!P)throw new s("base intrinsic for "+U+" exists, but the property is not available.");return}if(l&&ee+1>=V.length){var le=l(q,J);q=(ne=!!le)&&"get"in le&&!("originalValue"in le.get)?le.get:q[J]}else ne=x(q,J),q=q[J];ne&&!W&&(m[H]=q)}}return q}},{"function-bind":38,has:44,"has-symbols":41}],40:[function(e,t,n){var r=e("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch{r=null}t.exports=r},{"get-intrinsic":39}],41:[function(e,t,n){var r=typeof Symbol<"u"&&Symbol,i=e("./shams");t.exports=function(){return typeof r=="function"&&typeof Symbol=="function"&&typeof r("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&i()}},{"./shams":42}],42:[function(e,t,n){t.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},i=Symbol("test"),o=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;for(i in r[i]=s,r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var a=Object.getOwnPropertySymbols(r);if(a.length!==1||a[0]!==i||!Object.prototype.propertyIsEnumerable.call(r,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(r,i);if(l.value!==s||l.enumerable!==!0)return!1}return!0}},{}],43:[function(e,t,n){var r=e("has-symbols/shams");t.exports=function(){return r()&&!!Symbol.toStringTag}},{"has-symbols/shams":42}],44:[function(e,t,n){var r=e("function-bind");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":38}],45:[function(e,t,n){n.read=function(r,i,o,s,a){var l,u,c=8*a-s-1,d=(1<<c)-1,h=d>>1,f=-7,p=o?a-1:0,m=o?-1:1,g=r[i+p];for(p+=m,l=g&(1<<-f)-1,g>>=-f,f+=c;f>0;l=256*l+r[i+p],p+=m,f-=8);for(u=l&(1<<-f)-1,l>>=-f,f+=s;f>0;u=256*u+r[i+p],p+=m,f-=8);if(l===0)l=1-h;else{if(l===d)return u?NaN:1/0*(g?-1:1);u+=Math.pow(2,s),l-=h}return(g?-1:1)*u*Math.pow(2,l-s)},n.write=function(r,i,o,s,a,l){var u,c,d,h=8*l-a-1,f=(1<<h)-1,p=f>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=s?0:l-1,_=s?1:-1,b=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(c=isNaN(i)?1:0,u=f):(u=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-u))<1&&(u--,d*=2),(i+=u+p>=1?m/d:m*Math.pow(2,1-p))*d>=2&&(u++,d/=2),u+p>=f?(c=0,u=f):u+p>=1?(c=(i*d-1)*Math.pow(2,a),u+=p):(c=i*Math.pow(2,p-1)*Math.pow(2,a),u=0));a>=8;r[o+g]=255&c,g+=_,c/=256,a-=8);for(u=u<<a|c,h+=a;h>0;r[o+g]=255&u,g+=_,u/=256,h-=8);r[o+g-_]|=128*b}},{}],46:[function(e,t,n){typeof Object.create=="function"?t.exports=function(r,i){i&&(r.super_=i,r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,i){if(i){r.super_=i;var o=function(){};o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r}}},{}],47:[function(e,t,n){var r=e("has-tostringtag/shams")(),i=e("call-bind/callBound")("Object.prototype.toString"),o=function(l){return!(r&&l&&typeof l=="object"&&Symbol.toStringTag in l)&&i(l)==="[object Arguments]"},s=function(l){return!!o(l)||l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&i(l)!=="[object Array]"&&i(l.callee)==="[object Function]"},a=(function(){return o(arguments)})();o.isLegacyArguments=s,t.exports=a?o:s},{"call-bind/callBound":33,"has-tostringtag/shams":43}],48:[function(e,t,n){var r,i,o=Function.prototype.toString,s=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof s=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw i}}),i={},s(function(){throw 42},null,r)}catch(D){D!==i&&(s=null)}else s=null;var a=/^\s*class\b/,l=function(D){try{var k=o.call(D);return a.test(k)}catch{return!1}},u=function(D){try{return!l(D)&&(o.call(D),!0)}catch{return!1}},c=Object.prototype.toString,d="[object Object]",h="[object Function]",f="[object GeneratorFunction]",p="[object HTMLAllCollection]",m="[object HTML document.all class]",g="[object HTMLCollection]",_=typeof Symbol=="function"&&!!Symbol.toStringTag,b=!(0 in[,]),v=function(){return!1};if(typeof document=="object"){var x=document.all;c.call(x)===c.call(document.all)&&(v=function(D){if((b||!D)&&(D===void 0||typeof D=="object"))try{var k=c.call(D);return(k===p||k===m||k===g||k===d)&&D("")==null}catch{}return!1})}t.exports=s?function(D){if(v(D))return!0;if(!D||typeof D!="function"&&typeof D!="object")return!1;try{s(D,null,r)}catch(k){if(k!==i)return!1}return!l(D)&&u(D)}:function(D){if(v(D))return!0;if(!D||typeof D!="function"&&typeof D!="object")return!1;if(_)return u(D);if(l(D))return!1;var k=c.call(D);return!(k!==h&&k!==f&&!/^\[object HTML/.test(k))&&u(D)}},{}],49:[function(e,t,n){var r,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=e("has-tostringtag/shams")(),l=Object.getPrototypeOf,u=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch{}};t.exports=function(c){if(typeof c!="function")return!1;if(s.test(o.call(c)))return!0;if(!a)return i.call(c)==="[object GeneratorFunction]";if(!l)return!1;if(r===void 0){var d=u();r=!!d&&l(d)}return l(c)===r}},{"has-tostringtag/shams":43}],50:[function(e,t,n){(function(r){(function(){var i=e("for-each"),o=e("available-typed-arrays"),s=e("call-bind/callBound"),a=s("Object.prototype.toString"),l=e("has-tostringtag/shams")(),u=e("gopd"),c=typeof globalThis>"u"?r:globalThis,d=o(),h=s("Array.prototype.indexOf",!0)||function(_,b){for(var v=0;v<_.length;v+=1)if(_[v]===b)return v;return-1},f=s("String.prototype.slice"),p={},m=Object.getPrototypeOf;l&&u&&m&&i(d,function(_){var b=new c[_];if(Symbol.toStringTag in b){var v=m(b),x=u(v,Symbol.toStringTag);if(!x){var D=m(v);x=u(D,Symbol.toStringTag)}p[_]=x.get}});var g=function(_){var b=!1;return i(p,function(v,x){if(!b)try{b=v.call(_)===x}catch{}}),b};t.exports=function(_){if(!_||typeof _!="object")return!1;if(!l||!(Symbol.toStringTag in _)){var b=f(a(_),8,-1);return h(d,b)>-1}return!!u&&g(_)}}).call(this)}).call(this,gn!==void 0?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43}],51:[function(e,t,n){var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function a(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var u={},c=0;c<10;c++)u["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(u).map(function(f){return u[f]});if(d.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(f){h[f]=f}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}t.exports=a()?Object.assign:function(l,u){for(var c,d,h=s(l),f=1;f<arguments.length;f++){for(var p in c=Object(arguments[f]))i.call(c,p)&&(h[p]=c[p]);if(r){d=r(c);for(var m=0;m<d.length;m++)o.call(c,d[m])&&(h[d[m]]=c[d[m]])}}return h}},{}],52:[function(e,t,n){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function i(a,l){return Object.prototype.hasOwnProperty.call(a,l)}n.assign=function(a){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var c in u)i(u,c)&&(a[c]=u[c])}}return a},n.shrinkBuf=function(a,l){return a.length===l?a:a.subarray?a.subarray(0,l):(a.length=l,a)};var o={arraySet:function(a,l,u,c,d){if(l.subarray&&a.subarray)a.set(l.subarray(u,u+c),d);else for(var h=0;h<c;h++)a[d+h]=l[u+h]},flattenChunks:function(a){var l,u,c,d,h,f;for(c=0,l=0,u=a.length;l<u;l++)c+=a[l].length;for(f=new Uint8Array(c),d=0,l=0,u=a.length;l<u;l++)h=a[l],f.set(h,d),d+=h.length;return f}},s={arraySet:function(a,l,u,c,d){for(var h=0;h<c;h++)a[d+h]=l[u+h]},flattenChunks:function(a){return[].concat.apply([],a)}};n.setTyped=function(a){a?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],53:[function(e,t,n){function r(i,o,s,a){for(var l=65535&i,u=i>>>16&65535,c=0;s!==0;){s-=c=s>2e3?2e3:s;do u=u+(l=l+o[a++]|0)|0;while(--c);l%=65521,u%=65521}return l|u<<16}t.exports=r},{}],54:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],55:[function(e,t,n){function r(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}var i=r();function o(s,a,l,u){var c=i,d=u+l;s^=-1;for(var h=u;h<d;h++)s=s>>>8^c[255&(s^a[h])];return~s}t.exports=o},{}],56:[function(e,t,n){var r,i=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),u=0,c=1,d=3,h=4,f=5,p=0,m=1,g=-2,_=-3,b=-5,v=-1,x=1,D=2,k=3,C=4,O=0,A=2,S=8,w=9,y=15,z=8,U=286,P=30,V=19,Z=2*U+1,Y=15,H=3,q=258,W=q+H+1,Q=32,ee=42,ne=69,J=73,X=91,ie=103,le=113,ue=666,te=1,T=2,I=3,B=4,L=3;function M(j,ve){return j.msg=l[ve],ve}function R(j){return(j<<1)-(j>4?9:0)}function G(j){for(var ve=j.length;--ve>=0;)j[ve]=0}function E(j){var ve=j.state,he=ve.pending;he>j.avail_out&&(he=j.avail_out),he!==0&&(i.arraySet(j.output,ve.pending_buf,ve.pending_out,he,j.next_out),j.next_out+=he,ve.pending_out+=he,j.total_out+=he,j.avail_out-=he,ve.pending-=he,ve.pending===0&&(ve.pending_out=0))}function N(j,ve){o._tr_flush_block(j,j.block_start>=0?j.block_start:-1,j.strstart-j.block_start,ve),j.block_start=j.strstart,E(j.strm)}function F(j,ve){j.pending_buf[j.pending++]=ve}function $(j,ve){j.pending_buf[j.pending++]=ve>>>8&255,j.pending_buf[j.pending++]=255&ve}function oe(j,ve,he,ae){var me=j.avail_in;return me>ae&&(me=ae),me===0?0:(j.avail_in-=me,i.arraySet(ve,j.input,j.next_in,me,he),j.state.wrap===1?j.adler=s(j.adler,ve,me,he):j.state.wrap===2&&(j.adler=a(j.adler,ve,me,he)),j.next_in+=me,j.total_in+=me,me)}function se(j,ve){var he,ae,me=j.max_chain_length,_e=j.strstart,We=j.prev_length,Le=j.nice_match,Ve=j.strstart>j.w_size-W?j.strstart-(j.w_size-W):0,gt=j.window,Vn=j.w_mask,Ot=j.prev,zt=j.strstart+q,en=gt[_e+We-1],tn=gt[_e+We];j.prev_length>=j.good_match&&(me>>=2),Le>j.lookahead&&(Le=j.lookahead);do if(gt[(he=ve)+We]===tn&&gt[he+We-1]===en&&gt[he]===gt[_e]&&gt[++he]===gt[_e+1]){_e+=2,he++;do;while(gt[++_e]===gt[++he]&&gt[++_e]===gt[++he]&&gt[++_e]===gt[++he]&&gt[++_e]===gt[++he]&&gt[++_e]===gt[++he]&&gt[++_e]===gt[++he]&&gt[++_e]===gt[++he]&&gt[++_e]===gt[++he]&&_e<zt);if(ae=q-(zt-_e),_e=zt-q,ae>We){if(j.match_start=ve,We=ae,ae>=Le)break;en=gt[_e+We-1],tn=gt[_e+We]}}while((ve=Ot[ve&Vn])>Ve&&--me!=0);return We<=j.lookahead?We:j.lookahead}function pe(j){var ve,he,ae,me,_e,We=j.w_size;do{if(me=j.window_size-j.lookahead-j.strstart,j.strstart>=We+(We-W)){i.arraySet(j.window,j.window,We,We,0),j.match_start-=We,j.strstart-=We,j.block_start-=We,ve=he=j.hash_size;do ae=j.head[--ve],j.head[ve]=ae>=We?ae-We:0;while(--he);ve=he=We;do ae=j.prev[--ve],j.prev[ve]=ae>=We?ae-We:0;while(--he);me+=We}if(j.strm.avail_in===0)break;if(he=oe(j.strm,j.window,j.strstart+j.lookahead,me),j.lookahead+=he,j.lookahead+j.insert>=H)for(_e=j.strstart-j.insert,j.ins_h=j.window[_e],j.ins_h=(j.ins_h<<j.hash_shift^j.window[_e+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[_e+H-1])&j.hash_mask,j.prev[_e&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=_e,_e++,j.insert--,!(j.lookahead+j.insert<H)););}while(j.lookahead<W&&j.strm.avail_in!==0)}function De(j,ve){var he=65535;for(he>j.pending_buf_size-5&&(he=j.pending_buf_size-5);;){if(j.lookahead<=1){if(pe(j),j.lookahead===0&&ve===u)return te;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var ae=j.block_start+he;if((j.strstart===0||j.strstart>=ae)&&(j.lookahead=j.strstart-ae,j.strstart=ae,N(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-W&&(N(j,!1),j.strm.avail_out===0))return te}return j.insert=0,ve===h?(N(j,!0),j.strm.avail_out===0?I:B):(j.strstart>j.block_start&&(N(j,!1),j.strm.avail_out),te)}function ge(j,ve){for(var he,ae;;){if(j.lookahead<W){if(pe(j),j.lookahead<W&&ve===u)return te;if(j.lookahead===0)break}if(he=0,j.lookahead>=H&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+H-1])&j.hash_mask,he=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),he!==0&&j.strstart-he<=j.w_size-W&&(j.match_length=se(j,he)),j.match_length>=H)if(ae=o._tr_tally(j,j.strstart-j.match_start,j.match_length-H),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=H){j.match_length--;do j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+H-1])&j.hash_mask,he=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart;while(--j.match_length!=0);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else ae=o._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(ae&&(N(j,!1),j.strm.avail_out===0))return te}return j.insert=j.strstart<H-1?j.strstart:H-1,ve===h?(N(j,!0),j.strm.avail_out===0?I:B):j.last_lit&&(N(j,!1),j.strm.avail_out===0)?te:T}function Se(j,ve){for(var he,ae,me;;){if(j.lookahead<W){if(pe(j),j.lookahead<W&&ve===u)return te;if(j.lookahead===0)break}if(he=0,j.lookahead>=H&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+H-1])&j.hash_mask,he=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=H-1,he!==0&&j.prev_length<j.max_lazy_match&&j.strstart-he<=j.w_size-W&&(j.match_length=se(j,he),j.match_length<=5&&(j.strategy===x||j.match_length===H&&j.strstart-j.match_start>4096)&&(j.match_length=H-1)),j.prev_length>=H&&j.match_length<=j.prev_length){me=j.strstart+j.lookahead-H,ae=o._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-H),j.lookahead-=j.prev_length-1,j.prev_length-=2;do++j.strstart<=me&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+H-1])&j.hash_mask,he=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart);while(--j.prev_length!=0);if(j.match_available=0,j.match_length=H-1,j.strstart++,ae&&(N(j,!1),j.strm.avail_out===0))return te}else if(j.match_available){if((ae=o._tr_tally(j,0,j.window[j.strstart-1]))&&N(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return te}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(ae=o._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<H-1?j.strstart:H-1,ve===h?(N(j,!0),j.strm.avail_out===0?I:B):j.last_lit&&(N(j,!1),j.strm.avail_out===0)?te:T}function Ce(j,ve){for(var he,ae,me,_e,We=j.window;;){if(j.lookahead<=q){if(pe(j),j.lookahead<=q&&ve===u)return te;if(j.lookahead===0)break}if(j.match_length=0,j.lookahead>=H&&j.strstart>0&&(ae=We[me=j.strstart-1])===We[++me]&&ae===We[++me]&&ae===We[++me]){_e=j.strstart+q;do;while(ae===We[++me]&&ae===We[++me]&&ae===We[++me]&&ae===We[++me]&&ae===We[++me]&&ae===We[++me]&&ae===We[++me]&&ae===We[++me]&&me<_e);j.match_length=q-(_e-me),j.match_length>j.lookahead&&(j.match_length=j.lookahead)}if(j.match_length>=H?(he=o._tr_tally(j,1,j.match_length-H),j.lookahead-=j.match_length,j.strstart+=j.match_length,j.match_length=0):(he=o._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++),he&&(N(j,!1),j.strm.avail_out===0))return te}return j.insert=0,ve===h?(N(j,!0),j.strm.avail_out===0?I:B):j.last_lit&&(N(j,!1),j.strm.avail_out===0)?te:T}function je(j,ve){for(var he;;){if(j.lookahead===0&&(pe(j),j.lookahead===0)){if(ve===u)return te;break}if(j.match_length=0,he=o._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++,he&&(N(j,!1),j.strm.avail_out===0))return te}return j.insert=0,ve===h?(N(j,!0),j.strm.avail_out===0?I:B):j.last_lit&&(N(j,!1),j.strm.avail_out===0)?te:T}function Ue(j,ve,he,ae,me){this.good_length=j,this.max_lazy=ve,this.nice_length=he,this.max_chain=ae,this.func=me}function Te(j){j.window_size=2*j.w_size,G(j.head),j.max_lazy_match=r[j.level].max_lazy,j.good_match=r[j.level].good_length,j.nice_match=r[j.level].nice_length,j.max_chain_length=r[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=H-1,j.match_available=0,j.ins_h=0}function Je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*Z),this.dyn_dtree=new i.Buf16(2*(2*P+1)),this.bl_tree=new i.Buf16(2*(2*V+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(Y+1),this.heap=new i.Buf16(2*U+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*U+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Be(j){var ve;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=A,(ve=j.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?ee:le,j.adler=ve.wrap===2?0:1,ve.last_flush=u,o._tr_init(ve),p):M(j,g)}function re(j){var ve=Be(j);return ve===p&&Te(j.state),ve}function Ie(j,ve){return j&&j.state?j.state.wrap!==2?g:(j.state.gzhead=ve,p):g}function ce(j,ve,he,ae,me,_e){if(!j)return g;var We=1;if(ve===v&&(ve=6),ae<0?(We=0,ae=-ae):ae>15&&(We=2,ae-=16),me<1||me>w||he!==S||ae<8||ae>15||ve<0||ve>9||_e<0||_e>C)return M(j,g);ae===8&&(ae=9);var Le=new Je;return j.state=Le,Le.strm=j,Le.wrap=We,Le.gzhead=null,Le.w_bits=ae,Le.w_size=1<<Le.w_bits,Le.w_mask=Le.w_size-1,Le.hash_bits=me+7,Le.hash_size=1<<Le.hash_bits,Le.hash_mask=Le.hash_size-1,Le.hash_shift=~~((Le.hash_bits+H-1)/H),Le.window=new i.Buf8(2*Le.w_size),Le.head=new i.Buf16(Le.hash_size),Le.prev=new i.Buf16(Le.w_size),Le.lit_bufsize=1<<me+6,Le.pending_buf_size=4*Le.lit_bufsize,Le.pending_buf=new i.Buf8(Le.pending_buf_size),Le.d_buf=1*Le.lit_bufsize,Le.l_buf=3*Le.lit_bufsize,Le.level=ve,Le.strategy=_e,Le.method=he,re(j)}function ye(j,ve){return ce(j,ve,S,y,z,O)}function K(j,ve){var he,ae,me,_e;if(!j||!j.state||ve>f||ve<0)return j?M(j,g):g;if(ae=j.state,!j.output||!j.input&&j.avail_in!==0||ae.status===ue&&ve!==h)return M(j,j.avail_out===0?b:g);if(ae.strm=j,he=ae.last_flush,ae.last_flush=ve,ae.status===ee)if(ae.wrap===2)j.adler=0,F(ae,31),F(ae,139),F(ae,8),ae.gzhead?(F(ae,(ae.gzhead.text?1:0)+(ae.gzhead.hcrc?2:0)+(ae.gzhead.extra?4:0)+(ae.gzhead.name?8:0)+(ae.gzhead.comment?16:0)),F(ae,255&ae.gzhead.time),F(ae,ae.gzhead.time>>8&255),F(ae,ae.gzhead.time>>16&255),F(ae,ae.gzhead.time>>24&255),F(ae,ae.level===9?2:ae.strategy>=D||ae.level<2?4:0),F(ae,255&ae.gzhead.os),ae.gzhead.extra&&ae.gzhead.extra.length&&(F(ae,255&ae.gzhead.extra.length),F(ae,ae.gzhead.extra.length>>8&255)),ae.gzhead.hcrc&&(j.adler=a(j.adler,ae.pending_buf,ae.pending,0)),ae.gzindex=0,ae.status=ne):(F(ae,0),F(ae,0),F(ae,0),F(ae,0),F(ae,0),F(ae,ae.level===9?2:ae.strategy>=D||ae.level<2?4:0),F(ae,L),ae.status=le);else{var We=S+(ae.w_bits-8<<4)<<8;We|=(ae.strategy>=D||ae.level<2?0:ae.level<6?1:ae.level===6?2:3)<<6,ae.strstart!==0&&(We|=Q),We+=31-We%31,ae.status=le,$(ae,We),ae.strstart!==0&&($(ae,j.adler>>>16),$(ae,65535&j.adler)),j.adler=1}if(ae.status===ne)if(ae.gzhead.extra){for(me=ae.pending;ae.gzindex<(65535&ae.gzhead.extra.length)&&(ae.pending!==ae.pending_buf_size||(ae.gzhead.hcrc&&ae.pending>me&&(j.adler=a(j.adler,ae.pending_buf,ae.pending-me,me)),E(j),me=ae.pending,ae.pending!==ae.pending_buf_size));)F(ae,255&ae.gzhead.extra[ae.gzindex]),ae.gzindex++;ae.gzhead.hcrc&&ae.pending>me&&(j.adler=a(j.adler,ae.pending_buf,ae.pending-me,me)),ae.gzindex===ae.gzhead.extra.length&&(ae.gzindex=0,ae.status=J)}else ae.status=J;if(ae.status===J)if(ae.gzhead.name){me=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>me&&(j.adler=a(j.adler,ae.pending_buf,ae.pending-me,me)),E(j),me=ae.pending,ae.pending===ae.pending_buf_size)){_e=1;break}_e=ae.gzindex<ae.gzhead.name.length?255&ae.gzhead.name.charCodeAt(ae.gzindex++):0,F(ae,_e)}while(_e!==0);ae.gzhead.hcrc&&ae.pending>me&&(j.adler=a(j.adler,ae.pending_buf,ae.pending-me,me)),_e===0&&(ae.gzindex=0,ae.status=X)}else ae.status=X;if(ae.status===X)if(ae.gzhead.comment){me=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>me&&(j.adler=a(j.adler,ae.pending_buf,ae.pending-me,me)),E(j),me=ae.pending,ae.pending===ae.pending_buf_size)){_e=1;break}_e=ae.gzindex<ae.gzhead.comment.length?255&ae.gzhead.comment.charCodeAt(ae.gzindex++):0,F(ae,_e)}while(_e!==0);ae.gzhead.hcrc&&ae.pending>me&&(j.adler=a(j.adler,ae.pending_buf,ae.pending-me,me)),_e===0&&(ae.status=ie)}else ae.status=ie;if(ae.status===ie&&(ae.gzhead.hcrc?(ae.pending+2>ae.pending_buf_size&&E(j),ae.pending+2<=ae.pending_buf_size&&(F(ae,255&j.adler),F(ae,j.adler>>8&255),j.adler=0,ae.status=le)):ae.status=le),ae.pending!==0){if(E(j),j.avail_out===0)return ae.last_flush=-1,p}else if(j.avail_in===0&&R(ve)<=R(he)&&ve!==h)return M(j,b);if(ae.status===ue&&j.avail_in!==0)return M(j,b);if(j.avail_in!==0||ae.lookahead!==0||ve!==u&&ae.status!==ue){var Le=ae.strategy===D?je(ae,ve):ae.strategy===k?Ce(ae,ve):r[ae.level].func(ae,ve);if(Le!==I&&Le!==B||(ae.status=ue),Le===te||Le===I)return j.avail_out===0&&(ae.last_flush=-1),p;if(Le===T&&(ve===c?o._tr_align(ae):ve!==f&&(o._tr_stored_block(ae,0,0,!1),ve===d&&(G(ae.head),ae.lookahead===0&&(ae.strstart=0,ae.block_start=0,ae.insert=0))),E(j),j.avail_out===0))return ae.last_flush=-1,p}return ve!==h?p:ae.wrap<=0?m:(ae.wrap===2?(F(ae,255&j.adler),F(ae,j.adler>>8&255),F(ae,j.adler>>16&255),F(ae,j.adler>>24&255),F(ae,255&j.total_in),F(ae,j.total_in>>8&255),F(ae,j.total_in>>16&255),F(ae,j.total_in>>24&255)):($(ae,j.adler>>>16),$(ae,65535&j.adler)),E(j),ae.wrap>0&&(ae.wrap=-ae.wrap),ae.pending!==0?p:m)}function xe(j){var ve;return j&&j.state?(ve=j.state.status)!==ee&&ve!==ne&&ve!==J&&ve!==X&&ve!==ie&&ve!==le&&ve!==ue?M(j,g):(j.state=null,ve===le?M(j,_):p):g}function Ge(j,ve){var he,ae,me,_e,We,Le,Ve,gt,Vn=ve.length;if(!j||!j.state||(_e=(he=j.state).wrap)===2||_e===1&&he.status!==ee||he.lookahead)return g;for(_e===1&&(j.adler=s(j.adler,ve,Vn,0)),he.wrap=0,Vn>=he.w_size&&(_e===0&&(G(he.head),he.strstart=0,he.block_start=0,he.insert=0),gt=new i.Buf8(he.w_size),i.arraySet(gt,ve,Vn-he.w_size,he.w_size,0),ve=gt,Vn=he.w_size),We=j.avail_in,Le=j.next_in,Ve=j.input,j.avail_in=Vn,j.next_in=0,j.input=ve,pe(he);he.lookahead>=H;){ae=he.strstart,me=he.lookahead-(H-1);do he.ins_h=(he.ins_h<<he.hash_shift^he.window[ae+H-1])&he.hash_mask,he.prev[ae&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=ae,ae++;while(--me);he.strstart=ae,he.lookahead=H-1,pe(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=H-1,he.match_available=0,j.next_in=Le,j.input=Ve,j.avail_in=We,he.wrap=_e,p}r=[new Ue(0,0,0,0,De),new Ue(4,4,8,4,ge),new Ue(4,5,16,8,ge),new Ue(4,6,32,32,ge),new Ue(4,4,16,16,Se),new Ue(8,16,32,32,Se),new Ue(8,16,128,128,Se),new Ue(8,32,128,256,Se),new Ue(32,128,258,1024,Se),new Ue(32,258,258,4096,Se)],n.deflateInit=ye,n.deflateInit2=ce,n.deflateReset=re,n.deflateResetKeep=Be,n.deflateSetHeader=Ie,n.deflate=K,n.deflateEnd=xe,n.deflateSetDictionary=Ge,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./messages":60,"./trees":61}],57:[function(e,t,n){var r=30,i=12;t.exports=function(o,s){var a,l,u,c,d,h,f,p,m,g,_,b,v,x,D,k,C,O,A,S,w,y,z,U,P;a=o.state,l=o.next_in,U=o.input,u=l+(o.avail_in-5),c=o.next_out,P=o.output,d=c-(s-o.avail_out),h=c+(o.avail_out-257),f=a.dmax,p=a.wsize,m=a.whave,g=a.wnext,_=a.window,b=a.hold,v=a.bits,x=a.lencode,D=a.distcode,k=(1<<a.lenbits)-1,C=(1<<a.distbits)-1;e:do{v<15&&(b+=U[l++]<<v,v+=8,b+=U[l++]<<v,v+=8),O=x[b&k];t:for(;;){if(b>>>=A=O>>>24,v-=A,(A=O>>>16&255)==0)P[c++]=65535&O;else{if(!(16&A)){if(64&A){if(32&A){a.mode=i;break e}o.msg="invalid literal/length code",a.mode=r;break e}O=x[(65535&O)+(b&(1<<A)-1)];continue t}for(S=65535&O,(A&=15)&&(v<A&&(b+=U[l++]<<v,v+=8),S+=b&(1<<A)-1,b>>>=A,v-=A),v<15&&(b+=U[l++]<<v,v+=8,b+=U[l++]<<v,v+=8),O=D[b&C];;){if(b>>>=A=O>>>24,v-=A,16&(A=O>>>16&255)){if(w=65535&O,v<(A&=15)&&(b+=U[l++]<<v,(v+=8)<A&&(b+=U[l++]<<v,v+=8)),(w+=b&(1<<A)-1)>f){o.msg="invalid distance too far back",a.mode=r;break e}if(b>>>=A,v-=A,w>(A=c-d)){if((A=w-A)>m&&a.sane){o.msg="invalid distance too far back",a.mode=r;break e}if(y=0,z=_,g===0){if(y+=p-A,A<S){S-=A;do P[c++]=_[y++];while(--A);y=c-w,z=P}}else if(g<A){if(y+=p+g-A,(A-=g)<S){S-=A;do P[c++]=_[y++];while(--A);if(y=0,g<S){S-=A=g;do P[c++]=_[y++];while(--A);y=c-w,z=P}}}else if(y+=g-A,A<S){S-=A;do P[c++]=_[y++];while(--A);y=c-w,z=P}for(;S>2;)P[c++]=z[y++],P[c++]=z[y++],P[c++]=z[y++],S-=3;S&&(P[c++]=z[y++],S>1&&(P[c++]=z[y++]))}else{y=c-w;do P[c++]=P[y++],P[c++]=P[y++],P[c++]=P[y++],S-=3;while(S>2);S&&(P[c++]=P[y++],S>1&&(P[c++]=P[y++]))}break}if(64&A){o.msg="invalid distance code",a.mode=r;break e}O=D[(65535&O)+(b&(1<<A)-1)]}}break}}while(l<u&&c<h);l-=S=v>>3,b&=(1<<(v-=S<<3))-1,o.next_in=l,o.next_out=c,o.avail_in=l<u?u-l+5:5-(l-u),o.avail_out=c<h?h-c+257:257-(c-h),a.hold=b,a.bits=v}},{}],58:[function(e,t,n){var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=0,u=1,c=2,d=4,h=5,f=6,p=0,m=1,g=2,_=-2,b=-3,v=-4,x=-5,D=8,k=1,C=2,O=3,A=4,S=5,w=6,y=7,z=8,U=9,P=10,V=11,Z=12,Y=13,H=14,q=15,W=16,Q=17,ee=18,ne=19,J=20,X=21,ie=22,le=23,ue=24,te=25,T=26,I=27,B=28,L=29,M=30,R=31,G=852,E=592,N=15;function F(ce){return(ce>>>24&255)+(ce>>>8&65280)+((65280&ce)<<8)+((255&ce)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function oe(ce){var ye;return ce&&ce.state?(ye=ce.state,ce.total_in=ce.total_out=ye.total=0,ce.msg="",ye.wrap&&(ce.adler=1&ye.wrap),ye.mode=k,ye.last=0,ye.havedict=0,ye.dmax=32768,ye.head=null,ye.hold=0,ye.bits=0,ye.lencode=ye.lendyn=new r.Buf32(G),ye.distcode=ye.distdyn=new r.Buf32(E),ye.sane=1,ye.back=-1,p):_}function se(ce){var ye;return ce&&ce.state?((ye=ce.state).wsize=0,ye.whave=0,ye.wnext=0,oe(ce)):_}function pe(ce,ye){var K,xe;return ce&&ce.state?(xe=ce.state,ye<0?(K=0,ye=-ye):(K=1+(ye>>4),ye<48&&(ye&=15)),ye&&(ye<8||ye>15)?_:(xe.window!==null&&xe.wbits!==ye&&(xe.window=null),xe.wrap=K,xe.wbits=ye,se(ce))):_}function De(ce,ye){var K,xe;return ce?(xe=new $,ce.state=xe,xe.window=null,(K=pe(ce,ye))!==p&&(ce.state=null),K):_}function ge(ce){return De(ce,N)}var Se,Ce,je=!0;function Ue(ce){if(je){var ye;for(Se=new r.Buf32(512),Ce=new r.Buf32(32),ye=0;ye<144;)ce.lens[ye++]=8;for(;ye<256;)ce.lens[ye++]=9;for(;ye<280;)ce.lens[ye++]=7;for(;ye<288;)ce.lens[ye++]=8;for(a(u,ce.lens,0,288,Se,0,ce.work,{bits:9}),ye=0;ye<32;)ce.lens[ye++]=5;a(c,ce.lens,0,32,Ce,0,ce.work,{bits:5}),je=!1}ce.lencode=Se,ce.lenbits=9,ce.distcode=Ce,ce.distbits=5}function Te(ce,ye,K,xe){var Ge,j=ce.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new r.Buf8(j.wsize)),xe>=j.wsize?(r.arraySet(j.window,ye,K-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):((Ge=j.wsize-j.wnext)>xe&&(Ge=xe),r.arraySet(j.window,ye,K-xe,Ge,j.wnext),(xe-=Ge)?(r.arraySet(j.window,ye,K-xe,xe,0),j.wnext=xe,j.whave=j.wsize):(j.wnext+=Ge,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=Ge))),0}function Je(ce,ye){var K,xe,Ge,j,ve,he,ae,me,_e,We,Le,Ve,gt,Vn,Ot,zt,en,tn,$o,Go,Vt,Rn,Fr,Nn,fn=0,Yt=new r.Buf8(4),Bs=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ce||!ce.state||!ce.output||!ce.input&&ce.avail_in!==0)return _;(K=ce.state).mode===Z&&(K.mode=Y),ve=ce.next_out,Ge=ce.output,ae=ce.avail_out,j=ce.next_in,xe=ce.input,he=ce.avail_in,me=K.hold,_e=K.bits,We=he,Le=ae,Rn=p;e:for(;;)switch(K.mode){case k:if(K.wrap===0){K.mode=Y;break}for(;_e<16;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}if(2&K.wrap&&me===35615){K.check=0,Yt[0]=255&me,Yt[1]=me>>>8&255,K.check=o(K.check,Yt,2,0),me=0,_e=0,K.mode=C;break}if(K.flags=0,K.head&&(K.head.done=!1),!(1&K.wrap)||(((255&me)<<8)+(me>>8))%31){ce.msg="incorrect header check",K.mode=M;break}if((15&me)!==D){ce.msg="unknown compression method",K.mode=M;break}if(_e-=4,Vt=8+(15&(me>>>=4)),K.wbits===0)K.wbits=Vt;else if(Vt>K.wbits){ce.msg="invalid window size",K.mode=M;break}K.dmax=1<<Vt,ce.adler=K.check=1,K.mode=512&me?P:Z,me=0,_e=0;break;case C:for(;_e<16;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}if(K.flags=me,(255&K.flags)!==D){ce.msg="unknown compression method",K.mode=M;break}if(57344&K.flags){ce.msg="unknown header flags set",K.mode=M;break}K.head&&(K.head.text=me>>8&1),512&K.flags&&(Yt[0]=255&me,Yt[1]=me>>>8&255,K.check=o(K.check,Yt,2,0)),me=0,_e=0,K.mode=O;case O:for(;_e<32;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}K.head&&(K.head.time=me),512&K.flags&&(Yt[0]=255&me,Yt[1]=me>>>8&255,Yt[2]=me>>>16&255,Yt[3]=me>>>24&255,K.check=o(K.check,Yt,4,0)),me=0,_e=0,K.mode=A;case A:for(;_e<16;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}K.head&&(K.head.xflags=255&me,K.head.os=me>>8),512&K.flags&&(Yt[0]=255&me,Yt[1]=me>>>8&255,K.check=o(K.check,Yt,2,0)),me=0,_e=0,K.mode=S;case S:if(1024&K.flags){for(;_e<16;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}K.length=me,K.head&&(K.head.extra_len=me),512&K.flags&&(Yt[0]=255&me,Yt[1]=me>>>8&255,K.check=o(K.check,Yt,2,0)),me=0,_e=0}else K.head&&(K.head.extra=null);K.mode=w;case w:if(1024&K.flags&&((Ve=K.length)>he&&(Ve=he),Ve&&(K.head&&(Vt=K.head.extra_len-K.length,K.head.extra||(K.head.extra=new Array(K.head.extra_len)),r.arraySet(K.head.extra,xe,j,Ve,Vt)),512&K.flags&&(K.check=o(K.check,xe,Ve,j)),he-=Ve,j+=Ve,K.length-=Ve),K.length))break e;K.length=0,K.mode=y;case y:if(2048&K.flags){if(he===0)break e;Ve=0;do Vt=xe[j+Ve++],K.head&&Vt&&K.length<65536&&(K.head.name+=String.fromCharCode(Vt));while(Vt&&Ve<he);if(512&K.flags&&(K.check=o(K.check,xe,Ve,j)),he-=Ve,j+=Ve,Vt)break e}else K.head&&(K.head.name=null);K.length=0,K.mode=z;case z:if(4096&K.flags){if(he===0)break e;Ve=0;do Vt=xe[j+Ve++],K.head&&Vt&&K.length<65536&&(K.head.comment+=String.fromCharCode(Vt));while(Vt&&Ve<he);if(512&K.flags&&(K.check=o(K.check,xe,Ve,j)),he-=Ve,j+=Ve,Vt)break e}else K.head&&(K.head.comment=null);K.mode=U;case U:if(512&K.flags){for(;_e<16;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}if(me!==(65535&K.check)){ce.msg="header crc mismatch",K.mode=M;break}me=0,_e=0}K.head&&(K.head.hcrc=K.flags>>9&1,K.head.done=!0),ce.adler=K.check=0,K.mode=Z;break;case P:for(;_e<32;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}ce.adler=K.check=F(me),me=0,_e=0,K.mode=V;case V:if(K.havedict===0)return ce.next_out=ve,ce.avail_out=ae,ce.next_in=j,ce.avail_in=he,K.hold=me,K.bits=_e,g;ce.adler=K.check=1,K.mode=Z;case Z:if(ye===h||ye===f)break e;case Y:if(K.last){me>>>=7&_e,_e-=7&_e,K.mode=I;break}for(;_e<3;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}switch(K.last=1&me,_e-=1,3&(me>>>=1)){case 0:K.mode=H;break;case 1:if(Ue(K),K.mode=J,ye===f){me>>>=2,_e-=2;break e}break;case 2:K.mode=Q;break;case 3:ce.msg="invalid block type",K.mode=M}me>>>=2,_e-=2;break;case H:for(me>>>=7&_e,_e-=7&_e;_e<32;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}if((65535&me)!=(me>>>16^65535)){ce.msg="invalid stored block lengths",K.mode=M;break}if(K.length=65535&me,me=0,_e=0,K.mode=q,ye===f)break e;case q:K.mode=W;case W:if(Ve=K.length){if(Ve>he&&(Ve=he),Ve>ae&&(Ve=ae),Ve===0)break e;r.arraySet(Ge,xe,j,Ve,ve),he-=Ve,j+=Ve,ae-=Ve,ve+=Ve,K.length-=Ve;break}K.mode=Z;break;case Q:for(;_e<14;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}if(K.nlen=257+(31&me),me>>>=5,_e-=5,K.ndist=1+(31&me),me>>>=5,_e-=5,K.ncode=4+(15&me),me>>>=4,_e-=4,K.nlen>286||K.ndist>30){ce.msg="too many length or distance symbols",K.mode=M;break}K.have=0,K.mode=ee;case ee:for(;K.have<K.ncode;){for(;_e<3;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}K.lens[Bs[K.have++]]=7&me,me>>>=3,_e-=3}for(;K.have<19;)K.lens[Bs[K.have++]]=0;if(K.lencode=K.lendyn,K.lenbits=7,Fr={bits:K.lenbits},Rn=a(l,K.lens,0,19,K.lencode,0,K.work,Fr),K.lenbits=Fr.bits,Rn){ce.msg="invalid code lengths set",K.mode=M;break}K.have=0,K.mode=ne;case ne:for(;K.have<K.nlen+K.ndist;){for(;zt=(fn=K.lencode[me&(1<<K.lenbits)-1])>>>16&255,en=65535&fn,!((Ot=fn>>>24)<=_e);){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}if(en<16)me>>>=Ot,_e-=Ot,K.lens[K.have++]=en;else{if(en===16){for(Nn=Ot+2;_e<Nn;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}if(me>>>=Ot,_e-=Ot,K.have===0){ce.msg="invalid bit length repeat",K.mode=M;break}Vt=K.lens[K.have-1],Ve=3+(3&me),me>>>=2,_e-=2}else if(en===17){for(Nn=Ot+3;_e<Nn;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}_e-=Ot,Vt=0,Ve=3+(7&(me>>>=Ot)),me>>>=3,_e-=3}else{for(Nn=Ot+7;_e<Nn;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}_e-=Ot,Vt=0,Ve=11+(127&(me>>>=Ot)),me>>>=7,_e-=7}if(K.have+Ve>K.nlen+K.ndist){ce.msg="invalid bit length repeat",K.mode=M;break}for(;Ve--;)K.lens[K.have++]=Vt}}if(K.mode===M)break;if(K.lens[256]===0){ce.msg="invalid code -- missing end-of-block",K.mode=M;break}if(K.lenbits=9,Fr={bits:K.lenbits},Rn=a(u,K.lens,0,K.nlen,K.lencode,0,K.work,Fr),K.lenbits=Fr.bits,Rn){ce.msg="invalid literal/lengths set",K.mode=M;break}if(K.distbits=6,K.distcode=K.distdyn,Fr={bits:K.distbits},Rn=a(c,K.lens,K.nlen,K.ndist,K.distcode,0,K.work,Fr),K.distbits=Fr.bits,Rn){ce.msg="invalid distances set",K.mode=M;break}if(K.mode=J,ye===f)break e;case J:K.mode=X;case X:if(he>=6&&ae>=258){ce.next_out=ve,ce.avail_out=ae,ce.next_in=j,ce.avail_in=he,K.hold=me,K.bits=_e,s(ce,Le),ve=ce.next_out,Ge=ce.output,ae=ce.avail_out,j=ce.next_in,xe=ce.input,he=ce.avail_in,me=K.hold,_e=K.bits,K.mode===Z&&(K.back=-1);break}for(K.back=0;zt=(fn=K.lencode[me&(1<<K.lenbits)-1])>>>16&255,en=65535&fn,!((Ot=fn>>>24)<=_e);){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}if(zt&&!(240&zt)){for(tn=Ot,$o=zt,Go=en;zt=(fn=K.lencode[Go+((me&(1<<tn+$o)-1)>>tn)])>>>16&255,en=65535&fn,!(tn+(Ot=fn>>>24)<=_e);){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}me>>>=tn,_e-=tn,K.back+=tn}if(me>>>=Ot,_e-=Ot,K.back+=Ot,K.length=en,zt===0){K.mode=T;break}if(32&zt){K.back=-1,K.mode=Z;break}if(64&zt){ce.msg="invalid literal/length code",K.mode=M;break}K.extra=15&zt,K.mode=ie;case ie:if(K.extra){for(Nn=K.extra;_e<Nn;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}K.length+=me&(1<<K.extra)-1,me>>>=K.extra,_e-=K.extra,K.back+=K.extra}K.was=K.length,K.mode=le;case le:for(;zt=(fn=K.distcode[me&(1<<K.distbits)-1])>>>16&255,en=65535&fn,!((Ot=fn>>>24)<=_e);){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}if(!(240&zt)){for(tn=Ot,$o=zt,Go=en;zt=(fn=K.distcode[Go+((me&(1<<tn+$o)-1)>>tn)])>>>16&255,en=65535&fn,!(tn+(Ot=fn>>>24)<=_e);){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}me>>>=tn,_e-=tn,K.back+=tn}if(me>>>=Ot,_e-=Ot,K.back+=Ot,64&zt){ce.msg="invalid distance code",K.mode=M;break}K.offset=en,K.extra=15&zt,K.mode=ue;case ue:if(K.extra){for(Nn=K.extra;_e<Nn;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}K.offset+=me&(1<<K.extra)-1,me>>>=K.extra,_e-=K.extra,K.back+=K.extra}if(K.offset>K.dmax){ce.msg="invalid distance too far back",K.mode=M;break}K.mode=te;case te:if(ae===0)break e;if(Ve=Le-ae,K.offset>Ve){if((Ve=K.offset-Ve)>K.whave&&K.sane){ce.msg="invalid distance too far back",K.mode=M;break}Ve>K.wnext?(Ve-=K.wnext,gt=K.wsize-Ve):gt=K.wnext-Ve,Ve>K.length&&(Ve=K.length),Vn=K.window}else Vn=Ge,gt=ve-K.offset,Ve=K.length;Ve>ae&&(Ve=ae),ae-=Ve,K.length-=Ve;do Ge[ve++]=Vn[gt++];while(--Ve);K.length===0&&(K.mode=X);break;case T:if(ae===0)break e;Ge[ve++]=K.length,ae--,K.mode=X;break;case I:if(K.wrap){for(;_e<32;){if(he===0)break e;he--,me|=xe[j++]<<_e,_e+=8}if(Le-=ae,ce.total_out+=Le,K.total+=Le,Le&&(ce.adler=K.check=K.flags?o(K.check,Ge,Le,ve-Le):i(K.check,Ge,Le,ve-Le)),Le=ae,(K.flags?me:F(me))!==K.check){ce.msg="incorrect data check",K.mode=M;break}me=0,_e=0}K.mode=B;case B:if(K.wrap&&K.flags){for(;_e<32;){if(he===0)break e;he--,me+=xe[j++]<<_e,_e+=8}if(me!==(4294967295&K.total)){ce.msg="incorrect length check",K.mode=M;break}me=0,_e=0}K.mode=L;case L:Rn=m;break e;case M:Rn=b;break e;case R:return v;default:return _}return ce.next_out=ve,ce.avail_out=ae,ce.next_in=j,ce.avail_in=he,K.hold=me,K.bits=_e,(K.wsize||Le!==ce.avail_out&&K.mode<M&&(K.mode<I||ye!==d))&&Te(ce,ce.output,ce.next_out,Le-ce.avail_out),We-=ce.avail_in,Le-=ce.avail_out,ce.total_in+=We,ce.total_out+=Le,K.total+=Le,K.wrap&&Le&&(ce.adler=K.check=K.flags?o(K.check,Ge,Le,ce.next_out-Le):i(K.check,Ge,Le,ce.next_out-Le)),ce.data_type=K.bits+(K.last?64:0)+(K.mode===Z?128:0)+(K.mode===J||K.mode===q?256:0),(We===0&&Le===0||ye===d)&&Rn===p&&(Rn=x),Rn}function Be(ce){if(!ce||!ce.state)return _;var ye=ce.state;return ye.window&&(ye.window=null),ce.state=null,p}function re(ce,ye){var K;return ce&&ce.state&&2&(K=ce.state).wrap?(K.head=ye,ye.done=!1,p):_}function Ie(ce,ye){var K,xe=ye.length;return ce&&ce.state?(K=ce.state).wrap!==0&&K.mode!==V?_:K.mode===V&&i(1,ye,xe,0)!==K.check?b:Te(ce,ye,xe,xe)?(K.mode=R,v):(K.havedict=1,p):_}n.inflateReset=se,n.inflateReset2=pe,n.inflateResetKeep=oe,n.inflateInit=ge,n.inflateInit2=De,n.inflate=Je,n.inflateEnd=Be,n.inflateGetHeader=re,n.inflateSetDictionary=Ie,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":52,"./adler32":53,"./crc32":55,"./inffast":57,"./inftrees":59}],59:[function(e,t,n){var r=e("../utils/common"),i=15,o=852,s=592,a=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(p,m,g,_,b,v,x,D){var k,C,O,A,S,w,y,z,U,P=D.bits,V=0,Z=0,Y=0,H=0,q=0,W=0,Q=0,ee=0,ne=0,J=0,X=null,ie=0,le=new r.Buf16(i+1),ue=new r.Buf16(i+1),te=null,T=0;for(V=0;V<=i;V++)le[V]=0;for(Z=0;Z<_;Z++)le[m[g+Z]]++;for(q=P,H=i;H>=1&&le[H]===0;H--);if(q>H&&(q=H),H===0)return b[v++]=20971520,b[v++]=20971520,D.bits=1,0;for(Y=1;Y<H&&le[Y]===0;Y++);for(q<Y&&(q=Y),ee=1,V=1;V<=i;V++)if(ee<<=1,(ee-=le[V])<0)return-1;if(ee>0&&(p===a||H!==1))return-1;for(ue[1]=0,V=1;V<i;V++)ue[V+1]=ue[V]+le[V];for(Z=0;Z<_;Z++)m[g+Z]!==0&&(x[ue[m[g+Z]]++]=Z);if(p===a?(X=te=x,w=19):p===l?(X=c,ie-=257,te=d,T-=257,w=256):(X=h,te=f,w=-1),J=0,Z=0,V=Y,S=v,W=q,Q=0,O=-1,A=(ne=1<<q)-1,p===l&&ne>o||p===u&&ne>s)return 1;for(;;){y=V-Q,x[Z]<w?(z=0,U=x[Z]):x[Z]>w?(z=te[T+x[Z]],U=X[ie+x[Z]]):(z=96,U=0),k=1<<V-Q,Y=C=1<<W;do b[S+(J>>Q)+(C-=k)]=y<<24|z<<16|U;while(C!==0);for(k=1<<V-1;J&k;)k>>=1;if(k!==0?(J&=k-1,J+=k):J=0,Z++,--le[V]==0){if(V===H)break;V=m[g+x[Z]]}if(V>q&&(J&A)!==O){for(Q===0&&(Q=q),S+=Y,ee=1<<(W=V-Q);W+Q<H&&!((ee-=le[W+Q])<=0);)W++,ee<<=1;if(ne+=1<<W,p===l&&ne>o||p===u&&ne>s)return 1;b[O=J&A]=q<<24|W<<16|S-v}}return J!==0&&(b[S+J]=V-Q<<24|64<<16),D.bits=q,0}},{"../utils/common":52}],60:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],61:[function(e,t,n){var r=e("../utils/common"),i=4,o=0,s=1,a=2;function l(re){for(var Ie=re.length;--Ie>=0;)re[Ie]=0}var u=0,c=1,d=2,h=3,f=258,p=29,m=256,g=m+1+p,_=30,b=19,v=2*g+1,x=15,D=16,k=7,C=256,O=16,A=17,S=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=512,V=new Array(2*(g+2));l(V);var Z=new Array(2*_);l(Z);var Y=new Array(P);l(Y);var H=new Array(f-h+1);l(H);var q=new Array(p);l(q);var W,Q,ee,ne=new Array(_);function J(re,Ie,ce,ye,K){this.static_tree=re,this.extra_bits=Ie,this.extra_base=ce,this.elems=ye,this.max_length=K,this.has_stree=re&&re.length}function X(re,Ie){this.dyn_tree=re,this.max_code=0,this.stat_desc=Ie}function ie(re){return re<256?Y[re]:Y[256+(re>>>7)]}function le(re,Ie){re.pending_buf[re.pending++]=255&Ie,re.pending_buf[re.pending++]=Ie>>>8&255}function ue(re,Ie,ce){re.bi_valid>D-ce?(re.bi_buf|=Ie<<re.bi_valid&65535,le(re,re.bi_buf),re.bi_buf=Ie>>D-re.bi_valid,re.bi_valid+=ce-D):(re.bi_buf|=Ie<<re.bi_valid&65535,re.bi_valid+=ce)}function te(re,Ie,ce){ue(re,ce[2*Ie],ce[2*Ie+1])}function T(re,Ie){var ce=0;do ce|=1&re,re>>>=1,ce<<=1;while(--Ie>0);return ce>>>1}function I(re){re.bi_valid===16?(le(re,re.bi_buf),re.bi_buf=0,re.bi_valid=0):re.bi_valid>=8&&(re.pending_buf[re.pending++]=255&re.bi_buf,re.bi_buf>>=8,re.bi_valid-=8)}function B(re,Ie){var ce,ye,K,xe,Ge,j,ve=Ie.dyn_tree,he=Ie.max_code,ae=Ie.stat_desc.static_tree,me=Ie.stat_desc.has_stree,_e=Ie.stat_desc.extra_bits,We=Ie.stat_desc.extra_base,Le=Ie.stat_desc.max_length,Ve=0;for(xe=0;xe<=x;xe++)re.bl_count[xe]=0;for(ve[2*re.heap[re.heap_max]+1]=0,ce=re.heap_max+1;ce<v;ce++)(xe=ve[2*ve[2*(ye=re.heap[ce])+1]+1]+1)>Le&&(xe=Le,Ve++),ve[2*ye+1]=xe,ye>he||(re.bl_count[xe]++,Ge=0,ye>=We&&(Ge=_e[ye-We]),j=ve[2*ye],re.opt_len+=j*(xe+Ge),me&&(re.static_len+=j*(ae[2*ye+1]+Ge)));if(Ve!==0){do{for(xe=Le-1;re.bl_count[xe]===0;)xe--;re.bl_count[xe]--,re.bl_count[xe+1]+=2,re.bl_count[Le]--,Ve-=2}while(Ve>0);for(xe=Le;xe!==0;xe--)for(ye=re.bl_count[xe];ye!==0;)(K=re.heap[--ce])>he||(ve[2*K+1]!==xe&&(re.opt_len+=(xe-ve[2*K+1])*ve[2*K],ve[2*K+1]=xe),ye--)}}function L(re,Ie,ce){var ye,K,xe=new Array(x+1),Ge=0;for(ye=1;ye<=x;ye++)xe[ye]=Ge=Ge+ce[ye-1]<<1;for(K=0;K<=Ie;K++){var j=re[2*K+1];j!==0&&(re[2*K]=T(xe[j]++,j))}}function M(){var re,Ie,ce,ye,K,xe=new Array(x+1);for(ce=0,ye=0;ye<p-1;ye++)for(q[ye]=ce,re=0;re<1<<w[ye];re++)H[ce++]=ye;for(H[ce-1]=ye,K=0,ye=0;ye<16;ye++)for(ne[ye]=K,re=0;re<1<<y[ye];re++)Y[K++]=ye;for(K>>=7;ye<_;ye++)for(ne[ye]=K<<7,re=0;re<1<<y[ye]-7;re++)Y[256+K++]=ye;for(Ie=0;Ie<=x;Ie++)xe[Ie]=0;for(re=0;re<=143;)V[2*re+1]=8,re++,xe[8]++;for(;re<=255;)V[2*re+1]=9,re++,xe[9]++;for(;re<=279;)V[2*re+1]=7,re++,xe[7]++;for(;re<=287;)V[2*re+1]=8,re++,xe[8]++;for(L(V,g+1,xe),re=0;re<_;re++)Z[2*re+1]=5,Z[2*re]=T(re,5);W=new J(V,w,m+1,g,x),Q=new J(Z,y,0,_,x),ee=new J(new Array(0),z,0,b,k)}function R(re){var Ie;for(Ie=0;Ie<g;Ie++)re.dyn_ltree[2*Ie]=0;for(Ie=0;Ie<_;Ie++)re.dyn_dtree[2*Ie]=0;for(Ie=0;Ie<b;Ie++)re.bl_tree[2*Ie]=0;re.dyn_ltree[2*C]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function G(re){re.bi_valid>8?le(re,re.bi_buf):re.bi_valid>0&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function E(re,Ie,ce,ye){G(re),le(re,ce),le(re,~ce),r.arraySet(re.pending_buf,re.window,Ie,ce,re.pending),re.pending+=ce}function N(re,Ie,ce,ye){var K=2*Ie,xe=2*ce;return re[K]<re[xe]||re[K]===re[xe]&&ye[Ie]<=ye[ce]}function F(re,Ie,ce){for(var ye=re.heap[ce],K=ce<<1;K<=re.heap_len&&(K<re.heap_len&&N(Ie,re.heap[K+1],re.heap[K],re.depth)&&K++,!N(Ie,ye,re.heap[K],re.depth));)re.heap[ce]=re.heap[K],ce=K,K<<=1;re.heap[ce]=ye}function $(re,Ie,ce){var ye,K,xe,Ge,j=0;if(re.last_lit!==0)do ye=re.pending_buf[re.d_buf+2*j]<<8|re.pending_buf[re.d_buf+2*j+1],K=re.pending_buf[re.l_buf+j],j++,ye===0?te(re,K,Ie):(te(re,(xe=H[K])+m+1,Ie),(Ge=w[xe])!==0&&ue(re,K-=q[xe],Ge),te(re,xe=ie(--ye),ce),(Ge=y[xe])!==0&&ue(re,ye-=ne[xe],Ge));while(j<re.last_lit);te(re,C,Ie)}function oe(re,Ie){var ce,ye,K,xe=Ie.dyn_tree,Ge=Ie.stat_desc.static_tree,j=Ie.stat_desc.has_stree,ve=Ie.stat_desc.elems,he=-1;for(re.heap_len=0,re.heap_max=v,ce=0;ce<ve;ce++)xe[2*ce]!==0?(re.heap[++re.heap_len]=he=ce,re.depth[ce]=0):xe[2*ce+1]=0;for(;re.heap_len<2;)xe[2*(K=re.heap[++re.heap_len]=he<2?++he:0)]=1,re.depth[K]=0,re.opt_len--,j&&(re.static_len-=Ge[2*K+1]);for(Ie.max_code=he,ce=re.heap_len>>1;ce>=1;ce--)F(re,xe,ce);K=ve;do ce=re.heap[1],re.heap[1]=re.heap[re.heap_len--],F(re,xe,1),ye=re.heap[1],re.heap[--re.heap_max]=ce,re.heap[--re.heap_max]=ye,xe[2*K]=xe[2*ce]+xe[2*ye],re.depth[K]=(re.depth[ce]>=re.depth[ye]?re.depth[ce]:re.depth[ye])+1,xe[2*ce+1]=xe[2*ye+1]=K,re.heap[1]=K++,F(re,xe,1);while(re.heap_len>=2);re.heap[--re.heap_max]=re.heap[1],B(re,Ie),L(xe,he,re.bl_count)}function se(re,Ie,ce){var ye,K,xe=-1,Ge=Ie[1],j=0,ve=7,he=4;for(Ge===0&&(ve=138,he=3),Ie[2*(ce+1)+1]=65535,ye=0;ye<=ce;ye++)K=Ge,Ge=Ie[2*(ye+1)+1],++j<ve&&K===Ge||(j<he?re.bl_tree[2*K]+=j:K!==0?(K!==xe&&re.bl_tree[2*K]++,re.bl_tree[2*O]++):j<=10?re.bl_tree[2*A]++:re.bl_tree[2*S]++,j=0,xe=K,Ge===0?(ve=138,he=3):K===Ge?(ve=6,he=3):(ve=7,he=4))}function pe(re,Ie,ce){var ye,K,xe=-1,Ge=Ie[1],j=0,ve=7,he=4;for(Ge===0&&(ve=138,he=3),ye=0;ye<=ce;ye++)if(K=Ge,Ge=Ie[2*(ye+1)+1],!(++j<ve&&K===Ge)){if(j<he)do te(re,K,re.bl_tree);while(--j!=0);else K!==0?(K!==xe&&(te(re,K,re.bl_tree),j--),te(re,O,re.bl_tree),ue(re,j-3,2)):j<=10?(te(re,A,re.bl_tree),ue(re,j-3,3)):(te(re,S,re.bl_tree),ue(re,j-11,7));j=0,xe=K,Ge===0?(ve=138,he=3):K===Ge?(ve=6,he=3):(ve=7,he=4)}}function De(re){var Ie;for(se(re,re.dyn_ltree,re.l_desc.max_code),se(re,re.dyn_dtree,re.d_desc.max_code),oe(re,re.bl_desc),Ie=b-1;Ie>=3&&re.bl_tree[2*U[Ie]+1]===0;Ie--);return re.opt_len+=3*(Ie+1)+5+5+4,Ie}function ge(re,Ie,ce,ye){var K;for(ue(re,Ie-257,5),ue(re,ce-1,5),ue(re,ye-4,4),K=0;K<ye;K++)ue(re,re.bl_tree[2*U[K]+1],3);pe(re,re.dyn_ltree,Ie-1),pe(re,re.dyn_dtree,ce-1)}function Se(re){var Ie,ce=4093624447;for(Ie=0;Ie<=31;Ie++,ce>>>=1)if(1&ce&&re.dyn_ltree[2*Ie]!==0)return o;if(re.dyn_ltree[18]!==0||re.dyn_ltree[20]!==0||re.dyn_ltree[26]!==0)return s;for(Ie=32;Ie<m;Ie++)if(re.dyn_ltree[2*Ie]!==0)return s;return o}l(ne);var Ce=!1;function je(re){Ce||(M(),Ce=!0),re.l_desc=new X(re.dyn_ltree,W),re.d_desc=new X(re.dyn_dtree,Q),re.bl_desc=new X(re.bl_tree,ee),re.bi_buf=0,re.bi_valid=0,R(re)}function Ue(re,Ie,ce,ye){ue(re,(u<<1)+(ye?1:0),3),E(re,Ie,ce)}function Te(re){ue(re,c<<1,3),te(re,C,V),I(re)}function Je(re,Ie,ce,ye){var K,xe,Ge=0;re.level>0?(re.strm.data_type===a&&(re.strm.data_type=Se(re)),oe(re,re.l_desc),oe(re,re.d_desc),Ge=De(re),K=re.opt_len+3+7>>>3,(xe=re.static_len+3+7>>>3)<=K&&(K=xe)):K=xe=ce+5,ce+4<=K&&Ie!==-1?Ue(re,Ie,ce,ye):re.strategy===i||xe===K?(ue(re,(c<<1)+(ye?1:0),3),$(re,V,Z)):(ue(re,(d<<1)+(ye?1:0),3),ge(re,re.l_desc.max_code+1,re.d_desc.max_code+1,Ge+1),$(re,re.dyn_ltree,re.dyn_dtree)),R(re),ye&&G(re)}function Be(re,Ie,ce){return re.pending_buf[re.d_buf+2*re.last_lit]=Ie>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&Ie,re.pending_buf[re.l_buf+re.last_lit]=255&ce,re.last_lit++,Ie===0?re.dyn_ltree[2*ce]++:(re.matches++,Ie--,re.dyn_ltree[2*(H[ce]+m+1)]++,re.dyn_dtree[2*ie(Ie)]++),re.last_lit===re.lit_bufsize-1}n._tr_init=je,n._tr_stored_block=Ue,n._tr_flush_block=Je,n._tr_tally=Be,n._tr_align=Te},{"../utils/common":52}],62:[function(e,t,n){function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}],63:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(b){if(r===setTimeout)return setTimeout(b,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(b,0);try{return r(b,0)}catch{try{return r.call(null,b,0)}catch{return r.call(this,b,0)}}}function u(b){if(i===clearTimeout)return clearTimeout(b);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(b);try{return i(b)}catch{try{return i.call(null,b)}catch{return i.call(this,b)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:s}catch{r=s}try{i=typeof clearTimeout=="function"?clearTimeout:a}catch{i=a}})();var c,d=[],h=!1,f=-1;function p(){h&&c&&(h=!1,c.length?d=c.concat(d):f=-1,d.length&&m())}function m(){if(!h){var b=l(p);h=!0;for(var v=d.length;v;){for(c=d,d=[];++f<v;)c&&c[f].run();f=-1,v=d.length}c=null,h=!1,u(b)}}function g(b,v){this.fun=b,this.array=v}function _(){}o.nextTick=function(b){var v=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)v[x-1]=arguments[x];d.push(new g(b,v)),d.length!==1||h||l(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(b){return[]},o.binding=function(b){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(b){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],64:[function(e,t,n){var r=e("buffer"),i=r.Buffer;function o(a,l){for(var u in a)l[u]=a[u]}function s(a,l,u){return i(a,l,u)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,n),n.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(a,l,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return i(a,l,u)},s.alloc=function(a,l,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=i(a);return l!==void 0?typeof u=="string"?c.fill(l,u):c.fill(l):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}},{buffer:32}],65:[function(e,t,n){t.exports=i;var r=e("events").EventEmitter;function i(){r.call(this)}e("inherits")(i,r),i.Readable=e("readable-stream/lib/_stream_readable.js"),i.Writable=e("readable-stream/lib/_stream_writable.js"),i.Duplex=e("readable-stream/lib/_stream_duplex.js"),i.Transform=e("readable-stream/lib/_stream_transform.js"),i.PassThrough=e("readable-stream/lib/_stream_passthrough.js"),i.finished=e("readable-stream/lib/internal/streams/end-of-stream.js"),i.pipeline=e("readable-stream/lib/internal/streams/pipeline.js"),i.Stream=i,i.prototype.pipe=function(o,s){var a=this;function l(m){o.writable&&o.write(m)===!1&&a.pause&&a.pause()}function u(){a.readable&&a.resume&&a.resume()}a.on("data",l),o.on("drain",u),o._isStdio||s&&s.end===!1||(a.on("end",d),a.on("close",h));var c=!1;function d(){c||(c=!0,o.end())}function h(){c||(c=!0,typeof o.destroy=="function"&&o.destroy())}function f(m){if(p(),r.listenerCount(this,"error")===0)throw m}function p(){a.removeListener("data",l),o.removeListener("drain",u),a.removeListener("end",d),a.removeListener("close",h),a.removeListener("error",f),o.removeListener("error",f),a.removeListener("end",p),a.removeListener("close",p),o.removeListener("close",p)}return a.on("error",f),o.on("error",f),a.on("end",p),a.on("close",p),o.on("close",p),o.emit("pipe",a),o}},{events:35,inherits:46,"readable-stream/lib/_stream_duplex.js":67,"readable-stream/lib/_stream_passthrough.js":68,"readable-stream/lib/_stream_readable.js":69,"readable-stream/lib/_stream_transform.js":70,"readable-stream/lib/_stream_writable.js":71,"readable-stream/lib/internal/streams/end-of-stream.js":75,"readable-stream/lib/internal/streams/pipeline.js":77}],66:[function(e,t,n){function r(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var i={};function o(c,d,h){function f(m,g,_){return typeof d=="string"?d:d(m,g,_)}h||(h=Error);var p=(function(m){function g(_,b,v){return m.call(this,f(_,b,v))||this}return r(g,m),g})(h);p.prototype.name=h.name,p.prototype.code=c,i[c]=p}function s(c,d){if(Array.isArray(c)){var h=c.length;return c=c.map(function(f){return String(f)}),h>2?"one of ".concat(d," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(d," ").concat(c[0]," or ").concat(c[1]):"of ".concat(d," ").concat(c[0])}return"of ".concat(d," ").concat(String(c))}function a(c,d,h){return c.substr(0,d.length)===d}function l(c,d,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-d.length,h)===d}function u(c,d,h){return typeof h!="number"&&(h=0),!(h+d.length>c.length)&&c.indexOf(d,h)!==-1}o("ERR_INVALID_OPT_VALUE",function(c,d){return'The value "'+d+'" is invalid for option "'+c+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(c,d,h){var f,p;if(typeof d=="string"&&a(d,"not ")?(f="must not be",d=d.replace(/^not /,"")):f="must be",l(c," argument"))p="The ".concat(c," ").concat(f," ").concat(s(d,"type"));else{var m=u(c,".")?"property":"argument";p='The "'.concat(c,'" ').concat(m," ").concat(f," ").concat(s(d,"type"))}return p+=". Received type ".concat(typeof h)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},{}],67:[function(e,t,n){(function(r){(function(){var i=Object.keys||function(f){var p=[];for(var m in f)p.push(m);return p};t.exports=c;var o=e("./_stream_readable"),s=e("./_stream_writable");e("inherits")(c,o);for(var a=i(s.prototype),l=0;l<a.length;l++){var u=a[l];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(f){if(!(this instanceof c))return new c(f);o.call(this,f),s.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||r.nextTick(h,this)}function h(f){f.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":69,"./_stream_writable":71,_process:63,inherits:46}],68:[function(e,t,n){t.exports=i;var r=e("./_stream_transform");function i(o){if(!(this instanceof i))return new i(o);r.call(this,o)}e("inherits")(i,r),i.prototype._transform=function(o,s,a){a(null,o)}},{"./_stream_transform":70,inherits:46}],69:[function(e,t,n){(function(r,i){(function(){var o;t.exports=z,z.ReadableState=y,e("events").EventEmitter;var s=function(M,R){return M.listeners(R).length},a=e("./internal/streams/stream"),l=e("buffer").Buffer,u=i.Uint8Array||function(){};function c(M){return l.from(M)}function d(M){return l.isBuffer(M)||M instanceof u}var h,f=e("util");h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m,g,_=e("./internal/streams/buffer_list"),b=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,x=e("../errors").codes,D=x.ERR_INVALID_ARG_TYPE,k=x.ERR_STREAM_PUSH_AFTER_EOF,C=x.ERR_METHOD_NOT_IMPLEMENTED,O=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(z,a);var A=b.errorOrDestroy,S=["error","close","destroy","pause","resume"];function w(M,R,G){if(typeof M.prependListener=="function")return M.prependListener(R,G);M._events&&M._events[R]?Array.isArray(M._events[R])?M._events[R].unshift(G):M._events[R]=[G,M._events[R]]:M.on(R,G)}function y(M,R,G){o=o||e("./_stream_duplex"),M=M||{},typeof G!="boolean"&&(G=R instanceof o),this.objectMode=!!M.objectMode,G&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=v(this,M,"readableHighWaterMark",G),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(p||(p=e("string_decoder/").StringDecoder),this.decoder=new p(M.encoding),this.encoding=M.encoding)}function z(M){if(o=o||e("./_stream_duplex"),!(this instanceof z))return new z(M);var R=this instanceof o;this._readableState=new y(M,this,R),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),a.call(this)}function U(M,R,G,E,N){h("readableAddChunk",R);var F,$=M._readableState;if(R===null)$.reading=!1,q(M,$);else if(N||(F=V($,R)),F)A(M,F);else if($.objectMode||R&&R.length>0)if(typeof R=="string"||$.objectMode||Object.getPrototypeOf(R)===l.prototype||(R=c(R)),E)$.endEmitted?A(M,new O):P(M,$,R,!0);else if($.ended)A(M,new k);else{if($.destroyed)return!1;$.reading=!1,$.decoder&&!G?(R=$.decoder.write(R),$.objectMode||R.length!==0?P(M,$,R,!1):ee(M,$)):P(M,$,R,!1)}else E||($.reading=!1,ee(M,$));return!$.ended&&($.length<$.highWaterMark||$.length===0)}function P(M,R,G,E){R.flowing&&R.length===0&&!R.sync?(R.awaitDrain=0,M.emit("data",G)):(R.length+=R.objectMode?1:G.length,E?R.buffer.unshift(G):R.buffer.push(G),R.needReadable&&W(M)),ee(M,R)}function V(M,R){var G;return d(R)||typeof R=="string"||R===void 0||M.objectMode||(G=new D("chunk",["string","Buffer","Uint8Array"],R)),G}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),z.prototype.destroy=b.destroy,z.prototype._undestroy=b.undestroy,z.prototype._destroy=function(M,R){R(M)},z.prototype.push=function(M,R){var G,E=this._readableState;return E.objectMode?G=!0:typeof M=="string"&&((R=R||E.defaultEncoding)!==E.encoding&&(M=l.from(M,R),R=""),G=!0),U(this,M,R,!1,G)},z.prototype.unshift=function(M){return U(this,M,null,!0,!1)},z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(M){p||(p=e("string_decoder/").StringDecoder);var R=new p(M);this._readableState.decoder=R,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,E="";G!==null;)E+=R.write(G.data),G=G.next;return this._readableState.buffer.clear(),E!==""&&this._readableState.buffer.push(E),this._readableState.length=E.length,this};var Z=1073741824;function Y(M){return M>=Z?M=Z:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function H(M,R){return M<=0||R.length===0&&R.ended?0:R.objectMode?1:M!=M?R.flowing&&R.length?R.buffer.head.data.length:R.length:(M>R.highWaterMark&&(R.highWaterMark=Y(M)),M<=R.length?M:R.ended?R.length:(R.needReadable=!0,0))}function q(M,R){if(h("onEofChunk"),!R.ended){if(R.decoder){var G=R.decoder.end();G&&G.length&&(R.buffer.push(G),R.length+=R.objectMode?1:G.length)}R.ended=!0,R.sync?W(M):(R.needReadable=!1,R.emittedReadable||(R.emittedReadable=!0,Q(M)))}}function W(M){var R=M._readableState;h("emitReadable",R.needReadable,R.emittedReadable),R.needReadable=!1,R.emittedReadable||(h("emitReadable",R.flowing),R.emittedReadable=!0,r.nextTick(Q,M))}function Q(M){var R=M._readableState;h("emitReadable_",R.destroyed,R.length,R.ended),R.destroyed||!R.length&&!R.ended||(M.emit("readable"),R.emittedReadable=!1),R.needReadable=!R.flowing&&!R.ended&&R.length<=R.highWaterMark,te(M)}function ee(M,R){R.readingMore||(R.readingMore=!0,r.nextTick(ne,M,R))}function ne(M,R){for(;!R.reading&&!R.ended&&(R.length<R.highWaterMark||R.flowing&&R.length===0);){var G=R.length;if(h("maybeReadMore read 0"),M.read(0),G===R.length)break}R.readingMore=!1}function J(M){return function(){var R=M._readableState;h("pipeOnDrain",R.awaitDrain),R.awaitDrain&&R.awaitDrain--,R.awaitDrain===0&&s(M,"data")&&(R.flowing=!0,te(M))}}function X(M){var R=M._readableState;R.readableListening=M.listenerCount("readable")>0,R.resumeScheduled&&!R.paused?R.flowing=!0:M.listenerCount("data")>0&&M.resume()}function ie(M){h("readable nexttick read 0"),M.read(0)}function le(M,R){R.resumeScheduled||(R.resumeScheduled=!0,r.nextTick(ue,M,R))}function ue(M,R){h("resume",R.reading),R.reading||M.read(0),R.resumeScheduled=!1,M.emit("resume"),te(M),R.flowing&&!R.reading&&M.read(0)}function te(M){var R=M._readableState;for(h("flow",R.flowing);R.flowing&&M.read()!==null;);}function T(M,R){return R.length===0?null:(R.objectMode?G=R.buffer.shift():!M||M>=R.length?(G=R.decoder?R.buffer.join(""):R.buffer.length===1?R.buffer.first():R.buffer.concat(R.length),R.buffer.clear()):G=R.buffer.consume(M,R.decoder),G);var G}function I(M){var R=M._readableState;h("endReadable",R.endEmitted),R.endEmitted||(R.ended=!0,r.nextTick(B,R,M))}function B(M,R){if(h("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,R.readable=!1,R.emit("end"),M.autoDestroy)){var G=R._writableState;(!G||G.autoDestroy&&G.finished)&&R.destroy()}}function L(M,R){for(var G=0,E=M.length;G<E;G++)if(M[G]===R)return G;return-1}z.prototype.read=function(M){h("read",M),M=parseInt(M,10);var R=this._readableState,G=M;if(M!==0&&(R.emittedReadable=!1),M===0&&R.needReadable&&((R.highWaterMark!==0?R.length>=R.highWaterMark:R.length>0)||R.ended))return h("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?I(this):W(this),null;if((M=H(M,R))===0&&R.ended)return R.length===0&&I(this),null;var E,N=R.needReadable;return h("need readable",N),(R.length===0||R.length-M<R.highWaterMark)&&h("length less than watermark",N=!0),R.ended||R.reading?h("reading or ended",N=!1):N&&(h("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(M=H(G,R))),(E=M>0?T(M,R):null)===null?(R.needReadable=R.length<=R.highWaterMark,M=0):(R.length-=M,R.awaitDrain=0),R.length===0&&(R.ended||(R.needReadable=!0),G!==M&&R.ended&&I(this)),E!==null&&this.emit("data",E),E},z.prototype._read=function(M){A(this,new C("_read()"))},z.prototype.pipe=function(M,R){var G=this,E=this._readableState;switch(E.pipesCount){case 0:E.pipes=M;break;case 1:E.pipes=[E.pipes,M];break;default:E.pipes.push(M)}E.pipesCount+=1,h("pipe count=%d opts=%j",E.pipesCount,R);var N=R&&R.end===!1||M===r.stdout||M===r.stderr?je:$;function F(Ue,Te){h("onunpipe"),Ue===G&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,pe())}function $(){h("onend"),M.end()}E.endEmitted?r.nextTick(N):G.once("end",N),M.on("unpipe",F);var oe=J(G);M.on("drain",oe);var se=!1;function pe(){h("cleanup"),M.removeListener("close",Se),M.removeListener("finish",Ce),M.removeListener("drain",oe),M.removeListener("error",ge),M.removeListener("unpipe",F),G.removeListener("end",$),G.removeListener("end",je),G.removeListener("data",De),se=!0,!E.awaitDrain||M._writableState&&!M._writableState.needDrain||oe()}function De(Ue){h("ondata");var Te=M.write(Ue);h("dest.write",Te),Te===!1&&((E.pipesCount===1&&E.pipes===M||E.pipesCount>1&&L(E.pipes,M)!==-1)&&!se&&(h("false write response, pause",E.awaitDrain),E.awaitDrain++),G.pause())}function ge(Ue){h("onerror",Ue),je(),M.removeListener("error",ge),s(M,"error")===0&&A(M,Ue)}function Se(){M.removeListener("finish",Ce),je()}function Ce(){h("onfinish"),M.removeListener("close",Se),je()}function je(){h("unpipe"),G.unpipe(M)}return G.on("data",De),w(M,"error",ge),M.once("close",Se),M.once("finish",Ce),M.emit("pipe",G),E.flowing||(h("pipe resume"),G.resume()),M},z.prototype.unpipe=function(M){var R=this._readableState,G={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return M&&M!==R.pipes||(M||(M=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,M&&M.emit("unpipe",this,G)),this;if(!M){var E=R.pipes,N=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var F=0;F<N;F++)E[F].emit("unpipe",this,{hasUnpiped:!1});return this}var $=L(R.pipes,M);return $===-1||(R.pipes.splice($,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),M.emit("unpipe",this,G)),this},z.prototype.on=function(M,R){var G=a.prototype.on.call(this,M,R),E=this._readableState;return M==="data"?(E.readableListening=this.listenerCount("readable")>0,E.flowing!==!1&&this.resume()):M==="readable"&&(E.endEmitted||E.readableListening||(E.readableListening=E.needReadable=!0,E.flowing=!1,E.emittedReadable=!1,h("on readable",E.length,E.reading),E.length?W(this):E.reading||r.nextTick(ie,this))),G},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(M,R){var G=a.prototype.removeListener.call(this,M,R);return M==="readable"&&r.nextTick(X,this),G},z.prototype.removeAllListeners=function(M){var R=a.prototype.removeAllListeners.apply(this,arguments);return M!=="readable"&&M!==void 0||r.nextTick(X,this),R},z.prototype.resume=function(){var M=this._readableState;return M.flowing||(h("resume"),M.flowing=!M.readableListening,le(this,M)),M.paused=!1,this},z.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},z.prototype.wrap=function(M){var R=this,G=this._readableState,E=!1;for(var N in M.on("end",function(){if(h("wrapped end"),G.decoder&&!G.ended){var $=G.decoder.end();$&&$.length&&R.push($)}R.push(null)}),M.on("data",function($){h("wrapped data"),G.decoder&&($=G.decoder.write($)),G.objectMode&&$==null||(G.objectMode||$&&$.length)&&(R.push($)||(E=!0,M.pause()))}),M)this[N]===void 0&&typeof M[N]=="function"&&(this[N]=(function($){return function(){return M[$].apply(M,arguments)}})(N));for(var F=0;F<S.length;F++)M.on(S[F],this.emit.bind(this,S[F]));return this._read=function($){h("wrapped _read",$),E&&(E=!1,M.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return m===void 0&&(m=e("./internal/streams/async_iterator")),m(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}}),z._fromList=T,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(z.from=function(M,R){return g===void 0&&(g=e("./internal/streams/from")),g(z,M,R)})}).call(this)}).call(this,e("_process"),gn!==void 0?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/async_iterator":72,"./internal/streams/buffer_list":73,"./internal/streams/destroy":74,"./internal/streams/from":76,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,events:35,inherits:46,"string_decoder/":80,util:29}],70:[function(e,t,n){t.exports=c;var r=e("../errors").codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,l=e("./_stream_duplex");function u(f,p){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new o);m.writechunk=null,m.writecb=null,p!=null&&this.push(p),g(f);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function c(f){if(!(this instanceof c))return new c(f);l.call(this,f),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",d)}function d(){var f=this;typeof this._flush!="function"||this._readableState.destroyed?h(this,null,null):this._flush(function(p,m){h(f,p,m)})}function h(f,p,m){if(p)return f.emit("error",p);if(m!=null&&f.push(m),f._writableState.length)throw new a;if(f._transformState.transforming)throw new s;return f.push(null)}e("inherits")(c,l),c.prototype.push=function(f,p){return this._transformState.needTransform=!1,l.prototype.push.call(this,f,p)},c.prototype._transform=function(f,p,m){m(new i("_transform()"))},c.prototype._write=function(f,p,m){var g=this._transformState;if(g.writecb=m,g.writechunk=f,g.writeencoding=p,!g.transforming){var _=this._readableState;(g.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},c.prototype._read=function(f){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},c.prototype._destroy=function(f,p){l.prototype._destroy.call(this,f,function(m){p(m)})}},{"../errors":66,"./_stream_duplex":67,inherits:46}],71:[function(e,t,n){(function(r,i){(function(){function o(te){var T=this;this.next=null,this.entry=null,this.finish=function(){ue(T,te)}}var s;t.exports=y,y.WritableState=w;var a={deprecate:e("util-deprecate")},l=e("./internal/streams/stream"),u=e("buffer").Buffer,c=i.Uint8Array||function(){};function d(te){return u.from(te)}function h(te){return u.isBuffer(te)||te instanceof c}var f,p=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,_=g.ERR_INVALID_ARG_TYPE,b=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_MULTIPLE_CALLBACK,x=g.ERR_STREAM_CANNOT_PIPE,D=g.ERR_STREAM_DESTROYED,k=g.ERR_STREAM_NULL_VALUES,C=g.ERR_STREAM_WRITE_AFTER_END,O=g.ERR_UNKNOWN_ENCODING,A=p.errorOrDestroy;function S(){}function w(te,T,I){s=s||e("./_stream_duplex"),te=te||{},typeof I!="boolean"&&(I=T instanceof s),this.objectMode=!!te.objectMode,I&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=m(this,te,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=te.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(L){q(T,L)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(te){var T=this instanceof(s=s||e("./_stream_duplex"));if(!T&&!f.call(y,this))return new y(te);this._writableState=new w(te,this,T),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),l.call(this)}function z(te,T){var I=new C;A(te,I),r.nextTick(T,I)}function U(te,T,I,B){var L;return I===null?L=new k:typeof I=="string"||T.objectMode||(L=new _("chunk",["string","Buffer"],I)),!L||(A(te,L),r.nextTick(B,L),!1)}function P(te,T,I){return te.objectMode||te.decodeStrings===!1||typeof T!="string"||(T=u.from(T,I)),T}function V(te,T,I,B,L,M){if(!I){var R=P(T,B,L);B!==R&&(I=!0,L="buffer",B=R)}var G=T.objectMode?1:B.length;T.length+=G;var E=T.length<T.highWaterMark;if(E||(T.needDrain=!0),T.writing||T.corked){var N=T.lastBufferedRequest;T.lastBufferedRequest={chunk:B,encoding:L,isBuf:I,callback:M,next:null},N?N.next=T.lastBufferedRequest:T.bufferedRequest=T.lastBufferedRequest,T.bufferedRequestCount+=1}else Z(te,T,!1,G,B,L,M);return E}function Z(te,T,I,B,L,M,R){T.writelen=B,T.writecb=R,T.writing=!0,T.sync=!0,T.destroyed?T.onwrite(new D("write")):I?te._writev(L,T.onwrite):te._write(L,M,T.onwrite),T.sync=!1}function Y(te,T,I,B,L){--T.pendingcb,I?(r.nextTick(L,B),r.nextTick(ie,te,T),te._writableState.errorEmitted=!0,A(te,B)):(L(B),te._writableState.errorEmitted=!0,A(te,B),ie(te,T))}function H(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function q(te,T){var I=te._writableState,B=I.sync,L=I.writecb;if(typeof L!="function")throw new v;if(H(I),T)Y(te,I,B,T,L);else{var M=ne(I)||te.destroyed;M||I.corked||I.bufferProcessing||!I.bufferedRequest||ee(te,I),B?r.nextTick(W,te,I,M,L):W(te,I,M,L)}}function W(te,T,I,B){I||Q(te,T),T.pendingcb--,B(),ie(te,T)}function Q(te,T){T.length===0&&T.needDrain&&(T.needDrain=!1,te.emit("drain"))}function ee(te,T){T.bufferProcessing=!0;var I=T.bufferedRequest;if(te._writev&&I&&I.next){var B=T.bufferedRequestCount,L=new Array(B),M=T.corkedRequestsFree;M.entry=I;for(var R=0,G=!0;I;)L[R]=I,I.isBuf||(G=!1),I=I.next,R+=1;L.allBuffers=G,Z(te,T,!0,T.length,L,"",M.finish),T.pendingcb++,T.lastBufferedRequest=null,M.next?(T.corkedRequestsFree=M.next,M.next=null):T.corkedRequestsFree=new o(T),T.bufferedRequestCount=0}else{for(;I;){var E=I.chunk,N=I.encoding,F=I.callback;if(Z(te,T,!1,T.objectMode?1:E.length,E,N,F),I=I.next,T.bufferedRequestCount--,T.writing)break}I===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=I,T.bufferProcessing=!1}function ne(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function J(te,T){te._final(function(I){T.pendingcb--,I&&A(te,I),T.prefinished=!0,te.emit("prefinish"),ie(te,T)})}function X(te,T){T.prefinished||T.finalCalled||(typeof te._final!="function"||T.destroyed?(T.prefinished=!0,te.emit("prefinish")):(T.pendingcb++,T.finalCalled=!0,r.nextTick(J,te,T)))}function ie(te,T){var I=ne(T);if(I&&(X(te,T),T.pendingcb===0&&(T.finished=!0,te.emit("finish"),T.autoDestroy))){var B=te._readableState;(!B||B.autoDestroy&&B.endEmitted)&&te.destroy()}return I}function le(te,T,I){T.ending=!0,ie(te,T),I&&(T.finished?r.nextTick(I):te.once("finish",I)),T.ended=!0,te.writable=!1}function ue(te,T,I){var B=te.entry;for(te.entry=null;B;){var L=B.callback;T.pendingcb--,L(I),B=B.next}T.corkedRequestsFree.next=te}e("inherits")(y,l),w.prototype.getBuffer=function(){for(var te=this.bufferedRequest,T=[];te;)T.push(te),te=te.next;return T},(function(){try{Object.defineProperty(w.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(te){return!!f.call(this,te)||this===y&&te&&te._writableState instanceof w}})):f=function(te){return te instanceof this},y.prototype.pipe=function(){A(this,new x)},y.prototype.write=function(te,T,I){var B=this._writableState,L=!1,M=!B.objectMode&&h(te);return M&&!u.isBuffer(te)&&(te=d(te)),typeof T=="function"&&(I=T,T=null),M?T="buffer":T||(T=B.defaultEncoding),typeof I!="function"&&(I=S),B.ending?z(this,I):(M||U(this,B,te,I))&&(B.pendingcb++,L=V(this,B,M,te,T,I)),L},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,te.writing||te.corked||te.bufferProcessing||!te.bufferedRequest||ee(this,te))},y.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new O(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(te,T,I){I(new b("_write()"))},y.prototype._writev=null,y.prototype.end=function(te,T,I){var B=this._writableState;return typeof te=="function"?(I=te,te=null,T=null):typeof T=="function"&&(I=T,T=null),te!=null&&this.write(te,T),B.corked&&(B.corked=1,this.uncork()),B.ending||le(this,B,I),this},Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(te,T){T(te)}}).call(this)}).call(this,e("_process"),gn!==void 0?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":66,"./_stream_duplex":67,"./internal/streams/destroy":74,"./internal/streams/state":78,"./internal/streams/stream":79,_process:63,buffer:32,inherits:46,"util-deprecate":81}],72:[function(e,t,n){(function(r){(function(){var i;function o(D,k,C){return k in D?Object.defineProperty(D,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):D[k]=C,D}var s=e("./end-of-stream"),a=Symbol("lastResolve"),l=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),d=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(D,k){return{value:D,done:k}}function m(D){var k=D[a];if(k!==null){var C=D[f].read();C!==null&&(D[d]=null,D[a]=null,D[l]=null,k(p(C,!1)))}}function g(D){r.nextTick(m,D)}function _(D,k){return function(C,O){D.then(function(){k[c]?C(p(void 0,!0)):k[h](C,O)},O)}}var b=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((i={get stream(){return this[f]},next:function(){var D=this,k=this[u];if(k!==null)return Promise.reject(k);if(this[c])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise(function(S,w){r.nextTick(function(){D[u]?w(D[u]):S(p(void 0,!0))})});var C,O=this[d];if(O)C=new Promise(_(O,this));else{var A=this[f].read();if(A!==null)return Promise.resolve(p(A,!1));C=new Promise(this[h])}return this[d]=C,C}},o(i,Symbol.asyncIterator,function(){return this}),o(i,"return",function(){var D=this;return new Promise(function(k,C){D[f].destroy(null,function(O){O?C(O):k(p(void 0,!0))})})}),i),b),x=function(D){var k,C=Object.create(v,(o(k={},f,{value:D,writable:!0}),o(k,a,{value:null,writable:!0}),o(k,l,{value:null,writable:!0}),o(k,u,{value:null,writable:!0}),o(k,c,{value:D._readableState.endEmitted,writable:!0}),o(k,h,{value:function(O,A){var S=C[f].read();S?(C[d]=null,C[a]=null,C[l]=null,O(p(S,!1))):(C[a]=O,C[l]=A)},writable:!0}),k));return C[d]=null,s(D,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var A=C[l];return A!==null&&(C[d]=null,C[a]=null,C[l]=null,A(O)),void(C[u]=O)}var S=C[a];S!==null&&(C[d]=null,C[a]=null,C[l]=null,S(p(void 0,!0))),C[c]=!0}),D.on("readable",g.bind(null,C)),C};t.exports=x}).call(this)}).call(this,e("_process"))},{"./end-of-stream":75,_process:63}],73:[function(e,t,n){function r(f,p){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);p&&(g=g.filter(function(_){return Object.getOwnPropertyDescriptor(f,_).enumerable})),m.push.apply(m,g)}return m}function i(f){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?r(Object(m),!0).forEach(function(g){o(f,g,m[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):r(Object(m)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(m,g))})}return f}function o(f,p,m){return p in f?Object.defineProperty(f,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[p]=m,f}function s(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function a(f,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}function l(f,p,m){return p&&a(f.prototype,p),f}var u=e("buffer").Buffer,c=e("util").inspect,d=c&&c.custom||"inspect";function h(f,p,m){u.prototype.copy.call(f,p,m)}t.exports=(function(){function f(){s(this,f),this.head=null,this.tail=null,this.length=0}return l(f,[{key:"push",value:function(p){var m={data:p,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(p){var m={data:p,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var m=this.head,g=""+m.data;m=m.next;)g+=p+m.data;return g}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var m=u.allocUnsafe(p>>>0),g=this.head,_=0;g;)h(g.data,m,_),_+=g.data.length,g=g.next;return m}},{key:"consume",value:function(p,m){var g;return p<this.head.data.length?(g=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):g=p===this.head.data.length?this.shift():m?this._getString(p):this._getBuffer(p),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var m=this.head,g=1,_=m.data;for(p-=_.length;m=m.next;){var b=m.data,v=p>b.length?b.length:p;if(v===b.length?_+=b:_+=b.slice(0,p),(p-=v)==0){v===b.length?(++g,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=b.slice(v));break}++g}return this.length-=g,_}},{key:"_getBuffer",value:function(p){var m=u.allocUnsafe(p),g=this.head,_=1;for(g.data.copy(m),p-=g.data.length;g=g.next;){var b=g.data,v=p>b.length?b.length:p;if(b.copy(m,m.length-p,0,v),(p-=v)==0){v===b.length?(++_,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=b.slice(v));break}++_}return this.length-=_,m}},{key:d,value:function(p,m){return c(this,i({},m,{depth:0,customInspect:!1}))}}]),f})()},{buffer:32,util:29}],74:[function(e,t,n){(function(r){(function(){function i(c,d){var h=this,f=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return f||p?(d?d(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(l,this,c)):r.nextTick(l,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(m){!d&&m?h._writableState?h._writableState.errorEmitted?r.nextTick(s,h):(h._writableState.errorEmitted=!0,r.nextTick(o,h,m)):r.nextTick(o,h,m):d?(r.nextTick(s,h),d(m)):r.nextTick(s,h)}),this)}function o(c,d){l(c,d),s(c)}function s(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(c,d){c.emit("error",d)}function u(c,d){var h=c._readableState,f=c._writableState;h&&h.autoDestroy||f&&f.autoDestroy?c.destroy(d):c.emit("error",d)}t.exports={destroy:i,undestroy:a,errorOrDestroy:u}}).call(this)}).call(this,e("_process"))},{_process:63}],75:[function(e,t,n){var r=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(l){var u=!1;return function(){if(!u){u=!0;for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];l.apply(this,d)}}}function o(){}function s(l){return l.setHeader&&typeof l.abort=="function"}function a(l,u,c){if(typeof u=="function")return a(l,null,u);u||(u={}),c=i(c||o);var d=u.readable||u.readable!==!1&&l.readable,h=u.writable||u.writable!==!1&&l.writable,f=function(){l.writable||m()},p=l._writableState&&l._writableState.finished,m=function(){h=!1,p=!0,d||c.call(l)},g=l._readableState&&l._readableState.endEmitted,_=function(){d=!1,g=!0,h||c.call(l)},b=function(D){c.call(l,D)},v=function(){var D;return d&&!g?(l._readableState&&l._readableState.ended||(D=new r),c.call(l,D)):h&&!p?(l._writableState&&l._writableState.ended||(D=new r),c.call(l,D)):void 0},x=function(){l.req.on("finish",m)};return s(l)?(l.on("complete",m),l.on("abort",v),l.req?x():l.on("request",x)):h&&!l._writableState&&(l.on("end",f),l.on("close",f)),l.on("end",_),l.on("finish",m),u.error!==!1&&l.on("error",b),l.on("close",v),function(){l.removeListener("complete",m),l.removeListener("abort",v),l.removeListener("request",x),l.req&&l.req.removeListener("finish",m),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",m),l.removeListener("end",_),l.removeListener("error",b),l.removeListener("close",v)}}t.exports=a},{"../../../errors":66}],76:[function(e,t,n){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],77:[function(e,t,n){var r;function i(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var o=e("../../../errors").codes,s=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function l(m){if(m)throw m}function u(m){return m.setHeader&&typeof m.abort=="function"}function c(m,g,_,b){b=i(b);var v=!1;m.on("close",function(){v=!0}),r===void 0&&(r=e("./end-of-stream")),r(m,{readable:g,writable:_},function(D){if(D)return b(D);v=!0,b()});var x=!1;return function(D){if(!v&&!x)return x=!0,u(m)?m.abort():typeof m.destroy=="function"?m.destroy():void b(D||new a("pipe"))}}function d(m){m()}function h(m,g){return m.pipe(g)}function f(m){return m.length?typeof m[m.length-1]!="function"?l:m.pop():l}function p(){for(var m=arguments.length,g=new Array(m),_=0;_<m;_++)g[_]=arguments[_];var b,v=f(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new s("streams");var x=g.map(function(D,k){var C=k<g.length-1;return c(D,C,k>0,function(O){b||(b=O),O&&x.forEach(d),C||(x.forEach(d),v(b))})});return g.reduce(h)}t.exports=p},{"../../../errors":66,"./end-of-stream":75}],78:[function(e,t,n){var r=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function i(s,a,l){return s.highWaterMark!=null?s.highWaterMark:a?s[l]:null}function o(s,a,l,u){var c=i(a,u,l);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new r(u?l:"highWaterMark",c);return Math.floor(c)}return s.objectMode?16:16384}t.exports={getHighWaterMark:o}},{"../../../errors":66}],79:[function(e,t,n){t.exports=e("events").EventEmitter},{events:35}],80:[function(e,t,n){var r=e("safe-buffer").Buffer,i=r.isEncoding||function(x){switch((x=""+x)&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(x){if(!x)return"utf8";for(var D;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(D)return;x=(""+x).toLowerCase(),D=!0}}function s(x){var D=o(x);if(typeof D!="string"&&(r.isEncoding===i||!i(x)))throw new Error("Unknown encoding: "+x);return D||x}function a(x){var D;switch(this.encoding=s(x),this.encoding){case"utf16le":this.text=p,this.end=m,D=4;break;case"utf8":this.fillLast=d,D=4;break;case"base64":this.text=g,this.end=_,D=3;break;default:return this.write=b,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(D)}function l(x){return x<=127?0:x>>5==6?2:x>>4==14?3:x>>3==30?4:x>>6==2?-1:-2}function u(x,D,k){var C=D.length-1;if(C<k)return 0;var O=l(D[C]);return O>=0?(O>0&&(x.lastNeed=O-1),O):--C<k||O===-2?0:(O=l(D[C]))>=0?(O>0&&(x.lastNeed=O-2),O):--C<k||O===-2?0:(O=l(D[C]))>=0?(O>0&&(O===2?O=0:x.lastNeed=O-3),O):0}function c(x,D,k){if((192&D[0])!=128)return x.lastNeed=0,"\uFFFD";if(x.lastNeed>1&&D.length>1){if((192&D[1])!=128)return x.lastNeed=1,"\uFFFD";if(x.lastNeed>2&&D.length>2&&(192&D[2])!=128)return x.lastNeed=2,"\uFFFD"}}function d(x){var D=this.lastTotal-this.lastNeed,k=c(this,x);return k!==void 0?k:this.lastNeed<=x.length?(x.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(x.copy(this.lastChar,D,0,x.length),void(this.lastNeed-=x.length))}function h(x,D){var k=u(this,x,D);if(!this.lastNeed)return x.toString("utf8",D);this.lastTotal=k;var C=x.length-(k-this.lastNeed);return x.copy(this.lastChar,0,C),x.toString("utf8",D,C)}function f(x){var D=x&&x.length?this.write(x):"";return this.lastNeed?D+"\uFFFD":D}function p(x,D){if((x.length-D)%2==0){var k=x.toString("utf16le",D);if(k){var C=k.charCodeAt(k.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",D,x.length-1)}function m(x){var D=x&&x.length?this.write(x):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return D+this.lastChar.toString("utf16le",0,k)}return D}function g(x,D){var k=(x.length-D)%3;return k===0?x.toString("base64",D):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",D,x.length-k))}function _(x){var D=x&&x.length?this.write(x):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function b(x){return x.toString(this.encoding)}function v(x){return x&&x.length?this.write(x):""}n.StringDecoder=a,a.prototype.write=function(x){if(x.length===0)return"";var D,k;if(this.lastNeed){if((D=this.fillLast(x))===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<x.length?D?D+this.text(x,k):this.text(x,k):D||""},a.prototype.end=f,a.prototype.text=h,a.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length}},{"safe-buffer":64}],81:[function(e,t,n){(function(r){(function(){function i(s,a){if(o("noDeprecation"))return s;var l=!1;function u(){if(!l){if(o("throwDeprecation"))throw new Error(a);o("traceDeprecation")?console.trace(a):console.warn(a),l=!0}return s.apply(this,arguments)}return u}function o(s){try{if(!r.localStorage)return!1}catch{return!1}var a=r.localStorage[s];return a!=null&&String(a).toLowerCase()==="true"}t.exports=i}).call(this)}).call(this,gn!==void 0?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],82:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],83:[function(e,t,n){var r=e("is-arguments"),i=e("is-generator-function"),o=e("which-typed-array"),s=e("is-typed-array");function a($){return $.call.bind($)}var l=typeof BigInt<"u",u=typeof Symbol<"u",c=a(Object.prototype.toString),d=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),f=a(Boolean.prototype.valueOf);if(l)var p=a(BigInt.prototype.valueOf);if(u)var m=a(Symbol.prototype.valueOf);function g($,oe){if(typeof $!="object")return!1;try{return oe($),!0}catch{return!1}}function _($){return typeof Promise<"u"&&$ instanceof Promise||$!==null&&typeof $=="object"&&typeof $.then=="function"&&typeof $.catch=="function"}function b($){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView($):s($)||J($)}function v($){return o($)==="Uint8Array"}function x($){return o($)==="Uint8ClampedArray"}function D($){return o($)==="Uint16Array"}function k($){return o($)==="Uint32Array"}function C($){return o($)==="Int8Array"}function O($){return o($)==="Int16Array"}function A($){return o($)==="Int32Array"}function S($){return o($)==="Float32Array"}function w($){return o($)==="Float64Array"}function y($){return o($)==="BigInt64Array"}function z($){return o($)==="BigUint64Array"}function U($){return c($)==="[object Map]"}function P($){return typeof Map<"u"&&(U.working?U($):$ instanceof Map)}function V($){return c($)==="[object Set]"}function Z($){return typeof Set<"u"&&(V.working?V($):$ instanceof Set)}function Y($){return c($)==="[object WeakMap]"}function H($){return typeof WeakMap<"u"&&(Y.working?Y($):$ instanceof WeakMap)}function q($){return c($)==="[object WeakSet]"}function W($){return q($)}function Q($){return c($)==="[object ArrayBuffer]"}function ee($){return typeof ArrayBuffer<"u"&&(Q.working?Q($):$ instanceof ArrayBuffer)}function ne($){return c($)==="[object DataView]"}function J($){return typeof DataView<"u"&&(ne.working?ne($):$ instanceof DataView)}n.isArgumentsObject=r,n.isGeneratorFunction=i,n.isTypedArray=s,n.isPromise=_,n.isArrayBufferView=b,n.isUint8Array=v,n.isUint8ClampedArray=x,n.isUint16Array=D,n.isUint32Array=k,n.isInt8Array=C,n.isInt16Array=O,n.isInt32Array=A,n.isFloat32Array=S,n.isFloat64Array=w,n.isBigInt64Array=y,n.isBigUint64Array=z,U.working=typeof Map<"u"&&U(new Map),n.isMap=P,V.working=typeof Set<"u"&&V(new Set),n.isSet=Z,Y.working=typeof WeakMap<"u"&&Y(new WeakMap),n.isWeakMap=H,q.working=typeof WeakSet<"u"&&q(new WeakSet),n.isWeakSet=W,Q.working=typeof ArrayBuffer<"u"&&Q(new ArrayBuffer),n.isArrayBuffer=ee,ne.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ne(new DataView(new ArrayBuffer(1),0,1)),n.isDataView=J;var X=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ie($){return c($)==="[object SharedArrayBuffer]"}function le($){return X!==void 0&&(ie.working===void 0&&(ie.working=ie(new X)),ie.working?ie($):$ instanceof X)}function ue($){return c($)==="[object AsyncFunction]"}function te($){return c($)==="[object Map Iterator]"}function T($){return c($)==="[object Set Iterator]"}function I($){return c($)==="[object Generator]"}function B($){return c($)==="[object WebAssembly.Module]"}function L($){return g($,d)}function M($){return g($,h)}function R($){return g($,f)}function G($){return l&&g($,p)}function E($){return u&&g($,m)}function N($){return L($)||M($)||R($)||G($)||E($)}function F($){return typeof Uint8Array<"u"&&(ee($)||le($))}n.isSharedArrayBuffer=le,n.isAsyncFunction=ue,n.isMapIterator=te,n.isSetIterator=T,n.isGeneratorObject=I,n.isWebAssemblyCompiledModule=B,n.isNumberObject=L,n.isStringObject=M,n.isBooleanObject=R,n.isBigIntObject=G,n.isSymbolObject=E,n.isBoxedPrimitive=N,n.isAnyArrayBuffer=F,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function($){Object.defineProperty(n,$,{enumerable:!1,value:function(){throw new Error($+" is not supported in userland")}})})},{"is-arguments":47,"is-generator-function":49,"is-typed-array":50,"which-typed-array":85}],84:[function(e,t,n){(function(r){(function(){var i=Object.getOwnPropertyDescriptors||function(J){for(var X=Object.keys(J),ie={},le=0;le<X.length;le++)ie[X[le]]=Object.getOwnPropertyDescriptor(J,X[le]);return ie},o=/%[sdj%]/g;n.format=function(J){if(!O(J)){for(var X=[],ie=0;ie<arguments.length;ie++)X.push(u(arguments[ie]));return X.join(" ")}ie=1;for(var le=arguments,ue=le.length,te=String(J).replace(o,function(I){if(I==="%%")return"%";if(ie>=ue)return I;switch(I){case"%s":return String(le[ie++]);case"%d":return Number(le[ie++]);case"%j":try{return JSON.stringify(le[ie++])}catch{return"[Circular]"}default:return I}}),T=le[ie];ie<ue;T=le[++ie])D(T)||!y(T)?te+=" "+T:te+=" "+u(T);return te},n.deprecate=function(J,X){if(r!==void 0&&r.noDeprecation===!0)return J;if(r===void 0)return function(){return n.deprecate(J,X).apply(this,arguments)};var ie=!1;function le(){if(!ie){if(r.throwDeprecation)throw new Error(X);r.traceDeprecation?console.trace(X):console.error(X),ie=!0}return J.apply(this,arguments)}return le};var s={},a=/^$/;if(r.env.NODE_DEBUG){var l=r.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i")}function u(J,X){var ie={seen:[],stylize:d};return arguments.length>=3&&(ie.depth=arguments[2]),arguments.length>=4&&(ie.colors=arguments[3]),x(X)?ie.showHidden=X:X&&n._extend(ie,X),S(ie.showHidden)&&(ie.showHidden=!1),S(ie.depth)&&(ie.depth=2),S(ie.colors)&&(ie.colors=!1),S(ie.customInspect)&&(ie.customInspect=!0),ie.colors&&(ie.stylize=c),f(ie,J,ie.depth)}function c(J,X){var ie=u.styles[X];return ie?"\x1B["+u.colors[ie][0]+"m"+J+"\x1B["+u.colors[ie][1]+"m":J}function d(J,X){return J}function h(J){var X={};return J.forEach(function(ie,le){X[ie]=!0}),X}function f(J,X,ie){if(J.customInspect&&X&&P(X.inspect)&&X.inspect!==n.inspect&&(!X.constructor||X.constructor.prototype!==X)){var le=X.inspect(ie,J);return O(le)||(le=f(J,le,ie)),le}var ue=p(J,X);if(ue)return ue;var te=Object.keys(X),T=h(te);if(J.showHidden&&(te=Object.getOwnPropertyNames(X)),U(X)&&(te.indexOf("message")>=0||te.indexOf("description")>=0))return m(X);if(te.length===0){if(P(X)){var I=X.name?": "+X.name:"";return J.stylize("[Function"+I+"]","special")}if(w(X))return J.stylize(RegExp.prototype.toString.call(X),"regexp");if(z(X))return J.stylize(Date.prototype.toString.call(X),"date");if(U(X))return m(X)}var B,L="",M=!1,R=["{","}"];return v(X)&&(M=!0,R=["[","]"]),P(X)&&(L=" [Function"+(X.name?": "+X.name:"")+"]"),w(X)&&(L=" "+RegExp.prototype.toString.call(X)),z(X)&&(L=" "+Date.prototype.toUTCString.call(X)),U(X)&&(L=" "+m(X)),te.length!==0||M&&X.length!=0?ie<0?w(X)?J.stylize(RegExp.prototype.toString.call(X),"regexp"):J.stylize("[Object]","special"):(J.seen.push(X),B=M?g(J,X,ie,T,te):te.map(function(G){return _(J,X,ie,T,G,M)}),J.seen.pop(),b(B,L,R)):R[0]+L+R[1]}function p(J,X){if(S(X))return J.stylize("undefined","undefined");if(O(X)){var ie="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(ie,"string")}return C(X)?J.stylize(""+X,"number"):x(X)?J.stylize(""+X,"boolean"):D(X)?J.stylize("null","null"):void 0}function m(J){return"["+Error.prototype.toString.call(J)+"]"}function g(J,X,ie,le,ue){for(var te=[],T=0,I=X.length;T<I;++T)W(X,String(T))?te.push(_(J,X,ie,le,String(T),!0)):te.push("");return ue.forEach(function(B){B.match(/^\d+$/)||te.push(_(J,X,ie,le,B,!0))}),te}function _(J,X,ie,le,ue,te){var T,I,B;if((B=Object.getOwnPropertyDescriptor(X,ue)||{value:X[ue]}).get?I=B.set?J.stylize("[Getter/Setter]","special"):J.stylize("[Getter]","special"):B.set&&(I=J.stylize("[Setter]","special")),W(le,ue)||(T="["+ue+"]"),I||(J.seen.indexOf(B.value)<0?(I=D(ie)?f(J,B.value,null):f(J,B.value,ie-1)).indexOf(`
`)>-1&&(I=te?I.split(`
`).map(function(L){return"  "+L}).join(`
`).slice(2):`
`+I.split(`
`).map(function(L){return"   "+L}).join(`
`)):I=J.stylize("[Circular]","special")),S(T)){if(te&&ue.match(/^\d+$/))return I;(T=JSON.stringify(""+ue)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(T=T.slice(1,-1),T=J.stylize(T,"name")):(T=T.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),T=J.stylize(T,"string"))}return T+": "+I}function b(J,X,ie){return J.reduce(function(le,ue){return ue.indexOf(`
`),le+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ie[0]+(X===""?"":X+`
 `)+" "+J.join(`,
  `)+" "+ie[1]:ie[0]+X+" "+J.join(", ")+" "+ie[1]}function v(J){return Array.isArray(J)}function x(J){return typeof J=="boolean"}function D(J){return J===null}function k(J){return J==null}function C(J){return typeof J=="number"}function O(J){return typeof J=="string"}function A(J){return typeof J=="symbol"}function S(J){return J===void 0}function w(J){return y(J)&&Z(J)==="[object RegExp]"}function y(J){return typeof J=="object"&&J!==null}function z(J){return y(J)&&Z(J)==="[object Date]"}function U(J){return y(J)&&(Z(J)==="[object Error]"||J instanceof Error)}function P(J){return typeof J=="function"}function V(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||J===void 0}function Z(J){return Object.prototype.toString.call(J)}function Y(J){return J<10?"0"+J.toString(10):J.toString(10)}n.debuglog=function(J){if(J=J.toUpperCase(),!s[J])if(a.test(J)){var X=r.pid;s[J]=function(){var ie=n.format.apply(n,arguments);console.error("%s %d: %s",J,X,ie)}}else s[J]=function(){};return s[J]},n.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.types=e("./support/types"),n.isArray=v,n.isBoolean=x,n.isNull=D,n.isNullOrUndefined=k,n.isNumber=C,n.isString=O,n.isSymbol=A,n.isUndefined=S,n.isRegExp=w,n.types.isRegExp=w,n.isObject=y,n.isDate=z,n.types.isDate=z,n.isError=U,n.types.isNativeError=U,n.isFunction=P,n.isPrimitive=V,n.isBuffer=e("./support/isBuffer");var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function q(){var J=new Date,X=[Y(J.getHours()),Y(J.getMinutes()),Y(J.getSeconds())].join(":");return[J.getDate(),H[J.getMonth()],X].join(" ")}function W(J,X){return Object.prototype.hasOwnProperty.call(J,X)}n.log=function(){console.log("%s - %s",q(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(J,X){if(!X||!y(X))return J;for(var ie=Object.keys(X),le=ie.length;le--;)J[ie[le]]=X[ie[le]];return J};var Q=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function ee(J,X){if(!J){var ie=new Error("Promise was rejected with a falsy value");ie.reason=J,J=ie}return X(J)}function ne(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');function X(){for(var ie=[],le=0;le<arguments.length;le++)ie.push(arguments[le]);var ue=ie.pop();if(typeof ue!="function")throw new TypeError("The last argument must be of type Function");var te=this,T=function(){return ue.apply(te,arguments)};J.apply(this,ie).then(function(I){r.nextTick(T.bind(null,null,I))},function(I){r.nextTick(ee.bind(null,I,T))})}return Object.setPrototypeOf(X,Object.getPrototypeOf(J)),Object.defineProperties(X,i(J)),X}n.promisify=function(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');if(Q&&J[Q]){var X;if(typeof(X=J[Q])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(X,Q,{value:X,enumerable:!1,writable:!1,configurable:!0}),X}function X(){for(var ie,le,ue=new Promise(function(I,B){ie=I,le=B}),te=[],T=0;T<arguments.length;T++)te.push(arguments[T]);te.push(function(I,B){I?le(I):ie(B)});try{J.apply(this,te)}catch(I){le(I)}return ue}return Object.setPrototypeOf(X,Object.getPrototypeOf(J)),Q&&Object.defineProperty(X,Q,{value:X,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(X,i(J))},n.promisify.custom=Q,n.callbackify=ne}).call(this)}).call(this,e("_process"))},{"./support/isBuffer":82,"./support/types":83,_process:63,inherits:46}],85:[function(e,t,n){(function(r){(function(){var i=e("for-each"),o=e("available-typed-arrays"),s=e("call-bind/callBound"),a=e("gopd"),l=s("Object.prototype.toString"),u=e("has-tostringtag/shams")(),c=typeof globalThis>"u"?r:globalThis,d=o(),h=s("String.prototype.slice"),f={},p=Object.getPrototypeOf;u&&a&&p&&i(d,function(_){if(typeof c[_]=="function"){var b=new c[_];if(Symbol.toStringTag in b){var v=p(b),x=a(v,Symbol.toStringTag);if(!x){var D=p(v);x=a(D,Symbol.toStringTag)}f[_]=x.get}}});var m=function(_){var b=!1;return i(f,function(v,x){if(!b)try{var D=v.call(_);D===x&&(b=D)}catch{}}),b},g=e("is-typed-array");t.exports=function(_){return!!g(_)&&(u&&Symbol.toStringTag in _?m(_):h(l(_),8,-1))}}).call(this)}).call(this,gn!==void 0?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"available-typed-arrays":27,"call-bind/callBound":33,"for-each":36,gopd:40,"has-tostringtag/shams":43,"is-typed-array":50}]},{},[20])(20);u1=BD.exports;sr=hh||(hh={}),sr[sr.AUTO=-1]="AUTO",sr[sr.NONE=0]="NONE",sr[sr.SUB=1]="SUB",sr[sr.UP=2]="UP",sr[sr.AVERAGE=3]="AVERAGE",sr[sr.PATH=4]="PATH",qi=Zu||(Zu={}),qi[qi.GRAYSCALE=0]="GRAYSCALE",qi[qi.COLOR=2]="COLOR",qi[qi.GRAYSCALE_ALPHA=4]="GRAYSCALE_ALPHA",qi[qi.COLOR_ALPHA=6]="COLOR_ALPHA";jD={exports:{}},xE={};Ha={},Yr={},Ds={};Cs={};$a={},Ar={};(function(e){(function(){var t={};function n(){typeof process<"u"||console.log.apply(console,arguments)}e.exports=t,(function(r,i){(function(){var o=(function(){function l(u){this.message="JPEG error: "+u}return l.prototype=new Error,l.prototype.name="JpegError",l.constructor=l,l})(),s=(function(){var l=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),u=4017,c=799,d=3406,h=2276,f=1567,p=3784,m=5793,g=2896;function _(O){O==null&&(O={}),O.w==null&&(O.w=-1),this.V=O.n,this.N=O.w}function b(O,A){for(var S,w,y,z=0,U=[],P=16;P>0&&!O[P-1];)P--;U.push({children:[],index:0});var V=U[0];for(S=0;S<P;S++){for(w=0;w<O[S];w++){for((V=U.pop()).children[V.index]=A[z];V.index>0;)V=U.pop();for(V.index++,U.push(V);U.length<=S;)U.push(y={children:[],index:0}),V.children[V.index]=y.children,V=y;z++}S+1<P&&(U.push(y={children:[],index:0}),V.children[V.index]=y.children,V=y)}return U[0].children}function v(O,A,S){return 64*((O.P+1)*A+S)}function x(O,A,S,w,y,z,U,P,V,Z){Z==null&&(Z=!1);var Y,H,q,W,Q,ee,ne,J,X,ie,le,ue=S.m,te=S.Z,T=A,I=0,B=0,L=0,M=0,R=0,G=0;function E(){if(B>0)return B--,I>>B&1;if((I=O[A++])===255){var ge=O[A++];if(ge){if(ge===220&&Z){var Se=a(O,A+=2);if(A+=2,Se>0&&Se!==S.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",Se)}else if(ge===217){if(Z){var Ce=8*R;if(Ce>0&&Ce<S.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Ce)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new o("unexpected marker")}}return B=7,I>>>7}function N(ge){for(var Se=ge;;){switch(typeof(Se=Se[E()])){case"number":return Se;case"object":continue}throw new o("invalid huffman sequence")}}function F(ge){for(var Se=0;ge>0;)Se=Se<<1|E(),ge--;return Se}function $(ge){if(ge===1)return E()===1?1:-1;var Se=F(ge);return Se>=1<<ge-1?Se:Se+(-1<<ge)+1}function oe(ge,Se,Ce,je,Ue){var Te=Ce%ue;R=(Ce/ue|0)*ge.A+je;var Je=Te*ge.h+Ue;Se(ge,v(ge,R,Je))}function se(ge,Se,Ce){R=Ce/ge.P|0;var je=Ce%ge.P;Se(ge,v(ge,R,je))}var pe=w.length;for(ne=te?z===0?P===0?function(ge,Se){var Ce=N(ge.J),je=Ce===0?0:$(Ce)<<V;ge.D[Se]=ge.Q+=je}:function(ge,Se){ge.D[Se]|=E()<<V}:P===0?function(ge,Se){if(L>0)L--;else for(var Ce=z,je=U;Ce<=je;){var Ue=N(ge.i),Te=15&Ue,Je=Ue>>4;if(Te!==0){var Be=l[Ce+=Je];ge.D[Se+Be]=$(Te)*(1<<V),Ce++}else{if(Je<15){L=F(Je)+(1<<Je)-1;break}Ce+=16}}}:function(ge,Se){for(var Ce,je,Ue=z,Te=U,Je=0;Ue<=Te;){var Be=Se+l[Ue],re=ge.D[Be]<0?-1:1;switch(M){case 0:if(Je=(je=N(ge.i))>>4,(Ce=15&je)==0)Je<15?(L=F(Je)+(1<<Je),M=4):(Je=16,M=1);else{if(Ce!==1)throw new o("invalid ACn encoding");Y=$(Ce),M=Je?2:3}continue;case 1:case 2:ge.D[Be]?ge.D[Be]+=re*(E()<<V):--Je==0&&(M=M===2?3:0);break;case 3:ge.D[Be]?ge.D[Be]+=re*(E()<<V):(ge.D[Be]=Y<<V,M=0);break;case 4:ge.D[Be]&&(ge.D[Be]+=re*(E()<<V))}Ue++}M===4&&--L==0&&(M=0)}:function(ge,Se){var Ce=N(ge.J),je=Ce===0?0:$(Ce),Ue=1;for(ge.D[Se]=ge.Q+=je;Ue<64;){var Te=N(ge.i),Je=15&Te,Be=Te>>4;if(Je!==0){var re=l[Ue+=Be];ge.D[Se+re]=$(Je),Ue++}else{if(Be<15)break;Ue+=16}}},X=pe===1?w[0].P*w[0].c:ue*S.R;G<=X;){var De=y?Math.min(X-G,y):X;if(De>0){for(q=0;q<pe;q++)w[q].Q=0;if(L=0,pe===1)for(H=w[0],ee=0;ee<De;ee++)se(H,ne,G),G++;else for(ee=0;ee<De;ee++){for(q=0;q<pe;q++)for(ie=(H=w[q]).h,le=H.A,W=0;W<le;W++)for(Q=0;Q<ie;Q++)oe(H,ne,G,W,Q);G++}}if(B=0,!(J=C(O,A))||(J.u&&(A=J.offset),!(J.M>=65488&&J.M<=65495)))break;A+=2}return A-T}function D(O,A,S){var w,y,z,U,P,V,Z,Y,H,q,W,Q,ee,ne,J,X,ie,le=O.$,ue=O.D;if(!le)throw new o("missing required Quantization Table.");for(var te=0;te<64;te+=8)H=ue[A+te],q=ue[A+te+1],W=ue[A+te+2],Q=ue[A+te+3],ee=ue[A+te+4],ne=ue[A+te+5],J=ue[A+te+6],X=ue[A+te+7],H*=le[te],q|W|Q|ee|ne|J|X?(q*=le[te+1],W*=le[te+2],Q*=le[te+3],ee*=le[te+4],ne*=le[te+5],J*=le[te+6],X*=le[te+7],y=(w=(w=m*H+128>>8)+(y=m*ee+128>>8)+1>>1)-y,ie=(z=W)*p+(U=J)*f+128>>8,z=z*f-U*p+128>>8,Z=(P=(P=g*(q-X)+128>>8)+(Z=ne<<4)+1>>1)-Z,V=(Y=(Y=g*(q+X)+128>>8)+(V=Q<<4)+1>>1)-V,U=(w=w+(U=ie)+1>>1)-U,z=(y=y+z+1>>1)-z,ie=P*h+Y*d+2048>>12,P=P*d-Y*h+2048>>12,Y=ie,ie=V*c+Z*u+2048>>12,V=V*u-Z*c+2048>>12,Z=ie,S[te]=w+Y,S[te+7]=w-Y,S[te+1]=y+Z,S[te+6]=y-Z,S[te+2]=z+V,S[te+5]=z-V,S[te+3]=U+P,S[te+4]=U-P):(ie=m*H+512>>10,S[te]=ie,S[te+1]=ie,S[te+2]=ie,S[te+3]=ie,S[te+4]=ie,S[te+5]=ie,S[te+6]=ie,S[te+7]=ie);for(var T=0;T<8;++T)H=S[T],(q=S[T+8])|(W=S[T+16])|(Q=S[T+24])|(ee=S[T+32])|(ne=S[T+40])|(J=S[T+48])|(X=S[T+56])?(y=(w=4112+((w=m*H+2048>>12)+(y=m*ee+2048>>12)+1>>1))-y,ie=(z=W)*p+(U=J)*f+2048>>12,z=z*f-U*p+2048>>12,U=ie,Z=(P=(P=g*(q-X)+2048>>12)+(Z=ne)+1>>1)-Z,V=(Y=(Y=g*(q+X)+2048>>12)+(V=Q)+1>>1)-V,ie=P*h+Y*d+2048>>12,P=P*d-Y*h+2048>>12,Y=ie,ie=V*c+Z*u+2048>>12,V=V*u-Z*c+2048>>12,(H=(w=w+U+1>>1)+Y)<16?H=0:H>=4080?H=255:H>>=4,(q=(y=y+z+1>>1)+(Z=ie))<16?q=0:q>=4080?q=255:q>>=4,(W=(z=y-z)+V)<16?W=0:W>=4080?W=255:W>>=4,(Q=(U=w-U)+P)<16?Q=0:Q>=4080?Q=255:Q>>=4,(ee=U-P)<16?ee=0:ee>=4080?ee=255:ee>>=4,(ne=z-V)<16?ne=0:ne>=4080?ne=255:ne>>=4,(J=y-Z)<16?J=0:J>=4080?J=255:J>>=4,(X=w-Y)<16?X=0:X>=4080?X=255:X>>=4,ue[A+T]=H,ue[A+T+8]=q,ue[A+T+16]=W,ue[A+T+24]=Q,ue[A+T+32]=ee,ue[A+T+40]=ne,ue[A+T+48]=J,ue[A+T+56]=X):(ie=(ie=m*H+8192>>14)<-2040?0:ie>=2024?255:ie+2056>>4,ue[A+T]=ie,ue[A+T+8]=ie,ue[A+T+16]=ie,ue[A+T+24]=ie,ue[A+T+32]=ie,ue[A+T+40]=ie,ue[A+T+48]=ie,ue[A+T+56]=ie)}function k(O,A){for(var S=A.P,w=A.c,y=new Int16Array(64),z=0;z<w;z++)for(var U=0;U<S;U++)D(A,v(A,z,U),y);return A.D}function C(O,A,S){S==null&&(S=A);var w=O.length-1,y=S<A?S:A;if(A>=w)return null;var z=a(O,A);if(z>=65472&&z<=65534)return{u:null,M:z,offset:A};for(var U=a(O,y);!(U>=65472&&U<=65534);){if(++y>=w)return null;U=a(O,y)}return{u:z.toString(16),M:U,offset:y}}return _.prototype={parse(O,A){A==null&&(A={});var S,w,y=A.F,z=0,U=null,P=null,V=0;function Z(){var ce=a(O,z),ye=(z+=2)+ce-2,K=C(O,ye,z);K&&K.u&&(ye=K.offset);var xe=O.subarray(z,ye);return z+=xe.length,xe}function Y(ce){for(var ye=Math.ceil(ce.o/8/ce.X),K=Math.ceil(ce.s/8/ce.B),xe=0;xe<ce.W.length;xe++){se=ce.W[xe];var Ge=Math.ceil(Math.ceil(ce.o/8)*se.h/ce.X),j=Math.ceil(Math.ceil(ce.s/8)*se.A/ce.B),ve=ye*se.h,he=64*(K*se.A)*(ve+1);se.D=new Int16Array(he),se.P=Ge,se.c=j}ce.m=ye,ce.R=K}var H=[],q=[],W=[],Q=a(O,z);if(z+=2,Q!==65496)throw new o("SOI not found");Q=a(O,z),z+=2;e:for(;Q!==65497;){var ee,ne,J;switch(Q){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var X=Z();Q===65504&&X[0]===74&&X[1]===70&&X[2]===73&&X[3]===70&&X[4]===0&&(U={version:{d:X[5],T:X[6]},K:X[7],j:X[8]<<8|X[9],H:X[10]<<8|X[11],S:X[12],I:X[13],C:X.subarray(14,14+3*X[12]*X[13])}),Q===65518&&X[0]===65&&X[1]===100&&X[2]===111&&X[3]===98&&X[4]===101&&(P={version:X[5]<<8|X[6],k:X[7]<<8|X[8],q:X[9]<<8|X[10],a:X[11]});break;case 65499:for(var ie=a(O,z)+(z+=2)-2;z<ie;){var le=O[z++],ue=new Uint16Array(64);if(le>>4){if(le>>4!=1)throw new o("DQT - invalid table spec");for(ne=0;ne<64;ne++)ue[l[ne]]=a(O,z),z+=2}else for(ne=0;ne<64;ne++)ue[l[ne]]=O[z++];H[15&le]=ue}break;case 65472:case 65473:case 65474:if(S)throw new o("Only single frame JPEGs supported");z+=2,(S={}).G=Q===65473,S.Z=Q===65474,S.precision=O[z++];var te,T=a(O,z),I=0,B=0;z+=2,S.s=y||T,S.o=a(O,z),z+=2,S.W=[],S._={};var L=O[z++];for(ee=0;ee<L;ee++){te=O[z];var M=O[z+1]>>4,R=15&O[z+1];I<M&&(I=M),B<R&&(B=R);var G=O[z+2];J=S.W.push({h:M,A:R,L:G,$:null}),S._[te]=J-1,z+=3}S.X=I,S.B=B,Y(S);break;case 65476:var E=a(O,z);for(z+=2,ee=2;ee<E;){var N=O[z++],F=new Uint8Array(16),$=0;for(ne=0;ne<16;ne++,z++)$+=F[ne]=O[z];var oe=new Uint8Array($);for(ne=0;ne<$;ne++,z++)oe[ne]=O[z];ee+=17+$,(N>>4?q:W)[15&N]=b(F,oe)}break;case 65501:w=a(O,z+=2),z+=2;break;case 65498:var se,pe=++V==1&&!y;z+=2;var De=O[z++],ge=[];for(ee=0;ee<De;ee++){var Se=O[z++],Ce=S._[Se];(se=S.W[Ce]).index=Se;var je=O[z++];se.J=W[je>>4],se.i=q[15&je],ge.push(se)}var Ue=O[z++],Te=O[z++],Je=O[z++];try{var Be=x(O,z,S,ge,w,Ue,Te,Je>>4,15&Je,pe);z+=Be}catch(ce){if(ce instanceof DNLMarkerError)return this.parse(O,{F:ce.s});if(ce instanceof EOIMarkerError)break e;throw ce}break;case 65500:z+=4;break;case 65535:O[z]!==255&&z--;break;default:var re=C(O,z-2,z-3);if(re&&re.u){z=re.offset;break}if(z>=O.length-1)break e;throw new o("JpegImage.parse - unknown marker: "+Q.toString(16))}Q=a(O,z),z+=2}for(this.width=S.o,this.height=S.s,this.g=U,this.b=P,this.W=[],ee=0;ee<S.W.length;ee++){var Ie=H[(se=S.W[ee]).L];Ie&&(se.$=Ie),this.W.push({index:se.index,e:k(0,se),l:se.h/S.X,t:se.A/S.B,P:se.P,c:se.c})}this.p=this.W.length},Y(O,A,S){S==null&&(S=!1);var w,y,z,U,P,V,Z,Y,H,q,W,Q,ee=this.width/O,ne=this.height/A,J=0,X=this.W.length,ie=O*A*X,le=new Uint8ClampedArray(ie),ue=new Uint32Array(O),te=4294967288;for(Z=0;Z<X;Z++){if(y=(w=this.W[Z]).l*ee,z=w.t*ne,J=Z,W=w.e,U=w.P+1<<3,y!==Q){for(P=0;P<O;P++)Y=0|P*y,ue[P]=(Y&te)<<3|7&Y;Q=y}for(V=0;V<A;V++)for(q=U*((Y=0|V*z)&te)|(7&Y)<<3,P=0;P<O;P++)le[J]=W[q+ue[P]],J+=X}var T=this.V;if(S||X!==4||T||(T=new Int32Array([-256,255,-256,255,-256,255,-256,255])),T)for(Z=0;Z<ie;)for(Y=0,H=0;Y<X;Y++,Z++,H+=2)le[Z]=(le[Z]*T[H]>>8)+T[H+1];return le},get f(){return this.b?!!this.b.a:this.p===3?this.N!==0&&(this.W[0].index!==82||this.W[1].index!==71||this.W[2].index!==66):this.N===1},z:function(O){for(var A,S,w,y=0,z=O.length;y<z;y+=3)A=O[y],S=O[y+1],w=O[y+2],O[y]=A-179.456+1.402*w,O[y+1]=A+135.459-.344*S-.714*w,O[y+2]=A-226.816+1.772*S;return O},O:function(O){for(var A,S,w,y,z=0,U=0,P=O.length;U<P;U+=4)A=O[U],S=O[U+1],w=O[U+2],y=O[U+3],O[z++]=S*(-660635669420364e-19*S+.000437130475926232*w-54080610064599e-18*A+.00048449797120281*y-.154362151871126)-122.67195406894+w*(-.000957964378445773*w+.000817076911346625*A-.00477271405408747*y+1.53380253221734)+A*(.000961250184130688*A-.00266257332283933*y+.48357088451265)+y*(-.000336197177618394*y+.484791561490776),O[z++]=107.268039397724+S*(219927104525741e-19*S-.000640992018297945*w+.000659397001245577*A+.000426105652938837*y-.176491792462875)+w*(-.000778269941513683*w+.00130872261408275*A+.000770482631801132*y-.151051492775562)+A*(.00126935368114843*A-.00265090189010898*y+.25802910206845)+y*(-.000318913117588328*y-.213742400323665),O[z++]=S*(-.000570115196973677*S-263409051004589e-19*w+.0020741088115012*A-.00288260236853442*y+.814272968359295)-20.810012546947+w*(-153496057440975e-19*w-.000132689043961446*A+.000560833691242812*y-.195152027534049)+A*(.00174418132927582*A-.00255243321439347*y+.116935020465145)+y*(-.000343531996510555*y+.24165260232407);return O.subarray(0,z)},r:function(O){for(var A,S,w,y=0,z=O.length;y<z;y+=4)A=O[y],S=O[y+1],w=O[y+2],O[y]=434.456-A-1.402*w,O[y+1]=119.541-A+.344*S+.714*w,O[y+2]=481.816-A-1.772*S;return O},U:function(O){for(var A,S,w,y,z=0,U=0,P=O.length;U<P;U+=4)A=O[U],S=O[U+1],w=O[U+2],y=O[U+3],O[z++]=255+A*(-6747147073602441e-20*A+.0008379262121013727*S+.0002894718188643294*w+.003264231057537806*y-1.1185611867203937)+S*(26374107616089405e-21*S-8626949158638572e-20*w-.0002748769067499491*y-.02155688794978967)+w*(-3878099212869363e-20*w-.0003267808279485286*y+.0686742238595345)-y*(.0003361971776183937*y+.7430659151342254),O[z++]=255+A*(.00013596372813588848*A+.000924537132573585*S+.00010567359618683593*w+.0004791864687436512*y-.3109689587515875)+S*(-.00023545346108370344*S+.0002702845253534714*w+.0020200308977307156*y-.7488052167015494)+w*(6834815998235662e-20*w+.00015168452363460973*y-.09751927774728933)-y*(.0003189131175883281*y+.7364883807733168),O[z++]=255+A*(13598650411385307e-21*A+.00012423956175490851*S+.0004751985097583589*w-36729317476630422e-22*y-.05562186980264034)+S*(.00016141380598724676*S+.0009692239130725186*w+.0007782692450036253*y-.44015232367526463)+w*(5068882914068769e-22*w+.0017778369011375071*y-.7591454649749609)-y*(.0003435319965105553*y+.7063770186160144);return O.subarray(0,z)},getData:function(O){var A=O.width,S=O.height,w=O.forceRGB,y=O.isSourcePDF;if(this.p>4)throw new o("Unsupported color mode");var z=this.Y(A,S,y);if(this.p===1&&w){for(var U=z.length,P=new Uint8ClampedArray(3*U),V=0,Z=0;Z<U;Z++){var Y=z[Z];P[V++]=Y,P[V++]=Y,P[V++]=Y}return P}if(this.p===3&&this.f)return this.z(z);if(this.p===4){if(this.f)return w?this.O(z):this.r(z);if(w)return this.U(z)}return z}},_})();function a(l,u){return l[u]<<8|l[u+1]}r.JpegDecoder=s})(),r.encodeImage=function(o,s,a,l){var u={t256:[s],t257:[a],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[a],t279:[s*a*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(l)for(var c in l)u[c]=l[c];var d=new Uint8Array(r.encode([u])),h=new Uint8Array(o),f=new Uint8Array(1e3+s*a*4);for(c=0;c<d.length;c++)f[c]=d[c];for(c=0;c<h.length;c++)f[1e3+c]=h[c];return f.buffer},r.encode=function(o){var s=new Uint8Array(2e4),a=4,l=r._binBE;s[0]=s[1]=77,l.writeUshort(s,2,42);var u=8;l.writeUint(s,a,u),a+=4;for(var c=0;c<o.length;c++){var d=r._writeIFD(l,r._types.basic,s,u,o[c]);u=d[1],c<o.length-1&&(3&u&&(u+=4-(3&u)),l.writeUint(s,d[0],u))}return s.slice(0,u).buffer},r.decode=function(o,s){s==null&&(s={parseMN:!0,debug:!1});var a=new Uint8Array(o),l=0,u=r._binBE.readASCII(a,l,2);l+=2;var c=u=="II"?r._binLE:r._binBE;c.readUshort(a,l),l+=2;var d=c.readUint(a,l);l+=4;for(var h=[];;){var f=c.readUshort(a,d),p=c.readUshort(a,d+4);if(f!=0&&(p<1||13<p)){n("error in TIFF");break}if(r._readIFD(c,a,d,h,0,s),(d=c.readUint(a,d+2+12*f))==0)break}return h},r.decodeImage=function(o,s,a){if(!s.data){var l=new Uint8Array(o),u=r._binBE.readASCII(l,0,2);if(s.t256!=null){s.isLE=u=="II",s.width=s.t256[0],s.height=s.t257[0];var c=s.t259?s.t259[0]:1,d=s.t266?s.t266[0]:1;s.t284&&s.t284[0]==2&&n("PlanarConfiguration 2 should not be used!"),c==7&&s.t258&&s.t258.length>3&&(s.t258=s.t258.slice(0,3));var h=s.t277?s.t277[0]:1,f=(s.t258?s.t258[0]:1)*h;c==1&&s.t279!=null&&s.t278&&s.t262[0]==32803&&(f=Math.round(8*s.t279[0]/(s.width*s.t278[0]))),s.t50885&&s.t50885[0]==4&&(f=3*s.t258[0]);var p=8*Math.ceil(s.width*f/8),m=s.t273;(m==null||s.t322)&&(m=s.t324);var g=s.t279;c==1&&m.length==1&&(g=[s.height*(p>>>3)]),(g==null||s.t322)&&(g=s.t325);var _=new Uint8Array(s.height*(p>>>3)),b=0;if(s.t322!=null){var v=s.t322[0],x=s.t323[0],D=Math.floor((s.width+v-1)/v),k=Math.floor((s.height+x-1)/x),C=new Uint8Array(0|Math.ceil(v*x*f/8));console.log("====",D,k);for(var O=0;O<k;O++)for(var A=0;A<D;A++){var S=O*D+A;C.fill(0),r.decode._decompress(s,a,l,m[S],g[S],c,C,0,d,v,x),c==6?_=C:r._copyTile(C,0|Math.ceil(v*f/8),x,_,0|Math.ceil(s.width*f/8),s.height,0|Math.ceil(A*v*f/8),O*x)}b=8*_.length}else{if(m==null)return;var w=s.t278?s.t278[0]:s.height;for(w=Math.min(w,s.height),S=0;S<m.length;S++)r.decode._decompress(s,a,l,m[S],g[S],c,_,0|Math.ceil(b/8),d,s.width,w),b+=p*w;b=Math.min(b,8*_.length)}s.data=new Uint8Array(_.buffer,0,0|Math.ceil(b/8))}}},r.decode._decompress=function(o,s,a,l,u,c,d,h,f,p,m){if(o.t271&&o.t271[0]=="Panasonic"&&o.t45&&o.t45[0]==6&&(c=34316),c==1)for(var g=0;g<u;g++)d[h+g]=a[l+g];else if(c==2)r.decode._decodeG2(a,l,u,d,h,p,f);else if(c==3)r.decode._decodeG3(a,l,u,d,h,p,f,!!o.t292&&!(1&~o.t292[0]));else if(c==4)r.decode._decodeG4(a,l,u,d,h,p,f);else if(c==5)r.decode._decodeLZW(a,l,u,d,h,8);else if(c==6)r.decode._decodeOldJPEG(o,a,l,u,d,h);else if(c==7||c==34892)r.decode._decodeNewJPEG(o,a,l,u,d,h);else if(c==8||c==32946){var _=new Uint8Array(a.buffer,l+2,u-6),b=i.inflateRaw(_);h+b.length<=d.length&&d.set(b,h)}else c==9?r.decode._decodeVC5(a,l,u,d,h,o.t33422):c==32767?r.decode._decodeARW(o,a,l,u,d,h):c==32773?r.decode._decodePackBits(a,l,u,d,h):c==32809?r.decode._decodeThunder(a,l,u,d,h):c==34316?r.decode._decodePanasonic(o,a,l,u,d,h):c==34713?r.decode._decodeNikon(o,s,a,l,u,d,h):c==34676?r.decode._decodeLogLuv32(o,a,l,u,d,h):n("Unknown compression",c);var v=o.t258?Math.min(32,o.t258[0]):1,x=o.t277?o.t277[0]:1,D=v*x>>>3,k=Math.ceil(v*x*p/8);if(v==16&&!o.isLE&&o.t33422==null)for(var C=0;C<m;C++)for(var O=h+C*k,A=1;A<k;A+=2){var S=d[O+A];d[O+A]=d[O+A-1],d[O+A-1]=S}if(o.t317&&o.t317[0]==2)for(C=0;C<m;C++){var w=h+C*k;if(v==16)for(g=D;g<k;g+=2){var y=(d[w+g+1]<<8|d[w+g])+(d[w+g-D+1]<<8|d[w+g-D]);d[w+g]=255&y,d[w+g+1]=y>>>8&255}else if(x==3)for(g=3;g<k;g+=3)d[w+g]=d[w+g]+d[w+g-3]&255,d[w+g+1]=d[w+g+1]+d[w+g-2]&255,d[w+g+2]=d[w+g+2]+d[w+g-1]&255;else for(g=D;g<k;g++)d[w+g]=d[w+g]+d[w+g-D]&255}},r.decode._decodePanasonic=function(o,s,a,l,u,c){var d,h,f,p,m,g,_,b,v=s.buffer,x=o.t2[0],D=o.t3[0],k=o.t10[0],C=o.t45[0],O=0,A=0,S=0,w=0,y=C==6?new Uint32Array(18):new Uint8Array(16),z=[0,0],U=[0,0],P=0,V=new Uint8Array(16384),Z=new Uint16Array(u.buffer);function Y(G){if(S==0){var E=new Uint8Array(v,a+A+8184,8200),N=new Uint8Array(v,a+A,8184);V.set(E),V.set(N,E.length),A+=16384}if(C!=5)return(V[w=(S=S-G&131071)>>3^16368]|V[w+1]<<8)>>(7&S)&~(-1<<G);for(d=0;d<16;d++)y[d]=V[S++],S&=16383}function H(G){return V[S+15-G]}function q(){z[0]=0,z[1]=0,U[0]=0,U[1]=0}if(C==7)throw C;if(C==6){var W=k==12,Q=W?function(){y[0]=H(0)<<4|H(1)>>4,y[1]=4095&((15&H(1))<<8|H(2)),y[2]=H(3)>>6&3,y[3]=(63&H(3))<<2|H(4)>>6,y[4]=(63&H(4))<<2|H(5)>>6,y[5]=(63&H(5))<<2|H(6)>>6,y[6]=H(6)>>4&3,y[7]=(15&H(6))<<4|H(7)>>4,y[8]=(15&H(7))<<4|H(8)>>4,y[9]=(15&H(8))<<4|H(9)>>4,y[10]=H(9)>>2&3,y[11]=(3&H(9))<<6|H(10)>>2,y[12]=(3&H(10))<<6|H(11)>>2,y[13]=(3&H(11))<<6|H(12)>>2,y[14]=3&H(12),y[15]=H(13),y[16]=H(14),y[17]=H(15),S+=16,w=0}:function(){y[0]=H(0)<<6|H(1)>>2,y[1]=16383&((3&H(1))<<12|H(2)<<4|H(3)>>4),y[2]=H(3)>>2&3,y[3]=(3&H(3))<<8|H(4),y[4]=H(5)<<2|H(6)>>6,y[5]=(63&H(6))<<4|H(7)>>4,y[6]=H(7)>>2&3,y[7]=(3&H(7))<<8|H(8),y[8]=H(9)<<2&1020|H(10)>>6,y[9]=1023&(H(10)<<4|H(11)>>4),y[10]=H(11)>>2&3,y[11]=(3&H(11))<<8|H(12),y[12]=1023&(H(13)<<2&1020|H(14)>>6),y[13]=1023&(H(14)<<4|H(15)>>4),S+=16,w=0},ee=W?14:11,ne=W?128:512,J=W?2048:8192,X=W?16383:65535,ie=W?4095:16383,le=x/ee,ue=16*le,te=W?18:14;for(g=0;g<D-15;g+=16){var T=Math.min(16,D-g),I=ue*T;for(V=new Uint8Array(v,a+O,I),S=0,O+=I,b=0,_=0;b<T;b++,_=0){P=(g+b)*x;for(var B=0;B<le;B++)for(Q(),q(),f=0,m=0,d=0;d<ee;d++){if(p=1&d,d%3==2){var L=w<te?y[w++]:0;L==3&&(L=4),m=ne<<L,f=1<<L}var M=w<te?y[w++]:0;z[p]?(M*=f,m<J&&U[p]>m&&(M+=U[p]-m),U[p]=M):(z[p]=M,M?U[p]=M:M=U[p]),Z[P+_++]=M-15<=X?M-15&X:M+2147483633>>31&ie}}}}else if(C==5){var R=k==12?10:9;for(g=0;g<D;g++)for(_=0;_<x;_+=R)Y(0),k==12?(Z[P++]=((15&y[1])<<8)+y[0],Z[P++]=16*y[2]+(y[1]>>4),Z[P++]=((15&y[4])<<8)+y[3],Z[P++]=16*y[5]+(y[4]>>4),Z[P++]=((15&y[7])<<8)+y[6],Z[P++]=16*y[8]+(y[7]>>4),Z[P++]=((15&y[10])<<8)+y[9],Z[P++]=16*y[11]+(y[10]>>4),Z[P++]=((15&y[13])<<8)+y[12],Z[P++]=16*y[14]+(y[13]>>4)):k==14&&(Z[P++]=y[0]+((63&y[1])<<8),Z[P++]=(y[1]>>6)+4*y[2]+((15&y[3])<<10),Z[P++]=(y[3]>>4)+16*y[4]+((3&y[5])<<12),Z[P++]=((252&y[5])>>2)+(y[6]<<6),Z[P++]=y[7]+((63&y[8])<<8),Z[P++]=(y[8]>>6)+4*y[9]+((15&y[10])<<10),Z[P++]=(y[10]>>4)+16*y[11]+((3&y[12])<<12),Z[P++]=((252&y[12])>>2)+(y[13]<<6),Z[P++]=y[14]+((63&y[15])<<8))}else{if(C!=4)throw C;for(g=0;g<D;g++)for(_=0;_<x;_++)p=1&(d=_%14),d==0&&q(),d%3==2&&(f=4>>3-Y(2)),U[p]?(h=Y(8))!=0&&(z[p]-=128<<f,(z[p]<0||f==4)&&(z[p]&=~(-1<<f)),z[p]+=h<<f):(U[p]=Y(8),(U[p]||d>11)&&(z[p]=U[p]<<4|Y(4))),Z[P++]=z[1&_]}},r.decode._decodeVC5=(function(){var o,s,a,l=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],u=[3,3,3,3,2,2,2,1,1,1];function c(b){var v=b[1],x=b[0][v>>>3]>>>7-(7&v)&1;return b[1]++,x}function d(b,v){if(o==null){o={};for(var x=0;x<l.length;x+=4)o[l[x+1]]=l.slice(x,x+4)}for(var D=c(b),k=o[D];k==null;)D=D<<1|c(b),k=o[D];var C=k[3];C!=0&&(C=c(b)==0?C:-C),v[0]=k[2],v[1]=C}function h(b,v){for(var x=0;x<v;x++)1&~b||b++,b>>>=1;return b}function f(b,v){return b>>v}function p(b,v,x,D,k,C){v[x]=f(f(11*b[k]-4*b[k+C]+b[k+C+C]+4,3)+b[D],1),v[x+C]=f(f(5*b[k]+4*b[k+C]-b[k+C+C]+4,3)-b[D],1)}function m(b,v,x,D,k,C){var O=b[k-C]-b[k+C],A=b[k],S=b[D];v[x]=f(f(O+4,3)+A+S,1),v[x+C]=f(f(4-O,3)+A-S,1)}function g(b,v,x,D,k,C){v[x]=f(f(5*b[k]+4*b[k-C]-b[k-C-C]+4,3)+b[D],1),v[x+C]=f(f(11*b[k]-4*b[k-C]+b[k-C-C]+4,3)-b[D],1)}function _(b){return b=a[b=b<0?0:b>4095?4095:b]>>>2}return function(b,v,x,D,k,C){D=new Uint16Array(D.buffer);var O,A,S,w,y,z,U,P,V=Date.now(),Z=r._binBE,Y=v+x;v+=4;for(var H=C[0]==1;v<Y;){var q=Z.readShort(b,v),W=Z.readUshort(b,v+2);if(v+=4,q==12)le=W;else if(q==20)O=W;else if(q==21)A=W;else if(q==48)S=W;else if(q==53)w=W;else if(q!=35){if(q==62)y=W;else if(q!=101){if(q==109)z=W;else if(q!=84){if(q!=106){if(q!=107){if(q!=108){if(q!=102){if(q==104)Ce=W;else if(q!=105){var Q=q<0?-q:q,ee=65280&Q,ne=0;if(24576&Q&&(8192&Q?(ne=65535&W,ne+=(255&Q)<<16):ne=65535&W),24576&~Q){if(Q==16388)v+=4*ne;else if(ee!=8192&&ee!=8448&&ee!=9216)throw Q.toString(16)}else{if(U==null){U=[];for(var J=0;J<4;J++)U[J]=new Int16Array((O>>>1)*(A>>>1));for(P=new Int16Array((O>>>1)*(A>>>1)),s=new Int16Array(1024),J=0;J<1024;J++){var X=J-512,ie=Math.abs(X),le=Math.floor(768*ie*ie*ie/16581375)+ie;s[J]=Math.sign(X)*le}for(a=new Uint16Array(4096),J=0;J<4096;J++){var ue=J,te=65535*(Math.pow(113,ue/4095)-1)/112;a[J]=Math.min(te,65535)}}var T=U[y],I=h(O,1+u[S]),B=h(A,1+u[S]);if(S==0)for(var L=0;L<B;L++)for(var M=0;M<I;M++){var R=v+2*(L*I+M);T[L*(O>>>1)+M]=b[R]<<8|b[R+1]}else{var G=[b,8*v],E=[],N=0,F=I*B,$=[0,0],oe=0;for(W=0;N<F;)for(d(G,$),oe=$[0],W=$[1];oe>0;)E[N++]=W,oe--;var se=(S-1)%3,pe=se!=1?I:0,De=se!=0?B:0;for(L=0;L<B;L++){var ge=(L+De)*(O>>>1)+pe,Se=L*I;for(M=0;M<I;M++)T[ge+M]=s[E[Se+M]+512]*w}if(se==2){var Ce=O>>>1,je=2*I,Ue=2*B;for(L=0;L<B;L++)for(M=0;M<je;M++){J=2*L*Ce+M;var Te=B*Ce+(Be=L*Ce+M);L==0?p(T,P,J,Te,Be,Ce):L==B-1?g(T,P,J,Te,Be,Ce):m(T,P,J,Te,Be,Ce)}var Je=T;for(T=P,P=Je,L=0;L<Ue;L++)for(M=0;M<I;M++){var Be;J=L*Ce+2*M,Te=I+(Be=L*Ce+M),M==0?p(T,P,J,Te,Be,1):M==I-1?g(T,P,J,Te,Be,1):m(T,P,J,Te,Be,1)}Je=T,T=P,P=Je;for(var re=[],Ie=2-~~((S-1)/3),ce=0;ce<3;ce++)re[ce]=z>>14-2*ce&3;var ye=re[Ie];if(ye!=0)for(L=0;L<Ue;L++)for(M=0;M<je;M++)T[J=L*Ce+M]=T[J]<<ye}}if(S==9&&y==3){var K=U[0],xe=U[1],Ge=U[2],j=U[3];for(L=0;L<A;L+=2)for(M=0;M<O;M+=2){var ve=L*O+M,he=K[R=(L>>>1)*(O>>>1)+(M>>>1)],ae=xe[R]-2048,me=Ge[R]-2048,_e=j[R]-2048,We=(ae<<1)+he,Le=(me<<1)+he,Ve=he+_e,gt=he-_e;H?(D[ve]=_(Ve),D[ve+1]=_(Le),D[ve+O]=_(We),D[ve+O+1]=_(gt)):(D[ve]=_(We),D[ve+1]=_(Ve),D[ve+O]=_(gt),D[ve+O+1]=_(Le))}}v+=4*ne}}}}}}}}}}console.log(Date.now()-V)}})(),r.decode._decodeLogLuv32=function(o,s,a,l,u,c){for(var d=o.width,h=4*d,f=0,p=new Uint8Array(h);f<l;){for(var m=0;m<h;){var g=s[a+f];if(f++,g<128){for(var _=0;_<g;_++)p[m+_]=s[a+f+_];m+=g,f+=g}else{for(g-=126,_=0;_<g;_++)p[m+_]=s[a+f];m+=g,f++}}for(var b=0;b<d;b++)u[c+0]=p[b],u[c+1]=p[b+d],u[c+2]=p[b+2*d],u[c+4]=p[b+3*d],c+=6}},r.decode._ljpeg_diff=function(o,s,a){var l,u,c=r.decode._getbithuff;return l=c(o,s,a[0],a),(u=c(o,s,l,0))&1<<l-1||(u-=(1<<l)-1),u},r.decode._decodeARW=function(o,s,a,l,u,c){var d=o.t256[0],h=o.t257[0],f=o.t258[0],p=o.isLE?r._binLE:r._binBE;if(d*h==l||d*h*1.5==l)if(d*h*1.5!=l){var m,g,_,b,v,x,D,k,C=new Uint16Array(16),O=new Uint8Array(d+1);for(V=0;V<h;V++){for(var A=0;A<d;A++)O[A]=s[a++];for(k=0,P=0;P<d-30;k+=16){for(g=2047&(m=p.readUint(O,k)),_=2047&m>>>11,b=15&m>>>22,v=15&m>>>26,x=0;x<4&&128<<x<=g-_;x++);for(D=30,S=0;S<16;S++)S==b?C[S]=g:S==v?C[S]=_:(C[S]=((p.readUshort(O,k+(D>>3))>>>(7&D)&127)<<x)+_,C[S]>2047&&(C[S]=2047),D+=7);for(S=0;S<16;S++,P+=2)ne=C[S]<<1,r.decode._putsF(u,(V*d+P)*f,ne<<16-f);P-=1&P?1:31}}}else for(var S=0;S<l;S+=3){var w=s[a+S+0],y=s[a+S+1],z=s[a+S+2];u[c+S]=y<<4|w>>>4,u[c+S+1]=w<<4|z>>>4,u[c+S+2]=z<<4|y>>>4}else{h+=8;var U,P,V,Z=[a,0,0,0],Y=new Uint16Array(32770),H=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],q=0,W=r.decode._ljpeg_diff;for(Y[0]=15,U=S=0;S<18;S++)for(var Q=32768>>>(H[S]>>>8),ee=0;ee<Q;ee++)Y[++U]=H[S];for(P=d;P--;)for(V=0;V<h+1;V+=2)if(V==h&&(V=1),q+=W(s,Z,Y),V<h){var ne=4095&q;r.decode._putsF(u,(V*d+P)*f,ne<<16-f)}}},r.decode._decodeNikon=function(o,s,a,l,u,c,d){var h=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],f=o.t256[0],p=o.t257[0],m=o.t258[0],g=0,_=0,b=r.decode._make_decoder,v=r.decode._getbithuff,x=s[0].exifIFD.makerNote,D=x.t150?x.t150:x.t140,k=0,C=D[k++],O=D[k++];C!=73&&O!=88||(k+=2110),C==70&&(g=2),m==14&&(g+=3);for(var A=[[0,0],[0,0]],S=o.isLE?r._binLE:r._binBE,w=0;w<2;w++)for(var y=0;y<2;y++)A[w][y]=S.readShort(D,k),k+=2;var z,U,P,V,Z,Y=1<<m&32767,H=0,q=S.readShort(D,k);k+=2,q>1&&(H=Math.floor(Y/(q-1))),C==68&&O==32&&H>0&&(_=S.readShort(D,562));var W=[0,0],Q=b(h[g]),ee=[l,0,0,0];for(z=0;z<p;z++)for(_&&z==_&&(Q=b(h[g+1])),U=0;U<f;U++){w=v(a,ee,Q[0],Q),(Z=1+(v(a,ee,(P=15&w)-(V=w>>>4),0)<<1)<<V>>>1)&1<<P-1||(Z-=(1<<P)-(V==0?1:0)),U<2?W[U]=A[1&z][U]+=Z:W[1&U]+=Z;var ne=Math.min(Math.max(W[1&U],0),(1<<m)-1),J=(z*f+U)*m;r.decode._putsF(c,J,ne<<16-m)}},r.decode._putsF=function(o,s,a){a<<=8-(7&s);var l=s>>>3;o[l]|=a>>>16,o[l+1]|=a>>>8,o[l+2]|=a},r.decode._getbithuff=function(o,s,a,l){var u;r.decode._get_byte;var c=s[0],d=s[1],h=s[2],f=s[3];if(a==0||h<0)return 0;for(;!f&&h<a&&(u=o[c++])!=-1&&!(f=0);)d=(d<<8)+u,h+=8;if(u=d<<32-h>>>32-a,l?(h-=l[u+1]>>>8,u=255&l[u+1]):h-=a,h<0)throw"e";return s[0]=c,s[1]=d,s[2]=h,s[3]=f,u},r.decode._make_decoder=function(o){var s,a,l,u,c,d=[];for(s=16;s!=0&&!o[s];s--);var h=17;for(d[0]=s,l=a=1;a<=s;a++)for(u=0;u<o[a];u++,++h)for(c=0;c<1<<s-a;c++)l<=1<<s&&(d[l++]=a<<8|o[h]);return d},r.decode._decodeNewJPEG=function(o,s,a,l,u,c){l=Math.min(l,s.length-a);var d=o.t347,h=d?d.length:0,f=new Uint8Array(h+l);if(d){for(var p=0,m=0;m<h-1&&(d[m]!=255||d[m+1]!=217);m++)f[p++]=d[m];var g=s[a],_=s[a+1];for(g==255&&_==216||(f[p++]=g,f[p++]=_),m=2;m<l;m++)f[p++]=s[a+m]}else for(m=0;m<l;m++)f[m]=s[a+m];if(o.t262[0]==32803||o.t259[0]==7&&o.t262[0]==34892){var b=o.t258[0],v=r.LosslessJpegDecode(f),x=v.length;if(b==16)if(o.isLE)for(m=0;m<x;m++)u[c+(m<<1)]=255&v[m],u[c+(m<<1)+1]=v[m]>>>8;else for(m=0;m<x;m++)u[c+(m<<1)]=v[m]>>>8,u[c+(m<<1)+1]=255&v[m];else if(b==14||b==12||b==10){var D=16-b;for(m=0;m<x;m++)r.decode._putsF(u,m*b,v[m]<<D)}else{if(b!=8)throw new Error("unsupported bit depth "+b);for(m=0;m<x;m++)u[c+m]=v[m]}}else{var k=new r.JpegDecoder;k.parse(f);var C=k.getData({width:k.width,height:k.height,forceRGB:!0,isSourcePDF:!1});for(m=0;m<C.length;m++)u[c+m]=C[m]}o.t262[0]==6&&(o.t262[0]=2)},r.decode._decodeOldJPEGInit=function(o,s,a,l){var u,c,d,h,f,p=216,m=0,g=0,_=!1,b=o.t513,v=b?b[0]:0,x=o.t514,D=x?x[0]:0,k=o.t324||o.t273||b,C=o.t530,O=0,A=0,S=o.t277?o.t277[0]:1,w=o.t515;if(k&&(g=k[0],_=k.length>1),!_){if(s[a]==255&&s[a+1]==p)return{jpegOffset:a};if(b!=null&&(s[a+v]==255&&s[a+v+1]==p?m=a+v:n("JPEGInterchangeFormat does not point to SOI"),x==null?n("JPEGInterchangeFormatLength field is missing"):(v>=g||v+D<=g)&&n("JPEGInterchangeFormatLength field value is invalid"),m!=null))return{jpegOffset:m}}if(C!=null&&(O=C[0],A=C[1]),b!=null&&x!=null)if(D>=2&&v+D<=g){for(u=s[a+v+D-2]==255&&s[a+v+D-1]==p?new Uint8Array(D-2):new Uint8Array(D),d=0;d<u.length;d++)u[d]=s[a+v+d];n("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else n("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(u==null){var y=0,z=[];z[y++]=255,z[y++]=p;var U=o.t519;if(U==null)throw new Error("JPEGQTables tag is missing");for(d=0;d<U.length;d++)for(z[y++]=255,z[y++]=219,z[y++]=0,z[y++]=67,z[y++]=d,h=0;h<64;h++)z[y++]=s[a+U[d]+h];for(f=0;f<2;f++){var P=o[f==0?"t520":"t521"];if(P==null)throw new Error((f==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(d=0;d<P.length;d++){z[y++]=255,z[y++]=196;var V=19;for(h=0;h<16;h++)V+=s[a+P[d]+h];for(z[y++]=V>>>8,z[y++]=255&V,z[y++]=d|f<<4,h=0;h<16;h++)z[y++]=s[a+P[d]+h];for(h=0;h<V;h++)z[y++]=s[a+P[d]+16+h]}}if(z[y++]=255,z[y++]=192,z[y++]=0,z[y++]=8+3*S,z[y++]=8,z[y++]=o.height>>>8&255,z[y++]=255&o.height,z[y++]=o.width>>>8&255,z[y++]=255&o.width,z[y++]=S,S==1)z[y++]=1,z[y++]=17,z[y++]=0;else for(d=0;d<3;d++)z[y++]=d+1,z[y++]=d!=0?17:(15&O)<<4|15&A,z[y++]=d;w!=null&&w[0]!=0&&(z[y++]=255,z[y++]=221,z[y++]=0,z[y++]=4,z[y++]=w[0]>>>8&255,z[y++]=255&w[0]),u=new Uint8Array(z)}var Z=-1;for(d=0;d<u.length-1;){if(u[d]==255&&u[d+1]==192){Z=d;break}d++}if(Z==-1){var Y=new Uint8Array(u.length+10+3*S);Y.set(u);var H=u.length;if(Z=u.length,(u=Y)[H++]=255,u[H++]=192,u[H++]=0,u[H++]=8+3*S,u[H++]=8,u[H++]=o.height>>>8&255,u[H++]=255&o.height,u[H++]=o.width>>>8&255,u[H++]=255&o.width,u[H++]=S,S==1)u[H++]=1,u[H++]=17,u[H++]=0;else for(d=0;d<3;d++)u[H++]=d+1,u[H++]=d!=0?17:(15&O)<<4|15&A,u[H++]=d}if(s[g]==255&&s[g+1]==218){var q=s[g+2]<<8|s[g+3];for((c=new Uint8Array(q+2))[0]=s[g],c[1]=s[g+1],c[2]=s[g+2],c[3]=s[g+3],d=0;d<q-2;d++)c[d+4]=s[g+d+4]}else{var W=0;if((c=new Uint8Array(8+2*S))[W++]=255,c[W++]=218,c[W++]=0,c[W++]=6+2*S,c[W++]=S,S==1)c[W++]=1,c[W++]=0;else for(d=0;d<3;d++)c[W++]=d+1,c[W++]=d<<4|d;c[W++]=0,c[W++]=63,c[W++]=0}return{jpegOffset:a,tables:u,sosMarker:c,sofPosition:Z}},r.decode._decodeOldJPEG=function(o,s,a,l,u,c){var d,h,f,p,m=r.decode._decodeOldJPEGInit(o,s,a,l);if(m.jpegOffset!=null)for(d=a+l-m.jpegOffset,f=new Uint8Array(d),b=0;b<d;b++)f[b]=s[m.jpegOffset+b];else{for(h=m.tables.length,(f=new Uint8Array(h+m.sosMarker.length+l+2)).set(m.tables),p=h,f[m.sofPosition+5]=o.height>>>8&255,f[m.sofPosition+6]=255&o.height,f[m.sofPosition+7]=o.width>>>8&255,f[m.sofPosition+8]=255&o.width,s[a]==255&&s[a+1]==SOS||(f.set(m.sosMarker,p),p+=sosMarker.length),b=0;b<l;b++)f[p++]=s[a+b];f[p++]=255,f[p++]=EOI}var g=new r.JpegDecoder;g.parse(f);for(var _=g.getData({width:g.width,height:g.height,forceRGB:!0,isSourcePDF:!1}),b=0;b<_.length;b++)u[c+b]=_[b];o.t262&&o.t262[0]==6&&(o.t262[0]=2)},r.decode._decodePackBits=function(o,s,a,l,u){for(var c=new Int8Array(o.buffer),d=new Int8Array(l.buffer),h=s+a;s<h;){var f=c[s];if(s++,f>=0&&f<128)for(var p=0;p<f+1;p++)d[u]=c[s],u++,s++;if(f>=-127&&f<0){for(p=0;p<1-f;p++)d[u]=c[s],u++;s++}}return u},r.decode._decodeThunder=function(o,s,a,l,u){for(var c=[0,1,0,-1],d=[0,1,2,3,0,-3,-2,-1],h=s+a,f=2*u,p=0;s<h;){var m=o[s],g=m>>>6,_=63&m;if(s++,g==3&&(p=15&_,l[f>>>1]|=p<<4*(1-f&1),f++),g==0)for(var b=0;b<_;b++)l[f>>>1]|=p<<4*(1-f&1),f++;if(g==2)for(b=0;b<2;b++)(v=_>>>3*(1-b)&7)!=4&&(p+=d[v],l[f>>>1]|=p<<4*(1-f&1),f++);if(g==1)for(b=0;b<3;b++){var v;(v=_>>>2*(2-b)&3)!=2&&(p+=c[v],l[f>>>1]|=p<<4*(1-f&1),f++)}}},r.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},r.decode._lens=(function(){var o=function(f,p,m,g){for(var _=0;_<p.length;_++)f[p[_]]=m+_*g},s="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",a="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",l="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",u="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",c="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";s=s.split(","),a=a.split(","),l=l.split(","),u=u.split(","),c=c.split(",");var d={},h={};return o(d,s,0,1),o(d,l,64,64),o(d,c,1792,64),o(h,a,0,1),o(h,u,64,64),o(h,c,1792,64),[d,h]})(),r.decode._decodeG4=function(o,s,a,l,u,c,d){for(var h=r.decode,f=s<<3,p=0,m="",g=[],_=[],b=0;b<c;b++)_.push(0);_=h._makeDiff(_);for(var v=0,x=0,D=0,k=0,C=0,O=0,A="",S=0,w=8*Math.ceil(c/8);f>>>3<s+a;){D=h._findDiff(_,v+(v==0?0:1),1-C),k=h._findDiff(_,D,C);var y=0;if(d==1&&(y=o[f>>>3]>>>7-(7&f)&1),d==2&&(y=o[f>>>3]>>>(7&f)&1),f++,m+=y,A=="H"){if(h._lens[C][m]!=null){var z=h._lens[C][m];m="",p+=z,z<64&&(h._addNtimes(g,p,C),v+=p,C=1-C,p=0,--S==0&&(A=""))}}else m=="0001"&&(m="",h._addNtimes(g,k-v,C),v=k),m=="001"&&(m="",A="H",S=2),h._dmap[m]!=null&&(x=D+h._dmap[m],h._addNtimes(g,x-v,C),v=x,m="",C=1-C);g.length==c&&A==""&&(h._writeBits(g,l,8*u+O*w),C=0,O++,v=0,_=h._makeDiff(g),g=[])}},r.decode._findDiff=function(o,s,a){for(var l=0;l<o.length;l+=2)if(o[l]>=s&&o[l+1]==a)return o[l]},r.decode._makeDiff=function(o){var s=[];o[0]==1&&s.push(0,1);for(var a=1;a<o.length;a++)o[a-1]!=o[a]&&s.push(a,o[a]);return s.push(o.length,0,o.length,1),s},r.decode._decodeG2=function(o,s,a,l,u,c,d){for(var h=r.decode,f=s<<3,p=0,m="",g=[],_=0,b=0,v=8*Math.ceil(c/8);f>>>3<s+a;){var x=0;d==1&&(x=o[f>>>3]>>>7-(7&f)&1),d==2&&(x=o[f>>>3]>>>(7&f)&1),f++,m+=x,(p=h._lens[_][m])!=null&&(h._addNtimes(g,p,_),m="",p<64&&(_=1-_),g.length==c&&(h._writeBits(g,l,8*u+b*v),g=[],b++,_=0,7&f&&(f+=8-(7&f)),p>=64&&(f+=8)))}},r.decode._decodeG3=function(o,s,a,l,u,c,d,h){for(var f=r.decode,p=s<<3,m=0,g="",_=[],b=[],v=0;v<c;v++)_.push(0);for(var x=0,D=0,k=0,C=0,O=0,A=-1,S="",w=0,y=!0,z=8*Math.ceil(c/8);p>>>3<s+a;){k=f._findDiff(b,x+(x==0?0:1),1-O),C=f._findDiff(b,k,O);var U=0;if(d==1&&(U=o[p>>>3]>>>7-(7&p)&1),d==2&&(U=o[p>>>3]>>>(7&p)&1),p++,g+=U,y){if(f._lens[O][g]!=null){var P=f._lens[O][g];g="",m+=P,P<64&&(f._addNtimes(_,m,O),O=1-O,m=0)}}else S=="H"?f._lens[O][g]!=null&&(P=f._lens[O][g],g="",m+=P,P<64&&(f._addNtimes(_,m,O),x+=m,O=1-O,m=0,--w==0&&(S=""))):(g=="0001"&&(g="",f._addNtimes(_,C-x,O),x=C),g=="001"&&(g="",S="H",w=2),f._dmap[g]!=null&&(D=k+f._dmap[g],f._addNtimes(_,D-x,O),x=D,g="",O=1-O));g.endsWith("000000000001")&&(A>=0&&f._writeBits(_,l,8*u+A*z),h&&(d==1&&(y=(o[p>>>3]>>>7-(7&p)&1)==1),d==2&&(y=(o[p>>>3]>>>(7&p)&1)==1),p++),g="",O=0,A++,x=0,b=f._makeDiff(_),_=[])}_.length==c&&f._writeBits(_,l,8*u+A*z)},r.decode._addNtimes=function(o,s,a){for(var l=0;l<s;l++)o.push(a)},r.decode._writeBits=function(o,s,a){for(var l=0;l<o.length;l++)s[a+l>>>3]|=o[l]<<7-(a+l&7)},r.decode._decodeLZW=r.decode._decodeLZW=(function(){var o,s,a,l,u=0,c=0,d=0,h=0,f=function(){var v=o>>>3,x=(s[v]<<16|s[v+1]<<8|s[v+2])>>>24-(7&o)-c&(1<<c)-1;return o+=c,x},p=new Uint32Array(16384),m=0,g=function(v){c=v+1,u=h+1},_=function(v){for(var x=v<<2,D=p[x+2],k=l+D-1;x!=65535;)a[k--]=p[x],x=p[x+1];l+=D},b=function(v,x){var D=u<<2,k=v<<2;p[D]=p[3+(x<<2)],p[D+1]=k,p[D+2]=p[k+2]+1,p[D+3]=p[k+3],++u+1==1<<c&&c!=12&&c++};return function(v,x,D,k,C,O){o=x<<3,s=v,a=k,l=C;var A=x+D<<3,S=0,w=0;for((function(y){if(y!=m){m=y,h=1+(d=1<<y);for(var z=0;z<h+1;z++)p[4*z]=p[4*z+3]=z,p[4*z+1]=65535,p[4*z+2]=1}})(O),g(O);o<A&&(S=f())!=h;){if(S==d){if(g(O),(S=f())==h)break;_(S)}else S<u?(_(S),b(w,S)):(b(w,w),_(u-1));w=S}return l}})(),r.tags={},r._types=(function(){var o=new Array(250);return o.fill(0),{basic:{main:o=o.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}})(),r._readIFD=function(o,s,a,l,u,c){var d=o.readUshort(s,a);a+=2;var h={};c.debug&&n("   ".repeat(u),l.length-1,">>>----------------");for(var f=0;f<d;f++){var p=o.readUshort(s,a);a+=2;var m=o.readUshort(s,a);a+=2;var g=o.readUint(s,a);a+=4;var _=o.readUint(s,a);a+=4;var b=[];if(m==1||m==7){var v=g<5?a-4:_;v+g>s.buffer.byteLength&&(g=s.buffer.byteLength-v),b=new Uint8Array(s.buffer,v,g)}if(m==2){var x=g<5?a-4:_,D=s[x],k=Math.max(0,Math.min(g-1,s.length-x));D<128||k==0?b.push(o.readASCII(s,x,k)):b=new Uint8Array(s.buffer,x,k)}if(m==3)for(var C=0;C<g;C++)b.push(o.readUshort(s,(g<3?a-4:_)+2*C));if(m==4||m==13)for(C=0;C<g;C++)b.push(o.readUint(s,(g<2?a-4:_)+4*C));if(m==5||m==10){var O=m==5?o.readUint:o.readInt;for(C=0;C<g;C++)b.push([O(s,_+8*C),O(s,_+8*C+4)])}if(m==8)for(C=0;C<g;C++)b.push(o.readShort(s,(g<3?a-4:_)+2*C));if(m==9)for(C=0;C<g;C++)b.push(o.readInt(s,(g<2?a-4:_)+4*C));if(m==11)for(C=0;C<g;C++)b.push(o.readFloat(s,_+4*C));if(m==12)for(C=0;C<g;C++)b.push(o.readDouble(s,_+8*C));if(g==0||b.length!=0){if(c.debug&&n("   ".repeat(u),p,m,r.tags[p],b),h["t"+p]=b,!(p==330&&h.t272&&h.t272[0]=="DSLR-A100")){if(p==330||p==34665||p==34853||p==50740&&o.readUshort(s,o.readUint(b,0))<300||p==61440){var A=p==50740?[o.readUint(b,0)]:b,S=[];for(C=0;C<A.length;C++)r._readIFD(o,s,A[C],S,u+1,c);p==330&&(h.subIFD=S),p==34665&&(h.exifIFD=S[0]),p==34853&&(h.gpsiIFD=S[0]),p==50740&&(h.dngPrvt=S[0]),p==61440&&(h.fujiIFD=S[0])}}if(p==37500&&c.parseMN){var w=b;if(o.readASCII(w,0,5)=="Nikon")h.makerNote=r.decode(w.slice(10).buffer)[0];else if(o.readASCII(w,0,5)=="OLYMP"||o.readASCII(w,0,9)=="OM SYSTEM"){var y=[8208,8224,8240,8256,8272],z=[];r._readIFD(o,w,w[1]==77?16:w[5]==85?12:8,z,u+1,c);var U=h.makerNote=z.pop();for(C=0;C<y.length;C++){var P="t"+y[C];U[P]!=null&&(r._readIFD(o,w,U[P][0],z,u+1,c),U[P]=z.pop())}U.t12288&&(r._readIFD(o,U.t12288,0,z,u+1,c),U.t12288=z.pop())}else o.readUshort(s,_)<300&&o.readUshort(s,_+4)<=12&&(z=[],r._readIFD(o,s,_,z,u+1,c),h.makerNote=z[0])}}else if(n(p,"unknown TIFF tag type: ",m,"num:",g),f==0)return}return l.push(h),c.debug&&n("   ".repeat(u),"<<<---------------"),a},r._writeIFD=function(o,s,a,l,u){var c=Object.keys(u),d=c.length;u.exifIFD&&d--,u.gpsiIFD&&d--,o.writeUshort(a,l,d);for(var h=(l+=2)+12*d+4,f=0;f<c.length;f++){var p=c[f];if(p!="t34665"&&p!="t34853"){p=="exifIFD"&&(p="t34665"),p=="gpsiIFD"&&(p="t34853");var m=parseInt(p.slice(1)),g=s.main[m];if(g==null&&(g=s.rest[m]),g==null||g==0)throw new Error("unknown type of tag: "+m);var _=u[p];m==34665&&(_=[h],h=r._writeIFD(o,s,a,h,u.exifIFD)[1]),m==34853&&(_=[h],h=r._writeIFD(o,r._types.gps,a,h,u.gpsiIFD)[1]),g==2&&(_=_[0]+"\0");var b=_.length;o.writeUshort(a,l,m),l+=2,o.writeUshort(a,l,g),l+=2,o.writeUint(a,l,b);var v=[-1,1,1,2,4,8,0,1,0,4,8,0,8][g]*b,x=l+=4;if(v>4&&(o.writeUint(a,l,h),x=h),g==1||g==7)for(var D=0;D<b;D++)a[x+D]=_[D];else if(g==2)o.writeASCII(a,x,_);else if(g==3)for(D=0;D<b;D++)o.writeUshort(a,x+2*D,_[D]);else if(g==4)for(D=0;D<b;D++)o.writeUint(a,x+4*D,_[D]);else if(g==5||g==10){var k=g==5?o.writeUint:o.writeInt;for(D=0;D<b;D++){var C=_[D],O=C[0],A=C[1];if(O==null)throw"e";k(a,x+8*D,O),k(a,x+8*D+4,A)}}else if(g==9)for(D=0;D<b;D++)o.writeInt(a,x+4*D,_[D]);else{if(g!=12)throw g;for(D=0;D<b;D++)o.writeDouble(a,x+8*D,_[D])}v>4&&(h+=v+=1&v),l+=4}}return[l,h]},r.toRGBA8=function(o,s){function a(pe){return pe<.0031308?12.92*pe:1.055*Math.pow(pe,1/2.4)-.055}var l=o.width,u=o.height,c=l*u,d=o.data,h=new Uint8Array(4*c),f=o.t262?o.t262[0]:2,p=o.t258?Math.min(32,o.t258[0]):1;o.t262==null&&p==1&&(f=0);var m=o.t277?o.t277[0]:o.t258?o.t258.length:[1,1,3,1,1,4,3][f],g=o.t339?o.t339[0]:null;if(f==1&&p==32&&g!=3)throw"e";var _=Math.ceil(m*p*l/8);if(f==0){s=1/256;for(var b=0;b<u;b++){var v=b*_,x=b*l;if(p==1)for(var D=0;D<l;D++){var k=x+D<<2,C=d[v+(D>>3)]>>7-(7&D)&1;h[k]=h[k+1]=h[k+2]=255*(1-C),h[k+3]=255}if(p==4)for(D=0;D<l;D++)k=x+D<<2,C=d[v+(D>>1)]>>4-4*(1&D)&15,h[k]=h[k+1]=h[k+2]=17*(15-C),h[k+3]=255;if(p==8)for(D=0;D<l;D++)k=x+D<<2,C=d[v+D],h[k]=h[k+1]=h[k+2]=255-C,h[k+3]=255;if(p==16)for(D=0;D<l;D++)k=x+D<<2,C=d[(A=v+2*D)+1]<<8|d[A],h[k]=h[k+1]=h[k+2]=Math.min(255,255-~~(C*s)),h[k+3]=255}}else if(f==1){s==null&&(s=1/256);var O=3&d.length?null:new Float32Array(d.buffer);for(b=0;b<u;b++){if(v=b*_,x=b*l,p==1)for(D=0;D<l;D++)k=x+D<<2,C=d[v+(D>>3)]>>7-(7&D)&1,h[k]=h[k+1]=h[k+2]=255*C,h[k+3]=255;if(p==2)for(D=0;D<l;D++)k=x+D<<2,C=d[v+(D>>2)]>>6-2*(3&D)&3,h[k]=h[k+1]=h[k+2]=85*C,h[k+3]=255;if(p==8)for(D=0;D<l;D++)k=x+D<<2,C=d[v+D*m],h[k]=h[k+1]=h[k+2]=C,h[k+3]=255;if(p==16)for(D=0;D<l;D++)k=x+D<<2,C=d[(A=v+2*D)+1]<<8|d[A],h[k]=h[k+1]=h[k+2]=Math.min(255,~~(C*s)),h[k+3]=255;if(p==32)for(D=0;D<l;D++){var A;k=x+D<<2,C=O[A=(v>>>2)+D],h[k]=h[k+1]=h[k+2]=~~(.5+255*C),h[k+3]=255}}}else if(f==2)if(p==8){if(m==1)for(D=0;D<c;D++)h[4*D]=h[4*D+1]=h[4*D+2]=d[D],h[4*D+3]=255;if(m==3)for(D=0;D<c;D++){var S=3*D;h[k=D<<2]=d[S],h[k+1]=d[S+1],h[k+2]=d[S+2],h[k+3]=255}if(m>=4)for(D=0;D<c;D++)S=D*m,h[k=D<<2]=d[S],h[k+1]=d[S+1],h[k+2]=d[S+2],h[k+3]=d[S+3]}else if(p==16){if(m==4)for(D=0;D<c;D++)S=8*D+1,h[k=D<<2]=d[S],h[k+1]=d[S+2],h[k+2]=d[S+4],h[k+3]=d[S+6];if(m==3)for(D=0;D<c;D++)S=6*D+1,h[k=D<<2]=d[S],h[k+1]=d[S+2],h[k+2]=d[S+4],h[k+3]=255}else{if(p!=32)throw p;var w=new Float32Array(d.buffer),y=0;for(D=0;D<w.length;D++)y=Math.min(y,w[D]);if(y<0)for(D=0;D<d.length;D+=4){var z=d[D];d[D]=d[D+3],d[D+3]=z,z=d[D+1],d[D+1]=d[D+2],d[D+2]=z}var U=[];for(D=0;D<65536;D++)U.push(a(D/65535));for(D=0;D<w.length;D++){var P=Math.max(0,Math.min(1,w[D]));w[D]=U[~~(.5+65535*P)]}if(m==3)for(D=0;D<c;D++)S=3*D,h[k=D<<2]=~~(.5+255*w[S]),h[k+1]=~~(.5+255*w[S+1]),h[k+2]=~~(.5+255*w[S+2]),h[k+3]=255;else{if(m!=4)throw m;for(D=0;D<c;D++)S=4*D,h[k=D<<2]=~~(.5+255*w[S]),h[k+1]=~~(.5+255*w[S+1]),h[k+2]=~~(.5+255*w[S+2]),h[k+3]=~~(.5+255*w[S+3])}}else if(f==3){var V=o.t320,Z=1<<p,Y=p==8&&m>1&&o.t338&&o.t338[0]!=0;for(b=0;b<u;b++)for(var H=0;H<l;H++){k=(D=b*l+H)<<2;var q=0,W=b*_;if(p==1)q=d[W+(H>>>3)]>>>7-(7&H)&1;else if(p==2)q=d[W+(H>>>2)]>>>6-2*(3&H)&3;else if(p==4)q=d[W+(H>>>1)]>>>4-4*(1&H)&15;else{if(p!=8)throw p;q=d[W+H*m]}h[k]=V[q]>>8,h[k+1]=V[Z+q]>>8,h[k+2]=V[Z+Z+q]>>8,h[k+3]=Y?d[W+H*m+1]:255}}else if(f==5){var Q=m>4?1:0;for(D=0;D<c;D++){k=D<<2;var ee=D*m;if(window.UDOC){var ne=d[ee],J=d[ee+1],X=d[ee+2],ie=d[ee+3],le=UDOC.C.cmykToRgb([ne*(1/255),J*(1/255),X*(1/255),ie*(1/255)]);h[k]=~~(.5+255*le[0]),h[k+1]=~~(.5+255*le[1]),h[k+2]=~~(.5+255*le[2])}else ne=255-d[ee],J=255-d[ee+1],X=255-d[ee+2],ie=(255-d[ee+3])*(1/255),h[k]=~~(ne*ie+.5),h[k+1]=~~(J*ie+.5),h[k+2]=~~(X*ie+.5);h[k+3]=255*(1-Q)+d[ee+4]*Q}}else if(f==6&&o.t278){var ue=o.t278[0];for(b=0;b<u;b+=ue){D=b*l;for(var te=ue*l,T=0;T<te;T++){k=4*(D+T),X=d[(ee=3*D+4*(T>>>1))+(1&T)];var I=d[ee+2]-128,B=d[ee+3]-128,L=X+((B>>2)+(B>>3)+(B>>5)),M=X-((I>>2)+(I>>4)+(I>>5))-((B>>1)+(B>>3)+(B>>4)+(B>>5)),R=X+(I+(I>>1)+(I>>2)+(I>>6));h[k]=Math.max(0,Math.min(255,L)),h[k+1]=Math.max(0,Math.min(255,M)),h[k+2]=Math.max(0,Math.min(255,R)),h[k+3]=255}}}else if(f==32845)for(b=0;b<u;b++)for(H=0;H<l;H++){k=4*(b*l+H);var G=d[(ee=6*(b*l+H))+1]<<8|d[ee],E=(G=Math.pow(2,(G+.5)/256-64),(d[ee+3]+.5)/410),N=(d[ee+5]+.5)/410,F=9*E/(6*E-16*N+12),$=4*N/(6*E-16*N+12),oe=F*G/$,se=(1-F-$)*G/$;L=2.69*oe-1.276*(X=G)-.414*se,M=-1.022*oe+1.978*X+.044*se,R=.061*oe-.224*X+1.163*se,h[k]=255*a(Math.min(L,1)),h[k+1]=255*a(Math.min(M,1)),h[k+2]=255*a(Math.min(R,1)),h[k+3]=255}else n("Unknown Photometric interpretation: "+f);return h},r.replaceIMG=function(o){o==null&&(o=document.getElementsByTagName("img"));for(var s=["tif","tiff","dng","cr2","nef"],a=0;a<o.length;a++){var l=o[a],u=l.getAttribute("src");if(u!=null){var c=u.split(".").pop().toLowerCase();if(s.indexOf(c)!=-1){var d=new XMLHttpRequest;r._xhrs.push(d),r._imgs.push(l),d.open("GET",u),d.responseType="arraybuffer",d.onload=r._imgLoaded,d.send()}}}},r._xhrs=[],r._imgs=[],r._imgLoaded=function(o){var s=r._xhrs.indexOf(o.target),a=r._imgs[s];r._xhrs.splice(s,1),r._imgs.splice(s,1),a.setAttribute("src",r.bufferToURI(o.target.response))},r.bufferToURI=function(o){var s=r.decode(o),a=s,l=0,u=a[0];s[0].subIFD&&(a=a.concat(s[0].subIFD));for(var c=0;c<a.length;c++){var d=a[c];if(!(d.t258==null||d.t258.length<3)){var h=d.t256*d.t257;h>l&&(l=h,u=d)}}r.decodeImage(o,u,s);var f=r.toRGBA8(u),p=u.width,m=u.height,g=document.createElement("canvas");g.width=p,g.height=m;var _=g.getContext("2d"),b=new ImageData(new Uint8ClampedArray(f.buffer),p,m);return _.putImageData(b,0,0),g.toDataURL()},r._binBE={nextZero:function(o,s){for(;o[s]!=0;)s++;return s},readUshort:function(o,s){return o[s]<<8|o[s+1]},readShort:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+1],a[1]=o[s+0],r._binBE.i16[0]},readInt:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+3],a[1]=o[s+2],a[2]=o[s+1],a[3]=o[s+0],r._binBE.i32[0]},readUint:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+3],a[1]=o[s+2],a[2]=o[s+1],a[3]=o[s+0],r._binBE.ui32[0]},readASCII:function(o,s,a){for(var l="",u=0;u<a;u++)l+=String.fromCharCode(o[s+u]);return l},readFloat:function(o,s){for(var a=r._binBE.ui8,l=0;l<4;l++)a[l]=o[s+3-l];return r._binBE.fl32[0]},readDouble:function(o,s){for(var a=r._binBE.ui8,l=0;l<8;l++)a[l]=o[s+7-l];return r._binBE.fl64[0]},writeUshort:function(o,s,a){o[s]=a>>8&255,o[s+1]=255&a},writeInt:function(o,s,a){var l=r._binBE.ui8;r._binBE.i32[0]=a,o[s+3]=l[0],o[s+2]=l[1],o[s+1]=l[2],o[s+0]=l[3]},writeUint:function(o,s,a){o[s]=a>>24&255,o[s+1]=a>>16&255,o[s+2]=a>>8&255,o[s+3]=255&a},writeASCII:function(o,s,a){for(var l=0;l<a.length;l++)o[s+l]=a.charCodeAt(l)},writeDouble:function(o,s,a){r._binBE.fl64[0]=a;for(var l=0;l<8;l++)o[s+l]=r._binBE.ui8[7-l]}},r._binBE.ui8=new Uint8Array(8),r._binBE.i16=new Int16Array(r._binBE.ui8.buffer),r._binBE.i32=new Int32Array(r._binBE.ui8.buffer),r._binBE.ui32=new Uint32Array(r._binBE.ui8.buffer),r._binBE.fl32=new Float32Array(r._binBE.ui8.buffer),r._binBE.fl64=new Float64Array(r._binBE.ui8.buffer),r._binLE={nextZero:r._binBE.nextZero,readUshort:function(o,s){return o[s+1]<<8|o[s]},readShort:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],r._binBE.i16[0]},readInt:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],a[2]=o[s+2],a[3]=o[s+3],r._binBE.i32[0]},readUint:function(o,s){var a=r._binBE.ui8;return a[0]=o[s+0],a[1]=o[s+1],a[2]=o[s+2],a[3]=o[s+3],r._binBE.ui32[0]},readASCII:r._binBE.readASCII,readFloat:function(o,s){for(var a=r._binBE.ui8,l=0;l<4;l++)a[l]=o[s+l];return r._binBE.fl32[0]},readDouble:function(o,s){for(var a=r._binBE.ui8,l=0;l<8;l++)a[l]=o[s+l];return r._binBE.fl64[0]},writeUshort:function(o,s,a){o[s]=255&a,o[s+1]=a>>8&255},writeInt:function(o,s,a){var l=r._binBE.ui8;r._binBE.i32[0]=a,o[s+0]=l[0],o[s+1]=l[1],o[s+2]=l[2],o[s+3]=l[3]},writeUint:function(o,s,a){o[s]=a>>>0&255,o[s+1]=a>>>8&255,o[s+2]=a>>>16&255,o[s+3]=a>>>24&255},writeASCII:r._binBE.writeASCII},r._copyTile=function(o,s,a,l,u,c,d,h){for(var f=Math.min(s,u-d),p=Math.min(a,c-h),m=0;m<p;m++)for(var g=(h+m)*u+d,_=m*s,b=0;b<f;b++)l[g+b]=o[_+b]},r.LosslessJpegDecode=(function(){var o,s;function a(){return o[s++]}function l(){return o[s++]<<8|o[s++]}function u(v){for(var x=a(),D=[0,0,0,255],k=[],C=0;C<16;C++)k[C]=a();for(C=0;C<16;C++)for(var O=0;O<k[C];O++)D[c(D,0,C+1,1)+3]=a();var A=new Uint8Array(256);for(v[x]=[new Uint8Array(D),A],C=0;C<256;C++){for(var S=8,w=C,y=0;D[y+3]==255&&S!=0;)y=D[y+(w>>--S&1)];A[C]=y}}function c(v,x,D,k){if(v[x+3]!=255)return 0;if(D==0)return x;for(var C=0;C<2;C++){v[x+C]==0&&(v[x+C]=v.length,v.push(0,0,k,255));var O=c(v,v[x+C],D-1,k+1);if(O!=0)return O}return 0}function d(v){for(var x=v.b,D=v.f;x<25&&v.a<v.d;){var k=v.data[v.a++];k!=255||v.c||v.a++,D=D<<8|k,x+=8}if(x<0)throw"e";v.b=x,v.f=D}function h(v,x){return x.b<v&&d(x),x.f>>(x.b-=v)&65535>>16-v}function f(v,x){var D=v[0],k=0,C=255;x.b<16&&d(x);var O=x.f>>x.b-8&255;for(C=D[(k=v[1][O])+3],x.b-=D[k+2];C==255;)C=D[(k=D[k+(x.f>>--x.b&1)])+3];return C}function p(v,x){return v<32768>>16-x&&(v+=1-(1<<x)),v}function m(v,x){var D=f(v,x);return D==0?0:D==16?-32768:p(h(D,x),D)}function g(v,x,D,k,C,O){for(var A=0,S=0;S<O;S++){for(var w=S*x,y=0;y<x;y+=C){A++;for(var z=0;z<C;z++)v[w+y+z]=m(k[z],D)}if(D.e!=0&&A%D.e==0&&S!=0){for(var U=D.a,P=D.data;P[U]!=255||!(208<=P[U+1]&&P[U+1]<=215);)U--;D.a=U+2,D.f=0,D.b=0}}}function _(v,x){return p(h(v,x),v)}function b(v,x,D,k,C,O,A,S){for(var w=D*A,y=C;y<O;y++)v[y]+=1<<S-1;for(var z=A;z<w;z+=A)for(y=C;y<O;y++)v[z+y]+=v[z+y-A];for(var U=1;U<k;U++){var P=U*w;for(y=C;y<O;y++)v[P+y]+=v[P+y-w];for(z=A;z<w;z+=A)for(y=C;y<O;y++){var V=P+z+y,Z=V-w,Y=v[V-A],H=0;if(x==0)H=0;else if(x==1)H=Y;else if(x==2)H=v[Z];else if(x==3)H=v[Z-A];else if(x==4)H=Y+(v[Z]-v[Z-A]);else if(x==5)H=Y+(v[Z]-v[Z-A]>>>1);else if(x==6)H=v[Z]+(Y-v[Z-A]>>>1);else{if(x!=7)throw x;H=Y+v[Z]>>>1}v[V]+=H}}}return function(v){if(o=v,s=0,l()!=65496)throw"e";for(var x=[],D=0,k=0,C=0,O=[],A=[],S=[],w=0,y=0,z=0;;){var U=l();if(U!=65535){var P=l();if(U==65475){k=a(),y=l(),z=l(),w=a();for(var V=0;V<w;V++){var Z=a(),Y=a();if(a()!=0)throw"e";x[Z]=[V,Y>>4,15&Y]}}else if(U==65476)for(var H=s+P-2;s<H;)u(A);else{if(U==65498){for(s++,V=0;V<w;V++){var q=x[a()];S[q[0]]=A[a()>>>4],O[q[0]]=q.slice(1)}D=a(),s+=2;break}U==65501?C=l():s+=P-2}}else s--}var W=new(k>8?Uint16Array:Uint8Array)(y*z*w),Q={b:0,f:0,c:D==8,a:s,data:o,d:o.length,e:C};if(Q.c)(function(oe,se,pe,De,ge){for(var Se=o.length-s,Ce=0;Ce<Se;Ce+=4){var je=o[s+Ce];o[s+Ce]=o[s+Ce+3],o[s+Ce+3]=je,je=o[s+Ce+1],o[s+Ce+1]=o[s+Ce+2],o[s+Ce+2]=je}for(var Ue=0;Ue<ge;Ue++)for(var Te=32768,Je=32768,Be=0;Be<se;Be+=2){var re=f(De,pe),Ie=f(De,pe);re!=0&&(Te+=_(re,pe)),Ie!=0&&(Je+=_(Ie,pe)),oe[Ue*se+Be]=65535&Te,oe[Ue*se+Be+1]=65535&Je}})(W,z*w,Q,S[0],y);else{var ee=[],ne=0,J=0;for(V=0;V<w;V++){var X=O[V];(R=X[0])>ne&&(ne=R),(M=X[1])>J&&(J=M),ee.push(R*M)}if(ne!=1||J!=1){if(w!=3||ee[1]!=1||ee[2]!=1||ne!=2||J!=1&&J!=2)throw"e";var ie=[],le=0;for(V=0;V<w;V++){for(var ue=0;ue<ee[V];ue++)ie.push(S[V]);le+=ee[V]}var te=z/ne,T=y/J,I=te*T;g(W,te*le,Q,ie,le,T),b(W,D,te,T,le-2,le,le,k);var B=new Uint16Array(I*ee[0]);if(ne==2&&J==2){for(V=0;V<I;V++)B[4*V]=W[6*V],B[4*V+1]=W[6*V+1],B[4*V+2]=W[6*V+2],B[4*V+3]=W[6*V+3];for(b(B,D,4*te,T,0,1,1,k),V=0;V<I;V++)W[6*V]=B[4*V],W[6*V+1]=B[4*V+1],W[6*V+2]=B[4*V+2],W[6*V+3]=B[4*V+3]}if(ne==2&&J==1){for(V=0;V<I;V++)B[2*V]=W[4*V],B[2*V+1]=W[4*V+1];for(b(B,D,2*te,T,0,1,1,k),V=0;V<I;V++)W[4*V]=B[2*V],W[4*V+1]=B[2*V+1]}for(var L=W.slice(0),M=0;M<y;M++)if(J==2)for(var R=0;R<z;R++){var G=((M>>>1)*te+(R>>>1))*le,E=2*(1&M)+(1&R);W[N=(M*z+R)*w]=L[G+E],W[N+1]=L[G+4],W[N+2]=L[G+5]}else for(R=0;R<z;R++){var N;G=(M*te+(R>>>1))*le,E=1&R,W[N=(M*z+R)*w]=L[G+E],W[N+1]=L[G+2],W[N+2]=L[G+3]}}else if(g(W,z*w,Q,S,w,y),C==0)b(W,D,z,y,0,w,w,k);else{var F=Math.floor(C/z);for(M=0;M<y;M+=F){var $=W.slice(M*z*w,(M+F)*z*w);b($,D,z,F,0,w,w,k),W.set($,M*z*w)}}}return W}})(),(function(){var o=2,s=4,a=5,l=6,u=7,c=12,d=13,h=14,f=15,p=17;function m(O){var A={c:new Int8Array(2<<O.u)};return(function(S,w,y){var z=[w,3*w+18,5*w+67,7*w+276,y];S.o=w,S.w=(z[4]+2*w)/(2*w+1)+1|0,S.v=Math.ceil(Math.log2(S.w)),S.t=9,(function(U,P){for(var V=-P[4],Z=0;V<=P[4];Z++,V++)U[Z]=V<=-P[3]?-4:V<=-P[2]?-3:V<=-P[1]?-2:V<-P[0]?-1:V<=P[0]?0:V<P[1]?1:V<P[2]?2:V<P[3]?3:4})(S.c,z)})(A,0,O.g),A}function g(O){for(var A=[[],[],[]],S=Math.max(2,O.w+32>>>6),w=0;w<3;w++)for(var y=0;y<41;y++)A[w][y]=[S,1];return A}function _(O,A){var S=0,w=8-O.a;if(O.j,O.a,A){if(A>=w)do S<<=w,A-=w,S|=O[O.j]&(1<<w)-1,O.j++,w=8;while(A>=8);A&&(S<<=A,w-=A,S|=O[O.j]>>>w&(1<<A)-1),O.a=8-w}return S}function b(O,A,S,w,y,z,U,P){P==null&&(P=0);var V,Z,Y,H,q,W,Q=z+1,ee=Q%2,ne=0,J=w[y],X=w[y-1],ie=w[y-2][Q],le=X[Q-1],ue=X[Q],te=X[Q+1],T=J[Q-1],I=J[Q+1],B=Math.abs;if(ee&&(Y=B(te-ue),H=B(ie-ue),q=B(le-ue)),ee){if(W=(W=Y>q&&H<Y?ie+le:Y<q&&H<q?ie+te:te+le)+2*ue>>>2,P)return void(J[Q]=W);V=A.t*A.c[O.g+ue-ie]+A.c[O.g+le-ue]}else W=ue>le&&ue>te||ue<le&&ue<te?I+T+2*ue>>>2:T+I>>>1,V=A.t*A.c[O.g+ue-le]+A.c[O.g+le-T];Z=B(V);var L=(function(R){for(var G=-1,E=0;!E;G++)E=R[R.j]>>>7-R.a&1,R.a++,R.a&=7,R.a||R.j++;return G})(S);if(L<O.n-A.v-1){var M=(function(R,G){var E=0;if(G<R)for(;E<=14&&G<<++E<R;);return E})(U[Z][0],U[Z][1]);ne=_(S,M)+(L<<M)}else ne=_(S,A.v)+1;ne=1&ne?-1-(ne>>>1):ne>>>1,U[Z][0]+=B(ne),U[Z][1]==O.f&&(U[Z][0]>>>=1,U[Z][1]>>>=1),U[Z][1]++,W=V<0?W-ne:W+ne,O.i&&(W<0?W+=A.w:W>O.g&&(W-=A.w)),J[Q]=W>=0?Math.min(W,O.g):0}function v(O,A,S){for(var w=O[0].length,y=A;y<=S;y++)O[y][0]=O[y-1][1],O[y][w-1]=O[y-1][w-2]}function x(O){v(O,u,c),v(O,o,s),v(O,f,p)}function D(O,A,S,w,y,z,U,P,V,Z,Y,H,q){for(var W=0,Q=1,ee=y<d&&y>s;Q<O.m;)W<O.m&&(b(O,A,S,w,y,W,U[V],O.h&&(ee&&Z||!ee&&(Y||(W&H)==q))),b(O,A,S,w,z,W,U[V],O.h&&(!ee&&Z||ee&&(Y||(W&H)==q))),W+=2),W>8&&(b(O,A,S,w,y,Q,P[V]),b(O,A,S,w,z,Q,P[V]),Q+=2);x(w)}function k(O,A,S,w,y,z){D(O,A,S,w,o,u,y,z,0,0,1,0,8),D(O,A,S,w,8,f,y,z,1,0,1,0,8),D(O,A,S,w,3,9,y,z,2,1,0,3,0),D(O,A,S,w,10,16,y,z,0,0,0,3,2),D(O,A,S,w,s,11,y,z,1,0,0,3,2),D(O,A,S,w,c,p,y,z,2,1,0,3,0)}function C(O,A,S,w,y,z){var U=z.length,P=O.l;y+1==O.s&&(P=O.e-y*O.l);for(var V=6*O.e*w+y*O.l,Z=0;Z<6;Z++){for(var Y=0;Y<P;Y++){var H,q=z[Z%U][Y%U];H=q==0?o+(Z>>>1):q==2?f+(Z>>>1):u+Z;var W=O.h?(2*Y/3&2147483646|Y%3&1)+(Y%3>>>1):Y>>>1;A[V+Y]=S[H][W+1]}V+=O.e}}r._decompressRAF=function(O,A){var S=(function(Q){var ee=r._binBE.readUshort,ne={b:ee(Q,0),i:Q[2],C:Q[3],u:Q[4],q:ee(Q,5),k:ee(Q,7),e:ee(Q,9),l:ee(Q,11),s:Q[13],d:ee(Q,14)};if(ne.b!=18771||ne.i>1||ne.q<6||ne.q%6||ne.e<768||ne.e%24||ne.l!=768||ne.k<ne.l||ne.k%ne.l||ne.k-ne.e>=ne.l||ne.s>16||ne.s!=ne.k/ne.l||ne.s!=Math.ceil(ne.e/ne.l)||ne.d!=ne.q/6||ne.u!=12&&ne.u!=14&&ne.u!=16||ne.C!=16&&ne.C!=0)throw"Invalid data";if(ne.i==0)throw"Not implemented. We need this file!";return ne.h=ne.C==16,ne.m=0|(ne.h?2*ne.l/3:ne.l>>>1),ne.A=ne.m+2,ne.f=64,ne.g=(1<<ne.u)-1,ne.n=4*ne.u,ne})(O),w=(function(Q,ee){var ne=new Array(ee.s),J=4*ee.s,X=16+J;12&J&&(X+=16-(12&J));for(var ie=0,le=16;ie<ee.s;le+=4){var ue=r._binBE.readUint(Q,le);ne[ie]=Q.slice(X,X+ue),ne[ie].j=0,ne[ie].a=0,X+=ue,ie++}if(X!=Q.length)throw"Invalid data";return ne})(O,S),y=m(S),z=new Int16Array(S.e*S.q);A==null&&(A=S.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var U=[[0,3],[1,s],[a,11],[l,c],[d,16],[h,p]],P=[],V=0;V<18;V++)P[V]=new Uint16Array(S.A);for(var Z=0;Z<S.s;Z++){var Y=g(y),H=g(y);for(V=0;V<18;V++)for(var q=0;q<S.A;q++)P[V][q]=0;for(var W=0;W<S.d;W++){for(k(S,y,w[Z],P,Y,H),V=0;V<6;V++)for(q=0;q<S.A;q++)P[U[V][0]][q]=P[U[V][1]][q];for(C(S,z,P,W,Z,A),V=o;V<18;V++)if([a,l,d,h].indexOf(V)==-1)for(q=0;q<S.A;q++)P[V][q]=0;x(P)}}return z}})()})(t,typeof Bu=="function"?J4():self.pako)})()})(jD);X4=jD.exports,Qf=ti(X4);(function(e){e.assertEqual=t=>t,e.assertIs=function(t){},e.assertNever=function(t){throw new Error},e.arrayToEnum=t=>{let n={};for(let r of t)n[r]=r;return n},e.getValidEnumValues=t=>{let n=e.objectKeys(t).filter(i=>typeof t[t[i]]!="number"),r={};for(let i of n)r[i]=t[i];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(n){return t[n]}),e.objectKeys=typeof Object.keys=="function"?t=>Object.keys(t):t=>{let n=[];for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(r);return n},e.find=(t,n)=>{for(let r of t)if(n(r))return r},e.isInteger=typeof Number.isInteger=="function"?t=>Number.isInteger(t):t=>typeof t=="number"&&isFinite(t)&&Math.floor(t)===t,e.joinValues=function(t,n=" | "){return t.map(r=>typeof r=="string"?`'${r}'`:r).join(n)},e.jsonStringifyReplacer=(t,n)=>typeof n=="bigint"?n.toString():n})(St||(St={})),(function(e){e.mergeShapes=(t,n)=>fe(fe({},t),n)})(O1||(O1={}));$e=St.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ro=e=>{switch(typeof e){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return isNaN(e)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(e)?$e.array:e===null?$e.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?$e.promise:typeof Map<"u"&&e instanceof Map?$e.map:typeof Set<"u"&&e instanceof Set?$e.set:typeof Date<"u"&&e instanceof Date?$e.date:$e.object;default:return $e.unknown}},Ae=St.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),eO=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Ji=(()=>{class e extends Error{constructor(n){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=n}get errors(){return this.issues}format(n){let r=n||function(s){return s.message},i={_errors:[]},o=s=>{for(let a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)i._errors.push(r(a));else{let l=i,u=0;for(;u<a.path.length;){let c=a.path[u];u===a.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(r(a))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}};return o(this),i}static assert(n){if(!(n instanceof e))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,St.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=r=>r.message){let r={},i=[];for(let o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(n(o))):i.push(n(o));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}}return e.create=t=>new e(t),e})(),il=(e,t)=>{let n;switch(e.code){case Ae.invalid_type:n=e.received===$e.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Ae.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,St.jsonStringifyReplacer)}`;break;case Ae.unrecognized_keys:n=`Unrecognized key(s) in object: ${St.joinValues(e.keys,", ")}`;break;case Ae.invalid_union:n="Invalid input";break;case Ae.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${St.joinValues(e.options)}`;break;case Ae.invalid_enum_value:n=`Invalid enum value. Expected ${St.joinValues(e.options)}, received '${e.received}'`;break;case Ae.invalid_arguments:n="Invalid function arguments";break;case Ae.invalid_return_type:n="Invalid function return type";break;case Ae.invalid_date:n="Invalid date";break;case Ae.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:St.assertNever(e.validation):n=e.validation!=="regex"?`Invalid ${e.validation}`:"Invalid";break;case Ae.too_small:n=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Ae.too_big:n=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Ae.custom:n="Invalid input";break;case Ae.invalid_intersection_types:n="Intersection results could not be merged";break;case Ae.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ae.not_finite:n="Number must be finite";break;default:n=t.defaultError,St.assertNever(e)}return{message:n}},WD=il;mh=e=>{let{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s=ke(fe({},i),{path:o});if(i.message!==void 0)return ke(fe({},i),{path:o,message:i.message});let a="",l=r.filter(u=>!!u).slice().reverse();for(let u of l)a=u(s,{data:t,defaultError:a}).message;return ke(fe({},i),{path:o,message:a})},nO=[];kn=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){let r=[];for(let i of n){if(i.status==="aborted")return st;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static mergeObjectAsync(t,n){return Pe(this,null,function*(){let r=[];for(let i of n){let o=yield i.key,s=yield i.value;r.push({key:o,value:s})}return e.mergeObjectSync(t,r)})}static mergeObjectSync(t,n){let r={};for(let i of n){let{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return st;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value==="__proto__"||s.value===void 0&&!i.alwaysSet||(r[o.value]=s.value)}return{status:t.value,value:r}}},st=Object.freeze({status:"aborted"}),gh=e=>({status:"dirty",value:e}),zn=e=>({status:"valid",value:e}),P1=e=>e.status==="aborted",F1=e=>e.status==="dirty",Yu=e=>e.status==="valid",Ku=e=>typeof Promise<"u"&&e instanceof Promise;typeof SuppressedError=="function"&&SuppressedError,(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Qe||(Qe={}));Or=class{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},qE=(e,t)=>{if(Yu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new Ji(e.common.issues);return this._error=n,this._error}}};mt=class{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Ro(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ro(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new kn,ctx:{common:t.parent.common,data:t.data,parsedType:Ro(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(Ku(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;let i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0&&r,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ro(t)},o=this._parseSync({data:t,path:i.path,parent:i});return qE(i,o)}parseAsync(t,n){return Pe(this,null,function*(){let r=yield this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error})}safeParseAsync(t,n){return Pe(this,null,function*(){let r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ro(t)},i=this._parse({data:t,path:r.path,parent:r}),o=yield Ku(i)?i:Promise.resolve(i);return qE(r,o)})}refine(t,n){let r=i=>typeof n=="string"||n===void 0?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{let s=t(i),a=()=>o.addIssue(fe({code:Ae.custom},r(i)));return typeof Promise<"u"&&s instanceof Promise?s.then(l=>!!l||(a(),!1)):!!s||(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>!!t(r)||(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new hr({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return No.create(this,this._def)}nullable(){return sl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eo.create(this,this._def)}promise(){return Lh.create(this,this._def)}or(t){return hy.create([this,t],this._def)}and(t){return py.create(this,t,this._def)}transform(t){return new hr(ke(fe({},pt(this._def)),{schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){let n=typeof t=="function"?t:()=>t;return new gy(ke(fe({},pt(this._def)),{innerType:this,defaultValue:n,typeName:rt.ZodDefault}))}brand(){return new Qu(fe({typeName:rt.ZodBranded,type:this},pt(this._def)))}catch(t){let n=typeof t=="function"?t:()=>t;return new yy(ke(fe({},pt(this._def)),{innerType:this,catchValue:n,typeName:rt.ZodCatch}))}describe(t){return new this.constructor(ke(fe({},this._def),{description:t}))}pipe(t){return Ju.create(this,t)}readonly(){return Ps.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},rO=/^c[^\s-]{8,}$/i,iO=/^[0-9a-z]+$/,oO=/^[0-9A-HJKMNP-TV-Z]{26}$/,sO=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aO=/^[a-z0-9_-]{21}$/i,lO=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",dO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fO=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,hO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ZD="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pO=new RegExp(`^${ZD}$`);Po=class e extends mt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$e.string){let i=this._getOrReturnCtx(t);return ze(i,{code:Ae.invalid_type,expected:$e.string,received:i.parsedType}),st}let n=new kn,r;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(r=this._getOrReturnCtx(t,r),ze(r,{code:Ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(r=this._getOrReturnCtx(t,r),ze(r,{code:Ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let o=t.data.length>i.value,s=t.data.length<i.value;(o||s)&&(r=this._getOrReturnCtx(t,r),o?ze(r,{code:Ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&ze(r,{code:Ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")uO.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"email",code:Ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")h1||(h1=new RegExp(cO,"u")),h1.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"emoji",code:Ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")sO.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"uuid",code:Ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")aO.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"nanoid",code:Ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")rO.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"cuid",code:Ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")iO.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"cuid2",code:Ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")oO.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"ulid",code:Ae.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),ze(r,{validation:"url",code:Ae.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"regex",code:Ae.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(t,r),ze(r,{code:Ae.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(r=this._getOrReturnCtx(t,r),ze(r,{code:Ae.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(r=this._getOrReturnCtx(t,r),ze(r,{code:Ae.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?KD(i).test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{code:Ae.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?pO.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{code:Ae.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?mO(i).test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{code:Ae.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?lO.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"duration",code:Ae.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?gO(t.data,i.version)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"ip",code:Ae.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?hO.test(t.data)||(r=this._getOrReturnCtx(t,r),ze(r,{validation:"base64",code:Ae.invalid_string,message:i.message}),n.dirty()):St.assertNever(i);return{status:n.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),fe({validation:n,code:Ae.invalid_string},Qe.errToObj(r)))}_addCheck(t){return new e(ke(fe({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(fe({kind:"email"},Qe.errToObj(t)))}url(t){return this._addCheck(fe({kind:"url"},Qe.errToObj(t)))}emoji(t){return this._addCheck(fe({kind:"emoji"},Qe.errToObj(t)))}uuid(t){return this._addCheck(fe({kind:"uuid"},Qe.errToObj(t)))}nanoid(t){return this._addCheck(fe({kind:"nanoid"},Qe.errToObj(t)))}cuid(t){return this._addCheck(fe({kind:"cuid"},Qe.errToObj(t)))}cuid2(t){return this._addCheck(fe({kind:"cuid2"},Qe.errToObj(t)))}ulid(t){return this._addCheck(fe({kind:"ulid"},Qe.errToObj(t)))}base64(t){return this._addCheck(fe({kind:"base64"},Qe.errToObj(t)))}ip(t){return this._addCheck(fe({kind:"ip"},Qe.errToObj(t)))}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck(fe({kind:"datetime",precision:t?.precision===void 0?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0&&n,local:(r=t?.local)!==null&&r!==void 0&&r},Qe.errToObj(t?.message)))}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck(fe({kind:"time",precision:t?.precision===void 0?null:t?.precision},Qe.errToObj(t?.message)))}duration(t){return this._addCheck(fe({kind:"duration"},Qe.errToObj(t)))}regex(t,n){return this._addCheck(fe({kind:"regex",regex:t},Qe.errToObj(n)))}includes(t,n){return this._addCheck(fe({kind:"includes",value:t,position:n?.position},Qe.errToObj(n?.message)))}startsWith(t,n){return this._addCheck(fe({kind:"startsWith",value:t},Qe.errToObj(n)))}endsWith(t,n){return this._addCheck(fe({kind:"endsWith",value:t},Qe.errToObj(n)))}min(t,n){return this._addCheck(fe({kind:"min",value:t},Qe.errToObj(n)))}max(t,n){return this._addCheck(fe({kind:"max",value:t},Qe.errToObj(n)))}length(t,n){return this._addCheck(fe({kind:"length",value:t},Qe.errToObj(n)))}nonempty(t){return this.min(1,Qe.errToObj(t))}trim(){return new e(ke(fe({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new e(ke(fe({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new e(ke(fe({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Po.create=e=>{var t;return new Po(fe({checks:[],typeName:rt.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0&&t},pt(e)))};ay=(()=>{class e extends mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==$e.number){let o=this._getOrReturnCtx(n);return ze(o,{code:Ae.invalid_type,expected:$e.number,received:o.parsedType}),st}let r,i=new kn;for(let o of this._def.checks)o.kind==="int"?St.isInteger(n.data)||(r=this._getOrReturnCtx(n,r),ze(r,{code:Ae.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?n.data<o.value:n.data<=o.value)&&(r=this._getOrReturnCtx(n,r),ze(r,{code:Ae.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?n.data>o.value:n.data>=o.value)&&(r=this._getOrReturnCtx(n,r),ze(r,{code:Ae.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?yO(n.data,o.value)!==0&&(r=this._getOrReturnCtx(n,r),ze(r,{code:Ae.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(n.data)||(r=this._getOrReturnCtx(n,r),ze(r,{code:Ae.not_finite,message:o.message}),i.dirty()):St.assertNever(o);return{status:i.value,value:n.data}}gte(n,r){return this.setLimit("min",n,!0,Qe.toString(r))}gt(n,r){return this.setLimit("min",n,!1,Qe.toString(r))}lte(n,r){return this.setLimit("max",n,!0,Qe.toString(r))}lt(n,r){return this.setLimit("max",n,!1,Qe.toString(r))}setLimit(n,r,i,o){return new e(ke(fe({},this._def),{checks:[...this._def.checks,{kind:n,value:r,inclusive:i,message:Qe.toString(o)}]}))}_addCheck(n){return new e(ke(fe({},this._def),{checks:[...this._def.checks,n]}))}int(n){return this._addCheck({kind:"int",message:Qe.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qe.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qe.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qe.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qe.toString(n)})}multipleOf(n,r){return this._addCheck({kind:"multipleOf",value:n,message:Qe.toString(r)})}finite(n){return this._addCheck({kind:"finite",message:Qe.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qe.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qe.toString(n)})}get minValue(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxValue(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&St.isInteger(n.value))}get isFinite(){let n=null,r=null;for(let i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(n===null||i.value<n)&&(n=i.value)}return Number.isFinite(r)&&Number.isFinite(n)}}return e.create=t=>new e(fe({checks:[],typeName:rt.ZodNumber,coerce:t?.coerce||!1},pt(t))),e})(),ly=(()=>{class e extends mt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce&&(n.data=BigInt(n.data)),this._getType(n)!==$e.bigint){let o=this._getOrReturnCtx(n);return ze(o,{code:Ae.invalid_type,expected:$e.bigint,received:o.parsedType}),st}let r,i=new kn;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?n.data<o.value:n.data<=o.value)&&(r=this._getOrReturnCtx(n,r),ze(r,{code:Ae.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?n.data>o.value:n.data>=o.value)&&(r=this._getOrReturnCtx(n,r),ze(r,{code:Ae.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?n.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(n,r),ze(r,{code:Ae.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):St.assertNever(o);return{status:i.value,value:n.data}}gte(n,r){return this.setLimit("min",n,!0,Qe.toString(r))}gt(n,r){return this.setLimit("min",n,!1,Qe.toString(r))}lte(n,r){return this.setLimit("max",n,!0,Qe.toString(r))}lt(n,r){return this.setLimit("max",n,!1,Qe.toString(r))}setLimit(n,r,i,o){return new e(ke(fe({},this._def),{checks:[...this._def.checks,{kind:n,value:r,inclusive:i,message:Qe.toString(o)}]}))}_addCheck(n){return new e(ke(fe({},this._def),{checks:[...this._def.checks,n]}))}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qe.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qe.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qe.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qe.toString(n)})}multipleOf(n,r){return this._addCheck({kind:"multipleOf",value:n,message:Qe.toString(r)})}get minValue(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n}get maxValue(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n}}return e.create=t=>{var n;return new e(fe({checks:[],typeName:rt.ZodBigInt,coerce:(n=t?.coerce)!==null&&n!==void 0&&n},pt(t)))},e})(),uy=(()=>{class e extends mt{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==$e.boolean){let r=this._getOrReturnCtx(n);return ze(r,{code:Ae.invalid_type,expected:$e.boolean,received:r.parsedType}),st}return zn(n.data)}}return e.create=t=>new e(fe({typeName:rt.ZodBoolean,coerce:t?.coerce||!1},pt(t))),e})(),cy=(()=>{class e extends mt{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==$e.date){let o=this._getOrReturnCtx(n);return ze(o,{code:Ae.invalid_type,expected:$e.date,received:o.parsedType}),st}if(isNaN(n.data.getTime()))return ze(this._getOrReturnCtx(n),{code:Ae.invalid_date}),st;let r=new kn,i;for(let o of this._def.checks)o.kind==="min"?n.data.getTime()<o.value&&(i=this._getOrReturnCtx(n,i),ze(i,{code:Ae.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?n.data.getTime()>o.value&&(i=this._getOrReturnCtx(n,i),ze(i,{code:Ae.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):St.assertNever(o);return{status:r.value,value:new Date(n.data.getTime())}}_addCheck(n){return new e(ke(fe({},this._def),{checks:[...this._def.checks,n]}))}min(n,r){return this._addCheck({kind:"min",value:n.getTime(),message:Qe.toString(r)})}max(n,r){return this._addCheck({kind:"max",value:n.getTime(),message:Qe.toString(r)})}get minDate(){let n=null;for(let r of this._def.checks)r.kind==="min"&&(n===null||r.value>n)&&(n=r.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(let r of this._def.checks)r.kind==="max"&&(n===null||r.value<n)&&(n=r.value);return n!=null?new Date(n):null}}return e.create=t=>new e(fe({checks:[],coerce:t?.coerce||!1,typeName:rt.ZodDate},pt(t))),e})(),QD=(()=>{class e extends mt{_parse(n){if(this._getType(n)!==$e.symbol){let r=this._getOrReturnCtx(n);return ze(r,{code:Ae.invalid_type,expected:$e.symbol,received:r.parsedType}),st}return zn(n.data)}}return e.create=t=>new e(fe({typeName:rt.ZodSymbol},pt(t))),e})(),dy=(()=>{class e extends mt{_parse(n){if(this._getType(n)!==$e.undefined){let r=this._getOrReturnCtx(n);return ze(r,{code:Ae.invalid_type,expected:$e.undefined,received:r.parsedType}),st}return zn(n.data)}}return e.create=t=>new e(fe({typeName:rt.ZodUndefined},pt(t))),e})(),fy=(()=>{class e extends mt{_parse(n){if(this._getType(n)!==$e.null){let r=this._getOrReturnCtx(n);return ze(r,{code:Ae.invalid_type,expected:$e.null,received:r.parsedType}),st}return zn(n.data)}}return e.create=t=>new e(fe({typeName:rt.ZodNull},pt(t))),e})(),_h=(()=>{class e extends mt{constructor(){super(...arguments),this._any=!0}_parse(n){return zn(n.data)}}return e.create=t=>new e(fe({typeName:rt.ZodAny},pt(t))),e})(),$u=(()=>{class e extends mt{constructor(){super(...arguments),this._unknown=!0}_parse(n){return zn(n.data)}}return e.create=t=>new e(fe({typeName:rt.ZodUnknown},pt(t))),e})(),Ts=(()=>{class e extends mt{_parse(n){let r=this._getOrReturnCtx(n);return ze(r,{code:Ae.invalid_type,expected:$e.never,received:r.parsedType}),st}}return e.create=t=>new e(fe({typeName:rt.ZodNever},pt(t))),e})(),JD=(()=>{class e extends mt{_parse(n){if(this._getType(n)!==$e.undefined){let r=this._getOrReturnCtx(n);return ze(r,{code:Ae.invalid_type,expected:$e.void,received:r.parsedType}),st}return zn(n.data)}}return e.create=t=>new e(fe({typeName:rt.ZodVoid},pt(t))),e})(),eo=class e extends mt{_parse(t){let{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==$e.array)return ze(n,{code:Ae.invalid_type,expected:$e.array,received:n.parsedType}),st;if(i.exactLength!==null){let s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(ze(n,{code:s?Ae.too_big:Ae.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ze(n,{code:Ae.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ze(n,{code:Ae.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Or(n,s,n.path,a)))).then(s=>kn.mergeArray(r,s));let o=[...n.data].map((s,a)=>i.type._parseSync(new Or(n,s,n.path,a)));return kn.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new e(ke(fe({},this._def),{minLength:{value:t,message:Qe.toString(n)}}))}max(t,n){return new e(ke(fe({},this._def),{maxLength:{value:t,message:Qe.toString(n)}}))}length(t,n){return new e(ke(fe({},this._def),{exactLength:{value:t,message:Qe.toString(n)}}))}nonempty(t){return this.min(1,t)}};eo.create=(e,t)=>new eo(fe({type:e,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray},pt(t)));Qn=class e extends mt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),n=St.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==$e.object){let l=this._getOrReturnCtx(t);return ze(l,{code:Ae.invalid_type,expected:$e.object,received:l.parsedType}),st}let{status:n,ctx:r}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Ts&&this._def.unknownKeys==="strip"))for(let l in r.data)o.includes(l)||s.push(l);let a=[];for(let l of o){let u=i[l],c=r.data[l];a.push({key:{status:"valid",value:l},value:u._parse(new Or(r,c,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof Ts){let l=this._def.unknownKeys;if(l==="passthrough")for(let u of s)a.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")s.length>0&&(ze(r,{code:Ae.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let u of s){let c=r.data[u];a.push({key:{status:"valid",value:u},value:l._parse(new Or(r,c,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(()=>Pe(this,null,function*(){let l=[];for(let u of a){let c=yield u.key,d=yield u.value;l.push({key:c,value:d,alwaysSet:u.alwaysSet})}return l})).then(l=>kn.mergeObjectSync(n,l)):kn.mergeObjectSync(n,a)}get shape(){return this._def.shape()}strict(t){return Qe.errToObj,new e(fe(ke(fe({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(n,r)=>{var i,o,s,a;let l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Qe.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}))}strip(){return new e(ke(fe({},this._def),{unknownKeys:"strip"}))}passthrough(){return new e(ke(fe({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new e(ke(fe({},this._def),{shape:()=>fe(fe({},this._def.shape()),t)}))}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>fe(fe({},this._def.shape()),t._def.shape()),typeName:rt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new e(ke(fe({},this._def),{catchall:t}))}pick(t){let n={};return St.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new e(ke(fe({},this._def),{shape:()=>n}))}omit(t){let n={};return St.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new e(ke(fe({},this._def),{shape:()=>n}))}deepPartial(){return Xa(this)}partial(t){let n={};return St.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new e(ke(fe({},this._def),{shape:()=>n}))}required(t){let n={};return St.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof No;)i=i._def.innerType;n[r]=i}}),new e(ke(fe({},this._def),{shape:()=>n}))}keyof(){return tC(St.objectKeys(this.shape))}};Qn.create=(e,t)=>new Qn(fe({shape:()=>e,unknownKeys:"strip",catchall:Ts.create(),typeName:rt.ZodObject},pt(t))),Qn.strictCreate=(e,t)=>new Qn(fe({shape:()=>e,unknownKeys:"strict",catchall:Ts.create(),typeName:rt.ZodObject},pt(t))),Qn.lazycreate=(e,t)=>new Qn(fe({shape:e,unknownKeys:"strip",catchall:Ts.create(),typeName:rt.ZodObject},pt(t)));hy=(()=>{class e extends mt{_parse(n){let{ctx:r}=this._processInputParams(n),i=this._def.options;if(r.common.async)return Promise.all(i.map(o=>Pe(this,null,function*(){let s=ke(fe({},r),{common:ke(fe({},r.common),{issues:[]}),parent:null});return{result:yield o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}}))).then(function(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(a=>new Ji(a.ctx.common.issues));return ze(r,{code:Ae.invalid_union,unionErrors:s}),st});{let o,s=[];for(let l of i){let u=ke(fe({},r),{common:ke(fe({},r.common),{issues:[]}),parent:null}),c=l._parseSync({data:r.data,path:r.path,parent:u});if(c.status==="valid")return c;c.status!=="dirty"||o||(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(l=>new Ji(l));return ze(r,{code:Ae.invalid_union,unionErrors:a}),st}}get options(){return this._def.options}}return e.create=(t,n)=>new e(fe({options:t,typeName:rt.ZodUnion},pt(n))),e})(),Ao=e=>e instanceof my?Ao(e.schema):e instanceof hr?Ao(e.innerType()):e instanceof Rs?[e.value]:e instanceof Ns?e.options:e instanceof Os?St.objectValues(e.enum):e instanceof gy?Ao(e._def.innerType):e instanceof dy?[void 0]:e instanceof fy?[null]:e instanceof No?[void 0,...Ao(e.unwrap())]:e instanceof sl?[null,...Ao(e.unwrap())]:e instanceof Qu||e instanceof Ps?Ao(e.unwrap()):e instanceof yy?Ao(e._def.innerType):[],vh=class e extends mt{_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$e.object)return ze(n,{code:Ae.invalid_type,expected:$e.object,received:n.parsedType}),st;let r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(ze(n,{code:Ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),st)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let i=new Map;for(let o of n){let s=Ao(o.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new e(fe({typeName:rt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i},pt(r)))}};py=(()=>{class e extends mt{_parse(n){let{status:r,ctx:i}=this._processInputParams(n),o=(s,a)=>{if(P1(s)||P1(a))return st;let l=L1(s.value,a.value);return l.valid?((F1(s)||F1(a))&&r.dirty(),{status:r.value,value:l.data}):(ze(i,{code:Ae.invalid_intersection_types}),st)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,a])=>o(s,a)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}return e.create=(t,n,r)=>new e(fe({left:t,right:n,typeName:rt.ZodIntersection},pt(r))),e})(),ol=(()=>{class e extends mt{_parse(n){let{status:r,ctx:i}=this._processInputParams(n);if(i.parsedType!==$e.array)return ze(i,{code:Ae.invalid_type,expected:$e.array,received:i.parsedType}),st;if(i.data.length<this._def.items.length)return ze(i,{code:Ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),st;!this._def.rest&&i.data.length>this._def.items.length&&(ze(i,{code:Ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...i.data].map((s,a)=>{let l=this._def.items[a]||this._def.rest;return l?l._parse(new Or(i,s,i.path,a)):null}).filter(s=>!!s);return i.common.async?Promise.all(o).then(s=>kn.mergeArray(r,s)):kn.mergeArray(r,o)}get items(){return this._def.items}rest(n){return new e(ke(fe({},this._def),{rest:n}))}}return e.create=(t,n)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new e(fe({items:t,typeName:rt.ZodTuple,rest:null},pt(n)))},e})(),bh=class e extends mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$e.object)return ze(r,{code:Ae.invalid_type,expected:$e.object,received:r.parsedType}),st;let i=[],o=this._def.keyType,s=this._def.valueType;for(let a in r.data)i.push({key:o._parse(new Or(r,a,r.path,a)),value:s._parse(new Or(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?kn.mergeObjectAsync(n,i):kn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return new e(n instanceof mt?fe({keyType:t,valueType:n,typeName:rt.ZodRecord},pt(r)):fe({keyType:Po.create(),valueType:t,typeName:rt.ZodRecord},pt(n)))}},XD=(()=>{class e extends mt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){let{status:r,ctx:i}=this._processInputParams(n);if(i.parsedType!==$e.map)return ze(i,{code:Ae.invalid_type,expected:$e.map,received:i.parsedType}),st;let o=this._def.keyType,s=this._def.valueType,a=[...i.data.entries()].map(([l,u],c)=>({key:o._parse(new Or(i,l,i.path,[c,"key"])),value:s._parse(new Or(i,u,i.path,[c,"value"]))}));if(i.common.async){let l=new Map;return Promise.resolve().then(()=>Pe(this,null,function*(){for(let u of a){let c=yield u.key,d=yield u.value;if(c.status==="aborted"||d.status==="aborted")return st;c.status!=="dirty"&&d.status!=="dirty"||r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}}))}{let l=new Map;for(let u of a){let c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return st;c.status!=="dirty"&&d.status!=="dirty"||r.dirty(),l.set(c.value,d.value)}return{status:r.value,value:l}}}}return e.create=(t,n,r)=>new e(fe({valueType:n,keyType:t,typeName:rt.ZodMap},pt(r))),e})(),eC=(()=>{class e extends mt{_parse(n){let{status:r,ctx:i}=this._processInputParams(n);if(i.parsedType!==$e.set)return ze(i,{code:Ae.invalid_type,expected:$e.set,received:i.parsedType}),st;let o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(ze(i,{code:Ae.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(ze(i,{code:Ae.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let s=this._def.valueType;function a(u){let c=new Set;for(let d of u){if(d.status==="aborted")return st;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}let l=[...i.data.values()].map((u,c)=>s._parse(new Or(i,u,i.path,c)));return i.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(n,r){return new e(ke(fe({},this._def),{minSize:{value:n,message:Qe.toString(r)}}))}max(n,r){return new e(ke(fe({},this._def),{maxSize:{value:n,message:Qe.toString(r)}}))}size(n,r){return this.min(n,r).max(n,r)}nonempty(n){return this.min(1,n)}}return e.create=(t,n)=>new e(fe({valueType:t,minSize:null,maxSize:null,typeName:rt.ZodSet},pt(n))),e})(),wh=class e extends mt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==$e.function)return ze(n,{code:Ae.invalid_type,expected:$e.function,received:n.parsedType}),st;function r(a,l){return mh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ph(),il].filter(u=>!!u),issueData:{code:Ae.invalid_arguments,argumentsError:l}})}function i(a,l){return mh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ph(),il].filter(u=>!!u),issueData:{code:Ae.invalid_return_type,returnTypeError:l}})}let o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof Lh){let a=this;return zn(function(...l){return Pe(this,null,function*(){let u=new Ji([]),c=yield a._def.args.parseAsync(l,o).catch(f=>{throw u.addIssue(r(l,f)),u}),d=yield Reflect.apply(s,this,c);return yield a._def.returns._def.type.parseAsync(d,o).catch(f=>{throw u.addIssue(i(d,f)),u})})})}{let a=this;return zn(function(...l){let u=a._def.args.safeParse(l,o);if(!u.success)throw new Ji([r(l,u.error)]);let c=Reflect.apply(s,this,u.data),d=a._def.returns.safeParse(c,o);if(!d.success)throw new Ji([i(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e(ke(fe({},this._def),{args:ol.create(t).rest($u.create())}))}returns(t){return new e(ke(fe({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new e(fe({args:t||ol.create([]).rest($u.create()),returns:n||$u.create(),typeName:rt.ZodFunction},pt(r)))}},my=(()=>{class e extends mt{get schema(){return this._def.getter()}_parse(n){let{ctx:r}=this._processInputParams(n);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}return e.create=(t,n)=>new e(fe({getter:t,typeName:rt.ZodLazy},pt(n))),e})(),Rs=class extends mt{_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return ze(n,{received:n.data,code:Ae.invalid_literal,expected:this._def.value}),st}return{status:"valid",value:t.data}}get value(){return this._def.value}};Rs.create=(e,t)=>new Rs(fe({value:e,typeName:rt.ZodLiteral},pt(t)));Ns=class e extends mt{constructor(){super(...arguments),ju.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let n=this._getOrReturnCtx(t),r=this._def.values;return ze(n,{expected:St.joinValues(r),received:n.parsedType,code:Ae.invalid_type}),st}if(yh(this,ju)||qD(this,ju,new Set(this._def.values)),!yh(this,ju).has(t.data)){let n=this._getOrReturnCtx(t),r=this._def.values;return ze(n,{received:n.data,code:Ae.invalid_enum_value,options:r}),st}return zn(t.data)}get options(){return this._def.values}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return e.create(t,fe(fe({},this._def),n))}exclude(t,n=this._def){return e.create(this.options.filter(r=>!t.includes(r)),fe(fe({},this._def),n))}};ju=new WeakMap,Ns.create=tC;Os=class extends mt{constructor(){super(...arguments),Uu.set(this,void 0)}_parse(t){let n=St.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==$e.string&&r.parsedType!==$e.number){let i=St.objectValues(n);return ze(r,{expected:St.joinValues(i),received:r.parsedType,code:Ae.invalid_type}),st}if(yh(this,Uu)||qD(this,Uu,new Set(St.getValidEnumValues(this._def.values))),!yh(this,Uu).has(t.data)){let i=St.objectValues(n);return ze(r,{received:r.data,code:Ae.invalid_enum_value,options:i}),st}return zn(t.data)}get enum(){return this._def.values}};Uu=new WeakMap,Os.create=(e,t)=>new Os(fe({values:e,typeName:rt.ZodNativeEnum},pt(t)));Lh=(()=>{class e extends mt{unwrap(){return this._def.type}_parse(n){let{ctx:r}=this._processInputParams(n);if(r.parsedType!==$e.promise&&r.common.async===!1)return ze(r,{code:Ae.invalid_type,expected:$e.promise,received:r.parsedType}),st;let i=r.parsedType===$e.promise?r.data:Promise.resolve(r.data);return zn(i.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}return e.create=(t,n)=>new e(fe({type:t,typeName:rt.ZodPromise},pt(n))),e})(),hr=class extends mt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{ze(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){let s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(a=>Pe(this,null,function*(){if(n.value==="aborted")return st;let l=yield this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?st:l.status==="dirty"||n.value==="dirty"?gh(l.value):l}));{if(n.value==="aborted")return st;let a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?st:a.status==="dirty"||n.value==="dirty"?gh(a.value):a}}if(i.type==="refinement"){let s=a=>{let l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?st:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?st:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform"){if(r.common.async===!1){let s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Yu(s))return s;let a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Yu(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s)}St.assertNever(i)}};hr.create=(e,t,n)=>new hr(fe({schema:e,typeName:rt.ZodEffects,effect:t},pt(n))),hr.createWithPreprocess=(e,t,n)=>new hr(fe({schema:t,effect:{type:"preprocess",transform:e},typeName:rt.ZodEffects},pt(n)));No=(()=>{class e extends mt{_parse(n){return this._getType(n)===$e.undefined?zn(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}return e.create=(t,n)=>new e(fe({innerType:t,typeName:rt.ZodOptional},pt(n))),e})(),sl=(()=>{class e extends mt{_parse(n){return this._getType(n)===$e.null?zn(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}}return e.create=(t,n)=>new e(fe({innerType:t,typeName:rt.ZodNullable},pt(n))),e})(),gy=(()=>{class e extends mt{_parse(n){let{ctx:r}=this._processInputParams(n),i=r.data;return r.parsedType===$e.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}return e.create=(t,n)=>new e(fe({innerType:t,typeName:rt.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default},pt(n))),e})(),yy=(()=>{class e extends mt{_parse(n){let{ctx:r}=this._processInputParams(n),i=ke(fe({},r),{common:ke(fe({},r.common),{issues:[]})}),o=this._def.innerType._parse({data:i.data,path:i.path,parent:fe({},i)});return Ku(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ji(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ji(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}return e.create=(t,n)=>new e(fe({innerType:t,typeName:rt.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch},pt(n))),e})(),nC=(()=>{class e extends mt{_parse(n){if(this._getType(n)!==$e.nan){let r=this._getOrReturnCtx(n);return ze(r,{code:Ae.invalid_type,expected:$e.nan,received:r.parsedType}),st}return{status:"valid",value:n.data}}}return e.create=t=>new e(fe({typeName:rt.ZodNaN},pt(t))),e})(),_O=Symbol("zod_brand"),Qu=class extends mt{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},Ju=class e extends mt{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return Pe(this,null,function*(){let i=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?st:i.status==="dirty"?(n.dirty(),gh(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})});{let i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?st:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new e({in:t,out:n,typeName:rt.ZodPipeline})}},Ps=class extends mt{_parse(t){let n=this._def.innerType._parse(t),r=i=>(Yu(i)&&(i.value=Object.freeze(i.value)),i);return Ku(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}};Ps.create=(e,t)=>new Ps(fe({innerType:e,typeName:rt.ZodReadonly},pt(t)));vO={object:Qn.lazycreate};(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(rt||(rt={}));bO=(e,t={message:`Input not instance of ${e.name}`})=>rC(n=>n instanceof e,t),iC=Po.create,oC=ay.create,wO=nC.create,EO=ly.create,sC=uy.create,xO=cy.create,DO=QD.create,CO=dy.create,IO=fy.create,SO=_h.create,MO=$u.create,AO=Ts.create,TO=JD.create,kO=eo.create,RO=Qn.create,NO=Qn.strictCreate,OO=hy.create,PO=vh.create,FO=py.create,LO=ol.create,BO=bh.create,jO=XD.create,UO=eC.create,zO=wh.create,VO=my.create,HO=Rs.create,$O=Ns.create,GO=Os.create,WO=Lh.create,ZE=hr.create,qO=No.create,ZO=sl.create,YO=hr.createWithPreprocess,KO=Ju.create,QO=()=>iC().optional(),JO=()=>oC().optional(),XO=()=>sC().optional(),e8={string:e=>Po.create(ke(fe({},e),{coerce:!0})),number:e=>ay.create(ke(fe({},e),{coerce:!0})),boolean:e=>uy.create(ke(fe({},e),{coerce:!0})),bigint:e=>ly.create(ke(fe({},e),{coerce:!0})),date:e=>cy.create(ke(fe({},e),{coerce:!0}))},t8=st,de=Object.freeze({__proto__:null,defaultErrorMap:il,setErrorMap:tO,getErrorMap:ph,makeIssue:mh,EMPTY_PATH:nO,addIssueToContext:ze,ParseStatus:kn,INVALID:st,DIRTY:gh,OK:zn,isAborted:P1,isDirty:F1,isValid:Yu,isAsync:Ku,get util(){return St},get objectUtil(){return O1},ZodParsedType:$e,getParsedType:Ro,ZodType:mt,datetimeRegex:KD,ZodString:Po,ZodNumber:ay,ZodBigInt:ly,ZodBoolean:uy,ZodDate:cy,ZodSymbol:QD,ZodUndefined:dy,ZodNull:fy,ZodAny:_h,ZodUnknown:$u,ZodNever:Ts,ZodVoid:JD,ZodArray:eo,ZodObject:Qn,ZodUnion:hy,ZodDiscriminatedUnion:vh,ZodIntersection:py,ZodTuple:ol,ZodRecord:bh,ZodMap:XD,ZodSet:eC,ZodFunction:wh,ZodLazy:my,ZodLiteral:Rs,ZodEnum:Ns,ZodNativeEnum:Os,ZodPromise:Lh,ZodEffects:hr,ZodTransformer:hr,ZodOptional:No,ZodNullable:sl,ZodDefault:gy,ZodCatch:yy,ZodNaN:nC,BRAND:_O,ZodBranded:Qu,ZodPipeline:Ju,ZodReadonly:Ps,custom:rC,Schema:mt,ZodSchema:mt,late:vO,get ZodFirstPartyTypeKind(){return rt},coerce:e8,any:SO,array:kO,bigint:EO,boolean:sC,date:xO,discriminatedUnion:PO,effect:ZE,enum:$O,function:zO,instanceof:bO,intersection:FO,lazy:VO,literal:HO,map:jO,nan:wO,nativeEnum:GO,never:AO,null:IO,nullable:ZO,number:oC,object:RO,oboolean:XO,onumber:JO,optional:qO,ostring:QO,pipeline:KO,preprocess:YO,promise:WO,record:BO,set:UO,strictObject:NO,string:iC,symbol:DO,transformer:ZE,tuple:LO,undefined:CO,union:OO,unknown:MO,void:TO,NEVER:t8,ZodIssueCode:Ae,quotelessJson:eO,ZodError:Ji});Is=Oo||(Oo={}),Is[Is.EXTEND=1]="EXTEND",Is[Is.WRAP=2]="WRAP",Is[Is.CROP=3]="CROP";ic=de.object({bitmap:de.object({data:de.union([de.instanceof(be),de.instanceof(Uint8Array)]),width:de.number(),height:de.number()})}),n8=de.object({src:ic,x:de.number().optional(),y:de.number().optional(),srcX:de.number().optional(),srcY:de.number().optional(),srcW:de.number().optional(),srcH:de.number().optional()}),r8=de.union([ic,n8]),_y={blit(e,t){let n=r8.parse(t),{src:r,x:i=0,y:o=0,srcX:s=0,srcY:a=0,srcW:l=r.bitmap.width,srcH:u=r.bitmap.height}="bitmap"in n?{src:n}:n;if(!("bitmap"in r))throw new Error("The source must be a Jimp image");if(typeof i!="number"||typeof o!="number")throw new Error("x and y must be numbers");i=Math.round(i),o=Math.round(o),s=Math.round(s),a=Math.round(a),l=Math.round(l),u=Math.round(u);let c=e.bitmap.width,d=e.bitmap.height;return ks(r,s,a,l,u,function(h,f,p){let m=i+h-s,g=o+f-a;if(m>=0&&g>=0&&c-m>0&&d-g>0){let _=e.getPixelIndex(m,g),b={r:r.bitmap.data[p]||0,g:r.bitmap.data[p+1]||0,b:r.bitmap.data[p+2]||0,a:r.bitmap.data[p+3]||0},v={r:e.bitmap.data[_]||0,g:e.bitmap.data[_+1]||0,b:e.bitmap.data[_+2]||0,a:e.bitmap.data[_+3]||0};e.bitmap.data[_]=(b.a*(b.r-v.r)-v.r+255>>8)+v.r,e.bitmap.data[_+1]=(b.a*(b.g-v.g)-v.g+255>>8)+v.g,e.bitmap.data[_+2]=(b.a*(b.b-v.b)-v.b+255>>8)+v.b,e.bitmap.data[_+3]=dn(v.a+b.a)}}),e}},i8=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],o8=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18],s8={blur(e,t){if(typeof t!="number")throw new Error("r must be a number");if(t<1)throw new Error("r must be greater than 0");let n,r,i,o,s,a,l,u,c,d,h,f,p,m=e.bitmap.width-1,g=e.bitmap.height-1,_=t+1,b=i8[t],v=o8[t],x=[],D=[],k=[],C=[],O=[],A=[],S=2;for(;S-- >0;){for(f=0,p=0,a=0;a<e.bitmap.height;a++){for(n=e.bitmap.data[p]*_,r=e.bitmap.data[p+1]*_,i=e.bitmap.data[p+2]*_,o=e.bitmap.data[p+3]*_,l=1;l<=t;l++)u=p+((l>m?m:l)<<2),n+=e.bitmap.data[u++],r+=e.bitmap.data[u++],i+=e.bitmap.data[u++],o+=e.bitmap.data[u];for(s=0;s<e.bitmap.width;s++)x[f]=n,D[f]=r,k[f]=i,C[f]=o,a===0&&(O[s]=((u=s+_)<m?u:m)<<2,A[s]=(u=s-t)>0?u<<2:0),c=p+O[s],d=p+A[s],n+=e.bitmap.data[c++]-e.bitmap.data[d++],r+=e.bitmap.data[c++]-e.bitmap.data[d++],i+=e.bitmap.data[c++]-e.bitmap.data[d++],o+=e.bitmap.data[c]-e.bitmap.data[d++],f++;p+=e.bitmap.width<<2}for(s=0;s<e.bitmap.width;s++){for(h=s,n=x[h]*_,r=D[h]*_,i=k[h]*_,o=C[h]*_,l=1;l<=t;l++)h+=l>g?0:e.bitmap.width,n+=x[h],r+=D[h],i+=k[h],o+=C[h];for(f=s<<2,a=0;a<e.bitmap.height;a++)e.bitmap.data[f]=dn(n*b>>>v),e.bitmap.data[f+1]=dn(r*b>>>v),e.bitmap.data[f+2]=dn(i*b>>>v),e.bitmap.data[f+3]=dn(o*b>>>v),s===0&&(O[a]=((u=a+_)<g?u:g)*e.bitmap.width,A[a]=(u=a-t)>0?u*e.bitmap.width:0),c=s+O[a],d=s+A[a],n+=x[c]-x[d],r+=D[c]-D[d],i+=k[c]-k[d],o+=C[c]-C[d],f+=e.bitmap.width<<2}}return e},gaussian(e,t){if(typeof t!="number")throw new Error("r must be a number");if(t<1)throw new Error("r must be greater than 0");let n=Math.ceil(2.57*t),r=2*n+1,i=t*t*2,o=i*Math.PI,s=[];for(let a=0;a<r;a++){let l=[];for(let u=0;u<r;u++){let c=(u-n)**2+(a-n)**2;l[u]=Math.exp(-c/i)/o}s.push(l)}for(let a=0;a<e.bitmap.height;a++)for(let l=0;l<e.bitmap.width;l++){let u=0,c=0,d=0,h=0,f=0;for(let p=0;p<r;p++){for(let g=0;g<r;g++){let _=Math.min(e.bitmap.width-1,Math.max(0,g+l-n)),b=Math.min(e.bitmap.height-1,Math.max(0,p+a-n)),v=s[p][g],x=b*e.bitmap.width+_<<2;u+=e.bitmap.data[x]*v,c+=e.bitmap.data[x+1]*v,d+=e.bitmap.data[x+2]*v,h+=e.bitmap.data[x+3]*v,f+=v}let m=a*e.bitmap.width+l<<2;e.bitmap.data[m]=Math.round(u/f),e.bitmap.data[m+1]=Math.round(c/f),e.bitmap.data[m+2]=Math.round(d/f),e.bitmap.data[m+3]=Math.round(h/f)}}return e}},a8=de.object({x:de.number().optional(),y:de.number().optional(),radius:de.number().min(0).optional()}),l8={circle(e,t={}){let n=a8.parse(t),r=n.radius||(e.bitmap.width>e.bitmap.height?e.bitmap.height:e.bitmap.width)/2,i=typeof n.x=="number"?n.x:e.bitmap.width/2,o=typeof n.y=="number"?n.y:e.bitmap.height/2;return e.scan((s,a,l)=>{let u=Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2));r-u<=0?e.bitmap.data[l+3]=0:r-u<1&&(e.bitmap.data[l+3]=255*(r-u))}),e}},Bh=de.array(de.number()).min(1).array(),u8=de.object({kernel:Bh,edgeHandling:de.nativeEnum(Oo).optional()}),c8=de.union([Bh,u8]),d8=de.object({kernel:Bh,x:de.number().optional(),y:de.number().optional(),w:de.number().optional(),h:de.number().optional()}),f8=de.union([Bh,d8]),aC=de.number().min(1).max(1/0),h8=de.object({size:aC,x:de.number().optional(),y:de.number().optional(),w:de.number().optional(),h:de.number().optional()}),p8=de.union([aC,h8]);m8=de.object({apply:de.literal("hue"),params:de.tuple([de.number().min(-360).max(360)])}),g8=de.object({apply:de.literal("spin"),params:de.tuple([de.number().min(-360).max(360)])}),y8=de.object({apply:de.literal("lighten"),params:de.tuple([de.number().min(0).max(100)]).optional()}),B1=de.object({r:de.number().min(0).max(255),g:de.number().min(0).max(255),b:de.number().min(0).max(255)}),_8=de.object({apply:de.literal("mix"),params:de.union([de.tuple([B1]),de.tuple([B1,de.number().min(0).max(100)])])}),v8=de.object({apply:de.literal("tint"),params:de.tuple([de.number().min(0).max(100)]).optional()}),b8=de.object({apply:de.literal("shade"),params:de.tuple([de.number().min(0).max(100)]).optional()}),w8=de.object({apply:de.literal("xor"),params:de.tuple([B1])}),E8=de.object({apply:de.literal("red"),params:de.tuple([de.number().min(-255).max(255)])}),x8=de.object({apply:de.literal("green"),params:de.tuple([de.number().min(-255).max(255)])}),D8=de.object({apply:de.literal("blue"),params:de.tuple([de.number().min(-255).max(255)])}),C8=de.object({apply:de.literal("brighten"),params:de.tuple([de.number().min(0).max(100)]).optional()}),I8=de.object({apply:de.literal("darken"),params:de.tuple([de.number().min(0).max(100)]).optional()}),S8=de.object({apply:de.literal("desaturate"),params:de.tuple([de.number().min(0).max(100)]).optional()}),M8=de.object({apply:de.literal("saturate"),params:de.tuple([de.number().min(0).max(100)]).optional()}),A8=de.object({apply:de.literal("greyscale"),params:de.tuple([]).optional()}),T8=de.union([m8,g8,y8,_8,v8,b8,w8,E8,x8,D8,C8,I8,S8,M8,A8]);m1=function(e,t,n){return 255*(e-t)/(n-t)},g1=function(e){return[e.findIndex(t=>t>0),255-e.slice().reverse().findIndex(t=>t>0)]},vy={normalize(e){let t=k8(e),n={r:g1(t.r),g:g1(t.g),b:g1(t.b)};return e.scan((r,i,o)=>{let s=e.bitmap.data[o+0],a=e.bitmap.data[o+1],l=e.bitmap.data[o+2];e.bitmap.data[o+0]=m1(s,n.r[0],n.r[1]),e.bitmap.data[o+1]=m1(a,n.g[0],n.g[1]),e.bitmap.data[o+2]=m1(l,n.b[0],n.b[1])}),e},invert:e=>(e.scan((t,n,r)=>{e.bitmap.data[r]=255-e.bitmap.data[r],e.bitmap.data[r+1]=255-e.bitmap.data[r+1],e.bitmap.data[r+2]=255-e.bitmap.data[r+2]}),e),brightness(e,t){if(typeof t!="number")throw new Error("val must be numbers");return e.scan((n,r,i)=>{e.bitmap.data[i]=dn(e.bitmap.data[i]*t),e.bitmap.data[i+1]=dn(e.bitmap.data[i+1]*t),e.bitmap.data[i+2]=dn(e.bitmap.data[i+2]*t)}),e},contrast(e,t){if(typeof t!="number")throw new Error("val must be numbers");if(t<-1||t>1)throw new Error("val must be a number between -1 and +1");let n=(t+1)/(1-t);function r(i){return(i=Math.floor(n*(i-127)+127))<0?0:i>255?255:i}return e.scan((i,o,s)=>{e.bitmap.data[s]=r(e.bitmap.data[s]),e.bitmap.data[s+1]=r(e.bitmap.data[s+1]),e.bitmap.data[s+2]=r(e.bitmap.data[s+2])}),e},posterize(e,t){if(typeof t!="number")throw new Error("n must be numbers");return t<2&&(t=2),e.scan((n,r,i)=>{let o=e.bitmap.data[i],s=e.bitmap.data[i+1],a=e.bitmap.data[i+2];e.bitmap.data[i]=Math.floor(o/255*(t-1))/(t-1)*255,e.bitmap.data[i+1]=Math.floor(s/255*(t-1))/(t-1)*255,e.bitmap.data[i+2]=Math.floor(a/255*(t-1))/(t-1)*255}),e},greyscale:e=>(e.scan((t,n,r)=>{let i=.2126*e.bitmap.data[r]+.7152*e.bitmap.data[r+1]+.0722*e.bitmap.data[r+2];e.bitmap.data[r]=i,e.bitmap.data[r+1]=i,e.bitmap.data[r+2]=i}),e),opacity(e,t){if(typeof t!="number")throw new Error("f must be a number");if(t<0||t>1)throw new Error("f must be a number from 0 to 1");return e.scan((n,r,i)=>{let o=e.bitmap.data[i+3]*t;e.bitmap.data[i+3]=o}),e},sepia:e=>(e.scan((t,n,r)=>{let i=e.bitmap.data[r],o=e.bitmap.data[r+1],s=e.bitmap.data[r+2];i=.393*i+.769*o+.189*s,o=.349*i+.686*o+.168*s,s=.272*i+.534*o+.131*s,e.bitmap.data[r]=i<255?i:255,e.bitmap.data[r+1]=o<255?o:255,e.bitmap.data[r+2]=s<255?s:255}),e),fade(e,t){if(typeof t!="number")throw new Error("f must be a number");if(t<0||t>1)throw new Error("f must be a number from 0 to 1");return this.opacity(e,1-t)},convolution(e,t){let n=c8.parse(t),{kernel:r,edgeHandling:i=Oo.EXTEND}="kernel"in n?n:{kernel:n,edgeHandling:void 0};if(!r[0])throw new Error("kernel must be a matrix");let o=be.from(e.bitmap.data),s=r.length,a=r[0].length,l=Math.floor(s/2),u=Math.floor(a/2),c=-l,d=-u,h,f,p,m,g,_,b,v,x,D;return e.scan((k,C,O)=>{m=0,p=0,f=0;for(let A=c;A<=l;A++)for(let S=d;S<=u;S++)v=k+S,x=C+A,h=r[A+l][S+u],D=e.getPixelIndex(v,x,i),D===-1?(b=0,_=0,g=0):(g=e.bitmap.data[D+0],_=e.bitmap.data[D+1],b=e.bitmap.data[D+2]),f+=h*g,p+=h*_,m+=h*b;f<0&&(f=0),p<0&&(p=0),m<0&&(m=0),f>255&&(f=255),p>255&&(p=255),m>255&&(m=255),o[O+0]=f,o[O+1]=p,o[O+2]=m}),e.bitmap.data=o,e},opaque:e=>(e.scan((t,n,r)=>{e.bitmap.data[r+3]=255}),e),pixelate(e,t){let n=p8.parse(t),{size:r,x:i=0,y:o=0,w:s=e.bitmap.width-i,h:a=e.bitmap.height-o}=typeof n=="number"?{size:n}:n,l=[[1/16,2/16,1/16],[2/16,.25,2/16],[1/16,2/16,1/16]],u=Xi(e);return ks(u,i,o,s,a,(c,d,h)=>{c=r*Math.floor(c/r),d=r*Math.floor(d/r);let f=YE(u,l,c,d);e.bitmap.data[h]=f[0],e.bitmap.data[h+1]=f[1],e.bitmap.data[h+2]=f[2],e.bitmap.data[h+3]=f[3]}),e},convolute(e,t){let n=f8.parse(t),{kernel:r,x:i=0,y:o=0,w:s=e.bitmap.width-i,h:a=e.bitmap.height-o}="kernel"in n?n:{kernel:n},l=Xi(e);return ks(l,i,o,s,a,(u,c,d)=>{let h=YE(l,r,u,c);e.bitmap.data[d]=dn(h[0]),e.bitmap.data[d+1]=dn(h[1]),e.bitmap.data[d+2]=dn(h[2]),e.bitmap.data[d+3]=dn(h[3])}),e},color(e,t){if(!t||!Array.isArray(t))throw new Error("actions must be an array");return t.forEach(n=>T8.parse(n)),t=t.map(n=>(n.apply!=="xor"&&n.apply!=="mix"||(n.params[0]=qe(n.params[0]).toRgb()),n)),e.scan((n,r,i)=>{let o={r:e.bitmap.data[i],g:e.bitmap.data[i+1],b:e.bitmap.data[i+2]},s=(a,l)=>dn(o[a]+l);t.forEach(a=>{if(a.apply==="mix")o=p1(o,a.params[0],a.params[1]);else if(a.apply==="tint")o=p1(o,{r:255,g:255,b:255},a.params?.[0]);else if(a.apply==="shade")o=p1(o,{r:0,g:0,b:0},a.params?.[0]);else if(a.apply==="xor")o={r:o.r^a.params[0].r,g:o.g^a.params[0].g,b:o.b^a.params[0].b};else if(a.apply==="red")o.r=s("r",a.params[0]);else if(a.apply==="green")o.g=s("g",a.params[0]);else if(a.apply==="blue")o.b=s("b",a.params[0]);else{a.apply==="hue"&&(a.apply="spin");let l=qe(o),u=l[a.apply].bind(l);if(!u)throw new Error("action "+a.apply+" not supported");o=u(...a.params||[]).toRgb()}}),e.bitmap.data[i]=o.r,e.bitmap.data[i+1]=o.g,e.bitmap.data[i+2]=o.b}),e}},lC={},R8={read:function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+e[t+d],d+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+d],d+=h,c-=8);if(o===0)o=1-u;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},write:function(e,t,n,r,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+f]=255&s,f+=p,s/=256,u-=8);e[n+f-p]|=128*m}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AnsiStringType=e.StringType=e.BufferType=e.Uint8ArrayType=e.IgnoreType=e.Float80_LE=e.Float80_BE=e.Float64_LE=e.Float64_BE=e.Float32_LE=e.Float32_BE=e.Float16_LE=e.Float16_BE=e.INT64_BE=e.UINT64_BE=e.INT64_LE=e.UINT64_LE=e.INT32_LE=e.INT32_BE=e.INT24_BE=e.INT24_LE=e.INT16_LE=e.INT16_BE=e.INT8=e.UINT32_BE=e.UINT32_LE=e.UINT24_BE=e.UINT24_LE=e.UINT16_BE=e.UINT16_LE=e.UINT8=void 0;let t=R8;function n(i){return new DataView(i.buffer,i.byteOffset)}e.UINT8={len:1,get:(i,o)=>n(i).getUint8(o),put:(i,o,s)=>(n(i).setUint8(o,s),o+1)},e.UINT16_LE={len:2,get:(i,o)=>n(i).getUint16(o,!0),put:(i,o,s)=>(n(i).setUint16(o,s,!0),o+2)},e.UINT16_BE={len:2,get:(i,o)=>n(i).getUint16(o),put:(i,o,s)=>(n(i).setUint16(o,s),o+2)},e.UINT24_LE={len:3,get(i,o){let s=n(i);return s.getUint8(o)+(s.getUint16(o+1,!0)<<8)},put(i,o,s){let a=n(i);return a.setUint8(o,255&s),a.setUint16(o+1,s>>8,!0),o+3}},e.UINT24_BE={len:3,get(i,o){let s=n(i);return(s.getUint16(o)<<8)+s.getUint8(o+2)},put(i,o,s){let a=n(i);return a.setUint16(o,s>>8),a.setUint8(o+2,255&s),o+3}},e.UINT32_LE={len:4,get:(i,o)=>n(i).getUint32(o,!0),put:(i,o,s)=>(n(i).setUint32(o,s,!0),o+4)},e.UINT32_BE={len:4,get:(i,o)=>n(i).getUint32(o),put:(i,o,s)=>(n(i).setUint32(o,s),o+4)},e.INT8={len:1,get:(i,o)=>n(i).getInt8(o),put:(i,o,s)=>(n(i).setInt8(o,s),o+1)},e.INT16_BE={len:2,get:(i,o)=>n(i).getInt16(o),put:(i,o,s)=>(n(i).setInt16(o,s),o+2)},e.INT16_LE={len:2,get:(i,o)=>n(i).getInt16(o,!0),put:(i,o,s)=>(n(i).setInt16(o,s,!0),o+2)},e.INT24_LE={len:3,get(i,o){let s=e.UINT24_LE.get(i,o);return s>8388607?s-16777216:s},put(i,o,s){let a=n(i);return a.setUint8(o,255&s),a.setUint16(o+1,s>>8,!0),o+3}},e.INT24_BE={len:3,get(i,o){let s=e.UINT24_BE.get(i,o);return s>8388607?s-16777216:s},put(i,o,s){let a=n(i);return a.setUint16(o,s>>8),a.setUint8(o+2,255&s),o+3}},e.INT32_BE={len:4,get:(i,o)=>n(i).getInt32(o),put:(i,o,s)=>(n(i).setInt32(o,s),o+4)},e.INT32_LE={len:4,get:(i,o)=>n(i).getInt32(o,!0),put:(i,o,s)=>(n(i).setInt32(o,s,!0),o+4)},e.UINT64_LE={len:8,get:(i,o)=>n(i).getBigUint64(o,!0),put:(i,o,s)=>(n(i).setBigUint64(o,s,!0),o+8)},e.INT64_LE={len:8,get:(i,o)=>n(i).getBigInt64(o,!0),put:(i,o,s)=>(n(i).setBigInt64(o,s,!0),o+8)},e.UINT64_BE={len:8,get:(i,o)=>n(i).getBigUint64(o),put:(i,o,s)=>(n(i).setBigUint64(o,s),o+8)},e.INT64_BE={len:8,get:(i,o)=>n(i).getBigInt64(o),put:(i,o,s)=>(n(i).setBigInt64(o,s),o+8)},e.Float16_BE={len:2,get(i,o){return t.read(i,o,!1,10,this.len)},put(i,o,s){return t.write(i,s,o,!1,10,this.len),o+this.len}},e.Float16_LE={len:2,get(i,o){return t.read(i,o,!0,10,this.len)},put(i,o,s){return t.write(i,s,o,!0,10,this.len),o+this.len}},e.Float32_BE={len:4,get:(i,o)=>n(i).getFloat32(o),put:(i,o,s)=>(n(i).setFloat32(o,s),o+4)},e.Float32_LE={len:4,get:(i,o)=>n(i).getFloat32(o,!0),put:(i,o,s)=>(n(i).setFloat32(o,s,!0),o+4)},e.Float64_BE={len:8,get:(i,o)=>n(i).getFloat64(o),put:(i,o,s)=>(n(i).setFloat64(o,s),o+8)},e.Float64_LE={len:8,get:(i,o)=>n(i).getFloat64(o,!0),put:(i,o,s)=>(n(i).setFloat64(o,s,!0),o+8)},e.Float80_BE={len:10,get(i,o){return t.read(i,o,!1,63,this.len)},put(i,o,s){return t.write(i,s,o,!1,63,this.len),o+this.len}},e.Float80_LE={len:10,get(i,o){return t.read(i,o,!0,63,this.len)},put(i,o,s){return t.write(i,s,o,!0,63,this.len),o+this.len}},e.IgnoreType=class{constructor(i){this.len=i}get(i,o){}},e.Uint8ArrayType=class{constructor(i){this.len=i}get(i,o){return i.subarray(o,o+this.len)}},e.BufferType=class{constructor(i){this.len=i}get(i,o){return be.from(i.subarray(o,o+this.len))}},e.StringType=class{constructor(i,o){this.len=i,this.encoding=o}get(i,o){return be.from(i).toString(this.encoding,o,o+this.len)}};class r{constructor(o){this.len=o}static decode(o,s,a){let l="";for(let u=s;u<a;++u)l+=r.codePointToString(r.singleByteDecoder(o[u]));return l}static inRange(o,s,a){return s<=o&&o<=a}static codePointToString(o){return o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode(55296+(o>>10),56320+(1023&o)))}static singleByteDecoder(o){if(r.inRange(o,0,127))return o;let s=r.windows1252[o-128];if(s===null)throw Error("invaliding encoding");return s}get(o,s=0){return r.decode(o,s,s+this.len)}}e.AnsiStringType=r,r.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]})(lC);uC={},Eh={},Xu={},oc={},ih={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EndOfStreamError=e.defaultMessages=void 0,e.defaultMessages="End-Of-Stream";class t extends Error{constructor(){super(e.defaultMessages)}}e.EndOfStreamError=t})(ih);KE={},xh={};Object.defineProperty(xh,"__esModule",{value:!0}),xh.Deferred=void 0;j1=class{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((t,n)=>{this.reject=n,this.resolve=t})}};xh.Deferred=j1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;let t=ih,n=xh;var r=ih;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return r.EndOfStreamError}}),e.StreamReader=class{constructor(i){if(this.s=i,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!i.read||!i.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new t.EndOfStreamError)),this.s.once("error",o=>this.reject(o)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}peek(i,o,s){return Pe(this,null,function*(){let a=yield this.read(i,o,s);return this.peekQueue.push(i.subarray(o,o+a)),a})}read(i,o,s){return Pe(this,null,function*(){if(s===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new t.EndOfStreamError;let a=s,l=0;for(;this.peekQueue.length>0&&a>0;){let u=this.peekQueue.pop();if(!u)throw new Error("peekData should be defined");let c=Math.min(u.length,a);i.set(u.subarray(0,c),o+l),l+=c,a-=c,c<u.length&&this.peekQueue.push(u.subarray(c))}for(;a>0&&!this.endOfStream;){let u=Math.min(a,1048576),c=yield this.readFromStream(i,o+l,u);if(l+=c,c<u)break;a-=c}return l})}readFromStream(i,o,s){return Pe(this,null,function*(){let a=this.s.read(s);if(a)return i.set(a,o),a.length;{let l={buffer:i,offset:o,length:s,deferred:new n.Deferred};return this.deferred=l.deferred,this.s.once("readable",()=>{this.readDeferred(l)}),l.deferred.promise}})}readDeferred(i){let o=this.s.read(i.length);o?(i.buffer.set(o,i.offset),i.deferred.resolve(o.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(i)})}reject(i){this.endOfStream=!0,this.deferred&&(this.deferred.reject(i),this.deferred=null)}}})(KE),(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.StreamReader=e.EndOfStreamError=void 0;var t=ih;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return t.EndOfStreamError}});var n=KE;Object.defineProperty(e,"StreamReader",{enumerable:!0,get:function(){return n.StreamReader}})})(oc),Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.AbstractTokenizer=void 0;Jf=oc,U1=class{constructor(t){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=t||{}}readToken(r){return Pe(this,arguments,function*(t,n=this.position){let i=be.alloc(t.len);if((yield this.readBuffer(i,{position:n}))<t.len)throw new Jf.EndOfStreamError;return t.get(i,0)})}peekToken(r){return Pe(this,arguments,function*(t,n=this.position){let i=be.alloc(t.len);if((yield this.peekBuffer(i,{position:n}))<t.len)throw new Jf.EndOfStreamError;return t.get(i,0)})}readNumber(t){return Pe(this,null,function*(){if((yield this.readBuffer(this.numBuffer,{length:t.len}))<t.len)throw new Jf.EndOfStreamError;return t.get(this.numBuffer,0)})}peekNumber(t){return Pe(this,null,function*(){if((yield this.peekBuffer(this.numBuffer,{length:t.len}))<t.len)throw new Jf.EndOfStreamError;return t.get(this.numBuffer,0)})}ignore(t){return Pe(this,null,function*(){if(this.fileInfo.size!==void 0){let n=this.fileInfo.size-this.position;if(t>n)return this.position+=n,n}return this.position+=t,t})}close(){return Pe(this,null,function*(){})}normalizeOptions(t,n){if(n&&n.position!==void 0&&n.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return n?{mayBeLess:n.mayBeLess===!0,offset:n.offset?n.offset:0,length:n.length?n.length:t.length-(n.offset?n.offset:0),position:n.position?n.position:this.position}:{mayBeLess:!1,offset:0,length:t.length,position:this.position}}};Xu.AbstractTokenizer=U1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.ReadStreamTokenizer=void 0;N8=Xu,Xf=oc,O8=256e3,z1=class extends N8.AbstractTokenizer{constructor(t,n){super(n),this.streamReader=new Xf.StreamReader(t)}getFileInfo(){return Pe(this,null,function*(){return this.fileInfo})}readBuffer(t,n){return Pe(this,null,function*(){let r=this.normalizeOptions(t,n),i=r.position-this.position;if(i>0)return yield this.ignore(i),this.readBuffer(t,n);if(i<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(r.length===0)return 0;let o=yield this.streamReader.read(t,r.offset,r.length);if(this.position+=o,(!n||!n.mayBeLess)&&o<r.length)throw new Xf.EndOfStreamError;return o})}peekBuffer(t,n){return Pe(this,null,function*(){let r=this.normalizeOptions(t,n),i=0;if(r.position){let o=r.position-this.position;if(o>0){let s=new Uint8Array(r.length+o);return i=yield this.peekBuffer(s,{mayBeLess:r.mayBeLess}),t.set(s.subarray(o),r.offset),i-o}if(o<0)throw new Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{i=yield this.streamReader.peek(t,r.offset,r.length)}catch(o){if(n&&n.mayBeLess&&o instanceof Xf.EndOfStreamError)return 0;throw o}if(!r.mayBeLess&&i<r.length)throw new Xf.EndOfStreamError}return i})}ignore(t){return Pe(this,null,function*(){let n=Math.min(O8,t),r=new Uint8Array(n),i=0;for(;i<t;){let o=t-i,s=yield this.readBuffer(r,{length:Math.min(n,o)});if(s<0)return s;i+=s}return i})}};Eh.ReadStreamTokenizer=z1;Dh={};Object.defineProperty(Dh,"__esModule",{value:!0}),Dh.BufferTokenizer=void 0;P8=oc,F8=Xu,V1=class extends F8.AbstractTokenizer{constructor(t,n){super(n),this.uint8Array=t,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:t.length}readBuffer(t,n){return Pe(this,null,function*(){if(n&&n.position){if(n.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=n.position}let r=yield this.peekBuffer(t,n);return this.position+=r,r})}peekBuffer(t,n){return Pe(this,null,function*(){let r=this.normalizeOptions(t,n),i=Math.min(this.uint8Array.length-r.position,r.length);if(!r.mayBeLess&&i<r.length)throw new P8.EndOfStreamError;return t.set(this.uint8Array.subarray(r.position,r.position+i),r.offset),i})}close(){return Pe(this,null,function*(){})}};Dh.BufferTokenizer=V1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fromBuffer=e.fromStream=e.EndOfStreamError=void 0;let t=Eh,n=Dh;var r=oc;Object.defineProperty(e,"EndOfStreamError",{enumerable:!0,get:function(){return r.EndOfStreamError}}),e.fromStream=function(i,o){return o=o||{},new t.ReadStreamTokenizer(i,o)},e.fromBuffer=function(i,o){return new n.BufferTokenizer(i,o)}})(uC);L8={stringToBytes:e=>[...e].map(t=>t.charCodeAt(0)),tarHeaderChecksumMatches:(e,t=0)=>{let n=parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(n))return!1;let r=256;for(let i=t;i<t+148;i++)r+=e[i];for(let i=t+156;i<t+512;i++)r+=e[i];return n===r},uint32SyncSafeToken:{get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4}},B8={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]},Zi=lC,jh=uC,{stringToBytes:j8,tarHeaderChecksumMatches:U8,uint32SyncSafeToken:z8}=L8,QE=B8,cC=4100;$8=readableStream=>new Promise((resolve,reject)=>{let stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",()=>Pe(null,null,function*(){let e=new stream.PassThrough,t;t=stream.pipeline?stream.pipeline(readableStream,e,()=>{}):readableStream.pipe(e);let n=readableStream.read(cC)||readableStream.read()||be.alloc(0);try{let r=yield dC(n);e.fileType=r}catch(r){reject(r)}resolve(t)}))}),H1={fromStream:V8,fromTokenizer:Uh,fromBuffer:dC,stream:$8};Object.defineProperty(H1,"extensions",{get:()=>new Set(QE.extensions)}),Object.defineProperty(H1,"mimeTypes",{get:()=>new Set(QE.mimeTypes)});G8=H1,W8=ti(G8);q8=()=>Pe(null,null,function*(){throw new Error("Not supported")});oh.prototype.define=function(e,t){for(let n in e){let r=e[n].map(function(i){return i.toLowerCase()});n=n.toLowerCase();for(let i=0;i<r.length;i++){let o=r[i];if(o[0]!=="*"){if(!t&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+n+'".');this._types[o]=n}}if(t||!this._extensions[n]){let i=r[0];this._extensions[n]=i[0]!=="*"?i:i.substr(1)}}},oh.prototype.getType=function(e){let t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),r=t.length<e.length;return(n.length<t.length-1||!r)&&this._types[n]||null},oh.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null};Z8=oh,Y8={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]},K8=Z8,Q8=new K8(Y8),J8=ti(Q8);Ss=Di||(Di={}),Ss[Ss.LEFT=1]="LEFT",Ss[Ss.CENTER=2]="CENTER",Ss[Ss.RIGHT=4]="RIGHT",Ms=xi||(xi={}),Ms[Ms.TOP=8]="TOP",Ms[Ms.MIDDLE=16]="MIDDLE",Ms[Ms.BOTTOM=32]="BOTTOM",Tr=Ch||(Ch={}),Tr.SRC_OVER="srcOver",Tr.DST_OVER="dstOver",Tr.MULTIPLY="multiply",Tr.ADD="add",Tr.SCREEN="screen",Tr.OVERLAY="overlay",Tr.DARKEN="darken",Tr.LIGHTEN="lighten",Tr.HARD_LIGHT="hardLight",Tr.DIFFERENCE="difference",Tr.EXCLUSION="exclusion";X8=[fC,hC,pC,mC,gC,yC,_C,vC,bC,wC,EC],eP=Object.freeze({__proto__:null,add:mC,darken:_C,difference:wC,dstOver:hC,exclusion:EC,hardLight:bC,lighten:vC,multiply:pC,names:X8,overlay:yC,screen:gC,srcOver:fC});tP={parseSections:function(e,t){var n,r;for(e.setBigEndian(!0);e.remainingLength()>0&&r!==218;){if(e.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");n=(r=e.nextUInt8())>=208&&r<=217||r===218?0:e.nextUInt16()-2,t(r,e.branch(0,n)),e.skip(n)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var t,n;switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:e>=224&&e<=239?(t="APP",n=e-224):e>=192&&e<=207&&e!==196&&e!==200&&e!==204?(t="SOF",n=e-192):e>=208&&e<=215&&(t="RST",n=e-208)}var r={name:t};return typeof n=="number"&&(r.index=n),r}};xC={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var n,r,i,o;try{n=oP(e)}catch{return!1}var s=n.openWithOffset(e.nextUInt32()),a=this.IFD0;Ou(n,s,function(p,m,g){switch(p){case 34853:i=m[0];break;case 34665:r=m[0];break;default:t(a,p,m,g)}});var l=s.nextUInt32();if(l!==0){var u=n.openWithOffset(l);Ou(n,u,t.bind(null,this.IFD1))}if(i){var c=n.openWithOffset(i);Ou(n,c,t.bind(null,this.GPSIFD))}if(r){var d=n.openWithOffset(r),h=this.InteropIFD;Ou(n,d,function(p,m,g){p===40965?o=m[0]:t(h,p,m,g)})}if(o){var f=n.openWithOffset(o);Ou(n,f,t.bind(null,this.InteropIFD))}return!0}};sP=3600,aP=60;uP={parseDateWithSpecFormat:IC,parseDateWithTimezoneFormat:CC,parseExifDate:lP},tl=xC,cP=uP,dP=[{section:tl.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:tl.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],fP=[{section:tl.SubIFD,type:306,name:"ModifyDate"},{section:tl.SubIFD,type:36867,name:"DateTimeOriginal"},{section:tl.SubIFD,type:36868,name:"CreateDate"},{section:tl.SubIFD,type:306,name:"ModifyDate"}],hP={castDegreeValues:function(e,t){dP.forEach(function(n){var r=e(n);if(r){var i=e({section:n.section,type:n.refType,name:n.refName})===n.posVal?1:-1,o=(r[0]+r[1]/60+r[2]/3600)*i;t(n,o)}})},castDateValues:function(e,t){fP.forEach(function(n){var r=e(n);if(r){var i=cP.parseExifDate(r);i!==void 0&&t(n,i)}})},simplifyValue:function(e,t){return Array.isArray(e)&&(e=e.map(function(n){return t===10||t===5?n[0]/n[1]:n})).length===1&&(e=e[0]),e}};Ga=tP,tx=xC,y1=hP;nx.prototype={hasThumbnail:function(e){return!(!this.thumbnailOffset||!this.thumbnailLength)&&(typeof e!="string"||(e.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:e.toLowerCase().trim()==="image/tiff"&&this.thumbnailType===1))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e,t=this._getThumbnailStream();return Ga.parseSections(t,function(n,r){Ga.getSectionName(n).name==="SOF"&&(e=Ga.getSizeFromSOFSection(r))}),e}},SC.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var e,t,n,r,i,o,s,a,l,u=this.stream.mark(),c=u.openWithOffset(0),d=this.flags;return d.resolveTagNames&&(s=pP()),d.resolveTagNames?(e={},a=function(h){return e[h.name]},l=function(h,f){e[h.name]=f}):(e=[],a=function(h){var f;for(f=0;f<e.length;++f)if(e[f].type===h.type&&e[f].section===h.section)return e.value},l=function(h,f){var p;for(p=0;p<e.length;++p)if(e[p].type===h.type&&e[p].section===h.section)return void(e.value=f)}),Ga.parseSections(c,function(h,f){var p=f.offsetFrom(u);h===225?tx.parseTags(f,function(m,g,_,b){if(d.readBinaryTags||b!==7){if(g===513){if(n=_[0],d.hidePointers)return}else if(g===514){if(r=_[0],d.hidePointers)return}else if(g===259&&(i=_[0],d.hidePointers))return;if(d.returnTags)if(d.simplifyValues&&(_=y1.simplifyValue(_,b)),d.resolveTagNames){var v=(m===tx.GPSIFD?s.gps:s.exif)[g];v||(v=s.exif[g]),e.hasOwnProperty(v)||(e[v]=_)}else e.push({section:m,type:g,value:_})}})&&(o=p):d.imageSize&&Ga.getSectionName(h).name==="SOF"&&(t=Ga.getSizeFromSOFSection(f))}),d.simplifyValues&&(y1.castDegreeValues(a,l),y1.castDateValues(a,l)),new nx(u,e,t,n,r,i,o)}};mP=SC;ax=mP;vP={create:function(e,t){if(e instanceof(t=t||_P()).ArrayBuffer){var n=gP();return new ax(new n(e,0,e.byteLength,!0,t))}var r=yP();return new ax(new r(e,0,e.length,!0))}},bP=ti(vP);CP=Object.defineProperty,IP=(e,t,n)=>t in e?CP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eh=(e,t,n)=>IP(e,typeof t!="symbol"?t+"":t,n),_1={data:be.alloc(0),width:0,height:0};Wa=Ci||(Ci={}),Wa.NEAREST_NEIGHBOR="nearestNeighbor",Wa.BILINEAR="bilinearInterpolation",Wa.BICUBIC="bicubicInterpolation",Wa.HERMITE="hermiteInterpolation",Wa.BEZIER="bezierInterpolation",cn.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw console.log(this),new Error("Invalid settings specified for the resizer.");this.configurePasses()},cn.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},cn.prototype._resizeWidthInterpolatedRGBChannels=function(e,t){let n=t?4:3,r=this.ratioWeightWidthPass,i=this.widthBuffer,o,s,a=0,l=0,u=0,c=0,d=0;for(o=0;a<1/3;o+=n,a+=r)for(l=o,u=0;l<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)i[l]=e[u],i[l+1]=e[u+1],i[l+2]=e[u+2],t&&(i[l+3]=e[u+3]);for(a-=1/3,s=this.widthOriginal-1;a<s;o+=n,a+=r)for(d=a%1,c=1-d,l=o,u=Math.floor(a)*n;l<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)i[l+0]=e[u+0]*c+e[u+n+0]*d,i[l+1]=e[u+1]*c+e[u+n+1]*d,i[l+2]=e[u+2]*c+e[u+n+2]*d,t&&(i[l+3]=e[u+3]*c+e[u+n+3]*d);for(s=this.originalWidthMultipliedByChannels-n;o<this.targetWidthMultipliedByChannels;o+=n)for(l=o,u=s;l<this.widthPassResultSize;u+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)i[l]=e[u],i[l+1]=e[u+1],i[l+2]=e[u+2],t&&(i[l+3]=e[u+3]);return i},cn.prototype._resizeWidthRGBChannels=function(e,t){let n=t?4:3,r=this.ratioWeightWidthPass,i=1/r,o=this.originalWidthMultipliedByChannels-n+1,s=this.targetWidthMultipliedByChannels-n+1,a=this.outputWidthWorkBench,l=this.widthBuffer,u=this.outputWidthWorkBenchOpaquePixelsCount,c=0,d=0,h=0,f=0,p=0,m=0,g=0,_=1,b=0,v=0,x=0,D=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)a[p++]=0,a[p++]=0,a[p++]=0,t&&(a[p++]=0,u[p/n-1]=0);c=r;do{for(d=1+h-f,_=Math.min(c,d),p=0,m=h;p<this.originalHeightMultipliedByChannels;m+=o)b=e[m],v=e[++m],x=e[++m],D=t?e[++m]:255,a[p++]+=(D?b:0)*_,a[p++]+=(D?v:0)*_,a[p++]+=(D?x:0)*_,t&&(a[p++]+=D*_,u[p/n-1]+=D?_:0);if(!(c>=d)){f+=c;break}h+=n,f=h,c-=d}while(c>0&&h<this.originalWidthMultipliedByChannels);for(p=0,m=g;p<this.originalHeightMultipliedByChannels;m+=s)c=t?u[p/n]:1,_=t?c?1/c:0:i,l[m]=a[p++]*_,l[++m]=a[p++]*_,l[++m]=a[p++]*_,t&&(l[++m]=a[p++]*i);g+=n}while(g<this.targetWidthMultipliedByChannels);return l},cn.prototype._resizeHeightRGBChannels=function(e,t){let n=this.ratioWeightHeightPass,r=1/n,i=this.outputHeightWorkBench,o=this.heightBuffer,s=this.outputHeightWorkBenchOpaquePixelsCount,a=0,l=0,u=0,c=0,d=0,h=0,f=0,p=1,m=0,g=0,_=0,b=0;do{for(d=0;d<this.targetWidthMultipliedByChannels;)i[d++]=0,i[d++]=0,i[d++]=0,t&&(i[d++]=0,s[d/4-1]=0);a=n;do{for(l=1+u-c,p=Math.min(a,l),f=u,d=0;d<this.targetWidthMultipliedByChannels;)m=e[f++],g=e[f++],_=e[f++],b=t?e[f++]:255,i[d++]+=(b?m:0)*p,i[d++]+=(b?g:0)*p,i[d++]+=(b?_:0)*p,t&&(i[d++]+=b*p,s[d/4-1]+=b?p:0);if(!(a>=l)){c+=a;break}u=f,c=u,a-=l}while(a>0&&u<this.widthPassResultSize);for(d=0;d<this.targetWidthMultipliedByChannels;)a=t?s[d/4]:1,p=t?a?1/a:0:r,o[h++]=Math.round(i[d++]*p),o[h++]=Math.round(i[d++]*p),o[h++]=Math.round(i[d++]*p),t&&(o[h++]=Math.round(i[d++]*r))}while(h<this.finalResultSize);return o},cn.prototype.resizeWidthInterpolatedRGB=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!1)},cn.prototype.resizeWidthInterpolatedRGBA=function(e){return this._resizeWidthInterpolatedRGBChannels(e,!0)},cn.prototype.resizeWidthRGB=function(e){return this._resizeWidthRGBChannels(e,!1)},cn.prototype.resizeWidthRGBA=function(e){return this._resizeWidthRGBChannels(e,!0)},cn.prototype.resizeHeightInterpolated=function(e){let t=this.ratioWeightHeightPass,n=this.heightBuffer,r,i=0,o=0,s=0,a=0,l=0,u=0,c=0;for(;i<1/3;i+=t)for(s=0;s<this.targetWidthMultipliedByChannels;)n[o++]=Math.round(e[s++]);for(i-=1/3,r=this.heightOriginal-1;i<r;i+=t)for(c=i%1,u=1-c,a=Math.floor(i)*this.targetWidthMultipliedByChannels,l=a+this.targetWidthMultipliedByChannels,s=0;s<this.targetWidthMultipliedByChannels;++s)n[o++]=Math.round(e[a++]*u+e[l++]*c);for(;o<this.finalResultSize;)for(s=0,a=r*this.targetWidthMultipliedByChannels;s<this.targetWidthMultipliedByChannels;++s)n[o++]=Math.round(e[a++]);return n},cn.prototype.resizeHeightRGB=function(e){return this._resizeHeightRGBChannels(e,!1)},cn.prototype.resizeHeightRGBA=function(e){return this._resizeHeightRGBChannels(e,!0)},cn.prototype.resize=function(e){this.resizeCallback(this.resizeHeight(this.resizeWidth(e)))},cn.prototype.bypassResizer=function(e){return e},cn.prototype.initializeFirstPassBuffers=function(e){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),e||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},cn.prototype.initializeSecondPassBuffers=function(e){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),e||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},cn.prototype.generateFloatBuffer=function(e){try{return new Float32Array(e)}catch(t){return console.error(t),[]}},cn.prototype.generateFloat64Buffer=function(e){try{return new Float64Array(e)}catch(t){return console.error(t),[]}},cn.prototype.generateUint8Buffer=function(e){try{return new Uint8Array(e)}catch(t){return console.error(t),[]}};ux={nearestNeighbor(e,t){let n=e.width,r=e.height,i=t.width,o=t.height,s=e.data,a=t.data;for(let l=0;l<o;l++)for(let u=0;u<i;u++){let c=4*(l*i+u),d=4*(Math.floor(l*r/o)*n+Math.floor(u*n/i));a[c++]=s[d++],a[c++]=s[d++],a[c++]=s[d++],a[c++]=s[d++]}},bilinearInterpolation(e,t){let n=e.width,r=e.height,i=t.width,o=t.height,s=e.data,a=t.data,l=function(c,d,h,f,p){return d===f?h:Math.round((c-d)*p+(f-c)*h)},u=function(c,d,h,f,p,m,g,_){let b=4*(g*n+f)+d,v=4*(g*n+p)+d,x=l(h,f,s[b],p,s[v]);if(_===g)a[c+d]=x;else{b=4*(_*n+f)+d,v=4*(_*n+p)+d;let D=l(h,f,s[b],p,s[v]);a[c+d]=l(m,g,x,_,D)}};for(let c=0;c<o;c++)for(let d=0;d<i;d++){let h=4*(c*i+d),f=d*n/i,p=Math.floor(f),m=Math.min(Math.ceil(f),n-1),g=c*r/o,_=Math.floor(g),b=Math.min(Math.ceil(g),r-1);u(h,0,f,p,m,g,_,b),u(h,1,f,p,m,g,_,b),u(h,2,f,p,m,g,_,b),u(h,3,f,p,m,g,_,b)}},_interpolate2D(e,t,n,r){let i=e.data,o=t.data,s=e.width,a=e.height,l=t.width,u=t.height,c=Math.max(1,Math.floor(s/l)),d=l*c,h=Math.max(1,Math.floor(a/u)),f=u*h,p=be.alloc(d*a*4);for(let _=0;_<a;_++)for(let b=0;b<d;b++){let v=b*(s-1)/d,x=Math.floor(v),D=v-x,k=4*(_*s+x),C=4*(_*d+b);for(let O=0;O<4;O++){let A=k+O,S=x>0?i[A-4]:2*i[A]-i[A+4],w=i[A],y=i[A+4],z=x<s-2?i[A+8]:2*i[A+4]-i[A];p[C+O]=r(S,w,y,z,D)}}let m=be.alloc(d*f*4);for(let _=0;_<f;_++)for(let b=0;b<d;b++){let v=_*(a-1)/f,x=Math.floor(v),D=v-x,k=4*(x*d+b),C=4*(_*d+b);for(let O=0;O<4;O++){let A=k+O,S=x>0?p[A-4*d]:2*p[A]-p[A+4*d],w=p[A],y=p[A+4*d],z=x<a-2?p[A+8*d]:2*p[A+4*d]-p[A];m[C+O]=r(S,w,y,z,D)}}let g=c*h;if(g>1)for(let _=0;_<u;_++)for(let b=0;b<l;b++){let v=0,x=0,D=0,k=0,C=0;for(let A=0;A<h;A++){let S=_*h+A;for(let w=0;w<c;w++){let y=4*(S*d+(b*c+w)),z=m[y+3];z&&(v+=m[y],x+=m[y+1],D+=m[y+2],C++),k+=z}}let O=4*(_*l+b);o[O]=C?Math.round(v/C):0,o[O+1]=C?Math.round(x/C):0,o[O+2]=C?Math.round(D/C):0,o[O+3]=Math.round(k/g)}else t.data=m},bicubicInterpolation(e,t,n){return this._interpolate2D(e,t,n,function(r,i,o,s,a){let l=s-o-r+i,u=r-i-l,c=o-r,d=i;return Math.max(0,Math.min(255,l*(a*a*a)+u*(a*a)+c*a+d))})},hermiteInterpolation(e,t,n){return this._interpolate2D(e,t,n,function(r,i,o,s,a){let l=i,u=.5*(o-r),c=r-2.5*i+2*o-.5*s,d=.5*(s-r)+1.5*(i-o);return Math.max(0,Math.min(255,Math.round(((d*a+c)*a+u)*a+l)))})},bezierInterpolation(e,t,n){return this._interpolate2D(e,t,n,function(r,i,o,s,a){let l=1-a,u=i*l*l*l,c=3*(i+(o-r)/4)*l*l*a,d=3*(o-(s-i)/4)*l*a*a,h=o*a*a*a;return Math.max(0,Math.min(255,Math.round(u+c+d+h)))})}},SP=de.union([de.object({w:de.number().min(0),h:de.number().min(0).optional(),mode:de.nativeEnum(Ci).optional()}),de.object({w:de.number().min(0).optional(),h:de.number().min(0),mode:de.nativeEnum(Ci).optional()})]),MP=de.object({w:de.number().min(0),h:de.number().min(0),mode:de.nativeEnum(Ci).optional()}),AP=de.object({f:de.number().min(0),mode:de.nativeEnum(Ci).optional()}),Fo={resize(e,t){let{mode:n}=SP.parse(t),r,i;if(typeof t.w=="number")r=t.w,i=t.h??e.bitmap.height*(r/e.bitmap.width);else{if(typeof t.h!="number")throw new Error("w must be a number");i=t.h,r=t.w??e.bitmap.width*(i/e.bitmap.height)}if(r=Math.round(r)||1,i=Math.round(i)||1,n&&typeof ux[n]=="function"){let o={data:be.alloc(r*i*4),width:r,height:i};ux[n](e.bitmap,o),e.bitmap=o}else new cn(e.bitmap.width,e.bitmap.height,r,i,!0,!0,o=>{e.bitmap.data=be.from(o),e.bitmap.width=r,e.bitmap.height=i}).resize(e.bitmap.data);return e},scale(e,t){let{f:n,mode:r}=typeof t=="number"?{f:t}:AP.parse(t),i=e.bitmap.width*n,o=e.bitmap.height*n;return this.resize(e,{w:i,h:o,mode:r})},scaleToFit(e,t){let{h:n,w:r,mode:i}=MP.parse(t),o=r/n>e.bitmap.width/e.bitmap.height?n/e.bitmap.height:r/e.bitmap.width;return this.scale(e,{f:o,mode:i})}},TP=de.object({w:de.number(),h:de.number(),align:de.number().optional(),mode:de.nativeEnum(Ci).optional()}),kP={contain(e,t){let{w:n,h:r,align:i=Di.CENTER|xi.MIDDLE,mode:o}=TP.parse(t),s=7&i,a=i>>3;if((s===0||s&s-1)&&(a===0||a&a-1))throw new Error("only use one flag per alignment direction");let l=s>>1,u=a>>1,c=n/r>e.bitmap.width/e.bitmap.height?r/e.bitmap.height:n/e.bitmap.width,d=Fo.scale(Xi(e),{f:c,mode:o});return(e=Fo.resize(e,{w:n,h:r,mode:o})).scan((h,f,p)=>{e.bitmap.data.writeUInt32BE(e.background,p)}),e=_y.blit(e,{src:d,x:(e.bitmap.width-d.bitmap.width)/2*l,y:(e.bitmap.height-d.bitmap.height)/2*u})}},RP=de.object({x:de.number(),y:de.number(),w:de.number(),h:de.number()}),NP=de.object({tolerance:de.number().min(0).max(1).optional(),cropOnlyFrames:de.boolean().optional(),cropSymmetric:de.boolean().optional(),leaveBorder:de.number().optional(),ignoreSides:de.object({north:de.boolean().optional(),south:de.boolean().optional(),east:de.boolean().optional(),west:de.boolean().optional()}).optional()}),by={crop(e,t){let{x:n,y:r,w:i,h:o}=RP.parse(t);if(n=Math.round(n),r=Math.round(r),i=Math.round(i),o=Math.round(o),n===0&&i===e.bitmap.width){let s=i*r+n<<2,a=s+(o*i<<2);e.bitmap.data=e.bitmap.data.slice(s,a)}else{let s=be.allocUnsafe(i*o*4),a=0;ks(e,n,r,i,o,function(l,u,c){let d=e.bitmap.data.readUInt32BE(c);s.writeUInt32BE(d,a),a+=4}),e.bitmap.data=s}return e.bitmap.width=i,e.bitmap.height=o,e},autocrop(e,t={}){let{tolerance:n=2e-4,cropOnlyFrames:r=!0,cropSymmetric:i=!1,leaveBorder:o=0,ignoreSides:s}=typeof t=="number"?{tolerance:t}:NP.parse(t),a=e.bitmap.width,l=e.bitmap.height,u=fe({north:!1,south:!1,east:!1,west:!1},s),c=e.getPixelColor(0,0),d=Ja(c),h=0,f=0,p=0,m=0;if(c=e.getPixelColor(0,0),!u.north)e:for(let v=0;v<l-1;v++){for(let x=0;x<a;x++)if(Fu(d,Ja(e.getPixelColor(x,v)))>n)break e;h++}if(c=e.getPixelColor(a,0),!u.west)e:for(let v=0;v<a-1;v++){for(let x=0+h;x<l;x++)if(Fu(d,Ja(e.getPixelColor(v,x)))>n)break e;m++}if(c=e.getPixelColor(0,l),!u.south)e:for(let v=l-1;v>=h+1;v--){for(let x=a-f-1;x>=0;x--)if(Fu(d,Ja(e.getPixelColor(x,v)))>n)break e;p++}if(c=e.getPixelColor(a,l),!u.east)e:for(let v=a-1;v>=0+m+1;v--){for(let x=l-1;x>=0+h;x--)if(Fu(d,Ja(e.getPixelColor(v,x)))>n)break e;f++}let g=!1;if(m-=o,f-=o,h-=o,p-=o,i){let v=Math.min(f,m),x=Math.min(h,p);m=v,f=v,h=x,p=x}m=m>=0?m:0,f=f>=0?f:0,h=h>=0?h:0,p=p>=0?p:0;let _=a-(m+f),b=l-(p+h);return g=r?f!==0&&h!==0&&m!==0&&p!==0:f!==0||h!==0||m!==0||p!==0,g&&this.crop(e,{x:m,y:h,w:_,h:b}),e}},OP=de.object({w:de.number(),h:de.number(),align:de.number().optional(),mode:de.nativeEnum(Ci).optional()}),PP={cover(e,t){let{w:n,h:r,align:i=Di.CENTER|xi.MIDDLE,mode:o}=OP.parse(t),s=7&i,a=i>>3;if((s===0||s&s-1)&&(a===0||a&a-1))throw new Error("only use one flag per alignment direction");let l=s>>1,u=a>>1,c=n/r>e.bitmap.width/e.bitmap.height?n/e.bitmap.width:r/e.bitmap.height;return e=Fo.scale(e,{f:c,mode:o}),e=by.crop(e,{x:(e.bitmap.width-n)/2*l,y:(e.bitmap.height-r)/2*u,w:n,h:r})}},FP=de.object({map:ic,offset:de.number()}),LP={displace(e,t){let{map:n,offset:r}=FP.parse(t),i=Xi(e);return e.scan((o,s,a)=>{let l=n.bitmap.data[a]/256*r;l=Math.round(l);let u=e.getPixelIndex(o+l,s);e.bitmap.data[u]=i.bitmap.data[a],e.bitmap.data[u+1]=i.bitmap.data[a+1],e.bitmap.data[u+2]=i.bitmap.data[a+2]}),e}},BP={dither(e){let t=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return e.scan((n,r,i)=>{let o=t[((3&r)<<2)+n%4];e.bitmap.data[i]=Math.min(e.bitmap.data[i]+o,255),e.bitmap.data[i+1]=Math.min(e.bitmap.data[i+1]+o,255),e.bitmap.data[i+2]=Math.min(e.bitmap.data[i+2]+o,255)}),e}},jP=de.object({radius:de.number().min(0).optional()}),UP={fisheye(e,t={}){let{radius:n=2.5}=jP.parse(t),r=Xi(e),{width:i,height:o}=r.bitmap;return r.scan((s,a)=>{let l=s/i,u=a/o,c=Math.sqrt(Math.pow(l-.5,2)+Math.pow(u-.5,2)),d=2*Math.pow(c,n),h=(l-.5)/c,f=(u-.5)/c,p=Math.round((d*h+.5)*i),m=Math.round((d*f+.5)*o),g=r.getPixelColor(p,m);e.setPixelColor(g,s,a)}),e.setPixelColor(r.getPixelColor(i/2,o/2),i/2,o/2),e}},zP=de.object({horizontal:de.boolean().optional(),vertical:de.boolean().optional()}),VP={flip(e,t){let{horizontal:n,vertical:r}=zP.parse(t),i=be.alloc(e.bitmap.data.length);return e.scan((o,s,a)=>{let l=n?e.bitmap.width-1-o:o,u=r?e.bitmap.height-1-s:s,c=e.bitmap.width*u+l<<2,d=e.bitmap.data.readUInt32BE(a);i.writeUInt32BE(d,c)}),e.bitmap.data=be.from(i),e}};q1.prototype.convert=function(e){var t,n,r,i={},o=this.srcAlphabet.length,s=this.dstAlphabet.length,a=e.length,l=typeof e=="string"?"":[];if(!this.isValid(e))throw new Error('Number "'+e+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return e;for(t=0;t<a;t++)i[t]=this.srcAlphabet.indexOf(e[t]);do{for(n=0,r=0,t=0;t<a;t++)(n=n*o+i[t])>=s?(i[r++]=parseInt(n/s,10),n%=s):r>0&&(i[r++]=0);a=r,l=this.dstAlphabet.slice(n,n+1).concat(l)}while(r!==0);return l},q1.prototype.isValid=function(e){for(var t=0;t<e.length;++t)if(this.srcAlphabet.indexOf(e[t])===-1)return!1;return!0};HP=q1,$P=HP;zu.BIN="01",zu.OCT="01234567",zu.DEC="0123456789",zu.HEX="0123456789abcdef";GP=zu,Ih=ti(GP),WP=Object.defineProperty,qP=(e,t,n)=>t in e?WP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cx=(e,t,n)=>qP(e,typeof t!="symbol"?t+"":t,n),al=class{constructor(t,n){cx(this,"size"),cx(this,"smallerSize"),this.size=t||32,this.smallerSize=n||8,YP(this.size)}distance(t,n){let r=0;for(let i=0;i<t.length;i++)t[i]!==n[i]&&r++;return r/t.length}getHash(t){t=Fo.resize(Xi(t),{w:this.size,h:this.size}),t=vy.greyscale(t);let n=[];for(let a=0;a<t.bitmap.width;a++){let l=[];for(let u=0;u<t.bitmap.height;u++)l[u]=ZP(t.getPixelColor(a,u)).b;n[a]=l}let r=KP(n,this.size),i=0;for(let a=0;a<this.smallerSize;a++)for(let l=0;l<this.smallerSize;l++)i+=r[a][l];let o=i/(this.smallerSize*this.smallerSize),s="";for(let a=0;a<this.smallerSize;a++)for(let l=0;l<this.smallerSize;l++)s+=r[a][l]>o?"1":"0";return s}};Sh=[];AC="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",TC=[NaN,NaN];for(let e=2;e<65;e++){let t=Ih(Ih.BIN,AC.slice(0,e))(new Array(65).join("1"));TC.push(t.length)}QP={pHash:e=>new al().getHash(e),hash(e,t=64){if(t<2||t>64)throw new Error("base must be a number between 2 and 64");let n=AC.slice(0,t),r=this.pHash(e),i=TC[t];return Ih(Ih.BIN,n)(r).padStart(i,"0")},distanceFromHash(e,t){let n=new al,r=n.getHash(e);return n.distance(r,t)}};e6=de.object({src:ic,x:de.number().optional(),y:de.number().optional()}),t6=de.union([ic,e6]),n6={mask(e,t){let n,r,i;t6.parse(t),"bitmap"in t?(n=t,r=0,i=0):(n=t.src,r=t.x??0,i=t.y??0),r=Math.round(r),i=Math.round(i);let o=e.bitmap.width,s=e.bitmap.height;return n.scan(function(a,l,u){let c=r+a,d=i+l;if(c>=0&&d>=0&&c<o&&d<s){let h=e.getPixelIndex(c,d),{data:f}=n.bitmap,p=(f[u+0]+f[u+1]+f[u+2])/3;e.bitmap.data[h+3]*=p/255}}),e}};r6=de.object({x:de.number(),y:de.number(),text:de.union([de.union([de.string(),de.number()]),de.object({text:de.union([de.string(),de.number()]),alignmentX:de.nativeEnum(Di).optional(),alignmentY:de.nativeEnum(xi).optional()})]),maxWidth:de.number().optional(),maxHeight:de.number().optional(),cb:de.function(de.tuple([de.object({x:de.number(),y:de.number()})])).optional()});a6={print(e,r){var i=r,{font:t}=i,n=vp(i,["font"]);let o,s,{x:a,y:l,text:u,maxWidth:c=1/0,maxHeight:d=1/0,cb:h=()=>{}}=r6.parse(n);typeof u=="object"&&u.text!==null&&u.text!==void 0?(o=u.alignmentX||Di.LEFT,s=u.alignmentY||xi.TOP,{text:u}=u):(o=Di.LEFT,s=xi.TOP,u=u.toString()),typeof u=="number"&&(u=u.toString()),d!==1/0&&s===xi.BOTTOM?l+=d-Z1(t,u,c):d!==1/0&&s===xi.MIDDLE&&(l+=d/2-Z1(t,u,c)/2);let f=Object.entries(t.chars).find(g=>g[1].xadvance)?.[1].xadvance;if(typeof f!="number")throw new Error("Could not find default character width");let{lines:p,longestLine:m}=kC(t,u,c);return p.forEach(g=>{let _=g.join(" "),b=i6(t,_,c,o);s6(e,t,a+b,l,_,f),l+=t.common.lineHeight}),h.bind(e)({x:a+m,y:l}),e}},l6=de.union([de.number(),de.object({deg:de.number(),mode:de.union([de.boolean(),de.nativeEnum(Ci)]).optional()})]);d6={rotate(e,t){let n=l6.parse(t),r=typeof n=="number"?{deg:n}:n,{mode:i=!0}=r,{deg:o}=r;return o%=360,o%360==0||(o%90==0&&(i||e.bitmap.width===e.bitmap.height||o%180==0)?u6(e,o):c6(e,o,i)),e}},f6=de.object({max:de.number().min(0).max(255),replace:de.number().min(0).max(255).optional(),autoGreyscale:de.boolean().optional()}),h6={threshold(e,t){let{max:n,replace:r=255,autoGreyscale:i=!0}=f6.parse(t);return n=dn(n),r=dn(r),i&&vy.greyscale(e),e.scan((o,s,a)=>{let l=e.bitmap.data[a]<n?e.bitmap.data[a]:r;e.bitmap.data[a]=l,e.bitmap.data[a+1]=l,e.bitmap.data[a+2]=l}),e}},RC=Object.defineProperty,p6=(e,t,n)=>t in e?RC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,no=(e,t)=>{for(var n in t)RC(e,n,{get:t[n],enumerable:!0})},Ee=(e,t,n)=>(p6(e,typeof t!="symbol"?t+"":t,n),n),m6={};no(m6,{bt709:()=>NC});NC={};no(NC,{Y:()=>OC,x:()=>PC,y:()=>FC});OC=(e=>(e[e.RED=.2126]="RED",e[e.GREEN=.7152]="GREEN",e[e.BLUE=.0722]="BLUE",e[e.WHITE=1]="WHITE",e))(OC||{}),PC=(e=>(e[e.RED=.64]="RED",e[e.GREEN=.3]="GREEN",e[e.BLUE=.15]="BLUE",e[e.WHITE=.3127]="WHITE",e))(PC||{}),FC=(e=>(e[e.RED=.33]="RED",e[e.GREEN=.6]="GREEN",e[e.BLUE=.06]="BLUE",e[e.WHITE=.329]="WHITE",e))(FC||{}),g6={};no(g6,{lab2rgb:()=>D6,lab2xyz:()=>VC,rgb2hsl:()=>Mh,rgb2lab:()=>ec,rgb2xyz:()=>LC,xyz2lab:()=>zC,xyz2rgb:()=>HC});BC={};no(BC,{degrees2radians:()=>To,inRange0to255:()=>fr,inRange0to255Rounded:()=>Nr,intInRange:()=>y6,max3:()=>jC,min3:()=>UC,stableSort:()=>wy});_6=.95047,v6=1,b6=1.08883;w6=.95047,E6=1,x6=1.08883;C6={};no(C6,{AbstractDistanceCalculator:()=>Ls,AbstractEuclidean:()=>zh,AbstractManhattan:()=>Vh,CIE94GraphicArts:()=>WC,CIE94Textiles:()=>GC,CIEDE2000:()=>Jr,CMetric:()=>qC,Euclidean:()=>ZC,EuclideanBT709:()=>YC,EuclideanBT709NoAlpha:()=>KC,Manhattan:()=>QC,ManhattanBT709:()=>XC,ManhattanNommyde:()=>JC,PNGQuant:()=>eI});Ls=class{constructor(){Ee(this,"_maxDistance"),Ee(this,"_whitePoint"),this._setDefaults(),this.setWhitePoint(255,255,255,255)}setWhitePoint(e,t,n,r){this._whitePoint={r:e>0?255/e:0,g:t>0?255/t:0,b:n>0?255/n:0,a:r>0?255/r:0},this._maxDistance=this.calculateRaw(e,t,n,r,0,0,0,0)}calculateNormalized(e,t){return this.calculateRaw(e.r,e.g,e.b,e.a,t.r,t.g,t.b,t.a)/this._maxDistance}},$C=class extends Ls{calculateRaw(e,t,n,r,i,o,s,a){let l=ec(fr(e*this._whitePoint.r),fr(t*this._whitePoint.g),fr(n*this._whitePoint.b)),u=ec(fr(i*this._whitePoint.r),fr(o*this._whitePoint.g),fr(s*this._whitePoint.b)),c=l.L-u.L,d=l.a-u.a,h=l.b-u.b,f=Math.sqrt(l.a*l.a+l.b*l.b),p=f-Math.sqrt(u.a*u.a+u.b*u.b),m=d*d+h*h-p*p;m=m<0?0:Math.sqrt(m);let g=(a-r)*this._whitePoint.a*this._kA;return Math.sqrt((c/this._Kl)**2+(p/(1+this._K1*f))**2+(m/(1+this._K2*f))**2+g**2)}},GC=class extends $C{_setDefaults(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255}},WC=class extends $C{_setDefaults(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255}},jt=class extends Ls{_setDefaults(){}static _calculatehp(e,t){let n=Math.atan2(e,t);return n>=0?n:n+jt._deg360InRad}static _calculateRT(e,t){let n=t**7,r=2*Math.sqrt(n/(n+jt._pow25to7)),i=jt._deg30InRad*Math.exp(-(((e-jt._deg275InRad)/jt._deg25InRad)**2));return-Math.sin(2*i)*r}static _calculateT(e){return 1-.17*Math.cos(e-jt._deg30InRad)+.24*Math.cos(2*e)+.32*Math.cos(3*e+jt._deg6InRad)-.2*Math.cos(4*e-jt._deg63InRad)}static _calculate_ahp(e,t,n,r){let i=n+r;return e===0?i:t<=jt._deg180InRad?i/2:i<jt._deg360InRad?(i+jt._deg360InRad)/2:(i-jt._deg360InRad)/2}static _calculate_dHp(e,t,n,r){let i;return i=e===0?0:t<=jt._deg180InRad?n-r:n<=r?n-r+jt._deg360InRad:n-r-jt._deg360InRad,2*Math.sqrt(e)*Math.sin(i/2)}calculateRaw(e,t,n,r,i,o,s,a){let l=ec(fr(e*this._whitePoint.r),fr(t*this._whitePoint.g),fr(n*this._whitePoint.b)),u=ec(fr(i*this._whitePoint.r),fr(o*this._whitePoint.g),fr(s*this._whitePoint.b)),c=(a-r)*this._whitePoint.a*jt._kA,d=this.calculateRawInLab(l,u);return Math.sqrt(d+c*c)}calculateRawInLab(e,t){let n=e.L,r=e.a,i=e.b,o=t.L,s=t.a,a=t.b,l=((Math.sqrt(r*r+i*i)+Math.sqrt(s*s+a*a))/2)**7,u=.5*(1-Math.sqrt(l/(l+jt._pow25to7))),c=(1+u)*r,d=(1+u)*s,h=Math.sqrt(c*c+i*i),f=Math.sqrt(d*d+a*a),p=h*f,m=jt._calculatehp(i,c),g=jt._calculatehp(a,d),_=Math.abs(m-g),b=o-n,v=f-h,x=jt._calculate_dHp(p,_,g,m),D=jt._calculate_ahp(p,_,m,g),k=(h+f)/2,C=((n+o)/2-50)**2,O=v/(1+.045*k),A=x/(1+.015*jt._calculateT(D)*k);return(b/(1+.015*C/Math.sqrt(20+C)))**2+O**2+A**2+jt._calculateRT(D,k)*O*A}},Jr=jt;Ee(Jr,"_kA",25/255),Ee(Jr,"_pow25to7",25**7),Ee(Jr,"_deg360InRad",To(360)),Ee(Jr,"_deg180InRad",To(180)),Ee(Jr,"_deg30InRad",To(30)),Ee(Jr,"_deg6InRad",To(6)),Ee(Jr,"_deg63InRad",To(63)),Ee(Jr,"_deg275InRad",To(275)),Ee(Jr,"_deg25InRad",To(25));qC=class extends Ls{calculateRaw(e,t,n,r,i,o,s,a){let l=(e+i)/2*this._whitePoint.r,u=(e-i)*this._whitePoint.r,c=(t-o)*this._whitePoint.g,d=(n-s)*this._whitePoint.b,h=((512+l)*u*u>>8)+4*c*c+((767-l)*d*d>>8),f=(a-r)*this._whitePoint.a;return Math.sqrt(h+f*f)}_setDefaults(){}},zh=class extends Ls{calculateRaw(e,t,n,r,i,o,s,a){let l=i-e,u=o-t,c=s-n,d=a-r;return Math.sqrt(this._kR*l*l+this._kG*u*u+this._kB*c*c+this._kA*d*d)}},ZC=class extends zh{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},YC=class extends zh{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},KC=class extends zh{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=0}},Vh=class extends Ls{calculateRaw(e,t,n,r,i,o,s,a){let l=i-e,u=o-t,c=s-n,d=a-r;return l<0&&(l=0-l),u<0&&(u=0-u),c<0&&(c=0-c),d<0&&(d=0-d),this._kR*l+this._kG*u+this._kB*c+this._kA*d}},QC=class extends Vh{_setDefaults(){this._kR=1,this._kG=1,this._kB=1,this._kA=1}},JC=class extends Vh{_setDefaults(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1}},XC=class extends Vh{_setDefaults(){this._kR=.2126,this._kG=.7152,this._kB=.0722,this._kA=1}},eI=class extends Ls{calculateRaw(e,t,n,r,i,o,s,a){let l=(a-r)*this._whitePoint.a;return this._colordifferenceCh(e*this._whitePoint.r,i*this._whitePoint.r,l)+this._colordifferenceCh(t*this._whitePoint.g,o*this._whitePoint.g,l)+this._colordifferenceCh(n*this._whitePoint.b,s*this._whitePoint.b,l)}_colordifferenceCh(e,t,n){let r=e-t,i=r+n;return r*r+i*i}_setDefaults(){}},I6={};no(I6,{AbstractPaletteQuantizer:()=>sc,ColorHistogram:()=>Gu,NeuQuant:()=>Wt,NeuQuantFloat:()=>qt,RGBQuant:()=>iI,WuColorCube:()=>oI,WuQuant:()=>nl});sc=class{quantizeSync(){for(let e of this.quantize())if(e.palette)return e.palette;throw new Error("unreachable")}},mr=class{constructor(){Ee(this,"r"),Ee(this,"g"),Ee(this,"b"),Ee(this,"a"),Ee(this,"uint32"),Ee(this,"rgba"),this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}static createByQuadruplet(e){let t=new mr;return t.r=0|e[0],t.g=0|e[1],t.b=0|e[2],t.a=0|e[3],t._loadUINT32(),t._loadQuadruplet(),t}static createByRGBA(e,t,n,r){let i=new mr;return i.r=0|e,i.g=0|t,i.b=0|n,i.a=0|r,i._loadUINT32(),i._loadQuadruplet(),i}static createByUint32(e){let t=new mr;return t.uint32=e>>>0,t._loadRGBA(),t._loadQuadruplet(),t}from(e){this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this.uint32=e.uint32,this.rgba[0]=e.r,this.rgba[1]=e.g,this.rgba[2]=e.b,this.rgba[3]=e.a}getLuminosity(e){let t=this.r,n=this.g,r=this.b;return e&&(t=Math.min(255,255-this.a+this.a*t/255),n=Math.min(255,255-this.a+this.a*n/255),r=Math.min(255,255-this.a+this.a*r/255)),.2126*t+.7152*n+.0722*r}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a}},Ki=class{constructor(){Ee(this,"_pointArray"),Ee(this,"_width"),Ee(this,"_height"),this._width=0,this._height=0,this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(e){this._width=e}setHeight(e){this._height=e}getPointArray(){return this._pointArray}clone(){let e=new Ki;e._width=this._width,e._height=this._height;for(let t=0,n=this._pointArray.length;t<n;t++)e._pointArray[t]=mr.createByUint32(0|this._pointArray[t].uint32);return e}toUint32Array(){let e=this._pointArray.length,t=new Uint32Array(e);for(let n=0;n<e;n++)t[n]=this._pointArray[n].uint32;return t}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(e){let t=e.naturalWidth,n=e.naturalHeight,r=document.createElement("canvas");return r.width=t,r.height=n,r.getContext("2d").drawImage(e,0,0,t,n,0,0,t,n),Ki.fromHTMLCanvasElement(r)}static fromHTMLCanvasElement(e){let t=e.width,n=e.height,r=e.getContext("2d").getImageData(0,0,t,n);return Ki.fromImageData(r)}static fromImageData(e){let t=e.width,n=e.height;return Ki.fromUint8Array(e.data,t,n)}static fromUint8Array(e,t,n){switch(Object.prototype.toString.call(e)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:e=new Uint8Array(e)}let r=new Uint32Array(e.buffer);return Ki.fromUint32Array(r,t,n)}static fromUint32Array(e,t,n){let r=new Ki;r._width=t,r._height=n;for(let i=0,o=e.length;i<o;i++)r._pointArray[i]=mr.createByUint32(0|e[i]);return r}static fromBuffer(e,t,n){let r=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/Uint32Array.BYTES_PER_ELEMENT);return Ki.fromUint32Array(r,t,n)}},hx=10;ac=class{constructor(){Ee(this,"_pointContainer"),Ee(this,"_pointArray",[]),Ee(this,"_i32idx",{}),this._pointContainer=new Ki,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}add(e){this._pointArray.push(e),this._pointContainer.setWidth(this._pointArray.length)}has(e){for(let t=this._pointArray.length-1;t>=0;t--)if(e.uint32===this._pointArray[t].uint32)return!0;return!1}getNearestColor(e,t){return this._pointArray[0|this._getNearestIndex(e,t)]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(e){return typeof this._i32idx[e]=="number"?this._i32idx[e]:-1}_getNearestIndex(e,t){let n=this._nearestPointFromCache(""+t.uint32);if(n>=0)return n;let r=Number.MAX_VALUE;n=0;for(let i=0,o=this._pointArray.length;i<o;i++){let s=this._pointArray[i],a=e.calculateRaw(t.r,t.g,t.b,t.a,s.r,s.g,s.b,s.a);a<r&&(r=a,n=i)}return this._i32idx[t.uint32]=n,n}sort(){this._i32idx={},this._pointArray.sort((e,t)=>{let n=Mh(e.r,e.g,e.b),r=Mh(t.r,t.g,t.b),i=e.r===e.g&&e.g===e.b?0:1+Y1(n.h,hx),o=(t.r===t.g&&t.g===t.b?0:1+Y1(r.h,hx))-i;if(o)return-o;let s=e.getLuminosity(!0),a=t.getLuminosity(!0);if(a-s!=0)return a-s;let l=(100*r.s|0)-(100*n.s|0);return l?-l:0})}},tI={};no(tI,{HueStatistics:()=>nI,Palette:()=>ac,Point:()=>mr,PointContainer:()=>Ki,ProgressTracker:()=>ro,arithmetic:()=>BC});S6=class{constructor(){Ee(this,"num",0),Ee(this,"cols",[])}},nI=class{constructor(e,t){Ee(this,"_numGroups"),Ee(this,"_minCols"),Ee(this,"_stats"),Ee(this,"_groupsFull"),this._numGroups=e,this._minCols=t,this._stats=[];for(let n=0;n<=e;n++)this._stats[n]=new S6;this._groupsFull=0}check(e){this._groupsFull===this._numGroups+1&&(this.check=()=>{});let t=255&e,n=e>>>8&255,r=e>>>16&255,i=t===n&&n===r?0:1+Y1(Mh(t,n,r).h,this._numGroups),o=this._stats[i],s=this._minCols;o.num++,o.num>s||(o.num===s&&this._groupsFull++,o.num<=s&&this._stats[i].cols.push(e))}injectIntoDictionary(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(n=>{e[n]?e[n]++:e[n]=1})}injectIntoArray(e){for(let t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(n=>{e.indexOf(n)===-1&&e.push(n)})}},rI=class{constructor(e,t){Ee(this,"progress"),Ee(this,"_step"),Ee(this,"_range"),Ee(this,"_last"),Ee(this,"_progressRange"),this._range=e,this._progressRange=t,this._step=Math.max(1,this._range/(rI.steps+1)|0),this._last=-this._step,this.progress=0}shouldNotify(e){return e-this._last>=this._step&&(this._last=e,this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange),!0)}},ro=rI;Ee(ro,"steps",100);jn=3,M6=class{constructor(e){Ee(this,"r"),Ee(this,"g"),Ee(this,"b"),Ee(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return mr.createByRGBA(this.r>>jn,this.g>>jn,this.b>>jn,this.a>>jn)}subtract(e,t,n,r){this.r-=0|e,this.g-=0|t,this.b-=0|n,this.a-=0|r}},wt=class extends sc{constructor(e,t=256){super(),Ee(this,"_pointArray"),Ee(this,"_networkSize"),Ee(this,"_network"),Ee(this,"_sampleFactor"),Ee(this,"_radPower"),Ee(this,"_freq"),Ee(this,"_bias"),Ee(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<jn,255<<jn,255<<jn,255<<jn)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*at(this._learn()),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new M6((e<<jn+8)/this._networkSize|0),this._freq[e]=wt._initialBias/this._networkSize|0,this._bias[e]=0}*_learn(){let e=this._sampleFactor,t=this._pointArray.length;t<wt._minpicturebytes&&(e=1);let n=30+(e-1)/3|0,r=t/e|0,i,o=r/wt._nCycles|0,s=wt._initAlpha,a=(this._networkSize>>3)*wt._radiusBias,l=a>>wt._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=s*((l*l-c*c)*wt._radBias/(l*l))>>>0;i=t<wt._minpicturebytes?1:t%wt._prime1!=0?wt._prime1:t%wt._prime2!=0?wt._prime2:t%wt._prime3!=0?wt._prime3:wt._prime4;let u=new ro(r,99);for(let c=0,d=0;c<r;){u.shouldNotify(c)&&(yield{progress:u.progress});let h=this._pointArray[d],f=h.b<<jn,p=h.g<<jn,m=h.r<<jn,g=h.a<<jn,_=this._contest(f,p,m,g);if(this._alterSingle(s,_,f,p,m,g),l!==0&&this._alterNeighbour(l,_,f,p,m,g),d+=i,d>=t&&(d-=t),c++,o===0&&(o=1),c%o==0){s-=s/n|0,a-=a/wt._radiusDecrease|0,l=a>>wt._radiusBiasShift,l<=1&&(l=0);for(let b=0;b<l;b++)this._radPower[b]=s*((l*l-b*b)*wt._radBias/(l*l))>>>0}}}_buildPalette(){let e=new ac;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,n,r,i,o){let s=t-e;s<-1&&(s=-1);let a=t+e;a>this._networkSize&&(a=this._networkSize);let l=t+1,u=t-1,c=1;for(;l<a||u>s;){let d=this._radPower[c++]/wt._alphaRadBias;if(l<a){let h=this._network[l++];h.subtract(d*(h.r-i),d*(h.g-r),d*(h.b-n),d*(h.a-o))}if(u>s){let h=this._network[u--];h.subtract(d*(h.r-i),d*(h.g-r),d*(h.b-n),d*(h.a-o))}}}_alterSingle(e,t,n,r,i,o){e/=wt._initAlpha;let s=this._network[t];s.subtract(e*(s.r-i),e*(s.g-r),e*(s.b-n),e*(s.a-o))}_contest(e,t,n,r){let i=1020<<jn,o=~(1<<31),s=o,a=-1,l=a;for(let u=0;u<this._networkSize;u++){let c=this._network[u],d=this._distance.calculateNormalized(c,{r:n,g:t,b:e,a:r})*i|0;d<o&&(o=d,a=u);let h=d-(this._bias[u]>>wt._initialBiasShift-jn);h<s&&(s=h,l=u);let f=this._freq[u]>>wt._betaShift;this._freq[u]-=f,this._bias[u]+=f<<wt._gammaShift}return this._freq[a]+=wt._beta,this._bias[a]-=wt._betaGamma,l}},Wt=wt;Ee(Wt,"_prime1",499),Ee(Wt,"_prime2",491),Ee(Wt,"_prime3",487),Ee(Wt,"_prime4",503),Ee(Wt,"_minpicturebytes",wt._prime4),Ee(Wt,"_nCycles",100),Ee(Wt,"_initialBiasShift",16),Ee(Wt,"_initialBias",1<<wt._initialBiasShift),Ee(Wt,"_gammaShift",10),Ee(Wt,"_betaShift",10),Ee(Wt,"_beta",wt._initialBias>>wt._betaShift),Ee(Wt,"_betaGamma",wt._initialBias<<wt._gammaShift-wt._betaShift),Ee(Wt,"_radiusBiasShift",6),Ee(Wt,"_radiusBias",1<<wt._radiusBiasShift),Ee(Wt,"_radiusDecrease",30),Ee(Wt,"_alphaBiasShift",10),Ee(Wt,"_initAlpha",1<<wt._alphaBiasShift),Ee(Wt,"_radBiasShift",8),Ee(Wt,"_radBias",1<<wt._radBiasShift),Ee(Wt,"_alphaRadBiasShift",wt._alphaBiasShift+wt._radBiasShift),Ee(Wt,"_alphaRadBias",1<<wt._alphaRadBiasShift);Un=3,A6=class{constructor(e){Ee(this,"r"),Ee(this,"g"),Ee(this,"b"),Ee(this,"a"),this.r=this.g=this.b=this.a=e}toPoint(){return mr.createByRGBA(this.r>>Un,this.g>>Un,this.b>>Un,this.a>>Un)}subtract(e,t,n,r){this.r-=e,this.g-=t,this.b-=n,this.a-=r}},Et=class extends sc{constructor(e,t=256){super(),Ee(this,"_pointArray"),Ee(this,"_networkSize"),Ee(this,"_network"),Ee(this,"_sampleFactor"),Ee(this,"_radPower"),Ee(this,"_freq"),Ee(this,"_bias"),Ee(this,"_distance"),this._distance=e,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<Un,255<<Un,255<<Un,255<<Un)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init(),yield*at(this._learn()),yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(let e=0;e<this._networkSize;e++)this._network[e]=new A6((e<<Un+8)/this._networkSize),this._freq[e]=Et._initialBias/this._networkSize,this._bias[e]=0}*_learn(){let e=this._sampleFactor,t=this._pointArray.length;t<Et._minpicturebytes&&(e=1);let n=30+(e-1)/3,r=t/e,i,o=r/Et._nCycles|0,s=Et._initAlpha,a=(this._networkSize>>3)*Et._radiusBias,l=a>>Et._radiusBiasShift;l<=1&&(l=0);for(let c=0;c<l;c++)this._radPower[c]=s*((l*l-c*c)*Et._radBias/(l*l));i=t<Et._minpicturebytes?1:t%Et._prime1!=0?Et._prime1:t%Et._prime2!=0?Et._prime2:t%Et._prime3!=0?Et._prime3:Et._prime4;let u=new ro(r,99);for(let c=0,d=0;c<r;){u.shouldNotify(c)&&(yield{progress:u.progress});let h=this._pointArray[d],f=h.b<<Un,p=h.g<<Un,m=h.r<<Un,g=h.a<<Un,_=this._contest(f,p,m,g);if(this._alterSingle(s,_,f,p,m,g),l!==0&&this._alterNeighbour(l,_,f,p,m,g),d+=i,d>=t&&(d-=t),c++,o===0&&(o=1),c%o==0){s-=s/n,a-=a/Et._radiusDecrease,l=a>>Et._radiusBiasShift,l<=1&&(l=0);for(let b=0;b<l;b++)this._radPower[b]=s*((l*l-b*b)*Et._radBias/(l*l))}}}_buildPalette(){let e=new ac;return this._network.forEach(t=>{e.add(t.toPoint())}),e.sort(),e}_alterNeighbour(e,t,n,r,i,o){let s=t-e;s<-1&&(s=-1);let a=t+e;a>this._networkSize&&(a=this._networkSize);let l=t+1,u=t-1,c=1;for(;l<a||u>s;){let d=this._radPower[c++]/Et._alphaRadBias;if(l<a){let h=this._network[l++];h.subtract(d*(h.r-i),d*(h.g-r),d*(h.b-n),d*(h.a-o))}if(u>s){let h=this._network[u--];h.subtract(d*(h.r-i),d*(h.g-r),d*(h.b-n),d*(h.a-o))}}}_alterSingle(e,t,n,r,i,o){e/=Et._initAlpha;let s=this._network[t];s.subtract(e*(s.r-i),e*(s.g-r),e*(s.b-n),e*(s.a-o))}_contest(e,t,n,r){let i=1020<<Un,o=~(1<<31),s=o,a=-1,l=a;for(let u=0;u<this._networkSize;u++){let c=this._network[u],d=this._distance.calculateNormalized(c,{r:n,g:t,b:e,a:r})*i;d<o&&(o=d,a=u);let h=d-(this._bias[u]>>Et._initialBiasShift-Un);h<s&&(s=h,l=u);let f=this._freq[u]>>Et._betaShift;this._freq[u]-=f,this._bias[u]+=f<<Et._gammaShift}return this._freq[a]+=Et._beta,this._bias[a]-=Et._betaGamma,l}},qt=Et;Ee(qt,"_prime1",499),Ee(qt,"_prime2",491),Ee(qt,"_prime3",487),Ee(qt,"_prime4",503),Ee(qt,"_minpicturebytes",Et._prime4),Ee(qt,"_nCycles",100),Ee(qt,"_initialBiasShift",16),Ee(qt,"_initialBias",1<<Et._initialBiasShift),Ee(qt,"_gammaShift",10),Ee(qt,"_betaShift",10),Ee(qt,"_beta",Et._initialBias>>Et._betaShift),Ee(qt,"_betaGamma",Et._initialBias<<Et._gammaShift-Et._betaShift),Ee(qt,"_radiusBiasShift",6),Ee(qt,"_radiusBias",1<<Et._radiusBiasShift),Ee(qt,"_radiusDecrease",30),Ee(qt,"_alphaBiasShift",10),Ee(qt,"_initAlpha",1<<Et._alphaBiasShift),Ee(qt,"_radBiasShift",8),Ee(qt,"_radBias",1<<Et._radBiasShift),Ee(qt,"_alphaRadBiasShift",Et._alphaBiasShift+Et._radBiasShift),Ee(qt,"_alphaRadBias",1<<Et._alphaRadBiasShift);Vu=class{constructor(e,t){Ee(this,"_method"),Ee(this,"_hueStats"),Ee(this,"_histogram"),Ee(this,"_initColors"),Ee(this,"_minHueCols"),this._method=e,this._minHueCols=t<<2,this._initColors=t<<2,this._hueStats=new nI(Vu._hueGroups,this._minHueCols),this._histogram=Object.create(null)}sample(e){switch(this._method){case 1:this._colorStats1D(e);break;case 2:this._colorStats2D(e)}}getImportanceSortedColorsIDXI32(){let e=wy(Object.keys(this._histogram),(n,r)=>this._histogram[r]-this._histogram[n]);if(e.length===0)return[];let t;switch(this._method){case 1:let n=Math.min(e.length,this._initColors),r=e[n-1],i=this._histogram[r];t=e.slice(0,n);let o=n,s=e.length;for(;o<s&&this._histogram[e[o]]===i;)t.push(e[o++]);this._hueStats.injectIntoArray(t);break;case 2:t=e;break;default:throw new Error("Incorrect method")}return t.map(n=>+n)}_colorStats1D(e){let t=this._histogram,n=e.getPointArray(),r=n.length;for(let i=0;i<r;i++){let o=n[i].uint32;this._hueStats.check(o),o in t?t[o]++:t[o]=1}}_colorStats2D(e){let t=e.getWidth(),n=e.getHeight(),r=e.getPointArray(),i=Vu._boxSize[0],o=Vu._boxSize[1],s=i*o,a=this._makeBoxes(t,n,i,o),l=this._histogram;a.forEach(u=>{let c=Math.round(u.w*u.h/s)*Vu._boxPixels;c<2&&(c=2);let d={};this._iterateBox(u,t,h=>{let f=r[h].uint32;this._hueStats.check(f),f in l?l[f]++:f in d?++d[f]>=c&&(l[f]=d[f]):d[f]=1})}),this._hueStats.injectIntoDictionary(l)}_iterateBox(e,t,n){let r=e,i=r.y*t+r.x,o=(r.y+r.h-1)*t+(r.x+r.w-1),s=t-r.w+1,a=0,l=i;do n.call(this,l),l+=++a%r.w==0?s:1;while(l<=o)}_makeBoxes(e,t,n,r){let i=e%n,o=t%r,s=e-i,a=t-o,l=[];for(let u=0;u<t;u+=r)for(let c=0;c<e;c+=n)l.push({x:c,y:u,w:c===s?i:n,h:u===a?o:r});return l}},Gu=Vu;Ee(Gu,"_boxSize",[64,64]),Ee(Gu,"_boxPixels",2),Ee(Gu,"_hueGroups",10);T6=class{constructor(e,t,n){Ee(this,"index"),Ee(this,"color"),Ee(this,"distance"),this.index=e,this.color=t,this.distance=n}},iI=class extends sc{constructor(e,t=256,n=2){super(),Ee(this,"_colors"),Ee(this,"_initialDistance"),Ee(this,"_distanceIncrement"),Ee(this,"_histogram"),Ee(this,"_distance"),this._distance=e,this._colors=t,this._histogram=new Gu(n,t),this._initialDistance=.01,this._distanceIncrement=.005}sample(e){this._histogram.sample(e)}*quantize(){let e=this._histogram.getImportanceSortedColorsIDXI32();if(e.length===0)throw new Error("No colors in image");yield*at(this._buildPalette(e))}*_buildPalette(e){let t=new ac,n=t.getPointContainer().getPointArray(),r=new Array(e.length);for(let c=0;c<e.length;c++)n.push(mr.createByUint32(e[c])),r[c]=1;let i=n.length,o=[],s=i,a=this._initialDistance,l=new ro(s-this._colors,99);for(;s>this._colors;){o.length=0;for(let c=0;c<i;c++){if(l.shouldNotify(i-s)&&(yield{progress:l.progress}),r[c]===0)continue;let d=n[c];for(let h=c+1;h<i;h++){if(r[h]===0)continue;let f=n[h],p=this._distance.calculateNormalized(d,f);p<a&&(o.push(new T6(h,f,p)),r[h]=0,s--)}}a+=s>3*this._colors?this._initialDistance:this._distanceIncrement}if(s<this._colors){wy(o,(d,h)=>h.distance-d.distance);let c=0;for(;s<this._colors&&c<o.length;)r[o[c].index]=1,s++,c++}let u=n.length;for(let c=u-1;c>=0;c--)r[c]===0&&(c!==u-1&&(n[c]=n[u-1]),--u);n.length=u,t.sort(),yield{palette:t,progress:100}}};oI=class{constructor(){Ee(this,"redMinimum"),Ee(this,"redMaximum"),Ee(this,"greenMinimum"),Ee(this,"greenMaximum"),Ee(this,"blueMinimum"),Ee(this,"blueMaximum"),Ee(this,"volume"),Ee(this,"alphaMinimum"),Ee(this,"alphaMaximum")}},ot=class extends sc{constructor(e,t=256,n=5){super(),Ee(this,"_reds"),Ee(this,"_greens"),Ee(this,"_blues"),Ee(this,"_alphas"),Ee(this,"_sums"),Ee(this,"_weights"),Ee(this,"_momentsRed"),Ee(this,"_momentsGreen"),Ee(this,"_momentsBlue"),Ee(this,"_momentsAlpha"),Ee(this,"_moments"),Ee(this,"_table"),Ee(this,"_pixels"),Ee(this,"_cubes"),Ee(this,"_colors"),Ee(this,"_significantBitsPerChannel"),Ee(this,"_maxSideIndex"),Ee(this,"_alphaMaxSideIndex"),Ee(this,"_sideSize"),Ee(this,"_alphaSideSize"),Ee(this,"_distance"),this._distance=e,this._setQuality(n),this._initialize(t)}sample(e){let t=e.getPointArray();for(let n=0,r=t.length;n<r;n++)this._addColor(t[n]);this._pixels=this._pixels.concat(t)}*quantize(){yield*at(this._preparePalette());let e=new ac;for(let t=0;t<this._colors;t++)if(this._sums[t]>0){let n=this._sums[t],r=this._reds[t]/n,i=this._greens[t]/n,o=this._blues[t]/n,s=this._alphas[t]/n,a=mr.createByRGBA(0|r,0|i,0|o,0|s);e.add(a)}e.sort(),yield{palette:e,progress:100}}*_preparePalette(){yield*at(this._calculateMoments());let e=0,t=qa(this._colors);for(let s=1;s<this._colors;++s){this._cut(this._cubes[e],this._cubes[s])?(t[e]=this._cubes[e].volume>1?this._calculateVariance(this._cubes[e]):0,t[s]=this._cubes[s].volume>1?this._calculateVariance(this._cubes[s]):0):(t[e]=0,s--),e=0;let a=t[0];for(let l=1;l<=s;++l)t[l]>a&&(a=t[l],e=l);if(a<=0){this._colors=s+1;break}}let n=[],r=[],i=[],o=[];for(let s=0;s<this._colors;++s){let a=ot._volume(this._cubes[s],this._weights);a>0?(n[s]=ot._volume(this._cubes[s],this._momentsRed)/a|0,r[s]=ot._volume(this._cubes[s],this._momentsGreen)/a|0,i[s]=ot._volume(this._cubes[s],this._momentsBlue)/a|0,o[s]=ot._volume(this._cubes[s],this._momentsAlpha)/a|0):(n[s]=0,r[s]=0,i[s]=0,o[s]=0)}this._reds=qa(this._colors+1),this._greens=qa(this._colors+1),this._blues=qa(this._colors+1),this._alphas=qa(this._colors+1),this._sums=qa(this._colors+1);for(let s=0,a=this._pixels.length;s<a;s++){let l=this._pixels[s],u=-1,c=Number.MAX_VALUE;for(let d=0;d<this._colors;d++){let h=n[d],f=r[d],p=i[d],m=o[d],g=this._distance.calculateRaw(h,f,p,m,l.r,l.g,l.b,l.a);g<c&&(c=g,u=d)}this._reds[u]+=l.r,this._greens[u]+=l.g,this._blues[u]+=l.b,this._alphas[u]+=l.a,this._sums[u]++}}_addColor(e){let t=8-this._significantBitsPerChannel,n=1+(e.r>>t),r=1+(e.g>>t),i=1+(e.b>>t),o=1+(e.a>>t);this._weights[o][n][r][i]++,this._momentsRed[o][n][r][i]+=e.r,this._momentsGreen[o][n][r][i]+=e.g,this._momentsBlue[o][n][r][i]+=e.b,this._momentsAlpha[o][n][r][i]+=e.a,this._moments[o][n][r][i]+=this._table[e.r]+this._table[e.g]+this._table[e.b]+this._table[e.a]}*_calculateMoments(){let e=[],t=[],n=[],r=[],i=[],o=[],s=Ya(this._sideSize,this._sideSize,this._sideSize),a=Ya(this._sideSize,this._sideSize,this._sideSize),l=Ya(this._sideSize,this._sideSize,this._sideSize),u=Ya(this._sideSize,this._sideSize,this._sideSize),c=Ya(this._sideSize,this._sideSize,this._sideSize),d=Ya(this._sideSize,this._sideSize,this._sideSize),h=0,f=new ro(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){Ka(s,this._sideSize,this._sideSize,this._sideSize,0),Ka(a,this._sideSize,this._sideSize,this._sideSize,0),Ka(l,this._sideSize,this._sideSize,this._sideSize,0),Ka(u,this._sideSize,this._sideSize,this._sideSize,0),Ka(c,this._sideSize,this._sideSize,this._sideSize,0),Ka(d,this._sideSize,this._sideSize,this._sideSize,0);for(let m=1;m<=this._maxSideIndex;++m,++h){f.shouldNotify(h)&&(yield{progress:f.progress}),Qa(e,this._sideSize,0),Qa(t,this._sideSize,0),Qa(n,this._sideSize,0),Qa(r,this._sideSize,0),Qa(i,this._sideSize,0),Qa(o,this._sideSize,0);for(let g=1;g<=this._maxSideIndex;++g){let _=0,b=0,v=0,x=0,D=0,k=0;for(let C=1;C<=this._maxSideIndex;++C)_+=this._weights[p][m][g][C],b+=this._momentsRed[p][m][g][C],v+=this._momentsGreen[p][m][g][C],x+=this._momentsBlue[p][m][g][C],D+=this._momentsAlpha[p][m][g][C],k+=this._moments[p][m][g][C],e[C]+=_,t[C]+=b,n[C]+=v,r[C]+=x,i[C]+=D,o[C]+=k,s[m][g][C]=s[m-1][g][C]+e[C],a[m][g][C]=a[m-1][g][C]+t[C],l[m][g][C]=l[m-1][g][C]+n[C],u[m][g][C]=u[m-1][g][C]+r[C],c[m][g][C]=c[m-1][g][C]+i[C],d[m][g][C]=d[m-1][g][C]+o[C],this._weights[p][m][g][C]=this._weights[p-1][m][g][C]+s[m][g][C],this._momentsRed[p][m][g][C]=this._momentsRed[p-1][m][g][C]+a[m][g][C],this._momentsGreen[p][m][g][C]=this._momentsGreen[p-1][m][g][C]+l[m][g][C],this._momentsBlue[p][m][g][C]=this._momentsBlue[p-1][m][g][C]+u[m][g][C],this._momentsAlpha[p][m][g][C]=this._momentsAlpha[p-1][m][g][C]+c[m][g][C],this._moments[p][m][g][C]=this._moments[p-1][m][g][C]+d[m][g][C]}}}}static _volumeFloat(e,t){return t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMaximum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum])}static _volume(e,t){return 0|ot._volumeFloat(e,t)}static _top(e,t,n,r){let i;switch(t){case ot._alpha:i=r[n][e.redMaximum][e.greenMaximum][e.blueMaximum]-r[n][e.redMaximum][e.greenMinimum][e.blueMaximum]-r[n][e.redMinimum][e.greenMaximum][e.blueMaximum]+r[n][e.redMinimum][e.greenMinimum][e.blueMaximum]-(r[n][e.redMaximum][e.greenMaximum][e.blueMinimum]-r[n][e.redMaximum][e.greenMinimum][e.blueMinimum]-r[n][e.redMinimum][e.greenMaximum][e.blueMinimum]+r[n][e.redMinimum][e.greenMinimum][e.blueMinimum]);break;case ot._red:i=r[e.alphaMaximum][n][e.greenMaximum][e.blueMaximum]-r[e.alphaMaximum][n][e.greenMinimum][e.blueMaximum]-r[e.alphaMinimum][n][e.greenMaximum][e.blueMaximum]+r[e.alphaMinimum][n][e.greenMinimum][e.blueMaximum]-(r[e.alphaMaximum][n][e.greenMaximum][e.blueMinimum]-r[e.alphaMaximum][n][e.greenMinimum][e.blueMinimum]-r[e.alphaMinimum][n][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][n][e.greenMinimum][e.blueMinimum]);break;case ot._green:i=r[e.alphaMaximum][e.redMaximum][n][e.blueMaximum]-r[e.alphaMaximum][e.redMinimum][n][e.blueMaximum]-r[e.alphaMinimum][e.redMaximum][n][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][n][e.blueMaximum]-(r[e.alphaMaximum][e.redMaximum][n][e.blueMinimum]-r[e.alphaMaximum][e.redMinimum][n][e.blueMinimum]-r[e.alphaMinimum][e.redMaximum][n][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][n][e.blueMinimum]);break;case ot._blue:i=r[e.alphaMaximum][e.redMaximum][e.greenMaximum][n]-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][n]-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][n]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][n]-(r[e.alphaMinimum][e.redMaximum][e.greenMaximum][n]-r[e.alphaMinimum][e.redMaximum][e.greenMinimum][n]-r[e.alphaMinimum][e.redMinimum][e.greenMaximum][n]+r[e.alphaMinimum][e.redMinimum][e.greenMinimum][n]);break;default:throw new Error("impossible")}return 0|i}static _bottom(e,t,n){switch(t){case ot._alpha:return-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case ot._red:return-n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case ot._green:return-n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case ot._blue:return-n[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-(-n[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+n[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-n[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);default:return 0}}_calculateVariance(e){let t=ot._volume(e,this._momentsRed),n=ot._volume(e,this._momentsGreen),r=ot._volume(e,this._momentsBlue),i=ot._volume(e,this._momentsAlpha);return ot._volumeFloat(e,this._moments)-(t*t+n*n+r*r+i*i)/ot._volume(e,this._weights)}_maximize(e,t,n,r,i,o,s,a,l){let u=0|ot._bottom(e,t,this._momentsRed),c=0|ot._bottom(e,t,this._momentsGreen),d=0|ot._bottom(e,t,this._momentsBlue),h=0|ot._bottom(e,t,this._momentsAlpha),f=0|ot._bottom(e,t,this._weights),p=0,m=-1;for(let g=n;g<r;++g){let _=u+ot._top(e,t,g,this._momentsRed),b=c+ot._top(e,t,g,this._momentsGreen),v=d+ot._top(e,t,g,this._momentsBlue),x=h+ot._top(e,t,g,this._momentsAlpha),D=f+ot._top(e,t,g,this._weights);if(D!==0){let k=_*_+b*b+v*v+x*x,C=k/D;_=i-_,b=o-b,v=s-v,x=a-x,D=l-D,D!==0&&(k=_*_+b*b+v*v+x*x,C+=k/D,C>p&&(p=C,m=g))}}return{max:p,position:m}}_cut(e,t){let n,r=ot._volume(e,this._momentsRed),i=ot._volume(e,this._momentsGreen),o=ot._volume(e,this._momentsBlue),s=ot._volume(e,this._momentsAlpha),a=ot._volume(e,this._weights),l=this._maximize(e,ot._red,e.redMinimum+1,e.redMaximum,r,i,o,s,a),u=this._maximize(e,ot._green,e.greenMinimum+1,e.greenMaximum,r,i,o,s,a),c=this._maximize(e,ot._blue,e.blueMinimum+1,e.blueMaximum,r,i,o,s,a),d=this._maximize(e,ot._alpha,e.alphaMinimum+1,e.alphaMaximum,r,i,o,s,a);if(d.max>=l.max&&d.max>=u.max&&d.max>=c.max){if(n=ot._alpha,d.position<0)return!1}else n=l.max>=d.max&&l.max>=u.max&&l.max>=c.max?ot._red:u.max>=d.max&&u.max>=l.max&&u.max>=c.max?ot._green:ot._blue;switch(t.redMaximum=e.redMaximum,t.greenMaximum=e.greenMaximum,t.blueMaximum=e.blueMaximum,t.alphaMaximum=e.alphaMaximum,n){case ot._red:t.redMinimum=e.redMaximum=l.position,t.greenMinimum=e.greenMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case ot._green:t.greenMinimum=e.greenMaximum=u.position,t.redMinimum=e.redMinimum,t.blueMinimum=e.blueMinimum,t.alphaMinimum=e.alphaMinimum;break;case ot._blue:t.blueMinimum=e.blueMaximum=c.position,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum,t.alphaMinimum=e.alphaMinimum;break;case ot._alpha:t.alphaMinimum=e.alphaMaximum=d.position,t.blueMinimum=e.blueMinimum,t.redMinimum=e.redMinimum,t.greenMinimum=e.greenMinimum}return e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),!0}_initialize(e){this._colors=e,this._cubes=[];for(let t=0;t<e;t++)this._cubes[t]=new oI;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=Za(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=Za(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=Za(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=Za(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=Za(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=Za(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(let t=0;t<256;++t)this._table[t]=t*t;this._pixels=[]}_setQuality(e=5){this._significantBitsPerChannel=e,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1}},nl=ot;Ee(nl,"_alpha",3),Ee(nl,"_red",2),Ee(nl,"_green",1),Ee(nl,"_blue",0);k6={};no(k6,{AbstractImageQuantizer:()=>Hh,ErrorDiffusionArray:()=>bi,ErrorDiffusionArrayKernel:()=>aI,ErrorDiffusionRiemersma:()=>Ey,NearestColor:()=>sI});Hh=class{quantizeSync(e,t){for(let n of this.quantize(e,t))if(n.pointContainer)return n.pointContainer;throw new Error("unreachable")}},sI=class extends Hh{constructor(e){super(),Ee(this,"_distance"),this._distance=e}*quantize(e,t){let n=e.getPointArray(),r=e.getWidth(),i=e.getHeight(),o=new ro(i,99);for(let s=0;s<i;s++){o.shouldNotify(s)&&(yield{progress:o.progress});for(let a=0,l=s*r;a<r;a++,l++){let u=n[l];u.from(t.getNearestColor(this._distance,u))}}yield{pointContainer:e,progress:100}}},aI=(e=>(e[e.FloydSteinberg=0]="FloydSteinberg",e[e.FalseFloydSteinberg=1]="FalseFloydSteinberg",e[e.Stucki=2]="Stucki",e[e.Atkinson=3]="Atkinson",e[e.Jarvis=4]="Jarvis",e[e.Burkes=5]="Burkes",e[e.Sierra=6]="Sierra",e[e.TwoSierra=7]="TwoSierra",e[e.SierraLite=8]="SierraLite",e))(aI||{}),bi=class extends Hh{constructor(e,t,n=!0,r=0,i=!1){super(),Ee(this,"_minColorDistance"),Ee(this,"_serpentine"),Ee(this,"_kernel"),Ee(this,"_calculateErrorLikeGIMP"),Ee(this,"_distance"),this._setKernel(t),this._distance=e,this._minColorDistance=r,this._serpentine=n,this._calculateErrorLikeGIMP=i}*quantize(e,t){let n=e.getPointArray(),r=new mr,i=e.getWidth(),o=e.getHeight(),s=[],a=1,l=1;for(let c of this._kernel){let d=c[2]+1;l<d&&(l=d)}for(let c=0;c<l;c++)this._fillErrorLine(s[c]=[],i);let u=new ro(o,99);for(let c=0;c<o;c++){u.shouldNotify(c)&&(yield{progress:u.progress}),this._serpentine&&(a*=-1);let d=c*i,h=a===1?0:i-1,f=a===1?i:-1;this._fillErrorLine(s[0],i),s.push(s.shift());let p=s[0];for(let m=h,g=d+h;m!==f;m+=a,g+=a){let _=n[g],b=p[m];r.from(_);let v=mr.createByRGBA(Nr(_.r+b[0]),Nr(_.g+b[1]),Nr(_.b+b[2]),Nr(_.a+b[3])),x=t.getNearestColor(this._distance,v);if(_.from(x),this._minColorDistance&&this._distance.calculateNormalized(r,x)<this._minColorDistance)continue;let D,k,C,O;this._calculateErrorLikeGIMP?(D=v.r-x.r,k=v.g-x.g,C=v.b-x.b,O=v.a-x.a):(D=r.r-x.r,k=r.g-x.g,C=r.b-x.b,O=r.a-x.a);let A=a===1?0:this._kernel.length-1,S=a===1?this._kernel.length:-1;for(let w=A;w!==S;w+=a){let y=this._kernel[w][1]*a,z=this._kernel[w][2];if(y+m>=0&&y+m<i&&z+c>=0&&z+c<o){let U=this._kernel[w][0],P=s[z][y+m];P[0]+=D*U,P[1]+=k*U,P[2]+=C*U,P[3]+=O*U}}}}yield{pointContainer:e,progress:100}}_fillErrorLine(e,t){e.length>t&&(e.length=t);let n=e.length;for(let r=0;r<n;r++){let i=e[r];i[0]=i[1]=i[2]=i[3]=0}for(let r=n;r<t;r++)e[r]=[0,0,0,0]}_setKernel(e){switch(e){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[.25,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[.25,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[.5,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${e}`)}}};Ey=class extends Hh{constructor(e,t=16,n=1){super(),Ee(this,"_distance"),Ee(this,"_weights"),Ee(this,"_errorQueueSize"),this._distance=e,this._errorQueueSize=t,this._weights=Ey._createWeights(n,t)}*quantize(e,t){let n=e.getPointArray(),r=e.getWidth(),i=e.getHeight(),o=[],s=0;for(let a=0;a<this._errorQueueSize;a++)o[a]={r:0,g:0,b:0,a:0};yield*at(R6(r,i,(a,l)=>{let u=n[a+l*r],{r:c,g:d,b:h,a:f}=u;for(let _=0;_<this._errorQueueSize;_++){let b=this._weights[_],v=o[(_+s)%this._errorQueueSize];c+=v.r*b,d+=v.g*b,h+=v.b*b,f+=v.a*b}let p=mr.createByRGBA(Nr(c),Nr(d),Nr(h),Nr(f)),m=t.getNearestColor(this._distance,p);s=(s+1)%this._errorQueueSize;let g=(s+this._errorQueueSize-1)%this._errorQueueSize;o[g].r=u.r-m.r,o[g].g=u.g-m.g,o[g].b=u.b-m.b,o[g].a=u.a-m.a,u.from(m)})),yield{pointContainer:e,progress:100}}static _createWeights(e,t){let n=[],r=Math.exp(Math.log(t)/(t-1));for(let i=0,o=1;i<t;i++)n[i]=(o+.5|0)/t*e,o*=r;return n}},N6={};no(N6,{ssim:()=>F6});O6=.01,P6=.03;typeof setImmediate=="function"?setImmediate:typeof process<"u"&&process?.nextTick;V6=de.object({colors:de.number().optional(),colorDistanceFormula:de.union([de.literal("cie94-textiles"),de.literal("cie94-graphic-arts"),de.literal("ciede2000"),de.literal("color-metric"),de.literal("euclidean"),de.literal("euclidean-bt709-noalpha"),de.literal("euclidean-bt709"),de.literal("manhattan"),de.literal("manhattan-bt709"),de.literal("manhattan-nommyde"),de.literal("pngquant")]).optional(),paletteQuantization:de.union([de.literal("neuquant"),de.literal("neuquant-float"),de.literal("rgbquant"),de.literal("wuquant")]).optional(),imageQuantization:de.union([de.literal("nearest"),de.literal("riemersma"),de.literal("floyd-steinberg"),de.literal("false-floyd-steinberg"),de.literal("stucki"),de.literal("atkinson"),de.literal("jarvis"),de.literal("burkes"),de.literal("sierra"),de.literal("two-sierra"),de.literal("sierra-lite")]).optional()}),H6={quantize(e,t){let{colors:n,colorDistanceFormula:r,paletteQuantization:i,imageQuantization:o}=V6.parse(t),s=tI.PointContainer.fromUint8Array(e.bitmap.data,e.bitmap.width,e.bitmap.height),a=j6(s,B6([s],{colors:n,colorDistanceFormula:r,paletteQuantization:i}),{colorDistanceFormula:r,imageQuantization:o});return e.bitmap.data=be.from(a.toUint8Array()),e}},$6=function(e){if(!e)throw new Error("no data provided");var t={pages:[],chars:[],kernings:[]},n=(e=e.toString().trim()).split(/\r\n?|\n/g);if(n.length===0)throw new Error("no data in BMFont file");for(var r=0;r<n.length;r++){var i=G6(n[r],r);if(i)if(i.key==="page"){if(typeof i.data.id!="number")throw new Error("malformed file at line "+r+" -- needs page id=N");if(typeof i.data.file!="string")throw new Error("malformed file at line "+r+' -- needs page file="path"');t.pages[i.data.id]=i.data.file}else i.key==="chars"||i.key==="kernings"||(i.key==="char"?t.chars.push(i.data):i.key==="kerning"?t.kernings.push(i.data):t[i.key]=i.data)}return t};q6=ti($6),x1="chasrset",Z6=function(e){for(var t in e=Object.assign({},e),x1 in e&&(e.charset=e[x1],delete e[x1]),e)t!=="face"&&t!=="charset"&&(e[t]=t==="padding"||t==="spacing"?Y6(e[t]):parseInt(e[t],10));return e};K6=self.DOMParser!==void 0?function(e){return new self.DOMParser().parseFromString(e,"application/xml")}:self.ActiveXObject!==void 0&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(e){var t=document.createElement("div");return t.innerHTML=e,t},yx=Z6,Q6=K6,J6={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"},X6=function(e){e=e.toString();var t=Q6(e),n={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(u){var c=t.getElementsByTagName(u)[0];c&&(n[u]=yx(_x(c)))});var r=t.getElementsByTagName("pages")[0];if(!r)throw new Error("malformed file -- no <pages> element");for(var i=r.getElementsByTagName("page"),o=0;o<i.length;o++){var s=i[o],a=parseInt(s.getAttribute("id"),10),l=s.getAttribute("file");if(isNaN(a))throw new Error('malformed file -- page "id" attribute is NaN');if(!l)throw new Error('malformed file -- needs page "file" attribute');n.pages[parseInt(a,10)]=l}return["chars","kernings"].forEach(function(u){var c=t.getElementsByTagName(u)[0];if(c)for(var d=u.substring(0,u.length-1),h=c.getElementsByTagName(d),f=0;f<h.length;f++){var p=h[f];n[u].push(yx(_x(p)))}}),n};nF=ti(X6),rF=[66,77,70],iF=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");var t=rF.every(function(o,s){return e.readUInt8(s)===o});if(!t)throw new Error("BMFont missing BMF byte header");var n=3;if(e.readUInt8(n++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var r={kernings:[],chars:[]},i=0;i<5;i++)n+=oF(r,e,n);return r};fF=ti(iF);hF=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,xy=function(e){return hF.exec(e).slice(1)};gF="/",yF=":";vx={extname:bF,basename:vF,dirname:_F,sep:gF,delimiter:yF,relative:mF,join:pF,isAbsolute:fI,normalize:dI,resolve:K1};wF="ab".substr(-1)==="b"?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)};$h=e=>{if(!e)return null;let t={};switch(e.type){case"ELEMENT":{let n={},r=CF(e.value.attributes),i=$h(e.value.children);if(r&&(n=Object.assign(n,r)),i){let o=xF(e.value.children);n=Object.assign(n,o)}t[e.value.type]=n;break}case"ATTRIBUTE":{let n=e.value;t[n.name]=n.value;break}case"CONTENT":return{content:e.value}}return t},xF=e=>e&&Array.isArray(e)&&e.length!==0?DF(e)?{content:e[0].value}:{children:e.map($h)}:null,DF=e=>e&&Array.isArray(e)&&e.length===1&&e[0].type==="CONTENT",CF=e=>e&&Array.isArray(e)?e.map($h).reduce((t,n)=>Object.assign(t,n),{}):null,IF={convert:e=>$h(e.value.children[0])},hI={Token:(e,t)=>({type:e,value:t}),TOKEN_TYPE:{OPEN_BRACKET:"OPEN_BRACKET",ELEMENT_TYPE:"ELEMENT_TYPE",CLOSE_ELEMENT:"CLOSE_ELEMENT",ATTRIB_NAME:"ATTRIB_NAME",ATTRIB_VALUE:"ATTRIB_VALUE",ASSIGN:"ASSIGN",CLOSE_BRACKET:"CLOSE_BRACKET",CONTENT:"CONTENT",EOF:"EOF"}},{Token:cr,TOKEN_TYPE:mn}=hI,bx=cr("EOF"),wx=e=>e===" "||e===`
`||e==="\r"||e==="	",Ex=e=>e.replace(/'/g,'"'),SF={createLexer:function(e){let t=null,n=(d=>{let h=0;for(;h<d.length&&wx(d[h]);)h++;return((f,p)=>{if(f.startsWith("<?xml",p)){let m=f.length;for(;p<m;)if(f[p]!=="?")p++;else{if(f[p+1]===">")return p+2;p++}}return p})(d,h)})(e),r=[],i=()=>e[n],o=()=>t!==bx&&n<e.length,s=d=>d==='"'||d==="'",a=()=>{for(;o()&&wx(e[n]);)n++},l=d=>{if(o()){if(e[n]==="<"){let h="<";return n++,o()&&e[n]==="/"?(n++,h="</"):o()&&e[n]==="!"&&e[n+1]==="-"&&e[n+2]==="-"&&(n++,n++,n++,h="<!--"),h}if(i()==="/"){let h="/";return n++,o()&&i()===">"&&(n++,h="/>"),h}if(e[n]==="="||e[n]===">"){let h=e[n];return n++,h}}return u(!!d)},u=d=>{let h=d?/[^>=<]/u:/[a-zA-Z0-9_:-]/,f=n;for(;o()&&e[n].match(h);)n++;return Ex(e.substring(f,n))},c=()=>{let d=n;a();let h=n-d;if(o())if(t&&t.type===mn.OPEN_BRACKET){a();let f=l(!1);t=cr(mn.ELEMENT_TYPE,f),r.push(f)}else if(t&&t.type===mn.ASSIGN){o()&&s(i())&&n++;let f=n;for(;o()&&!s(i());)n++;let p=Ex(e.substring(f,n));n++,t=cr(mn.ATTRIB_VALUE,p)}else{a();let f=l(!0);switch(f){case"=":t=t.type===mn.ATTRIB_NAME?cr(mn.ASSIGN):cr(mn.CONTENT,f);break;case"</":{let p=n;for(;e[n]!==">";)n++;t=cr(mn.CLOSE_ELEMENT,e.substring(p,n)),n++,r.pop();break}case"/>":{let p=r.pop();t=cr(mn.CLOSE_ELEMENT,p);break}case"<!--":{let p=["!","-","-"];for(;o()&&(p[2]!==">"||p[1]!=="-"||p[0]!=="-");)p.shift(),p.push(e[n]),n++;return c()}case">":t=cr(mn.CLOSE_BRACKET);break;case"<":t=cr(mn.OPEN_BRACKET);break;default:if(f&&f.length>0){if(t.type===mn.CLOSE_BRACKET){let p="";i()!=="<"&&(p=u(!0)),t=cr(mn.CONTENT,f+p)}else if(t.type!==mn.ATTRIB_NAME&&t.type!==mn.CONTENT)t.type===mn.CLOSE_ELEMENT?(f=" ".repeat(h)+f,t=cr(mn.CONTENT,f)):t=cr(mn.ATTRIB_NAME,f);else{let p=" ".repeat(h)+f;t=cr(mn.CONTENT,p)}break}{let p='Unknown Syntax : "'+e[n]+'"';throw new Error(p)}}}else t=bx;return t};return{peek:i,next:c,hasNext:o}}},{createLexer:MF}=SF,{Token:AF,TOKEN_TYPE:Xr}=hI,[xx,TF,kF,RF]=["ROOT","ELEMENT","ATTRIBUTE","CONTENT"],tc=(e,t)=>({type:e,value:t}),Q1=e=>tc(RF,e),pI=(e,t,n)=>tc(TF,{type:e,attributes:t,children:n}),mI=(e,t)=>tc(kF,{name:e,value:t}),gI=(e,t)=>{let n=[];for(;e.hasNext();){let r=e.next();switch(r.type){case Xr.OPEN_BRACKET:{let i=e.next(),[o,s]=NF(e),a=[];s.type!==Xr.CLOSE_ELEMENT&&(a=gI(e,i)),a&&a.length>0&&a[0].type===Xr.CONTENT&&(a=OF(a)),n.push(pI(i.value,o,a));break}case Xr.CLOSE_ELEMENT:if(r.value===t.value)return n;break;case Xr.CONTENT:n.push(Q1(r.value));break;case Xr.EOF:return n;default:throw new Error(`Unknown Lexem type: ${r.type} "${r.value}, scoping element: ${t.value}"`)}}return n},NF=e=>{let t=[],n=e.peek();if(!e.hasNext()||n&&n.type===Xr.CLOSE_BRACKET||n&&n.type===Xr.CLOSE_ELEMENT)return[t,n];for(n=e.next();e.hasNext()&&n&&n.type!==Xr.CLOSE_BRACKET&&n.type!==Xr.CLOSE_ELEMENT;){let r=n;e.next();let i=e.next(),o=mI(r.value,i.value);t.push(o),n=e.next()}return[t,n]};PF={transpile:function(e,t){let n=(r=>tc(xx,{children:gI(r,AF(xx,"ROOT"))}))(MF(e));return t?t.convert(n):n},Node:tc,ElementNode:pI,AttribNode:mI},FF=IF,{transpile:Dx}=PF,LF=EF({convertXML:function(e,t){return Dx(e,t||FF)},createAST:function(e){return Dx(e)}}),BF=LF,jF=ti(BF),{convertXML:UF}=jF,yI=typeof self<"u"&&self.document===void 0,zF=MC({formats:[oy]}),D1=be.from([66,77,70,3]);WF=ZF,qF={threshold:.1,includeAA:!1,alpha:.1,aaColor:[255,255,0],diffColor:[255,0,0],diffColorAlt:null,diffMask:!1};YF=ti(WF);vI=[_y,s8,l8,vy,kP,PP,by,LP,BP,UP,VP,QP,n6,a6,Fo,d6,h6,H6],bI=[Wx,ZN,OD,LD,oy,GD],QF={bmp:Wx().mime,gif:OD().mime,jpeg:LD().mime,png:oy().mime,tiff:GD().mime},ll=MC({formats:bI,plugins:vI})});var EI=bp(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.copyPixels=JF;Wh.copyPixelToRect=XF;function JF(e,t,n,r,i,o,s,a){e.scan(t,n,r,i,(l,u,c)=>{let d=s+(l-t),h=a+(u-n),f=o.getPixelIndex(d,h);o.bitmap.data[f+0]=e.bitmap.data[c+0],o.bitmap.data[f+1]=e.bitmap.data[c+1],o.bitmap.data[f+2]=e.bitmap.data[c+2],o.bitmap.data[f+3]=e.bitmap.data[c+3]})}function XF(e,t,n,r,i,o,s,a){let l=e.getPixelIndex(t,n);r.scan(i,o,s,a,(u,c,d)=>{r.bitmap.data[d+0]=e.bitmap.data[l+0],r.bitmap.data[d+1]=e.bitmap.data[l+1],r.bitmap.data[d+2]=e.bitmap.data[l+2],r.bitmap.data[d+3]=e.bitmap.data[l+3]})}});var DI=bp(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.extrudeTilesetToBuffer=eL;lc.extrudeTilesetToImage=tL;lc.extrudeTilesetToJimp=Cy;var xI=(Gh(),gS(wI)),io=EI();function eL(l,u,c){return Pe(this,arguments,function*(e,t,n,{mime:r,margin:i,spacing:o,extrusion:s,color:a}={}){let d={margin:i,spacing:o,extrusion:s,color:a},h;try{h=yield Cy(e,t,n,d)}catch(f){throw console.error("Error extruding tileset: ",f),f}try{return yield h.getBuffer(r??h.mime??"image/png")}catch(f){throw console.error("Buffer could not be created from tileset."),f}})}function tL(e,t,n,r,i){return Pe(this,null,function*(){let o;try{o=yield Cy(e,t,n,i)}catch(s){throw console.error("Error extruding tileset: ",s),s}try{yield o.write(r)}catch(s){throw console.error(`Tileset image could not be saved to: ${r}`),s}})}function Cy(a,l,u){return Pe(this,arguments,function*(e,t,n,{margin:r=0,spacing:i=0,color:o=4294967040,extrusion:s=1}={}){let c;try{c=yield xI.Jimp.read(n)}catch(b){throw console.error(`Tileset image could not be loaded from: ${n}`),b}let{width:d,height:h}=c.bitmap,f=(d-2*r+i)/(e+i),p=(h-2*r+i)/(t+i);if(!Number.isInteger(f)||!Number.isInteger(p))throw new Error("Non-integer number of rows or cols found. The image doesn't match the specified parameters. Double check your margin, spacing, tileWidth and tileHeight.");let m=2*r+(f-1)*i+f*(e+2*s),g=2*r+(p-1)*i+p*(t+2*s),_=new xI.Jimp({width:m,height:g,color:o});for(let b=0;b<p;b++)for(let v=0;v<f;v++){let x=r+v*(e+i),D=r+b*(t+i),k=r+v*(e+i+2*s),C=r+b*(t+i+2*s),O=e,A=t;(0,io.copyPixels)(c,x,D,O,A,_,k+s,C+s);for(let S=0;S<s;S++)(0,io.copyPixels)(c,x,D,O,1,_,k+s,C+S),(0,io.copyPixels)(c,x,D+A-1,O,1,_,k+s,C+s+A+(s-S-1)),(0,io.copyPixels)(c,x,D,1,A,_,k+S,C+s),(0,io.copyPixels)(c,x+O-1,D,1,A,_,k+s+O+(s-S-1),C+s);(0,io.copyPixelToRect)(c,x,D,_,k,C,s,s),(0,io.copyPixelToRect)(c,x+O-1,D,_,k+s+O,C,s,s),(0,io.copyPixelToRect)(c,x,D+A-1,_,k,C+s+A,s,s),(0,io.copyPixelToRect)(c,x+O-1,D+A-1,_,k+s+O,C+s+A,s,s)}return _})}});var zy=bp((eS,Uy)=>{"use strict";(function(e){typeof eS=="object"&&typeof Uy<"u"?Uy.exports=e():typeof define=="function"&&define.amd?define([],e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).JSZip=e()})(function(){return(function e(t,n,r){function i(a,l){if(!n[a]){if(!t[a]){var u=typeof hl=="function"&&hl;if(!l&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(h){var f=t[a][1][h];return i(f||h)},d,d.exports,e,t,n,r)}return n[a].exports}for(var o=typeof hl=="function"&&hl,s=0;s<r.length;s++)i(r[s]);return i})({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(s){for(var a,l,u,c,d,h,f,p=[],m=0,g=s.length,_=g,b=r.getTypeOf(s)!=="string";m<s.length;)_=g-m,u=b?(a=s[m++],l=m<g?s[m++]:0,m<g?s[m++]:0):(a=s.charCodeAt(m++),l=m<g?s.charCodeAt(m++):0,m<g?s.charCodeAt(m++):0),c=a>>2,d=(3&a)<<4|l>>4,h=1<_?(15&l)<<2|u>>6:64,f=2<_?63&u:64,p.push(o.charAt(c)+o.charAt(d)+o.charAt(h)+o.charAt(f));return p.join("")},n.decode=function(s){var a,l,u,c,d,h,f=0,p=0,m="data:";if(s.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var g,_=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===o.charAt(64)&&_--,s.charAt(s.length-2)===o.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=i.uint8array?new Uint8Array(0|_):new Array(0|_);f<s.length;)a=o.indexOf(s.charAt(f++))<<2|(c=o.indexOf(s.charAt(f++)))>>4,l=(15&c)<<4|(d=o.indexOf(s.charAt(f++)))>>2,u=(3&d)<<6|(h=o.indexOf(s.charAt(f++))),g[p++]=a,d!==64&&(g[p++]=l),h!==64&&(g[p++]=u);return g}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function a(l,u,c,d,h){this.compressedSize=l,this.uncompressedSize=u,this.crc32=c,this.compression=d,this.compressedContent=h}a.prototype={getContentWorker:function(){var l=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),u=this;return l.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(l,u,c){return l.pipe(new o).pipe(new s("uncompressedSize")).pipe(u.compressWorker(c)).pipe(new s("compressedSize")).withStreamInfo("compression",u)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=(function(){for(var o,s=[],a=0;a<256;a++){o=a;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;s[a]=o}return s})();t.exports=function(o,s){return o!==void 0&&o.length?r.getTypeOf(o)!=="string"?(function(a,l,u,c){var d=i,h=c+u;a^=-1;for(var f=c;f<h;f++)a=a>>>8^d[255&(a^l[f])];return-1^a})(0|s,o,o.length,0):(function(a,l,u,c){var d=i,h=c+u;a^=-1;for(var f=c;f<h;f++)a=a>>>8^d[255&(a^l.charCodeAt(f))];return-1^a})(0|s,o,o.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r=typeof Promise<"u"?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),a=r?"uint8array":"array";function l(u,c){s.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=c,this.meta={}}n.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(a,u.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(c){u.push({data:c,meta:u.meta})}},n.compressWorker=function(u){return new l("Deflate",u)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(d,h){var f,p="";for(f=0;f<h;f++)p+=String.fromCharCode(255&d),d>>>=8;return p}function i(d,h,f,p,m,g){var _,b,v=d.file,x=d.compression,D=g!==a.utf8encode,k=o.transformTo("string",g(v.name)),C=o.transformTo("string",a.utf8encode(v.name)),O=v.comment,A=o.transformTo("string",g(O)),S=o.transformTo("string",a.utf8encode(O)),w=C.length!==v.name.length,y=S.length!==O.length,z="",U="",P="",V=v.dir,Z=v.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};h&&!f||(Y.crc32=d.crc32,Y.compressedSize=d.compressedSize,Y.uncompressedSize=d.uncompressedSize);var H=0;h&&(H|=8),D||!w&&!y||(H|=2048);var q=0,W=0;V&&(q|=16),m==="UNIX"?(W=798,q|=(function(ee,ne){var J=ee;return ee||(J=ne?16893:33204),(65535&J)<<16})(v.unixPermissions,V)):(W=20,q|=(function(ee){return 63&(ee||0)})(v.dosPermissions)),_=Z.getUTCHours(),_<<=6,_|=Z.getUTCMinutes(),_<<=5,_|=Z.getUTCSeconds()/2,b=Z.getUTCFullYear()-1980,b<<=4,b|=Z.getUTCMonth()+1,b<<=5,b|=Z.getUTCDate(),w&&(U=r(1,1)+r(l(k),4)+C,z+="up"+r(U.length,2)+U),y&&(P=r(1,1)+r(l(A),4)+S,z+="uc"+r(P.length,2)+P);var Q="";return Q+=`
\0`,Q+=r(H,2),Q+=x.magic,Q+=r(_,2),Q+=r(b,2),Q+=r(Y.crc32,4),Q+=r(Y.compressedSize,4),Q+=r(Y.uncompressedSize,4),Q+=r(k.length,2),Q+=r(z.length,2),{fileRecord:u.LOCAL_FILE_HEADER+Q+k+z,dirRecord:u.CENTRAL_FILE_HEADER+r(W,2)+Q+r(A.length,2)+"\0\0\0\0"+r(q,4)+r(p,4)+k+z+A}}var o=e("../utils"),s=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(d,h,f,p){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=f,this.encodeFileName=p,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(c,s),c.prototype.push=function(d){var h=d.meta.percent||0,f=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,s.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:f?(h+100*(f-p-1))/f:100}}))},c.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var h=this.streamFiles&&!d.file.dir;if(h){var f=i(d,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(d){this.accumulate=!1;var h=this.streamFiles&&!d.file.dir,f=i(d,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),h)this.push({data:(function(p){return u.DATA_DESCRIPTOR+r(p.crc32,4)+r(p.compressedSize,4)+r(p.uncompressedSize,4)})(d),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var d=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var f=this.bytesWritten-d,p=(function(m,g,_,b,v){var x=o.transformTo("string",v(b));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(m,2)+r(m,2)+r(g,4)+r(_,4)+r(x.length,2)+x})(this.dirRecords.length,f,d,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(d){this._sources.push(d);var h=this;return d.on("data",function(f){h.processChunk(f)}),d.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),d.on("error",function(f){h.error(f)}),this},c.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(d){var h=this._sources;if(!s.prototype.error.call(this,d))return!1;for(var f=0;f<h.length;f++)try{h[f].error(d)}catch{}return!0},c.prototype.lock=function(){s.prototype.lock.call(this);for(var d=this._sources,h=0;h<d.length;h++)d[h].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(o,s,a){var l=new i(s.streamFiles,a,s.platform,s.encodeFileName),u=0;try{o.forEach(function(c,d){u++;var h=(function(g,_){var b=g||_,v=r[b];if(!v)throw new Error(b+" is not a valid compression method !");return v})(d.options.compression,s.compression),f=d.options.compressionOptions||s.compressionOptions||{},p=d.dir,m=d.date;d._compressWorker(h,f).withStreamInfo("file",{name:c,dir:p,date:m,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(l)}),l.entriesCount=u}catch(c){l.error(c)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new r;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(i,o){return new r().loadAsync(i,o)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),s=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(c){return new i.Promise(function(d,h){var f=c.decompressed.getContentWorker().pipe(new a);f.on("error",function(p){h(p)}).on("end",function(){f.streamInfo.crc32!==c.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}t.exports=function(c,d){var h=this;return d=r.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(c)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",c,!0,d.optimizedBinaryString,d.base64).then(function(f){var p=new s(d);return p.load(f),p}).then(function(f){var p=[i.Promise.resolve(f)],m=f.files;if(d.checkCRC32)for(var g=0;g<m.length;g++)p.push(u(m[g]));return i.Promise.all(p)}).then(function(f){for(var p=f.shift(),m=p.files,g=0;g<m.length;g++){var _=m[g],b=_.fileNameStr,v=r.resolve(_.fileNameStr);h.file(v,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:d.createFolders}),_.dir||(h.file(v).unsafeOriginalName=b)}return p.zipComment.length&&(h.comment=p.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(s,a){i.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(a)}r.inherits(o,i),o.prototype._bindStream=function(s){var a=this;(this._stream=s).pause(),s.on("data",function(l){a.push({data:l,meta:{percent:0}})}).on("error",function(l){a.isPaused?this.generatedError=l:a.error(l)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(o,s,a){r.call(this,s),this._helper=o;var l=this;o.on("data",function(u,c){l.push(u)||l._helper.pause(),a&&a(c)}).on("error",function(u){l.emit("error",u)}).on("end",function(){l.push(null)})}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,i);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,i)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var i=new Buffer(r);return i.fill(0),i},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(e,t,n){"use strict";function r(v,x,D){var k,C=o.getTypeOf(x),O=o.extend(D||{},l);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&16384&O.unixPermissions&&(O.dir=!0),O.dosPermissions&&16&O.dosPermissions&&(O.dir=!0),O.dir&&(v=m(v)),O.createFolders&&(k=p(v))&&g.call(this,k,!0);var A=C==="string"&&O.binary===!1&&O.base64===!1;D&&D.binary!==void 0||(O.binary=!A),(x instanceof u&&x.uncompressedSize===0||O.dir||!x||x.length===0)&&(O.base64=!1,O.binary=!0,x="",O.compression="STORE",C="string");var S=null;S=x instanceof u||x instanceof s?x:h.isNode&&h.isStream(x)?new f(v,x):o.prepareContent(v,x,O.binary,O.optimizedBinaryString,O.base64);var w=new c(v,S,O);this.files[v]=w}var i=e("./utf8"),o=e("./utils"),s=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),d=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var x=v.lastIndexOf("/");return 0<x?v.substring(0,x):""},m=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},g=function(v,x){return x=x!==void 0?x:l.createFolders,v=m(v),this.files[v]||r.call(this,v,null,{dir:!0,createFolders:x}),this.files[v]};function _(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var x,D,k;for(x in this.files)k=this.files[x],(D=x.slice(this.root.length,x.length))&&x.slice(0,this.root.length)===this.root&&v(D,k)},filter:function(v){var x=[];return this.forEach(function(D,k){v(D,k)&&x.push(k)}),x},file:function(v,x,D){if(arguments.length!==1)return v=this.root+v,r.call(this,v,x,D),this;if(_(v)){var k=v;return this.filter(function(O,A){return!A.dir&&k.test(O)})}var C=this.files[this.root+v];return C&&!C.dir?C:null},folder:function(v){if(!v)return this;if(_(v))return this.filter(function(C,O){return O.dir&&v.test(C)});var x=this.root+v,D=g.call(this,x),k=this.clone();return k.root=D.name,k},remove:function(v){v=this.root+v;var x=this.files[v];if(x||(v.slice(-1)!=="/"&&(v+="/"),x=this.files[v]),x&&!x.dir)delete this.files[v];else for(var D=this.filter(function(C,O){return O.name.slice(0,v.length)===v}),k=0;k<D.length;k++)delete this.files[D[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var x,D={};try{if((D=o.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");o.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var k=D.comment||this.comment||"";x=d.generateWorker(this,D,k)}catch(C){(x=new s("error")).error(C)}return new a(x,D.type||"string",D.mimeType)},generateAsync:function(v,x){return this.generateInternalStream(v).accumulate(x)},generateNodeStream:function(v,x){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(x)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(o){r.call(this,o);for(var s=0;s<this.data.length;s++)o[s]=255&o[s]}e("../utils").inherits(i,r),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var s=o.charCodeAt(0),a=o.charCodeAt(1),l=o.charCodeAt(2),u=o.charCodeAt(3),c=this.length-4;0<=c;--c)if(this.data[c]===s&&this.data[c+1]===a&&this.data[c+2]===l&&this.data[c+3]===u)return c-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var s=o.charCodeAt(0),a=o.charCodeAt(1),l=o.charCodeAt(2),u=o.charCodeAt(3),c=this.readData(4);return s===c[0]&&a===c[1]&&l===c[2]&&u===c[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var s,a=0;for(this.checkOffset(o),s=this.index+o-1;s>=this.index;s--)a=(a<<8)+this.byteAt(s);return this.index+=o,a},readString:function(o){return r.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(o){r.call(this,o)}e("../utils").inherits(i,r),i.prototype.readData=function(o){this.checkOffset(o);var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(o){r.call(this,o)}e("../utils").inherits(i,r),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var s=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(o){r.call(this,o)}e("../utils").inherits(i,r),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,s},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(u){var c=r.getTypeOf(u);return r.checkSupport(c),c!=="string"||i.uint8array?c==="nodebuffer"?new a(u):i.uint8array?new l(r.transformTo("uint8array",u)):new o(r.transformTo("array",u)):new s(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(s){r.call(this,"ConvertWorker to "+s),this.destType=s}i.inherits(o,r),o.prototype.processChunk=function(s){this.push({data:i.transformTo(this.destType,s.data),meta:s.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(s){this.streamInfo.crc32=i(s.data,this.streamInfo.crc32||0),this.push(s)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(s){i.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}r.inherits(o,i),o.prototype.processChunk=function(s){if(s){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+s.data.length}i.prototype.processChunk.call(this,s)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(s){i.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(l){a.dataIsReady=!0,a.data=l,a.max=l&&l.length||0,a.type=r.getTypeOf(l),a.isPaused||a._tickAndRepeat()},function(l){a.error(l)})}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,a);break;case"uint8array":s=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":s=this.data.slice(this.index,a)}return this.index=a,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var s=0;s<this._listeners[i].length;s++)this._listeners[i][s].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(s){o.processChunk(s)}),i.on("end",function(){o.end()}),i.on("error",function(s){o.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),l=e("../external"),u=null;if(a.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function c(h,f){return new l.Promise(function(p,m){var g=[],_=h._internalType,b=h._outputType,v=h._mimeType;h.on("data",function(x,D){g.push(x),f&&f(D)}).on("error",function(x){g=[],m(x)}).on("end",function(){try{var x=(function(D,k,C){switch(D){case"blob":return r.newBlob(r.transformTo("arraybuffer",k),C);case"base64":return s.encode(k);default:return r.transformTo(D,k)}})(b,(function(D,k){var C,O=0,A=null,S=0;for(C=0;C<k.length;C++)S+=k[C].length;switch(D){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(A=new Uint8Array(S),C=0;C<k.length;C++)A.set(k[C],O),O+=k[C].length;return A;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+D+"'")}})(_,g),v);p(x)}catch(D){m(D)}g=[]}).resume()})}function d(h,f,p){var m=f;switch(f){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=f,this._mimeType=p,r.checkSupport(m),this._worker=h.pipe(new i(m)),h.lock()}catch(g){this._worker=new o("error"),this._worker.error(g)}}d.prototype={accumulate:function(h){return c(this,h)},on:function(h,f){var p=this;return h==="data"?this._worker.on(h,function(m){f.call(p,m.data,m.meta)}):this._worker.on(h,function(){r.delay(f,arguments,p)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},h)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=i.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;a[254]=a[254]=1;function u(){s.call(this,"utf-8 decode"),this.leftOver=null}function c(){s.call(this,"utf-8 encode")}n.utf8encode=function(d){return i.nodebuffer?o.newBufferFrom(d,"utf-8"):(function(h){var f,p,m,g,_,b=h.length,v=0;for(g=0;g<b;g++)(64512&(p=h.charCodeAt(g)))==55296&&g+1<b&&(64512&(m=h.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),g++),v+=p<128?1:p<2048?2:p<65536?3:4;for(f=i.uint8array?new Uint8Array(v):new Array(v),g=_=0;_<v;g++)(64512&(p=h.charCodeAt(g)))==55296&&g+1<b&&(64512&(m=h.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),g++),p<128?f[_++]=p:(p<2048?f[_++]=192|p>>>6:(p<65536?f[_++]=224|p>>>12:(f[_++]=240|p>>>18,f[_++]=128|p>>>12&63),f[_++]=128|p>>>6&63),f[_++]=128|63&p);return f})(d)},n.utf8decode=function(d){return i.nodebuffer?r.transformTo("nodebuffer",d).toString("utf-8"):(function(h){var f,p,m,g,_=h.length,b=new Array(2*_);for(f=p=0;f<_;)if((m=h[f++])<128)b[p++]=m;else if(4<(g=a[m]))b[p++]=65533,f+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&f<_;)m=m<<6|63&h[f++],g--;1<g?b[p++]=65533:m<65536?b[p++]=m:(m-=65536,b[p++]=55296|m>>10&1023,b[p++]=56320|1023&m)}return b.length!==p&&(b.subarray?b=b.subarray(0,p):b.length=p),r.applyFromCharCode(b)})(d=r.transformTo(i.uint8array?"uint8array":"array",d))},r.inherits(u,s),u.prototype.processChunk=function(d){var h=r.transformTo(i.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var f=h;(h=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),h.set(f,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var p=(function(g,_){var b;for((_=_||g.length)>g.length&&(_=g.length),b=_-1;0<=b&&(192&g[b])==128;)b--;return b<0||b===0?_:b+a[g[b]]>_?b:_})(h),m=h;p!==h.length&&(i.uint8array?(m=h.subarray(0,p),this.leftOver=h.subarray(p,h.length)):(m=h.slice(0,p),this.leftOver=h.slice(p,h.length))),this.push({data:n.utf8decode(m),meta:d.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(c,s),c.prototype.processChunk=function(d){this.push({data:n.utf8encode(d.data),meta:d.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),s=e("./external");function a(f){return f}function l(f,p){for(var m=0;m<f.length;++m)p[m]=255&f.charCodeAt(m);return p}e("setimmediate"),n.newBlob=function(f,p){n.checkSupport("blob");try{return new Blob([f],{type:p})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(f),m.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(f,p,m){var g=[],_=0,b=f.length;if(b<=m)return String.fromCharCode.apply(null,f);for(;_<b;)p==="array"||p==="nodebuffer"?g.push(String.fromCharCode.apply(null,f.slice(_,Math.min(_+m,b)))):g.push(String.fromCharCode.apply(null,f.subarray(_,Math.min(_+m,b)))),_+=m;return g.join("")},stringifyByChar:function(f){for(var p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);return p},applyCanBeUsed:{uint8array:(function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function c(f){var p=65536,m=n.getTypeOf(f),g=!0;if(m==="uint8array"?g=u.applyCanBeUsed.uint8array:m==="nodebuffer"&&(g=u.applyCanBeUsed.nodebuffer),g)for(;1<p;)try{return u.stringifyByChunk(f,m,p)}catch{p=Math.floor(p/2)}return u.stringifyByChar(f)}function d(f,p){for(var m=0;m<f.length;m++)p[m]=f[m];return p}n.applyFromCharCode=c;var h={};h.string={string:a,array:function(f){return l(f,new Array(f.length))},arraybuffer:function(f){return h.string.uint8array(f).buffer},uint8array:function(f){return l(f,new Uint8Array(f.length))},nodebuffer:function(f){return l(f,o.allocBuffer(f.length))}},h.array={string:c,array:a,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return o.newBufferFrom(f)}},h.arraybuffer={string:function(f){return c(new Uint8Array(f))},array:function(f){return d(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:a,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return o.newBufferFrom(new Uint8Array(f))}},h.uint8array={string:c,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:a,nodebuffer:function(f){return o.newBufferFrom(f)}},h.nodebuffer={string:c,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return h.nodebuffer.uint8array(f).buffer},uint8array:function(f){return d(f,new Uint8Array(f.length))},nodebuffer:a},n.transformTo=function(f,p){if(p=p||"",!f)return p;n.checkSupport(f);var m=n.getTypeOf(p);return h[m][f](p)},n.resolve=function(f){for(var p=f.split("/"),m=[],g=0;g<p.length;g++){var _=p[g];_==="."||_===""&&g!==0&&g!==p.length-1||(_===".."?m.pop():m.push(_))}return m.join("/")},n.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":r.nodebuffer&&o.isBuffer(f)?"nodebuffer":r.uint8array&&f instanceof Uint8Array?"uint8array":r.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(f){if(!r[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(f){var p,m,g="";for(m=0;m<(f||"").length;m++)g+="\\x"+((p=f.charCodeAt(m))<16?"0":"")+p.toString(16).toUpperCase();return g},n.delay=function(f,p,m){setImmediate(function(){f.apply(m||null,p||[])})},n.inherits=function(f,p){function m(){}m.prototype=p.prototype,f.prototype=new m},n.extend=function(){var f,p,m={};for(f=0;f<arguments.length;f++)for(p in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],p)&&m[p]===void 0&&(m[p]=arguments[f][p]);return m},n.prepareContent=function(f,p,m,g,_){return s.Promise.resolve(p).then(function(b){return r.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new s.Promise(function(v,x){var D=new FileReader;D.onload=function(k){v(k.target.result)},D.onerror=function(k){x(k.target.error)},D.readAsArrayBuffer(b)}):b}).then(function(b){var v=n.getTypeOf(b);return v?(v==="arraybuffer"?b=n.transformTo("uint8array",b):v==="string"&&(_?b=i.decode(b):m&&g!==!0&&(b=(function(x){return l(x,r.uint8array?new Uint8Array(x.length):new Array(x.length))})(b))),b):s.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),s=e("./zipEntry"),a=e("./support");function l(u){this.files=[],this.loadOptions=u}l.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var c=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(c)+", expected "+i.pretty(u)+")")}},isSignature:function(u,c){var d=this.reader.index;this.reader.setIndex(u);var h=this.reader.readString(4)===c;return this.reader.setIndex(d),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),c=a.uint8array?"uint8array":"array",d=i.transformTo(c,u);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,c,d,h=this.zip64EndOfCentralSize-44;0<h;)u=this.reader.readInt(2),c=this.reader.readInt(4),d=this.reader.readData(c),this.zip64ExtensibleData[u]={id:u,length:c,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,c;for(u=0;u<this.files.length;u++)c=this.files[u],this.reader.setIndex(c.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),c.readLocalPart(this.reader),c.handleUTF8(),c.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(u=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var c=u;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var h=c-d;if(0<h)this.isSignature(c,o.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(u){this.reader=r(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),l=e("./compressions"),u=e("./support");function c(d,h){this.options=d,this.loadOptions=h}c.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var h,f;if(d.skip(22),this.fileNameLength=d.readInt(2),f=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=(function(p){for(var m in l)if(Object.prototype.hasOwnProperty.call(l,m)&&l[m].magic===p)return l[m];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,h,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var h=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(h),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var h,f,p,m=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<m;)h=d.readInt(2),f=d.readInt(2),p=d.readData(f),this.extraFields[h]={id:h,length:f,value:p};d.setIndex(m)},handleUTF8:function(){var d=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var f=i.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var m=i.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var h=r(d.value);return h.readInt(1)!==1||s(this.fileName)!==h.readInt(4)?null:a.utf8decode(h.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var h=r(d.value);return h.readInt(1)!==1||s(this.fileComment)!==h.readInt(4)?null:a.utf8decode(h.readData(d.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(h,f,p){this.name=h,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=f,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),s=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(h){var f=null,p="string";try{if(!h)throw new Error("No output type specified.");var m=(p=h.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),f=this._decompressWorker();var g=!this._dataBinary;g&&!m&&(f=f.pipe(new s.Utf8EncodeWorker)),!g&&m&&(f=f.pipe(new s.Utf8DecodeWorker))}catch(_){(f=new l("error")).error(_)}return new i(f,p,"")},async:function(h,f){return this.internalStream(h).accumulate(f)},nodeStream:function(h,f){return this.internalStream(h||"nodebuffer").toNodejsStream(f)},_compressWorker:function(h,f){if(this._data instanceof a&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(p,h,f)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)r.prototype[u[d]]=c;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(r){"use strict";var i,o,s=r.MutationObserver||r.WebKitMutationObserver;if(s){var a=0,l=new s(h),u=r.document.createTextNode("");l.observe(u,{characterData:!0}),i=function(){u.data=a=++a%2}}else if(r.setImmediate||r.MessageChannel===void 0)i="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var f=r.document.createElement("script");f.onreadystatechange=function(){h(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},r.document.documentElement.appendChild(f)}:function(){setTimeout(h,0)};else{var c=new r.MessageChannel;c.port1.onmessage=h,i=function(){c.port2.postMessage(0)}}var d=[];function h(){var f,p;o=!0;for(var m=d.length;m;){for(p=d,d=[],f=-1;++f<m;)p[f]();m=d.length}o=!1}t.exports=function(f){d.push(f)!==1||o||i()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function u(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,m!==i&&f(this,m)}function c(m,g,_){this.promise=m,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function d(m,g,_){r(function(){var b;try{b=g(_)}catch(v){return o.reject(m,v)}b===m?o.reject(m,new TypeError("Cannot resolve promise with itself")):o.resolve(m,b)})}function h(m){var g=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof g=="function")return function(){g.apply(m,arguments)}}function f(m,g){var _=!1;function b(D){_||(_=!0,o.reject(m,D))}function v(D){_||(_=!0,o.resolve(m,D))}var x=p(function(){g(v,b)});x.status==="error"&&b(x.value)}function p(m,g){var _={};try{_.value=m(g),_.status="success"}catch(b){_.status="error",_.value=b}return _}(t.exports=u).prototype.finally=function(m){if(typeof m!="function")return this;var g=this.constructor;return this.then(function(_){return g.resolve(m()).then(function(){return _})},function(_){return g.resolve(m()).then(function(){throw _})})},u.prototype.catch=function(m){return this.then(null,m)},u.prototype.then=function(m,g){if(typeof m!="function"&&this.state===a||typeof g!="function"&&this.state===s)return this;var _=new this.constructor(i);return this.state!==l?d(_,this.state===a?m:g,this.outcome):this.queue.push(new c(_,m,g)),_},c.prototype.callFulfilled=function(m){o.resolve(this.promise,m)},c.prototype.otherCallFulfilled=function(m){d(this.promise,this.onFulfilled,m)},c.prototype.callRejected=function(m){o.reject(this.promise,m)},c.prototype.otherCallRejected=function(m){d(this.promise,this.onRejected,m)},o.resolve=function(m,g){var _=p(h,g);if(_.status==="error")return o.reject(m,_.value);var b=_.value;if(b)f(m,b);else{m.state=a,m.outcome=g;for(var v=-1,x=m.queue.length;++v<x;)m.queue[v].callFulfilled(g)}return m},o.reject=function(m,g){m.state=s,m.outcome=g;for(var _=-1,b=m.queue.length;++_<b;)m.queue[_].callRejected(g);return m},u.resolve=function(m){return m instanceof this?m:o.resolve(new this(i),m)},u.reject=function(m){var g=new this(i);return o.reject(g,m)},u.all=function(m){var g=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,b=!1;if(!_)return this.resolve([]);for(var v=new Array(_),x=0,D=-1,k=new this(i);++D<_;)C(m[D],D);return k;function C(O,A){g.resolve(O).then(function(S){v[A]=S,++x!==_||b||(b=!0,o.resolve(k,v))},function(S){b||(b=!0,o.reject(k,S))})}},u.race=function(m){var g=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=m.length,b=!1;if(!_)return this.resolve([]);for(var v=-1,x=new this(i);++v<_;)D=m[v],g.resolve(D).then(function(k){b||(b=!0,o.resolve(x,k))},function(k){b||(b=!0,o.reject(x,k))});var D;return x}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=-1,d=0,h=8;function f(m){if(!(this instanceof f))return new f(m);this.options=i.assign({level:c,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},m||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var _=r.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(_!==u)throw new Error(s[_]);if(g.header&&r.deflateSetHeader(this.strm,g.header),g.dictionary){var b;if(b=typeof g.dictionary=="string"?o.string2buf(g.dictionary):l.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(_=r.deflateSetDictionary(this.strm,b))!==u)throw new Error(s[_]);this._dict_set=!0}}function p(m,g){var _=new f(g);if(_.push(m,!0),_.err)throw _.msg||s[_.err];return _.result}f.prototype.push=function(m,g){var _,b,v=this.strm,x=this.options.chunkSize;if(this.ended)return!1;b=g===~~g?g:g===!0?4:0,typeof m=="string"?v.input=o.string2buf(m):l.call(m)==="[object ArrayBuffer]"?v.input=new Uint8Array(m):v.input=m,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new i.Buf8(x),v.next_out=0,v.avail_out=x),(_=r.deflate(v,b))!==1&&_!==u)return this.onEnd(_),!(this.ended=!0);v.avail_out!==0&&(v.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(v.output,v.next_out))):this.onData(i.shrinkBuf(v.output,v.next_out)))}while((0<v.avail_in||v.avail_out===0)&&_!==1);return b===4?(_=r.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u):b!==2||(this.onEnd(u),!(v.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},n.Deflate=f,n.deflate=p,n.deflateRaw=function(m,g){return(g=g||{}).raw=!0,p(m,g)},n.gzip=function(m,g){return(g=g||{}).gzip=!0,p(m,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function d(f){if(!(this instanceof d))return new d(f);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},f||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||f&&f.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&(15&p.windowBits)==0&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var m=r.inflateInit2(this.strm,p.windowBits);if(m!==s.Z_OK)throw new Error(a[m]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function h(f,p){var m=new d(p);if(m.push(f,!0),m.err)throw m.msg||a[m.err];return m.result}d.prototype.push=function(f,p){var m,g,_,b,v,x,D=this.strm,k=this.options.chunkSize,C=this.options.dictionary,O=!1;if(this.ended)return!1;g=p===~~p?p:p===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof f=="string"?D.input=o.binstring2buf(f):c.call(f)==="[object ArrayBuffer]"?D.input=new Uint8Array(f):D.input=f,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new i.Buf8(k),D.next_out=0,D.avail_out=k),(m=r.inflate(D,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&C&&(x=typeof C=="string"?o.string2buf(C):c.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,m=r.inflateSetDictionary(this.strm,x)),m===s.Z_BUF_ERROR&&O===!0&&(m=s.Z_OK,O=!1),m!==s.Z_STREAM_END&&m!==s.Z_OK)return this.onEnd(m),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&m!==s.Z_STREAM_END&&(D.avail_in!==0||g!==s.Z_FINISH&&g!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=o.utf8border(D.output,D.next_out),b=D.next_out-_,v=o.buf2string(D.output,_),D.next_out=b,D.avail_out=k-b,b&&i.arraySet(D.output,D.output,_,b,0),this.onData(v)):this.onData(i.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(O=!0)}while((0<D.avail_in||D.avail_out===0)&&m!==s.Z_STREAM_END);return m===s.Z_STREAM_END&&(g=s.Z_FINISH),g===s.Z_FINISH?(m=r.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===s.Z_OK):g!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(D.avail_out=0))},d.prototype.onData=function(f){this.chunks.push(f)},d.prototype.onEnd=function(f){f===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},n.Inflate=d,n.inflate=h,n.inflateRaw=function(f,p){return(p=p||{}).raw=!0,h(f,p)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var l=a.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var u in l)l.hasOwnProperty(u)&&(s[u]=l[u])}}return s},n.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var i={arraySet:function(s,a,l,u,c){if(a.subarray&&s.subarray)s.set(a.subarray(l,l+u),c);else for(var d=0;d<u;d++)s[c+d]=a[l+d]},flattenChunks:function(s){var a,l,u,c,d,h;for(a=u=0,l=s.length;a<l;a++)u+=s[a].length;for(h=new Uint8Array(u),a=c=0,l=s.length;a<l;a++)d=s[a],h.set(d,c),c+=d.length;return h}},o={arraySet:function(s,a,l,u,c){for(var d=0;d<u;d++)s[c+d]=a[l+d]},flattenChunks:function(s){return[].concat.apply([],s)}};n.setTyped=function(s){s?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(u,c){if(c<65537&&(u.subarray&&o||!u.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(u,c));for(var d="",h=0;h<c;h++)d+=String.fromCharCode(u[h]);return d}s[254]=s[254]=1,n.string2buf=function(u){var c,d,h,f,p,m=u.length,g=0;for(f=0;f<m;f++)(64512&(d=u.charCodeAt(f)))==55296&&f+1<m&&(64512&(h=u.charCodeAt(f+1)))==56320&&(d=65536+(d-55296<<10)+(h-56320),f++),g+=d<128?1:d<2048?2:d<65536?3:4;for(c=new r.Buf8(g),f=p=0;p<g;f++)(64512&(d=u.charCodeAt(f)))==55296&&f+1<m&&(64512&(h=u.charCodeAt(f+1)))==56320&&(d=65536+(d-55296<<10)+(h-56320),f++),d<128?c[p++]=d:(d<2048?c[p++]=192|d>>>6:(d<65536?c[p++]=224|d>>>12:(c[p++]=240|d>>>18,c[p++]=128|d>>>12&63),c[p++]=128|d>>>6&63),c[p++]=128|63&d);return c},n.buf2binstring=function(u){return l(u,u.length)},n.binstring2buf=function(u){for(var c=new r.Buf8(u.length),d=0,h=c.length;d<h;d++)c[d]=u.charCodeAt(d);return c},n.buf2string=function(u,c){var d,h,f,p,m=c||u.length,g=new Array(2*m);for(d=h=0;d<m;)if((f=u[d++])<128)g[h++]=f;else if(4<(p=s[f]))g[h++]=65533,d+=p-1;else{for(f&=p===2?31:p===3?15:7;1<p&&d<m;)f=f<<6|63&u[d++],p--;1<p?g[h++]=65533:f<65536?g[h++]=f:(f-=65536,g[h++]=55296|f>>10&1023,g[h++]=56320|1023&f)}return l(g,h)},n.utf8border=function(u,c){var d;for((c=c||u.length)>u.length&&(c=u.length),d=c-1;0<=d&&(192&u[d])==128;)d--;return d<0||d===0?c:d+s[u[d]]>c?d:c}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(r,i,o,s){for(var a=65535&r|0,l=r>>>16&65535|0,u=0;o!==0;){for(o-=u=2e3<o?2e3:o;l=l+(a=a+i[s++]|0)|0,--u;);a%=65521,l%=65521}return a|l<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=(function(){for(var i,o=[],s=0;s<256;s++){i=s;for(var a=0;a<8;a++)i=1&i?3988292384^i>>>1:i>>>1;o[s]=i}return o})();t.exports=function(i,o,s,a){var l=r,u=a+s;i^=-1;for(var c=a;c<u;c++)i=i>>>8^l[255&(i^o[c])];return-1^i}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),u=0,c=4,d=0,h=-2,f=-1,p=4,m=2,g=8,_=9,b=286,v=30,x=19,D=2*b+1,k=15,C=3,O=258,A=O+C+1,S=42,w=113,y=1,z=2,U=3,P=4;function V(I,B){return I.msg=l[B],B}function Z(I){return(I<<1)-(4<I?9:0)}function Y(I){for(var B=I.length;0<=--B;)I[B]=0}function H(I){var B=I.state,L=B.pending;L>I.avail_out&&(L=I.avail_out),L!==0&&(i.arraySet(I.output,B.pending_buf,B.pending_out,L,I.next_out),I.next_out+=L,B.pending_out+=L,I.total_out+=L,I.avail_out-=L,B.pending-=L,B.pending===0&&(B.pending_out=0))}function q(I,B){o._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,B),I.block_start=I.strstart,H(I.strm)}function W(I,B){I.pending_buf[I.pending++]=B}function Q(I,B){I.pending_buf[I.pending++]=B>>>8&255,I.pending_buf[I.pending++]=255&B}function ee(I,B){var L,M,R=I.max_chain_length,G=I.strstart,E=I.prev_length,N=I.nice_match,F=I.strstart>I.w_size-A?I.strstart-(I.w_size-A):0,$=I.window,oe=I.w_mask,se=I.prev,pe=I.strstart+O,De=$[G+E-1],ge=$[G+E];I.prev_length>=I.good_match&&(R>>=2),N>I.lookahead&&(N=I.lookahead);do if($[(L=B)+E]===ge&&$[L+E-1]===De&&$[L]===$[G]&&$[++L]===$[G+1]){G+=2,L++;do;while($[++G]===$[++L]&&$[++G]===$[++L]&&$[++G]===$[++L]&&$[++G]===$[++L]&&$[++G]===$[++L]&&$[++G]===$[++L]&&$[++G]===$[++L]&&$[++G]===$[++L]&&G<pe);if(M=O-(pe-G),G=pe-O,E<M){if(I.match_start=B,N<=(E=M))break;De=$[G+E-1],ge=$[G+E]}}while((B=se[B&oe])>F&&--R!=0);return E<=I.lookahead?E:I.lookahead}function ne(I){var B,L,M,R,G,E,N,F,$,oe,se=I.w_size;do{if(R=I.window_size-I.lookahead-I.strstart,I.strstart>=se+(se-A)){for(i.arraySet(I.window,I.window,se,se,0),I.match_start-=se,I.strstart-=se,I.block_start-=se,B=L=I.hash_size;M=I.head[--B],I.head[B]=se<=M?M-se:0,--L;);for(B=L=se;M=I.prev[--B],I.prev[B]=se<=M?M-se:0,--L;);R+=se}if(I.strm.avail_in===0)break;if(E=I.strm,N=I.window,F=I.strstart+I.lookahead,$=R,oe=void 0,oe=E.avail_in,$<oe&&(oe=$),L=oe===0?0:(E.avail_in-=oe,i.arraySet(N,E.input,E.next_in,oe,F),E.state.wrap===1?E.adler=s(E.adler,N,oe,F):E.state.wrap===2&&(E.adler=a(E.adler,N,oe,F)),E.next_in+=oe,E.total_in+=oe,oe),I.lookahead+=L,I.lookahead+I.insert>=C)for(G=I.strstart-I.insert,I.ins_h=I.window[G],I.ins_h=(I.ins_h<<I.hash_shift^I.window[G+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[G+C-1])&I.hash_mask,I.prev[G&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=G,G++,I.insert--,!(I.lookahead+I.insert<C)););}while(I.lookahead<A&&I.strm.avail_in!==0)}function J(I,B){for(var L,M;;){if(I.lookahead<A){if(ne(I),I.lookahead<A&&B===u)return y;if(I.lookahead===0)break}if(L=0,I.lookahead>=C&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,L=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),L!==0&&I.strstart-L<=I.w_size-A&&(I.match_length=ee(I,L)),I.match_length>=C)if(M=o._tr_tally(I,I.strstart-I.match_start,I.match_length-C),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=C){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,L=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else M=o._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(M&&(q(I,!1),I.strm.avail_out===0))return y}return I.insert=I.strstart<C-1?I.strstart:C-1,B===c?(q(I,!0),I.strm.avail_out===0?U:P):I.last_lit&&(q(I,!1),I.strm.avail_out===0)?y:z}function X(I,B){for(var L,M,R;;){if(I.lookahead<A){if(ne(I),I.lookahead<A&&B===u)return y;if(I.lookahead===0)break}if(L=0,I.lookahead>=C&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,L=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=C-1,L!==0&&I.prev_length<I.max_lazy_match&&I.strstart-L<=I.w_size-A&&(I.match_length=ee(I,L),I.match_length<=5&&(I.strategy===1||I.match_length===C&&4096<I.strstart-I.match_start)&&(I.match_length=C-1)),I.prev_length>=C&&I.match_length<=I.prev_length){for(R=I.strstart+I.lookahead-C,M=o._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-C),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=R&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,L=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=C-1,I.strstart++,M&&(q(I,!1),I.strm.avail_out===0))return y}else if(I.match_available){if((M=o._tr_tally(I,0,I.window[I.strstart-1]))&&q(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return y}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(M=o._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<C-1?I.strstart:C-1,B===c?(q(I,!0),I.strm.avail_out===0?U:P):I.last_lit&&(q(I,!1),I.strm.avail_out===0)?y:z}function ie(I,B,L,M,R){this.good_length=I,this.max_lazy=B,this.nice_length=L,this.max_chain=M,this.func=R}function le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*D),this.dyn_dtree=new i.Buf16(2*(2*v+1)),this.bl_tree=new i.Buf16(2*(2*x+1)),Y(this.dyn_ltree),Y(this.dyn_dtree),Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(k+1),this.heap=new i.Buf16(2*b+1),Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*b+1),Y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(I){var B;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=m,(B=I.state).pending=0,B.pending_out=0,B.wrap<0&&(B.wrap=-B.wrap),B.status=B.wrap?S:w,I.adler=B.wrap===2?0:1,B.last_flush=u,o._tr_init(B),d):V(I,h)}function te(I){var B=ue(I);return B===d&&(function(L){L.window_size=2*L.w_size,Y(L.head),L.max_lazy_match=r[L.level].max_lazy,L.good_match=r[L.level].good_length,L.nice_match=r[L.level].nice_length,L.max_chain_length=r[L.level].max_chain,L.strstart=0,L.block_start=0,L.lookahead=0,L.insert=0,L.match_length=L.prev_length=C-1,L.match_available=0,L.ins_h=0})(I.state),B}function T(I,B,L,M,R,G){if(!I)return h;var E=1;if(B===f&&(B=6),M<0?(E=0,M=-M):15<M&&(E=2,M-=16),R<1||_<R||L!==g||M<8||15<M||B<0||9<B||G<0||p<G)return V(I,h);M===8&&(M=9);var N=new le;return(I.state=N).strm=I,N.wrap=E,N.gzhead=null,N.w_bits=M,N.w_size=1<<N.w_bits,N.w_mask=N.w_size-1,N.hash_bits=R+7,N.hash_size=1<<N.hash_bits,N.hash_mask=N.hash_size-1,N.hash_shift=~~((N.hash_bits+C-1)/C),N.window=new i.Buf8(2*N.w_size),N.head=new i.Buf16(N.hash_size),N.prev=new i.Buf16(N.w_size),N.lit_bufsize=1<<R+6,N.pending_buf_size=4*N.lit_bufsize,N.pending_buf=new i.Buf8(N.pending_buf_size),N.d_buf=1*N.lit_bufsize,N.l_buf=3*N.lit_bufsize,N.level=B,N.strategy=G,N.method=L,te(I)}r=[new ie(0,0,0,0,function(I,B){var L=65535;for(L>I.pending_buf_size-5&&(L=I.pending_buf_size-5);;){if(I.lookahead<=1){if(ne(I),I.lookahead===0&&B===u)return y;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var M=I.block_start+L;if((I.strstart===0||I.strstart>=M)&&(I.lookahead=I.strstart-M,I.strstart=M,q(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-A&&(q(I,!1),I.strm.avail_out===0))return y}return I.insert=0,B===c?(q(I,!0),I.strm.avail_out===0?U:P):(I.strstart>I.block_start&&(q(I,!1),I.strm.avail_out),y)}),new ie(4,4,8,4,J),new ie(4,5,16,8,J),new ie(4,6,32,32,J),new ie(4,4,16,16,X),new ie(8,16,32,32,X),new ie(8,16,128,128,X),new ie(8,32,128,256,X),new ie(32,128,258,1024,X),new ie(32,258,258,4096,X)],n.deflateInit=function(I,B){return T(I,B,g,15,8,0)},n.deflateInit2=T,n.deflateReset=te,n.deflateResetKeep=ue,n.deflateSetHeader=function(I,B){return I&&I.state?I.state.wrap!==2?h:(I.state.gzhead=B,d):h},n.deflate=function(I,B){var L,M,R,G;if(!I||!I.state||5<B||B<0)return I?V(I,h):h;if(M=I.state,!I.output||!I.input&&I.avail_in!==0||M.status===666&&B!==c)return V(I,I.avail_out===0?-5:h);if(M.strm=I,L=M.last_flush,M.last_flush=B,M.status===S)if(M.wrap===2)I.adler=0,W(M,31),W(M,139),W(M,8),M.gzhead?(W(M,(M.gzhead.text?1:0)+(M.gzhead.hcrc?2:0)+(M.gzhead.extra?4:0)+(M.gzhead.name?8:0)+(M.gzhead.comment?16:0)),W(M,255&M.gzhead.time),W(M,M.gzhead.time>>8&255),W(M,M.gzhead.time>>16&255),W(M,M.gzhead.time>>24&255),W(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),W(M,255&M.gzhead.os),M.gzhead.extra&&M.gzhead.extra.length&&(W(M,255&M.gzhead.extra.length),W(M,M.gzhead.extra.length>>8&255)),M.gzhead.hcrc&&(I.adler=a(I.adler,M.pending_buf,M.pending,0)),M.gzindex=0,M.status=69):(W(M,0),W(M,0),W(M,0),W(M,0),W(M,0),W(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),W(M,3),M.status=w);else{var E=g+(M.w_bits-8<<4)<<8;E|=(2<=M.strategy||M.level<2?0:M.level<6?1:M.level===6?2:3)<<6,M.strstart!==0&&(E|=32),E+=31-E%31,M.status=w,Q(M,E),M.strstart!==0&&(Q(M,I.adler>>>16),Q(M,65535&I.adler)),I.adler=1}if(M.status===69)if(M.gzhead.extra){for(R=M.pending;M.gzindex<(65535&M.gzhead.extra.length)&&(M.pending!==M.pending_buf_size||(M.gzhead.hcrc&&M.pending>R&&(I.adler=a(I.adler,M.pending_buf,M.pending-R,R)),H(I),R=M.pending,M.pending!==M.pending_buf_size));)W(M,255&M.gzhead.extra[M.gzindex]),M.gzindex++;M.gzhead.hcrc&&M.pending>R&&(I.adler=a(I.adler,M.pending_buf,M.pending-R,R)),M.gzindex===M.gzhead.extra.length&&(M.gzindex=0,M.status=73)}else M.status=73;if(M.status===73)if(M.gzhead.name){R=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>R&&(I.adler=a(I.adler,M.pending_buf,M.pending-R,R)),H(I),R=M.pending,M.pending===M.pending_buf_size)){G=1;break}G=M.gzindex<M.gzhead.name.length?255&M.gzhead.name.charCodeAt(M.gzindex++):0,W(M,G)}while(G!==0);M.gzhead.hcrc&&M.pending>R&&(I.adler=a(I.adler,M.pending_buf,M.pending-R,R)),G===0&&(M.gzindex=0,M.status=91)}else M.status=91;if(M.status===91)if(M.gzhead.comment){R=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>R&&(I.adler=a(I.adler,M.pending_buf,M.pending-R,R)),H(I),R=M.pending,M.pending===M.pending_buf_size)){G=1;break}G=M.gzindex<M.gzhead.comment.length?255&M.gzhead.comment.charCodeAt(M.gzindex++):0,W(M,G)}while(G!==0);M.gzhead.hcrc&&M.pending>R&&(I.adler=a(I.adler,M.pending_buf,M.pending-R,R)),G===0&&(M.status=103)}else M.status=103;if(M.status===103&&(M.gzhead.hcrc?(M.pending+2>M.pending_buf_size&&H(I),M.pending+2<=M.pending_buf_size&&(W(M,255&I.adler),W(M,I.adler>>8&255),I.adler=0,M.status=w)):M.status=w),M.pending!==0){if(H(I),I.avail_out===0)return M.last_flush=-1,d}else if(I.avail_in===0&&Z(B)<=Z(L)&&B!==c)return V(I,-5);if(M.status===666&&I.avail_in!==0)return V(I,-5);if(I.avail_in!==0||M.lookahead!==0||B!==u&&M.status!==666){var N=M.strategy===2?(function(F,$){for(var oe;;){if(F.lookahead===0&&(ne(F),F.lookahead===0)){if($===u)return y;break}if(F.match_length=0,oe=o._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++,oe&&(q(F,!1),F.strm.avail_out===0))return y}return F.insert=0,$===c?(q(F,!0),F.strm.avail_out===0?U:P):F.last_lit&&(q(F,!1),F.strm.avail_out===0)?y:z})(M,B):M.strategy===3?(function(F,$){for(var oe,se,pe,De,ge=F.window;;){if(F.lookahead<=O){if(ne(F),F.lookahead<=O&&$===u)return y;if(F.lookahead===0)break}if(F.match_length=0,F.lookahead>=C&&0<F.strstart&&(se=ge[pe=F.strstart-1])===ge[++pe]&&se===ge[++pe]&&se===ge[++pe]){De=F.strstart+O;do;while(se===ge[++pe]&&se===ge[++pe]&&se===ge[++pe]&&se===ge[++pe]&&se===ge[++pe]&&se===ge[++pe]&&se===ge[++pe]&&se===ge[++pe]&&pe<De);F.match_length=O-(De-pe),F.match_length>F.lookahead&&(F.match_length=F.lookahead)}if(F.match_length>=C?(oe=o._tr_tally(F,1,F.match_length-C),F.lookahead-=F.match_length,F.strstart+=F.match_length,F.match_length=0):(oe=o._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++),oe&&(q(F,!1),F.strm.avail_out===0))return y}return F.insert=0,$===c?(q(F,!0),F.strm.avail_out===0?U:P):F.last_lit&&(q(F,!1),F.strm.avail_out===0)?y:z})(M,B):r[M.level].func(M,B);if(N!==U&&N!==P||(M.status=666),N===y||N===U)return I.avail_out===0&&(M.last_flush=-1),d;if(N===z&&(B===1?o._tr_align(M):B!==5&&(o._tr_stored_block(M,0,0,!1),B===3&&(Y(M.head),M.lookahead===0&&(M.strstart=0,M.block_start=0,M.insert=0))),H(I),I.avail_out===0))return M.last_flush=-1,d}return B!==c?d:M.wrap<=0?1:(M.wrap===2?(W(M,255&I.adler),W(M,I.adler>>8&255),W(M,I.adler>>16&255),W(M,I.adler>>24&255),W(M,255&I.total_in),W(M,I.total_in>>8&255),W(M,I.total_in>>16&255),W(M,I.total_in>>24&255)):(Q(M,I.adler>>>16),Q(M,65535&I.adler)),H(I),0<M.wrap&&(M.wrap=-M.wrap),M.pending!==0?d:1)},n.deflateEnd=function(I){var B;return I&&I.state?(B=I.state.status)!==S&&B!==69&&B!==73&&B!==91&&B!==103&&B!==w&&B!==666?V(I,h):(I.state=null,B===w?V(I,-3):d):h},n.deflateSetDictionary=function(I,B){var L,M,R,G,E,N,F,$,oe=B.length;if(!I||!I.state||(G=(L=I.state).wrap)===2||G===1&&L.status!==S||L.lookahead)return h;for(G===1&&(I.adler=s(I.adler,B,oe,0)),L.wrap=0,oe>=L.w_size&&(G===0&&(Y(L.head),L.strstart=0,L.block_start=0,L.insert=0),$=new i.Buf8(L.w_size),i.arraySet($,B,oe-L.w_size,L.w_size,0),B=$,oe=L.w_size),E=I.avail_in,N=I.next_in,F=I.input,I.avail_in=oe,I.next_in=0,I.input=B,ne(L);L.lookahead>=C;){for(M=L.strstart,R=L.lookahead-(C-1);L.ins_h=(L.ins_h<<L.hash_shift^L.window[M+C-1])&L.hash_mask,L.prev[M&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=M,M++,--R;);L.strstart=M,L.lookahead=C-1,ne(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=C-1,L.match_available=0,I.next_in=N,I.input=F,I.avail_in=E,L.wrap=G,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(r,i){var o,s,a,l,u,c,d,h,f,p,m,g,_,b,v,x,D,k,C,O,A,S,w,y,z;o=r.state,s=r.next_in,y=r.input,a=s+(r.avail_in-5),l=r.next_out,z=r.output,u=l-(i-r.avail_out),c=l+(r.avail_out-257),d=o.dmax,h=o.wsize,f=o.whave,p=o.wnext,m=o.window,g=o.hold,_=o.bits,b=o.lencode,v=o.distcode,x=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;e:do{_<15&&(g+=y[s++]<<_,_+=8,g+=y[s++]<<_,_+=8),k=b[g&x];t:for(;;){if(g>>>=C=k>>>24,_-=C,(C=k>>>16&255)===0)z[l++]=65535&k;else{if(!(16&C)){if((64&C)==0){k=b[(65535&k)+(g&(1<<C)-1)];continue t}if(32&C){o.mode=12;break e}r.msg="invalid literal/length code",o.mode=30;break e}O=65535&k,(C&=15)&&(_<C&&(g+=y[s++]<<_,_+=8),O+=g&(1<<C)-1,g>>>=C,_-=C),_<15&&(g+=y[s++]<<_,_+=8,g+=y[s++]<<_,_+=8),k=v[g&D];n:for(;;){if(g>>>=C=k>>>24,_-=C,!(16&(C=k>>>16&255))){if((64&C)==0){k=v[(65535&k)+(g&(1<<C)-1)];continue n}r.msg="invalid distance code",o.mode=30;break e}if(A=65535&k,_<(C&=15)&&(g+=y[s++]<<_,(_+=8)<C&&(g+=y[s++]<<_,_+=8)),d<(A+=g&(1<<C)-1)){r.msg="invalid distance too far back",o.mode=30;break e}if(g>>>=C,_-=C,(C=l-u)<A){if(f<(C=A-C)&&o.sane){r.msg="invalid distance too far back",o.mode=30;break e}if(w=m,(S=0)===p){if(S+=h-C,C<O){for(O-=C;z[l++]=m[S++],--C;);S=l-A,w=z}}else if(p<C){if(S+=h+p-C,(C-=p)<O){for(O-=C;z[l++]=m[S++],--C;);if(S=0,p<O){for(O-=C=p;z[l++]=m[S++],--C;);S=l-A,w=z}}}else if(S+=p-C,C<O){for(O-=C;z[l++]=m[S++],--C;);S=l-A,w=z}for(;2<O;)z[l++]=w[S++],z[l++]=w[S++],z[l++]=w[S++],O-=3;O&&(z[l++]=w[S++],1<O&&(z[l++]=w[S++]))}else{for(S=l-A;z[l++]=z[S++],z[l++]=z[S++],z[l++]=z[S++],2<(O-=3););O&&(z[l++]=z[S++],1<O&&(z[l++]=z[S++]))}break}}break}}while(s<a&&l<c);s-=O=_>>3,g&=(1<<(_-=O<<3))-1,r.next_in=s,r.next_out=l,r.avail_in=s<a?a-s+5:5-(s-a),r.avail_out=l<c?c-l+257:257-(l-c),o.hold=g,o.bits=_}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=1,u=2,c=0,d=-2,h=1,f=852,p=592;function m(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(S){var w;return S&&S.state?(w=S.state,S.total_in=S.total_out=w.total=0,S.msg="",w.wrap&&(S.adler=1&w.wrap),w.mode=h,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new r.Buf32(f),w.distcode=w.distdyn=new r.Buf32(p),w.sane=1,w.back=-1,c):d}function b(S){var w;return S&&S.state?((w=S.state).wsize=0,w.whave=0,w.wnext=0,_(S)):d}function v(S,w){var y,z;return S&&S.state?(z=S.state,w<0?(y=0,w=-w):(y=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?d:(z.window!==null&&z.wbits!==w&&(z.window=null),z.wrap=y,z.wbits=w,b(S))):d}function x(S,w){var y,z;return S?(z=new g,(S.state=z).window=null,(y=v(S,w))!==c&&(S.state=null),y):d}var D,k,C=!0;function O(S){if(C){var w;for(D=new r.Buf32(512),k=new r.Buf32(32),w=0;w<144;)S.lens[w++]=8;for(;w<256;)S.lens[w++]=9;for(;w<280;)S.lens[w++]=7;for(;w<288;)S.lens[w++]=8;for(a(l,S.lens,0,288,D,0,S.work,{bits:9}),w=0;w<32;)S.lens[w++]=5;a(u,S.lens,0,32,k,0,S.work,{bits:5}),C=!1}S.lencode=D,S.lenbits=9,S.distcode=k,S.distbits=5}function A(S,w,y,z){var U,P=S.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new r.Buf8(P.wsize)),z>=P.wsize?(r.arraySet(P.window,w,y-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):(z<(U=P.wsize-P.wnext)&&(U=z),r.arraySet(P.window,w,y-z,U,P.wnext),(z-=U)?(r.arraySet(P.window,w,y-z,z,0),P.wnext=z,P.whave=P.wsize):(P.wnext+=U,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=U))),0}n.inflateReset=b,n.inflateReset2=v,n.inflateResetKeep=_,n.inflateInit=function(S){return x(S,15)},n.inflateInit2=x,n.inflate=function(S,w){var y,z,U,P,V,Z,Y,H,q,W,Q,ee,ne,J,X,ie,le,ue,te,T,I,B,L,M,R=0,G=new r.Buf8(4),E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return d;(y=S.state).mode===12&&(y.mode=13),V=S.next_out,U=S.output,Y=S.avail_out,P=S.next_in,z=S.input,Z=S.avail_in,H=y.hold,q=y.bits,W=Z,Q=Y,B=c;e:for(;;)switch(y.mode){case h:if(y.wrap===0){y.mode=13;break}for(;q<16;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}if(2&y.wrap&&H===35615){G[y.check=0]=255&H,G[1]=H>>>8&255,y.check=o(y.check,G,2,0),q=H=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&H)<<8)+(H>>8))%31){S.msg="incorrect header check",y.mode=30;break}if((15&H)!=8){S.msg="unknown compression method",y.mode=30;break}if(q-=4,I=8+(15&(H>>>=4)),y.wbits===0)y.wbits=I;else if(I>y.wbits){S.msg="invalid window size",y.mode=30;break}y.dmax=1<<I,S.adler=y.check=1,y.mode=512&H?10:12,q=H=0;break;case 2:for(;q<16;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}if(y.flags=H,(255&y.flags)!=8){S.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){S.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=H>>8&1),512&y.flags&&(G[0]=255&H,G[1]=H>>>8&255,y.check=o(y.check,G,2,0)),q=H=0,y.mode=3;case 3:for(;q<32;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}y.head&&(y.head.time=H),512&y.flags&&(G[0]=255&H,G[1]=H>>>8&255,G[2]=H>>>16&255,G[3]=H>>>24&255,y.check=o(y.check,G,4,0)),q=H=0,y.mode=4;case 4:for(;q<16;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}y.head&&(y.head.xflags=255&H,y.head.os=H>>8),512&y.flags&&(G[0]=255&H,G[1]=H>>>8&255,y.check=o(y.check,G,2,0)),q=H=0,y.mode=5;case 5:if(1024&y.flags){for(;q<16;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}y.length=H,y.head&&(y.head.extra_len=H),512&y.flags&&(G[0]=255&H,G[1]=H>>>8&255,y.check=o(y.check,G,2,0)),q=H=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(Z<(ee=y.length)&&(ee=Z),ee&&(y.head&&(I=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),r.arraySet(y.head.extra,z,P,ee,I)),512&y.flags&&(y.check=o(y.check,z,ee,P)),Z-=ee,P+=ee,y.length-=ee),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(Z===0)break e;for(ee=0;I=z[P+ee++],y.head&&I&&y.length<65536&&(y.head.name+=String.fromCharCode(I)),I&&ee<Z;);if(512&y.flags&&(y.check=o(y.check,z,ee,P)),Z-=ee,P+=ee,I)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(Z===0)break e;for(ee=0;I=z[P+ee++],y.head&&I&&y.length<65536&&(y.head.comment+=String.fromCharCode(I)),I&&ee<Z;);if(512&y.flags&&(y.check=o(y.check,z,ee,P)),Z-=ee,P+=ee,I)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;q<16;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}if(H!==(65535&y.check)){S.msg="header crc mismatch",y.mode=30;break}q=H=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),S.adler=y.check=0,y.mode=12;break;case 10:for(;q<32;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}S.adler=y.check=m(H),q=H=0,y.mode=11;case 11:if(y.havedict===0)return S.next_out=V,S.avail_out=Y,S.next_in=P,S.avail_in=Z,y.hold=H,y.bits=q,2;S.adler=y.check=1,y.mode=12;case 12:if(w===5||w===6)break e;case 13:if(y.last){H>>>=7&q,q-=7&q,y.mode=27;break}for(;q<3;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}switch(y.last=1&H,q-=1,3&(H>>>=1)){case 0:y.mode=14;break;case 1:if(O(y),y.mode=20,w!==6)break;H>>>=2,q-=2;break e;case 2:y.mode=17;break;case 3:S.msg="invalid block type",y.mode=30}H>>>=2,q-=2;break;case 14:for(H>>>=7&q,q-=7&q;q<32;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}if((65535&H)!=(H>>>16^65535)){S.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&H,q=H=0,y.mode=15,w===6)break e;case 15:y.mode=16;case 16:if(ee=y.length){if(Z<ee&&(ee=Z),Y<ee&&(ee=Y),ee===0)break e;r.arraySet(U,z,P,ee,V),Z-=ee,P+=ee,Y-=ee,V+=ee,y.length-=ee;break}y.mode=12;break;case 17:for(;q<14;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}if(y.nlen=257+(31&H),H>>>=5,q-=5,y.ndist=1+(31&H),H>>>=5,q-=5,y.ncode=4+(15&H),H>>>=4,q-=4,286<y.nlen||30<y.ndist){S.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;q<3;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}y.lens[E[y.have++]]=7&H,H>>>=3,q-=3}for(;y.have<19;)y.lens[E[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,L={bits:y.lenbits},B=a(0,y.lens,0,19,y.lencode,0,y.work,L),y.lenbits=L.bits,B){S.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;ie=(R=y.lencode[H&(1<<y.lenbits)-1])>>>16&255,le=65535&R,!((X=R>>>24)<=q);){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}if(le<16)H>>>=X,q-=X,y.lens[y.have++]=le;else{if(le===16){for(M=X+2;q<M;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}if(H>>>=X,q-=X,y.have===0){S.msg="invalid bit length repeat",y.mode=30;break}I=y.lens[y.have-1],ee=3+(3&H),H>>>=2,q-=2}else if(le===17){for(M=X+3;q<M;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}q-=X,I=0,ee=3+(7&(H>>>=X)),H>>>=3,q-=3}else{for(M=X+7;q<M;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}q-=X,I=0,ee=11+(127&(H>>>=X)),H>>>=7,q-=7}if(y.have+ee>y.nlen+y.ndist){S.msg="invalid bit length repeat",y.mode=30;break}for(;ee--;)y.lens[y.have++]=I}}if(y.mode===30)break;if(y.lens[256]===0){S.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,L={bits:y.lenbits},B=a(l,y.lens,0,y.nlen,y.lencode,0,y.work,L),y.lenbits=L.bits,B){S.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,L={bits:y.distbits},B=a(u,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,L),y.distbits=L.bits,B){S.msg="invalid distances set",y.mode=30;break}if(y.mode=20,w===6)break e;case 20:y.mode=21;case 21:if(6<=Z&&258<=Y){S.next_out=V,S.avail_out=Y,S.next_in=P,S.avail_in=Z,y.hold=H,y.bits=q,s(S,Q),V=S.next_out,U=S.output,Y=S.avail_out,P=S.next_in,z=S.input,Z=S.avail_in,H=y.hold,q=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;ie=(R=y.lencode[H&(1<<y.lenbits)-1])>>>16&255,le=65535&R,!((X=R>>>24)<=q);){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}if(ie&&(240&ie)==0){for(ue=X,te=ie,T=le;ie=(R=y.lencode[T+((H&(1<<ue+te)-1)>>ue)])>>>16&255,le=65535&R,!(ue+(X=R>>>24)<=q);){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}H>>>=ue,q-=ue,y.back+=ue}if(H>>>=X,q-=X,y.back+=X,y.length=le,ie===0){y.mode=26;break}if(32&ie){y.back=-1,y.mode=12;break}if(64&ie){S.msg="invalid literal/length code",y.mode=30;break}y.extra=15&ie,y.mode=22;case 22:if(y.extra){for(M=y.extra;q<M;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}y.length+=H&(1<<y.extra)-1,H>>>=y.extra,q-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;ie=(R=y.distcode[H&(1<<y.distbits)-1])>>>16&255,le=65535&R,!((X=R>>>24)<=q);){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}if((240&ie)==0){for(ue=X,te=ie,T=le;ie=(R=y.distcode[T+((H&(1<<ue+te)-1)>>ue)])>>>16&255,le=65535&R,!(ue+(X=R>>>24)<=q);){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}H>>>=ue,q-=ue,y.back+=ue}if(H>>>=X,q-=X,y.back+=X,64&ie){S.msg="invalid distance code",y.mode=30;break}y.offset=le,y.extra=15&ie,y.mode=24;case 24:if(y.extra){for(M=y.extra;q<M;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}y.offset+=H&(1<<y.extra)-1,H>>>=y.extra,q-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){S.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(Y===0)break e;if(ee=Q-Y,y.offset>ee){if((ee=y.offset-ee)>y.whave&&y.sane){S.msg="invalid distance too far back",y.mode=30;break}ne=ee>y.wnext?(ee-=y.wnext,y.wsize-ee):y.wnext-ee,ee>y.length&&(ee=y.length),J=y.window}else J=U,ne=V-y.offset,ee=y.length;for(Y<ee&&(ee=Y),Y-=ee,y.length-=ee;U[V++]=J[ne++],--ee;);y.length===0&&(y.mode=21);break;case 26:if(Y===0)break e;U[V++]=y.length,Y--,y.mode=21;break;case 27:if(y.wrap){for(;q<32;){if(Z===0)break e;Z--,H|=z[P++]<<q,q+=8}if(Q-=Y,S.total_out+=Q,y.total+=Q,Q&&(S.adler=y.check=y.flags?o(y.check,U,Q,V-Q):i(y.check,U,Q,V-Q)),Q=Y,(y.flags?H:m(H))!==y.check){S.msg="incorrect data check",y.mode=30;break}q=H=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;q<32;){if(Z===0)break e;Z--,H+=z[P++]<<q,q+=8}if(H!==(4294967295&y.total)){S.msg="incorrect length check",y.mode=30;break}q=H=0}y.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;case 32:default:return d}return S.next_out=V,S.avail_out=Y,S.next_in=P,S.avail_in=Z,y.hold=H,y.bits=q,(y.wsize||Q!==S.avail_out&&y.mode<30&&(y.mode<27||w!==4))&&A(S,S.output,S.next_out,Q-S.avail_out)?(y.mode=31,-4):(W-=S.avail_in,Q-=S.avail_out,S.total_in+=W,S.total_out+=Q,y.total+=Q,y.wrap&&Q&&(S.adler=y.check=y.flags?o(y.check,U,Q,S.next_out-Q):i(y.check,U,Q,S.next_out-Q)),S.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(W==0&&Q===0||w===4)&&B===c&&(B=-5),B)},n.inflateEnd=function(S){if(!S||!S.state)return d;var w=S.state;return w.window&&(w.window=null),S.state=null,c},n.inflateGetHeader=function(S,w){var y;return S&&S.state?(2&(y=S.state).wrap)==0?d:((y.head=w).done=!1,c):d},n.inflateSetDictionary=function(S,w){var y,z=w.length;return S&&S.state?(y=S.state).wrap!==0&&y.mode!==11?d:y.mode===11&&i(1,w,z,0)!==y.check?-3:A(S,w,z,z)?(y.mode=31,-4):(y.havedict=1,c):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(l,u,c,d,h,f,p,m){var g,_,b,v,x,D,k,C,O,A=m.bits,S=0,w=0,y=0,z=0,U=0,P=0,V=0,Z=0,Y=0,H=0,q=null,W=0,Q=new r.Buf16(16),ee=new r.Buf16(16),ne=null,J=0;for(S=0;S<=15;S++)Q[S]=0;for(w=0;w<d;w++)Q[u[c+w]]++;for(U=A,z=15;1<=z&&Q[z]===0;z--);if(z<U&&(U=z),z===0)return h[f++]=20971520,h[f++]=20971520,m.bits=1,0;for(y=1;y<z&&Q[y]===0;y++);for(U<y&&(U=y),S=Z=1;S<=15;S++)if(Z<<=1,(Z-=Q[S])<0)return-1;if(0<Z&&(l===0||z!==1))return-1;for(ee[1]=0,S=1;S<15;S++)ee[S+1]=ee[S]+Q[S];for(w=0;w<d;w++)u[c+w]!==0&&(p[ee[u[c+w]]++]=w);if(D=l===0?(q=ne=p,19):l===1?(q=i,W-=257,ne=o,J-=257,256):(q=s,ne=a,-1),S=y,x=f,V=w=H=0,b=-1,v=(Y=1<<(P=U))-1,l===1&&852<Y||l===2&&592<Y)return 1;for(;;){for(k=S-V,O=p[w]<D?(C=0,p[w]):p[w]>D?(C=ne[J+p[w]],q[W+p[w]]):(C=96,0),g=1<<S-V,y=_=1<<P;h[x+(H>>V)+(_-=g)]=k<<24|C<<16|O|0,_!==0;);for(g=1<<S-1;H&g;)g>>=1;if(g!==0?(H&=g-1,H+=g):H=0,w++,--Q[S]==0){if(S===z)break;S=u[c+p[w]]}if(U<S&&(H&v)!==b){for(V===0&&(V=U),x+=y,Z=1<<(P=S-V);P+V<z&&!((Z-=Q[P+V])<=0);)P++,Z<<=1;if(Y+=1<<P,l===1&&852<Y||l===2&&592<Y)return 1;h[b=H&v]=U<<24|P<<16|x-f|0}}return H!==0&&(h[x+H]=S-V<<24|64<<16|0),m.bits=U,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,o=1;function s(R){for(var G=R.length;0<=--G;)R[G]=0}var a=0,l=29,u=256,c=u+1+l,d=30,h=19,f=2*c+1,p=15,m=16,g=7,_=256,b=16,v=17,x=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(c+2));s(A);var S=new Array(2*d);s(S);var w=new Array(512);s(w);var y=new Array(256);s(y);var z=new Array(l);s(z);var U,P,V,Z=new Array(d);function Y(R,G,E,N,F){this.static_tree=R,this.extra_bits=G,this.extra_base=E,this.elems=N,this.max_length=F,this.has_stree=R&&R.length}function H(R,G){this.dyn_tree=R,this.max_code=0,this.stat_desc=G}function q(R){return R<256?w[R]:w[256+(R>>>7)]}function W(R,G){R.pending_buf[R.pending++]=255&G,R.pending_buf[R.pending++]=G>>>8&255}function Q(R,G,E){R.bi_valid>m-E?(R.bi_buf|=G<<R.bi_valid&65535,W(R,R.bi_buf),R.bi_buf=G>>m-R.bi_valid,R.bi_valid+=E-m):(R.bi_buf|=G<<R.bi_valid&65535,R.bi_valid+=E)}function ee(R,G,E){Q(R,E[2*G],E[2*G+1])}function ne(R,G){for(var E=0;E|=1&R,R>>>=1,E<<=1,0<--G;);return E>>>1}function J(R,G,E){var N,F,$=new Array(p+1),oe=0;for(N=1;N<=p;N++)$[N]=oe=oe+E[N-1]<<1;for(F=0;F<=G;F++){var se=R[2*F+1];se!==0&&(R[2*F]=ne($[se]++,se))}}function X(R){var G;for(G=0;G<c;G++)R.dyn_ltree[2*G]=0;for(G=0;G<d;G++)R.dyn_dtree[2*G]=0;for(G=0;G<h;G++)R.bl_tree[2*G]=0;R.dyn_ltree[2*_]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function ie(R){8<R.bi_valid?W(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function le(R,G,E,N){var F=2*G,$=2*E;return R[F]<R[$]||R[F]===R[$]&&N[G]<=N[E]}function ue(R,G,E){for(var N=R.heap[E],F=E<<1;F<=R.heap_len&&(F<R.heap_len&&le(G,R.heap[F+1],R.heap[F],R.depth)&&F++,!le(G,N,R.heap[F],R.depth));)R.heap[E]=R.heap[F],E=F,F<<=1;R.heap[E]=N}function te(R,G,E){var N,F,$,oe,se=0;if(R.last_lit!==0)for(;N=R.pending_buf[R.d_buf+2*se]<<8|R.pending_buf[R.d_buf+2*se+1],F=R.pending_buf[R.l_buf+se],se++,N===0?ee(R,F,G):(ee(R,($=y[F])+u+1,G),(oe=D[$])!==0&&Q(R,F-=z[$],oe),ee(R,$=q(--N),E),(oe=k[$])!==0&&Q(R,N-=Z[$],oe)),se<R.last_lit;);ee(R,_,G)}function T(R,G){var E,N,F,$=G.dyn_tree,oe=G.stat_desc.static_tree,se=G.stat_desc.has_stree,pe=G.stat_desc.elems,De=-1;for(R.heap_len=0,R.heap_max=f,E=0;E<pe;E++)$[2*E]!==0?(R.heap[++R.heap_len]=De=E,R.depth[E]=0):$[2*E+1]=0;for(;R.heap_len<2;)$[2*(F=R.heap[++R.heap_len]=De<2?++De:0)]=1,R.depth[F]=0,R.opt_len--,se&&(R.static_len-=oe[2*F+1]);for(G.max_code=De,E=R.heap_len>>1;1<=E;E--)ue(R,$,E);for(F=pe;E=R.heap[1],R.heap[1]=R.heap[R.heap_len--],ue(R,$,1),N=R.heap[1],R.heap[--R.heap_max]=E,R.heap[--R.heap_max]=N,$[2*F]=$[2*E]+$[2*N],R.depth[F]=(R.depth[E]>=R.depth[N]?R.depth[E]:R.depth[N])+1,$[2*E+1]=$[2*N+1]=F,R.heap[1]=F++,ue(R,$,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],(function(ge,Se){var Ce,je,Ue,Te,Je,Be,re=Se.dyn_tree,Ie=Se.max_code,ce=Se.stat_desc.static_tree,ye=Se.stat_desc.has_stree,K=Se.stat_desc.extra_bits,xe=Se.stat_desc.extra_base,Ge=Se.stat_desc.max_length,j=0;for(Te=0;Te<=p;Te++)ge.bl_count[Te]=0;for(re[2*ge.heap[ge.heap_max]+1]=0,Ce=ge.heap_max+1;Ce<f;Ce++)Ge<(Te=re[2*re[2*(je=ge.heap[Ce])+1]+1]+1)&&(Te=Ge,j++),re[2*je+1]=Te,Ie<je||(ge.bl_count[Te]++,Je=0,xe<=je&&(Je=K[je-xe]),Be=re[2*je],ge.opt_len+=Be*(Te+Je),ye&&(ge.static_len+=Be*(ce[2*je+1]+Je)));if(j!==0){do{for(Te=Ge-1;ge.bl_count[Te]===0;)Te--;ge.bl_count[Te]--,ge.bl_count[Te+1]+=2,ge.bl_count[Ge]--,j-=2}while(0<j);for(Te=Ge;Te!==0;Te--)for(je=ge.bl_count[Te];je!==0;)Ie<(Ue=ge.heap[--Ce])||(re[2*Ue+1]!==Te&&(ge.opt_len+=(Te-re[2*Ue+1])*re[2*Ue],re[2*Ue+1]=Te),je--)}})(R,G),J($,De,R.bl_count)}function I(R,G,E){var N,F,$=-1,oe=G[1],se=0,pe=7,De=4;for(oe===0&&(pe=138,De=3),G[2*(E+1)+1]=65535,N=0;N<=E;N++)F=oe,oe=G[2*(N+1)+1],++se<pe&&F===oe||(se<De?R.bl_tree[2*F]+=se:F!==0?(F!==$&&R.bl_tree[2*F]++,R.bl_tree[2*b]++):se<=10?R.bl_tree[2*v]++:R.bl_tree[2*x]++,$=F,De=(se=0)===oe?(pe=138,3):F===oe?(pe=6,3):(pe=7,4))}function B(R,G,E){var N,F,$=-1,oe=G[1],se=0,pe=7,De=4;for(oe===0&&(pe=138,De=3),N=0;N<=E;N++)if(F=oe,oe=G[2*(N+1)+1],!(++se<pe&&F===oe)){if(se<De)for(;ee(R,F,R.bl_tree),--se!=0;);else F!==0?(F!==$&&(ee(R,F,R.bl_tree),se--),ee(R,b,R.bl_tree),Q(R,se-3,2)):se<=10?(ee(R,v,R.bl_tree),Q(R,se-3,3)):(ee(R,x,R.bl_tree),Q(R,se-11,7));$=F,De=(se=0)===oe?(pe=138,3):F===oe?(pe=6,3):(pe=7,4)}}s(Z);var L=!1;function M(R,G,E,N){Q(R,(a<<1)+(N?1:0),3),(function(F,$,oe,se){ie(F),se&&(W(F,oe),W(F,~oe)),r.arraySet(F.pending_buf,F.window,$,oe,F.pending),F.pending+=oe})(R,G,E,!0)}n._tr_init=function(R){L||((function(){var G,E,N,F,$,oe=new Array(p+1);for(F=N=0;F<l-1;F++)for(z[F]=N,G=0;G<1<<D[F];G++)y[N++]=F;for(y[N-1]=F,F=$=0;F<16;F++)for(Z[F]=$,G=0;G<1<<k[F];G++)w[$++]=F;for($>>=7;F<d;F++)for(Z[F]=$<<7,G=0;G<1<<k[F]-7;G++)w[256+$++]=F;for(E=0;E<=p;E++)oe[E]=0;for(G=0;G<=143;)A[2*G+1]=8,G++,oe[8]++;for(;G<=255;)A[2*G+1]=9,G++,oe[9]++;for(;G<=279;)A[2*G+1]=7,G++,oe[7]++;for(;G<=287;)A[2*G+1]=8,G++,oe[8]++;for(J(A,c+1,oe),G=0;G<d;G++)S[2*G+1]=5,S[2*G]=ne(G,5);U=new Y(A,D,u+1,c,p),P=new Y(S,k,0,d,p),V=new Y(new Array(0),C,0,h,g)})(),L=!0),R.l_desc=new H(R.dyn_ltree,U),R.d_desc=new H(R.dyn_dtree,P),R.bl_desc=new H(R.bl_tree,V),R.bi_buf=0,R.bi_valid=0,X(R)},n._tr_stored_block=M,n._tr_flush_block=function(R,G,E,N){var F,$,oe=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=(function(se){var pe,De=4093624447;for(pe=0;pe<=31;pe++,De>>>=1)if(1&De&&se.dyn_ltree[2*pe]!==0)return i;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return o;for(pe=32;pe<u;pe++)if(se.dyn_ltree[2*pe]!==0)return o;return i})(R)),T(R,R.l_desc),T(R,R.d_desc),oe=(function(se){var pe;for(I(se,se.dyn_ltree,se.l_desc.max_code),I(se,se.dyn_dtree,se.d_desc.max_code),T(se,se.bl_desc),pe=h-1;3<=pe&&se.bl_tree[2*O[pe]+1]===0;pe--);return se.opt_len+=3*(pe+1)+5+5+4,pe})(R),F=R.opt_len+3+7>>>3,($=R.static_len+3+7>>>3)<=F&&(F=$)):F=$=E+5,E+4<=F&&G!==-1?M(R,G,E,N):R.strategy===4||$===F?(Q(R,2+(N?1:0),3),te(R,A,S)):(Q(R,4+(N?1:0),3),(function(se,pe,De,ge){var Se;for(Q(se,pe-257,5),Q(se,De-1,5),Q(se,ge-4,4),Se=0;Se<ge;Se++)Q(se,se.bl_tree[2*O[Se]+1],3);B(se,se.dyn_ltree,pe-1),B(se,se.dyn_dtree,De-1)})(R,R.l_desc.max_code+1,R.d_desc.max_code+1,oe+1),te(R,R.dyn_ltree,R.dyn_dtree)),X(R),N&&ie(R)},n._tr_tally=function(R,G,E){return R.pending_buf[R.d_buf+2*R.last_lit]=G>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&G,R.pending_buf[R.l_buf+R.last_lit]=255&E,R.last_lit++,G===0?R.dyn_ltree[2*E]++:(R.matches++,G--,R.dyn_ltree[2*(y[E]+u+1)]++,R.dyn_dtree[2*q(G)]++),R.last_lit===R.lit_bufsize-1},n._tr_align=function(R){Q(R,2,3),ee(R,_,A),(function(G){G.bi_valid===16?(W(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)})(R)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(r){(function(i,o){"use strict";if(!i.setImmediate){var s,a,l,u,c=1,d={},h=!1,f=i.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(i);p=p&&p.setTimeout?p:i,s={}.toString.call(i.process)==="[object process]"?function(b){process.nextTick(function(){g(b)})}:(function(){if(i.postMessage&&!i.importScripts){var b=!0,v=i.onmessage;return i.onmessage=function(){b=!1},i.postMessage("","*"),i.onmessage=v,b}})()?(u="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",_,!1):i.attachEvent("onmessage",_),function(b){i.postMessage(u+b,"*")}):i.MessageChannel?((l=new MessageChannel).port1.onmessage=function(b){g(b.data)},function(b){l.port2.postMessage(b)}):f&&"onreadystatechange"in f.createElement("script")?(a=f.documentElement,function(b){var v=f.createElement("script");v.onreadystatechange=function(){g(b),v.onreadystatechange=null,a.removeChild(v),v=null},a.appendChild(v)}):function(b){setTimeout(g,0,b)},p.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var v=new Array(arguments.length-1),x=0;x<v.length;x++)v[x]=arguments[x+1];var D={callback:b,args:v};return d[c]=D,s(c),c++},p.clearImmediate=m}function m(b){delete d[b]}function g(b){if(h)setTimeout(g,0,b);else{var v=d[b];if(v){h=!0;try{(function(x){var D=x.callback,k=x.args;switch(k.length){case 0:D();break;case 1:D(k[0]);break;case 2:D(k[0],k[1]);break;case 3:D(k[0],k[1],k[2]);break;default:D.apply(o,k)}})(v)}finally{m(b),h=!1}}}}function _(b){b.source===i&&typeof b.data=="string"&&b.data.indexOf(u)===0&&g(+b.data.slice(u.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})});var Ep;function wc(){return Ep}function ni(e){let t=Ep;return Ep=e,t}var Jy=Symbol("NotFound");function js(e){return e===Jy||e?.name==="\u0275NotFound"}var Mn=null,Ec=!1,xp=1,_S=null,On=Symbol("SIGNAL");function ut(e){let t=Mn;return Mn=e,t}function Ic(){return Mn}var Us={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zs(e){if(Ec)throw new Error("");if(Mn===null)return;Mn.consumerOnSignalRead(e);let t=Mn.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Mn.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Mn.producers,n!==void 0&&n.producer===e)){Mn.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Mn&&(!r||bS(i,Mn)))return;let o=Hs(Mn),s={producer:e,consumer:Mn,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Mn.producersTail=s,t!==void 0?t.nextProducer=s:Mn.producers=s,o&&n_(e,s)}function Xy(){xp++}function Sc(e){if(!(Hs(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===xp)){if(!e.producerMustRecompute(e)&&!gl(e)){Cc(e);return}e.producerRecomputeValue(e),Cc(e)}}function Dp(e){if(e.consumers===void 0)return;let t=Ec;Ec=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||vS(r)}}finally{Ec=t}}function Cp(){return Mn?.consumerAllowSignalWrites!==!1}function vS(e){e.dirty=!0,Dp(e),e.consumerMarkedDirty?.(e)}function Cc(e){e.dirty=!1,e.lastCleanEpoch=xp}function Vs(e){return e&&e_(e),ut(e)}function e_(e){e.producersTail=void 0,e.recomputing=!0}function ml(e,t){ut(t),e&&t_(e)}function t_(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(Hs(e))do n=Ip(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function gl(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(Sc(n),r!==n.version))return!0}return!1}function yl(e){if(Hs(e)){let t=e.producers;for(;t!==void 0;)t=Ip(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function n_(e,t){let n=e.consumersTail,r=Hs(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)n_(i.producer,i)}function Ip(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!Hs(t)){let o=t.producers;for(;o!==void 0;)o=Ip(o)}return n}function Hs(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Mc(e){_S?.(e)}function bS(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ac(e,t){return Object.is(e,t)}function Tc(e,t){let n=Object.create(wS);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(Sc(n),zs(n),n.value===pl)throw n.error;return n.value};return r[On]=n,Mc(n),r}var xc=Symbol("UNSET"),Dc=Symbol("COMPUTING"),pl=Symbol("ERRORED"),wS=ke(fe({},Us),{value:xc,dirty:!0,error:null,equal:Ac,kind:"computed",producerMustRecompute(e){return e.value===xc||e.value===Dc},producerRecomputeValue(e){if(e.value===Dc)throw new Error("");let t=e.value;e.value=Dc;let n=Vs(e),r,i=!1;try{r=e.computation(),ut(null),i=t!==xc&&t!==pl&&r!==pl&&e.equal(t,r)}catch(o){r=pl,e.error=o}finally{ml(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function ES(){throw new Error}var r_=ES;function i_(e){r_(e)}function Sp(e){r_=e}var xS=null;function Mp(e,t){let n=Object.create(kc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>o_(n);return r[On]=n,Mc(n),[r,s=>$s(n,s),s=>Ap(n,s)]}function o_(e){return zs(e),e.value}function $s(e,t){Cp()||i_(e),e.equal(e.value,t)||(e.value=t,DS(e))}function Ap(e,t){Cp()||i_(e),$s(e,t(e.value))}var kc=ke(fe({},Us),{equal:Ac,value:void 0,kind:"signal"});function DS(e){e.version++,Xy(),Dp(e),xS?.(e)}function dt(e){return typeof e=="function"}function Gs(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Rc=Gs(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function _l(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var nn=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(dt(r))try{r()}catch(o){t=o instanceof Rc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{s_(o)}catch(s){t=t??[],s instanceof Rc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Rc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)s_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&_l(n,t)}remove(t){let{_finalizers:n}=this;n&&_l(n,t),t instanceof e&&t._removeParent(this)}};nn.EMPTY=(()=>{let e=new nn;return e.closed=!0,e})();var Tp=nn.EMPTY;function Nc(e){return e instanceof nn||e&&"closed"in e&&dt(e.remove)&&dt(e.add)&&dt(e.unsubscribe)}function s_(e){dt(e)?e():e.unsubscribe()}var Lr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ws={setTimeout(e,t,...n){let{delegate:r}=Ws;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Ws;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Oc(e){Ws.setTimeout(()=>{let{onUnhandledError:t}=Lr;if(t)t(e);else throw e})}function vl(){}var a_=kp("C",void 0,void 0);function l_(e){return kp("E",void 0,e)}function u_(e){return kp("N",e,void 0)}function kp(e,t,n){return{kind:e,value:t,error:n}}var Wo=null;function qs(e){if(Lr.useDeprecatedSynchronousErrorHandling){let t=!Wo;if(t&&(Wo={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Wo;if(Wo=null,n)throw r}}else e()}function c_(e){Lr.useDeprecatedSynchronousErrorHandling&&Wo&&(Wo.errorThrown=!0,Wo.error=e)}var qo=class extends nn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Nc(t)&&t.add(this)):this.destination=SS}static create(t,n,r){return new Zs(t,n,r)}next(t){this.isStopped?Np(u_(t),this):this._next(t)}error(t){this.isStopped?Np(l_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Np(a_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CS=Function.prototype.bind;function Rp(e,t){return CS.call(e,t)}var Op=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Pc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Pc(r)}else Pc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Pc(n)}}},Zs=class extends qo{constructor(t,n,r){super();let i;if(dt(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Lr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Rp(t.next,o),error:t.error&&Rp(t.error,o),complete:t.complete&&Rp(t.complete,o)}):i=t}this.destination=new Op(i)}};function Pc(e){Lr.useDeprecatedSynchronousErrorHandling?c_(e):Oc(e)}function IS(e){throw e}function Np(e,t){let{onStoppedNotification:n}=Lr;n&&Ws.setTimeout(()=>n(e,t))}var SS={closed:!0,next:vl,error:IS,complete:vl};var Ys=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jn(e){return e}function Pp(...e){return Fp(e)}function Fp(e){return e.length===0?Jn:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Ct=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=AS(n)?n:new Zs(n,r,i);return qs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=d_(r),new r((i,o)=>{let s=new Zs({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ys](){return this}pipe(...n){return Fp(n)(this)}toPromise(n){return n=d_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function d_(e){var t;return(t=e??Lr.Promise)!==null&&t!==void 0?t:Promise}function MS(e){return e&&dt(e.next)&&dt(e.error)&&dt(e.complete)}function AS(e){return e&&e instanceof qo||MS(e)&&Nc(e)}function Lp(e){return dt(e?.lift)}function It(e){return t=>{if(Lp(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xt(e,t,n,r,i){return new Bp(e,t,n,r,i)}var Bp=class extends qo{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Ks(){return It((e,t)=>{let n=null;e._refCount++;let r=xt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Qs=class extends Ct{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Lp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new nn;let n=this.getSubject();t.add(this.source.subscribe(xt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=nn.EMPTY)}return t}refCount(){return Ks()(this)}};var f_=Gs(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Kt=(()=>{class e extends Ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new f_}next(n){qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){qs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tp:(this.currentObservers=null,o.push(n),new nn(()=>{this.currentObservers=null,_l(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ct;return n.source=this,n}}return e.create=(t,n)=>new Fc(t,n),e})(),Fc=class extends Kt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Tp}};var wn=class extends Kt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Hn=new Ct(e=>e.complete());function h_(e){return e&&dt(e.schedule)}function p_(e){return e[e.length-1]}function Lc(e){return dt(p_(e))?e.pop():void 0}function so(e){return h_(p_(e))?e.pop():void 0}function g_(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function m_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zo(e){return this instanceof Zo?(this.v=e,this):new Zo(e)}function y_(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(g,_){o.push([f,m,g,_])>1||l(f,m)})},p&&(i[f]=p(i[f])))}function l(f,p){try{u(r[f](p))}catch(m){h(o[0][3],m)}}function u(f){f.value instanceof Zo?Promise.resolve(f.value.v).then(c,d):h(o[0][2],f)}function c(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function __(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof m_=="function"?m_(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Bc=e=>e&&typeof e.length=="number"&&typeof e!="function";function jc(e){return dt(e?.then)}function Uc(e){return dt(e[Ys])}function zc(e){return Symbol.asyncIterator&&dt(e?.[Symbol.asyncIterator])}function Vc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hc=TS();function $c(e){return dt(e?.[Hc])}function Gc(e){return y_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Zo(n.read());if(i)return yield Zo(void 0);yield yield Zo(r)}}finally{n.releaseLock()}})}function Wc(e){return dt(e?.getReader)}function rn(e){if(e instanceof Ct)return e;if(e!=null){if(Uc(e))return kS(e);if(Bc(e))return RS(e);if(jc(e))return NS(e);if(zc(e))return v_(e);if($c(e))return OS(e);if(Wc(e))return PS(e)}throw Vc(e)}function kS(e){return new Ct(t=>{let n=e[Ys]();if(dt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RS(e){return new Ct(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function NS(e){return new Ct(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Oc)})}function OS(e){return new Ct(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function v_(e){return new Ct(t=>{FS(e,t).catch(n=>t.error(n))})}function PS(e){return v_(Gc(e))}function FS(e,t){var n,r,i,o;return g_(this,void 0,void 0,function*(){try{for(n=__(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function $n(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function qc(e,t=0){return It((n,r)=>{n.subscribe(xt(r,i=>$n(r,e,()=>r.next(i),t),()=>$n(r,e,()=>r.complete(),t),i=>$n(r,e,()=>r.error(i),t)))})}function Zc(e,t=0){return It((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function b_(e,t){return rn(e).pipe(Zc(t),qc(t))}function w_(e,t){return rn(e).pipe(Zc(t),qc(t))}function E_(e,t){return new Ct(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function x_(e,t){return new Ct(n=>{let r;return $n(n,t,()=>{r=e[Hc](),$n(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>dt(r?.return)&&r.return()})}function Yc(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ct(n=>{$n(n,t,()=>{let r=e[Symbol.asyncIterator]();$n(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function D_(e,t){return Yc(Gc(e),t)}function C_(e,t){if(e!=null){if(Uc(e))return b_(e,t);if(Bc(e))return E_(e,t);if(jc(e))return w_(e,t);if(zc(e))return Yc(e,t);if($c(e))return x_(e,t);if(Wc(e))return D_(e,t)}throw Vc(e)}function Ht(e,t){return t?C_(e,t):rn(e)}function lt(...e){let t=so(e);return Ht(e,t)}function Js(e,t){let n=dt(e)?e:()=>e,r=i=>i.error(n());return new Ct(t?i=>t.schedule(r,0,i):r)}function jp(e){return!!e&&(e instanceof Ct||dt(e.lift)&&dt(e.subscribe))}var ki=Gs(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Dt(e,t){return It((n,r)=>{let i=0;n.subscribe(xt(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:LS}=Array;function BS(e,t){return LS(t)?e(...t):e(t)}function Kc(e){return Dt(t=>BS(e,t))}var{isArray:jS}=Array,{getPrototypeOf:US,prototype:zS,keys:VS}=Object;function Qc(e){if(e.length===1){let t=e[0];if(jS(t))return{args:t,keys:null};if(HS(t)){let n=VS(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function HS(e){return e&&typeof e=="object"&&US(e)===zS}function Jc(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Xc(...e){let t=so(e),n=Lc(e),{args:r,keys:i}=Qc(e);if(r.length===0)return Ht([],t);let o=new Ct($S(r,t,i?s=>Jc(i,s):Jn));return n?o.pipe(Kc(n)):o}function $S(e,t,n=Jn){return r=>{I_(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)I_(t,()=>{let u=Ht(e[l],t),c=!1;u.subscribe(xt(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function I_(e,t,n){e?$n(n,e,t):t()}function S_(e,t,n,r,i,o,s,a){let l=[],u=0,c=0,d=!1,h=()=>{d&&!l.length&&!u&&t.complete()},f=m=>u<r?p(m):l.push(m),p=m=>{o&&t.next(m),u++;let g=!1;rn(n(m,c++)).subscribe(xt(t,_=>{i?.(_),o?f(_):t.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;l.length&&u<r;){let _=l.shift();s?$n(t,s,()=>p(_)):p(_)}h()}catch(_){t.error(_)}}))};return e.subscribe(xt(t,f,()=>{d=!0,h()})),()=>{a?.()}}function on(e,t,n=1/0){return dt(t)?on((r,i)=>Dt((o,s)=>t(r,o,i,s))(rn(e(r,i))),n):(typeof t=="number"&&(n=t),It((r,i)=>S_(r,i,e,n)))}function Xs(e=1/0){return on(Jn,e)}function M_(){return Xs(1)}function ea(...e){return M_()(Ht(e,so(e)))}function bl(e){return new Ct(t=>{rn(e()).subscribe(t)})}function Up(...e){let t=Lc(e),{args:n,keys:r}=Qc(e),i=new Ct(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let c=0;c<s;c++){let d=!1;rn(n[c]).subscribe(xt(o,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?Jc(r,a):a),o.complete())}))}});return t?i.pipe(Kc(t)):i}function Xn(e,t){return It((n,r)=>{let i=0;n.subscribe(xt(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Ri(e){return It((t,n)=>{let r=null,i=!1,o;r=t.subscribe(xt(n,void 0,void 0,s=>{o=rn(e(s,Ri(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function A_(e,t,n,r,i){return(o,s)=>{let a=n,l=t,u=0;o.subscribe(xt(s,c=>{let d=u++;l=a?e(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Yo(e,t){return dt(t)?on(e,t,1):on(e,1)}function ao(e){return It((t,n)=>{let r=!1;t.subscribe(xt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Ni(e){return e<=0?()=>Hn:It((t,n)=>{let r=0;t.subscribe(xt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ed(e=GS){return It((t,n)=>{let r=!1;t.subscribe(xt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function GS(){return new ki}function wl(e){return It((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Oi(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Xn((i,o)=>e(i,o,r)):Jn,Ni(1),n?ao(t):ed(()=>new ki))}function ta(e){return e<=0?()=>Hn:It((t,n)=>{let r=[];t.subscribe(xt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zp(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Xn((i,o)=>e(i,o,r)):Jn,ta(1),n?ao(t):ed(()=>new ki))}function Vp(e,t){return It(A_(e,t,arguments.length>=2,!0))}function Hp(...e){let t=so(e);return It((n,r)=>{(t?ea(e,n,t):ea(e,n)).subscribe(r)})}function Gn(e,t){return It((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(xt(r,l=>{i?.unsubscribe();let u=0,c=o++;rn(e(l,c)).subscribe(i=xt(r,d=>r.next(t?t(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function td(e){return It((t,n)=>{rn(e).subscribe(xt(n,()=>n.complete(),vl)),!n.closed&&t.subscribe(n)})}function yn(e,t,n){let r=dt(e)||t||n?{next:e,error:t,complete:n}:e;return r?It((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(xt(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Jn}function T_(e){let t=ut(null);try{return e()}finally{ut(t)}}var od="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Ze=class extends Error{code;constructor(t,n){super(Cl(t,n)),this.code=t}};function WS(e){return`NG0${Math.abs(e)}`}function Cl(e,t){return`${WS(e)}${t?": "+t:""}`}var Il=globalThis;function Rt(e){for(let t in e)if(e[t]===Rt)return t;throw Error("")}function N_(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Fi(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Fi).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function tm(e,t){return e?t?`${e} ${t}`:e:t||""}var qS=Rt({__forward_ref__:Rt});function Br(e){return e.__forward_ref__=Br,e.toString=function(){return Fi(this())},e}function En(e){return nm(e)?e():e}function nm(e){return typeof e=="function"&&e.hasOwnProperty(qS)&&e.__forward_ref__===Br}function Xe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function jr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Sl(e){return ZS(e,sd)}function rm(e){return Sl(e)!==null}function ZS(e,t){return e.hasOwnProperty(t)&&e[t]||null}function YS(e){let t=e?.[sd]??null;return t||null}function Gp(e){return e&&e.hasOwnProperty(rd)?e[rd]:null}var sd=Rt({\u0275prov:Rt}),rd=Rt({\u0275inj:Rt}),et=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Xe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function im(e){return e&&!!e.\u0275providers}var om=Rt({\u0275cmp:Rt}),sm=Rt({\u0275dir:Rt}),am=Rt({\u0275pipe:Rt}),lm=Rt({\u0275mod:Rt}),xl=Rt({\u0275fac:Rt}),ns=Rt({__NG_ELEMENT_ID__:Rt}),k_=Rt({__NG_ENV_ID__:Rt});function uo(e){return typeof e=="string"?e:e==null?"":String(e)}function O_(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():uo(e)}var P_=Rt({ngErrorCode:Rt}),KS=Rt({ngErrorMessage:Rt}),QS=Rt({ngTokenPath:Rt});function um(e,t){return F_("",-200,t)}function ad(e,t){throw new Ze(-201,!1)}function F_(e,t,n){let r=new Ze(t,e);return r[P_]=t,r[KS]=e,n&&(r[QS]=n),r}function JS(e){return e[P_]}var Wp;function L_(){return Wp}function er(e){let t=Wp;return Wp=e,t}function cm(e,t,n){let r=Sl(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;ad(e,"Injector")}var XS={},Ko=XS,eM="__NG_DI_FLAG__",qp=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Qo(n)||0;try{return this.injector.get(t,r&8?null:Ko,r)}catch(i){if(js(i))return i;throw i}}};function tM(e,t=0){let n=wc();if(n===void 0)throw new Ze(-203,!1);if(n===null)return cm(e,void 0,t);{let r=nM(t),i=n.retrieve(e,r);if(js(i)){if(r.optional)return null;throw i}return i}}function ht(e,t=0){return(L_()||tM)(En(e),t)}function Fe(e,t){return ht(e,Qo(t))}function Qo(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function nM(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Zp(e){let t=[];for(let n=0;n<e.length;n++){let r=En(e[n]);if(Array.isArray(r)){if(r.length===0)throw new Ze(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=rM(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(ht(i,o))}else t.push(ht(r))}return t}function rM(e){return e[eM]}function Jo(e,t){let n=e.hasOwnProperty(xl);return n?e[xl]:null}function B_(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function j_(e){return e.flat(Number.POSITIVE_INFINITY)}function ld(e,t){e.forEach(n=>Array.isArray(n)?ld(n,t):t(n))}function dm(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ml(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function U_(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function z_(e,t,n){let r=ra(e,t);return r>=0?e[r|1]=n:(r=~r,U_(e,r,t,n)),r}function ud(e,t){let n=ra(e,t);if(n>=0)return e[n|1]}function ra(e,t){return iM(e,t,1)}function iM(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var co={},tr=[],fo=new et(""),fm=new et("",-1),hm=new et(""),Dl=class{get(t,n=Ko){if(n===Ko){let i=F_("",-201);throw i.name="\u0275NotFound",i}return n}};function pm(e){return e[lm]||null}function ho(e){return e[om]||null}function mm(e){return e[sm]||null}function V_(e){return e[am]||null}function Al(e){return{\u0275providers:e}}function H_(...e){return{\u0275providers:gm(!0,e),\u0275fromNgModule:!0}}function gm(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return ld(t,s=>{let a=s;id(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$_(i,o),n}function $_(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];ym(i,o=>{t(o,r)})}}function id(e,t,n,r){if(e=En(e),!e)return!1;let i=null,o=Gp(e),s=!o&&ho(e);if(!o&&!s){let l=e.ngModule;if(o=Gp(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)id(u,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{ld(o.imports,c=>{id(c,t,n,r)&&(u||=[],u.push(c))})}finally{}u!==void 0&&$_(u,t)}if(!a){let u=Jo(i)||(()=>new i);t({provide:i,useFactory:u,deps:tr},i),t({provide:hm,useValue:i,multi:!0},i),t({provide:fo,useValue:()=>ht(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=e;ym(l,c=>{t(c,u)})}}else return!1;return i!==e&&e.providers!==void 0}function ym(e,t){for(let n of e)im(n)&&(n=n.\u0275providers),Array.isArray(n)?ym(n,t):t(n)}var oM=Rt({provide:String,useValue:Rt});function G_(e){return e!==null&&typeof e=="object"&&oM in e}function sM(e){return!!(e&&e.useExisting)}function aM(e){return!!(e&&e.useFactory)}function Xo(e){return typeof e=="function"}function W_(e){return!!e.useClass}var Tl=new et(""),nd={},R_={},$p;function kl(){return $p===void 0&&($p=new Dl),$p}var _n=class{},es=class extends _n{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Kp(t,s=>this.processProvider(s)),this.records.set(fm,na(void 0,this)),i.has("environment")&&this.records.set(_n,na(void 0,this));let o=this.records.get(Tl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hm,tr,{self:!0}))}retrieve(t,n){let r=Qo(n)||0;try{return this.get(t,Ko,r)}catch(i){if(js(i))return i;throw i}}destroy(){El(this),this._destroyed=!0;let t=ut(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ut(t)}}onDestroy(t){return El(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){El(this);let n=ni(this),r=er(void 0),i;try{return t()}finally{ni(n),er(r)}}get(t,n=Ko,r){if(El(this),t.hasOwnProperty(k_))return t[k_](this);let i=Qo(r),o,s=ni(this),a=er(void 0);try{if(!(i&4)){let u=this.records.get(t);if(u===void 0){let c=fM(t)&&Sl(t);c&&this.injectableDefInScope(c)?u=na(Yp(t),nd):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,i)}let l=i&2?kl():this.parent;return n=i&8&&n===Ko?null:n,l.get(t,n)}catch(l){let u=JS(l);throw u===-200||u===-201?new Ze(u,null):l}finally{er(a),ni(s)}}resolveInjectorInitializers(){let t=ut(null),n=ni(this),r=er(void 0),i;try{let o=this.get(fo,tr,{self:!0});for(let s of o)s()}finally{ni(n),er(r),ut(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Fi(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=En(t);let n=Xo(t)?t:En(t&&t.provide),r=uM(t);if(!Xo(t)&&t.multi===!0){let i=this.records.get(n);i||(i=na(void 0,nd,!0),i.factory=()=>Zp(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=ut(null);try{if(n.value===R_)throw um(Fi(t));return n.value===nd&&(n.value=R_,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&dM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ut(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=En(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yp(e){let t=Sl(e),n=t!==null?t.factory:Jo(e);if(n!==null)return n;if(e instanceof et)throw new Ze(204,!1);if(e instanceof Function)return lM(e);throw new Ze(204,!1)}function lM(e){if(e.length>0)throw new Ze(204,!1);let n=YS(e);return n!==null?()=>n.factory(e):()=>new e}function uM(e){if(G_(e))return na(void 0,e.useValue);{let t=_m(e);return na(t,nd)}}function _m(e,t,n){let r;if(Xo(e)){let i=En(e);return Jo(i)||Yp(i)}else if(G_(e))r=()=>En(e.useValue);else if(aM(e))r=()=>e.useFactory(...Zp(e.deps||[]));else if(sM(e))r=(i,o)=>ht(En(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=En(e&&(e.useClass||e.provide));if(cM(e))r=()=>new i(...Zp(e.deps));else return Jo(i)||Yp(i)}return r}function El(e){if(e.destroyed)throw new Ze(205,!1)}function na(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function cM(e){return!!e.deps}function dM(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function fM(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Kp(e,t){for(let n of e)Array.isArray(n)?Kp(n,t):n&&im(n)?Kp(n.\u0275providers,t):t(n)}function Pn(e,t){let n;e instanceof es?(El(e),n=e):n=new qp(e);let r,i=ni(n),o=er(void 0);try{return t()}finally{ni(i),er(o)}}function q_(){return L_()!==void 0||wc()!=null}var Ur=0,tt=1,ct=2,hn=3,yr=4,_r=5,ia=6,oa=7,Qt=8,po=9,ii=10,Jt=11,sa=12,vm=13,rs=14,nr=15,mo=16,is=17,oi=18,Rl=19,bm=20,Pi=21,cd=22,Nl=23,rr=24,dd=25,os=26,xn=27,Z_=1,wm=6,go=7,Ol=8,ss=9,sn=10;function si(e){return Array.isArray(e)&&typeof e[Z_]=="object"}function zr(e){return Array.isArray(e)&&e[Z_]===!0}function Em(e){return(e.flags&4)!==0}function yo(e){return e.componentOffset>-1}function fd(e){return(e.flags&1)===1}function ai(e){return!!e.template}function aa(e){return(e[ct]&512)!==0}function as(e){return(e[ct]&256)===256}var xm="svg",Y_="math";function vr(e){for(;Array.isArray(e);)e=e[Ur];return e}function Dm(e,t){return vr(t[e])}function Vr(e,t){return vr(t[e.index])}function Pl(e,t){return e.data[t]}function br(e,t){let n=t[e];return si(n)?n:n[Ur]}function K_(e){return(e[ct]&4)===4}function hd(e){return(e[ct]&128)===128}function Q_(e){return zr(e[hn])}function li(e,t){return t==null?null:e[t]}function Cm(e){e[is]=0}function Im(e){e[ct]&1024||(e[ct]|=1024,hd(e)&&Ll(e))}function J_(e,t){for(;e>0;)t=t[rs],e--;return t}function Fl(e){return!!(e[ct]&9216||e[rr]?.dirty)}function pd(e){e[ii].changeDetectionScheduler?.notify(8),e[ct]&64&&(e[ct]|=1024),Fl(e)&&Ll(e)}function Ll(e){e[ii].changeDetectionScheduler?.notify(0);let t=lo(e);for(;t!==null&&!(t[ct]&8192||(t[ct]|=8192,!hd(t)));)t=lo(t)}function Sm(e,t){if(as(e))throw new Ze(911,!1);e[Pi]===null&&(e[Pi]=[]),e[Pi].push(t)}function X_(e,t){if(e[Pi]===null)return;let n=e[Pi].indexOf(t);n!==-1&&e[Pi].splice(n,1)}function lo(e){let t=e[hn];return zr(t)?t[hn]:t}function Mm(e){return e[oa]??=[]}function Am(e){return e.cleanup??=[]}function ev(e,t,n,r){let i=Mm(t);i.push(n),e.firstCreatePass&&Am(e).push(r,i.length-1)}var yt={lFrame:pv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Qp=!1;function tv(){return yt.lFrame.elementDepthCount}function nv(){yt.lFrame.elementDepthCount++}function Tm(){yt.lFrame.elementDepthCount--}function rv(){return yt.bindingsEnabled}function iv(){return yt.skipHydrationRootTNode!==null}function km(e){return yt.skipHydrationRootTNode===e}function Rm(){yt.skipHydrationRootTNode=null}function _t(){return yt.lFrame.lView}function An(){return yt.lFrame.tView}function Wn(e){return yt.lFrame.contextLView=e,e[Qt]}function qn(e){return yt.lFrame.contextLView=null,e}function Tn(){let e=Nm();for(;e!==null&&e.type===64;)e=e.parent;return e}function Nm(){return yt.lFrame.currentTNode}function ov(){let e=yt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function la(e,t){let n=yt.lFrame;n.currentTNode=e,n.isParent=t}function Om(){return yt.lFrame.isParent}function sv(){yt.lFrame.isParent=!1}function Pm(){return Qp}function Fm(e){let t=Qp;return Qp=e,t}function md(){let e=yt.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function av(){return yt.lFrame.bindingIndex}function lv(e){return yt.lFrame.bindingIndex=e}function ls(){return yt.lFrame.bindingIndex++}function Lm(e){let t=yt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function uv(){return yt.lFrame.inI18n}function cv(e,t){let n=yt.lFrame;n.bindingIndex=n.bindingRootIndex=e,gd(t)}function dv(){return yt.lFrame.currentDirectiveIndex}function gd(e){yt.lFrame.currentDirectiveIndex=e}function fv(e){let t=yt.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Bm(){return yt.lFrame.currentQueryIndex}function yd(e){yt.lFrame.currentQueryIndex=e}function hM(e){let t=e[tt];return t.type===2?t.declTNode:t.type===1?e[_r]:null}function jm(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=hM(o),i===null||(o=o[rs],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=yt.lFrame=hv();return r.currentTNode=t,r.lView=e,!0}function _d(e){let t=hv(),n=e[tt];yt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function hv(){let e=yt.lFrame,t=e===null?null:e.child;return t===null?pv(e):t}function pv(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function mv(){let e=yt.lFrame;return yt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Um=mv;function vd(){let e=mv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gv(e){return(yt.lFrame.contextLView=J_(e,yt.lFrame.contextLView))[Qt]}function Li(){return yt.lFrame.selectedIndex}function _o(e){yt.lFrame.selectedIndex=e}function zm(){let e=yt.lFrame;return Pl(e.tView,e.selectedIndex)}function wr(){yt.lFrame.currentNamespace=xm}function vo(){pM()}function pM(){yt.lFrame.currentNamespace=null}function yv(){return yt.lFrame.currentNamespace}var _v=!0;function bd(){return _v}function wd(e){_v=e}function Jp(e,t=null,n=null,r){let i=Vm(e,t,n,r);return i.resolveInjectorInitializers(),i}function Vm(e,t=null,n=null,r,i=new Set){let o=[n||tr,H_(e)];return r=r||(typeof e=="object"?void 0:Fi(e)),new es(o,t||kl(),r||null,i)}var gr=class e{static THROW_IF_NOT_FOUND=Ko;static NULL=new Dl;static create(t,n){if(Array.isArray(t))return Jp({name:""},n,t,"");{let r=t.name??"";return Jp({name:r},t.parent,t.providers,r)}}static \u0275prov=Xe({token:e,providedIn:"any",factory:()=>ht(fm)});static __NG_ELEMENT_ID__=-1},Dn=new et(""),us=(()=>{class e{static __NG_ELEMENT_ID__=mM;static __NG_ENV_ID__=n=>n}return e})(),Xp=class extends us{_lView;constructor(t){super(),this._lView=t}get destroyed(){return as(this._lView)}onDestroy(t){let n=this._lView;return Sm(n,t),()=>X_(n,t)}};function mM(){return new Xp(_t())}var ri=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Er=new et("",{providedIn:"root",factory:()=>{let e=Fe(_n),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(ri),t.handleError(n))}}}),vv={provide:fo,useValue:()=>void Fe(ri),multi:!0};function Hr(e,t){let[n,r,i]=Mp(e,t?.equal),o=n,s=o[On];return o.set=r,o.update=i,o.asReadonly=bv.bind(o),o}function bv(){let e=this[On];if(e.readonlyFn===void 0){let t=()=>this();t[On]=e,e.readonlyFn=t}return e.readonlyFn}var ts=class{},Bl=new et("",{providedIn:"root",factory:()=>!1});var Hm=new et(""),$m=new et(""),Bi=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new wn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ct(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Xe({token:e,providedIn:"root",factory:()=>new e})}return e})();function jl(...e){}var Gm=(()=>{class e{static \u0275prov=Xe({token:e,providedIn:"root",factory:()=>new em})}return e})(),em=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Zl(e){return{toString:e}.toString()}function CM(e){return typeof e=="function"}var Md=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Jv(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var ci=(()=>{let e=()=>Xv;return e.ngInherit=!0,e})();function Xv(e){return e.type.prototype.ngOnChanges&&(e.setInput=SM),IM}function IM(){let e=tb(this),t=e?.current;if(t){let n=e.previous;if(n===co)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function SM(e,t,n,r,i){let o=this.declaredInputs[r],s=tb(e)||MM(e,{previous:co,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Md(u&&u.currentValue,n,l===co),Jv(e,t,i,n)}var eb="__ngSimpleChanges__";function tb(e){return e[eb]||null}function MM(e,t){return e[eb]=t}var wv=[];var Ft=function(e,t=null,n){for(let r=0;r<wv.length;r++){let i=wv[r];i(e,t,n)}};function AM(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Xv(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function TM(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),c!=null&&(e.destroyHooks??=[]).push(n,c)}}function Dd(e,t,n){nb(e,t,3,n)}function Cd(e,t,n,r){(e[ct]&3)===n&&nb(e,t,n,r)}function Wm(e,t){let n=e[ct];(n&3)===t&&(n&=16383,n+=1,e[ct]=n)}function nb(e,t,n,r){let i=r!==void 0?e[is]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[is]+=65536),(a<o||o==-1)&&(kM(e,n,t,l),e[is]=(e[is]&4294901760)+l+2),l++}function Ev(e,t){Ft(4,e,t);let n=ut(null);try{t.call(e)}finally{ut(n),Ft(5,e,t)}}function kM(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[ct]>>14<e[is]>>16&&(e[ct]&3)===t&&(e[ct]+=16384,Ev(a,o)):Ev(a,o)}var ca=-1,ds=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function RM(e){return(e.flags&8)!==0}function NM(e){return(e.flags&16)!==0}function OM(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];PM(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function rb(e){return e===3||e===4||e===6}function PM(e){return e.charCodeAt(0)===64}function da(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?xv(e,n,i,null,t[++r]):xv(e,n,i,null,null))}}return e}function xv(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function ib(e){return e!==ca}function Ad(e){return e&32767}function FM(e){return e>>16}function Td(e,t){let n=FM(e),r=t;for(;n>0;)r=r[rs],n--;return r}var rg=!0;function Dv(e){let t=rg;return rg=e,t}var LM=256,ob=LM-1,sb=5,BM=0,ui={};function jM(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ns)&&(r=n[ns]),r==null&&(r=n[ns]=BM++);let i=r&ob,o=1<<i;t.data[e+(i>>sb)]|=o}function kd(e,t){let n=ab(e,t);if(n!==-1)return n;let r=t[tt];r.firstCreatePass&&(e.injectorIndex=t.length,qm(r.data,e),qm(t,null),qm(r.blueprint,null));let i=Ng(e,t),o=e.injectorIndex;if(ib(i)){let s=Ad(i),a=Td(i,t),l=a[tt].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function qm(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ab(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Ng(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=fb(i),r===null)return ca;if(n++,i=i[rs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ca}function ig(e,t,n){jM(e,t,n)}function UM(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(rb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function lb(e,t,n){if(n&8||e!==void 0)return e;ad(t,"NodeInjector")}function ub(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[po],o=er(void 0);try{return i?i.get(t,r,n&8):cm(t,r,n&8)}finally{er(o)}}return lb(r,t,n)}function cb(e,t,n,r=0,i){if(e!==null){if(t[ct]&2048&&!(r&2)){let s=$M(e,t,n,r,ui);if(s!==ui)return s}let o=db(e,t,n,r,ui);if(o!==ui)return o}return ub(t,n,r,i)}function db(e,t,n,r,i){let o=VM(n);if(typeof o=="function"){if(!jm(t,e,r))return r&1?lb(i,n,r):ub(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ad(n);else return s}finally{Um()}}else if(typeof o=="number"){let s=null,a=ab(e,t),l=ca,u=r&1?t[nr][_r]:null;for((a===-1||r&4)&&(l=a===-1?Ng(e,t):t[a+8],l===ca||!Iv(r,!1)?a=-1:(s=t[tt],a=Ad(l),t=Td(l,t)));a!==-1;){let c=t[tt];if(Cv(o,a,c.data)){let d=zM(a,t,n,s,r,u);if(d!==ui)return d}l=t[a+8],l!==ca&&Iv(r,t[tt].data[a+8]===u)&&Cv(o,a,t)?(s=c,a=Ad(l),t=Td(l,t)):a=-1}}return i}function zM(e,t,n,r,i,o){let s=t[tt],a=s.data[e+8],l=r==null?yo(a)&&rg:r!=s&&(a.type&3)!==0,u=i&1&&o===a,c=Id(a,s,n,l,u);return c!==null?Vl(t,s,c,a,i):ui}function Id(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,u=e.directiveEnd,c=o>>20,d=r?a:a+c,h=i?a+c:u;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=s[l];if(f&&ai(f)&&f.type===n)return l}return null}function Vl(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof ds){let a=o;if(a.resolving){let f=O_(s[n]);throw um(f)}let l=Dv(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],c,d=a.injectImpl?er(a.injectImpl):null,h=jm(e,r,0);try{o=e[n]=a.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&AM(n,s[n],t)}finally{d!==null&&er(d),Dv(l),a.resolving=!1,Um()}}return o}function VM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ns)?e[ns]:void 0;return typeof t=="number"?t>=0?t&ob:HM:t}function Cv(e,t,n){let r=1<<e;return!!(n[t+(e>>sb)]&r)}function Iv(e,t){return!(e&2)&&!(e&1&&t)}var cs=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return cb(this._tNode,this._lView,t,Qo(r),n)}};function HM(){return new cs(Tn(),_t())}function wo(e){return Zl(()=>{let t=e.prototype.constructor,n=t[xl]||og(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[xl]||og(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function og(e){return nm(e)?()=>{let t=og(En(e));return t&&t()}:Jo(e)}function $M(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[ct]&2048&&!aa(s);){let a=db(o,s,n,r|2,ui);if(a!==ui)return a;let l=o.parent;if(!l){let u=s[bm];if(u){let c=u.get(n,ui,r);if(c!==ui)return c}l=fb(s),s=s[rs]}o=l}return i}function fb(e){let t=e[tt],n=t.type;return n===2?t.declTNode:n===1?e[_r]:null}function Yl(e){return UM(Tn(),e)}function GM(){return _a(Tn(),_t())}function _a(e,t){return new Zn(Vr(e,t))}var Zn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=GM}return e})();function WM(e){return e instanceof Zn?e.nativeElement:e}function qM(){return this._results[Symbol.iterator]()}var Rd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Kt}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=j_(t);(this._changesDetected=!B_(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=qM};function hb(e){return(e.flags&128)===128}var Og=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(Og||{}),pb=new Map,ZM=0;function YM(){return ZM++}function KM(e){pb.set(e[Rl],e)}function sg(e){pb.delete(e[Rl])}var Sv="__ngContext__";function fa(e,t){si(t)?(e[Sv]=t[Rl],KM(t)):e[Sv]=t}function mb(e){return yb(e[sa])}function gb(e){return yb(e[yr])}function yb(e){for(;e!==null&&!zr(e);)e=e[yr];return e}var ag;function Pg(e){ag=e}function _b(){if(ag!==void 0)return ag;if(typeof document<"u")return document;throw new Ze(210,!1)}var Zd=new et("",{providedIn:"root",factory:()=>QM}),QM="ng",Yd=new et(""),va=new et("",{providedIn:"platform",factory:()=>"unknown"});var Kd=new et("",{providedIn:"root",factory:()=>_b().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var JM="h",XM="b";var vb="r";var bb="di";var wb=!1,Eb=new et("",{providedIn:"root",factory:()=>wb});var e5=(e,t,n,r)=>{};function t5(e,t,n,r){e5(e,t,n,r)}function Fg(e){return(e.flags&32)===32}var n5=()=>null;function xb(e,t,n=!1){return n5(e,t,n)}function Db(e,t){let n=e.contentQueries;if(n!==null){let r=ut(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];yd(o),a.contentQueries(2,t[s],s)}}}finally{ut(r)}}}function lg(e,t,n){yd(0);let r=ut(null);try{t(e,n)}finally{ut(r)}}function Cb(e,t,n){if(Em(t)){let r=ut(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{ut(r)}}}var ji=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(ji||{});var Ed;function r5(){if(Ed===void 0&&(Ed=null,Il.trustedTypes))try{Ed=Il.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ed}function Mv(e){return r5()?.createScriptURL(e)||e}var Nd=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${od})`}};function Qd(e){return e instanceof Nd?e.changingThisBreaksApplicationSecurity:e}function Lg(e,t){let n=Ib(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${od})`)}return n===t}function Ib(e){return e instanceof Nd&&e.getTypeName()||null}var i5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sb(e){return e=String(e),e.match(i5)?e:"unsafe:"+e}var Jd=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(Jd||{});function Wr(e){let t=Ab();return t?t.sanitize(Jd.URL,e)||"":Lg(e,"URL")?Qd(e):Sb(uo(e))}function Mb(e){let t=Ab();if(t)return Mv(t.sanitize(Jd.RESOURCE_URL,e)||"");if(Lg(e,"ResourceURL"))return Mv(Qd(e));throw new Ze(904,!1)}function o5(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Mb:Wr}function Bg(e,t,n){return o5(t,n)(e)}function Ab(){let e=_t();return e&&e[ii].sanitizer}function Tb(e){return e instanceof Function?e():e}function s5(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var kb="ng-template";function a5(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&s5(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(jg(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function jg(e){return e.type===4&&e.value!==kb}function l5(e,t,n){let r=e.type===4&&!n?kb:e.value;return t===r}function u5(e,t,n){let r=4,i=e.attrs,o=i!==null?f5(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!$r(r)&&!$r(l))return!1;if(s&&$r(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!l5(e,l,n)||l===""&&t.length===1){if($r(r))return!1;s=!0}}else if(r&8){if(i===null||!a5(e,i,l,n)){if($r(r))return!1;s=!0}}else{let u=t[++a],c=c5(l,i,jg(e),n);if(c===-1){if($r(r))return!1;s=!0;continue}if(u!==""){let d;if(c>o?d="":d=i[c+1].toLowerCase(),r&2&&u!==d){if($r(r))return!1;s=!0}}}}return $r(r)||s}function $r(e){return(e&1)===0}function c5(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return h5(t,e)}function d5(e,t,n=!1){for(let r=0;r<t.length;r++)if(u5(e,t[r],n))return!0;return!1}function f5(e){for(let t=0;t<e.length;t++){let n=e[t];if(rb(n))return t}return e.length}function h5(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Av(e,t){return e?":not("+t.trim()+")":t}function p5(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$r(s)&&(t+=Av(o,i),i=""),r=s,o=o||!$r(r);n++}return i!==""&&(t+=Av(o,i)),t}function m5(e){return e.map(p5).join(",")}function g5(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!$r(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Yn={};function y5(e,t){return e.createText(t)}function _5(e,t,n){e.setValue(t,n)}function Rb(e,t,n){return e.createElement(t,n)}function Od(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Nb(e,t,n){e.appendChild(t,n)}function Tv(e,t,n,r,i){r!==null?Od(e,t,n,r,i):Nb(e,t,n)}function Ob(e,t,n,r){e.removeChild(null,t,n,r)}function v5(e,t,n){e.setAttribute(t,"style",n)}function b5(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Pb(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&OM(e,t,r),i!==null&&b5(e,t,i),o!==null&&v5(e,t,o)}function Ug(e,t,n,r,i,o,s,a,l,u,c){let d=xn+r,h=d+i,f=w5(d,h),p=typeof u=="function"?u():u;return f[tt]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}function w5(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Yn);return n}function E5(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ug(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function zg(e,t,n,r,i,o,s,a,l,u,c){let d=t.blueprint.slice();return d[Ur]=i,d[ct]=r|4|128|8|64|1024,(u!==null||e&&e[ct]&2048)&&(d[ct]|=2048),Cm(d),d[hn]=d[rs]=e,d[Qt]=n,d[ii]=s||e&&e[ii],d[Jt]=a||e&&e[Jt],d[po]=l||e&&e[po]||null,d[_r]=o,d[Rl]=YM(),d[ia]=c,d[bm]=u,d[nr]=t.type==2?e[nr]:d,d}function x5(e,t,n){let r=Vr(t,e),i=E5(n),o=e[ii].rendererFactory,s=Vg(e,zg(e,i,null,Fb(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Fb(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Lb(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Vg(e,t){return e[sa]?e[vm][yr]=t:e[sa]=t,e[vm]=t,t}function Oe(e=1){Bb(An(),_t(),Li()+e,!1)}function Bb(e,t,n,r){if(!r)if((t[ct]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Dd(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Cd(t,o,0,n)}_o(n)}var Xd=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Xd||{});function ug(e,t,n,r){let i=ut(null);try{let[o,s,a]=e.inputs[n],l=null;(s&Xd.SignalBased)!==0&&(l=t[o][On]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):Jv(t,l,o,r)}finally{ut(i)}}var Ui=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Ui||{}),D5;function Hg(e,t){return D5(e,t)}var ha=new Set,$g=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})($g||{}),Kl=new et(""),kv=new Set;function Eo(e){kv.has(e)||(kv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var jb=!1,cg=class extends Kt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,q_()&&(this.destroyRef=Fe(us,{optional:!0})??void 0,this.pendingTasks=Fe(Bi,{optional:!0})??void 0)}emit(t){let n=ut(null);try{super.next(t)}finally{ut(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof nn&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Xt=cg;function Ub(e){let t,n;function r(){e=jl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Rv(e){return queueMicrotask(()=>e()),()=>{e=jl}}var Gg="isAngularZone",Pd=Gg+"_ID",C5=0,pn=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Xt(!1);onMicrotaskEmpty=new Xt(!1);onStable=new Xt(!1);onError=new Xt(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=jb}=t;if(typeof Zone>"u")throw new Ze(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,M5(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Gg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Ze(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Ze(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,I5,jl,jl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},I5={};function Wg(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function S5(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Ub(()=>{e.callbackScheduled=!1,dg(e),e.isCheckStableRunning=!0,Wg(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),dg(e)}function M5(e){let t=()=>{S5(e)},n=C5++;e._inner=e._inner.fork({name:"angular",properties:{[Gg]:!0,[Pd]:n,[Pd+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(A5(l))return r.invokeTask(o,s,a,l);try{return Nv(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Ov(e)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return Nv(e),r.invoke(o,s,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!T5(l)&&t(),Ov(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,dg(e),Wg(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function dg(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Nv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ov(e){e._nesting--,Wg(e)}var Fd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Xt;onMicrotaskEmpty=new Xt;onStable=new Xt;onError=new Xt;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function A5(e){return zb(e,"__ignore_ng_zone__")}function T5(e){return zb(e,"__scheduler_tick__")}function zb(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Vb=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Xe({token:e,providedIn:"root",factory:()=>new e})}return e})();var k5=new et("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Hb(e,t){let n=e.get(k5);if(Array.isArray(t))for(let r of t)n.queue.add(r);else n.queue.add(t);n.scheduler&&n.scheduler(e)}function R5(e,t){for(let[n,r]of t)Hb(e,r.animateFns)}function Pv(e,t,n,r){let i=e?.[os]?.enter;t!==null&&i&&i.has(n.index)&&R5(r,i)}function ua(e,t,n,r,i,o,s,a){if(i!=null){let l,u=!1;zr(i)?l=i:si(i)&&(u=!0,i=i[Ur]);let c=vr(i);e===0&&r!==null?(Pv(a,r,o,n),s==null?Nb(t,r,c):Od(t,r,c,s||null,!0)):e===1&&r!==null?(Pv(a,r,o,n),Od(t,r,c,s||null,!0)):e===2?Fv(a,o,n,d=>{Ob(t,c,u,d)}):e===3&&Fv(a,o,n,()=>{t.destroyNode(c)}),l!=null&&G5(t,e,n,l,o,r,s)}}function N5(e,t){$b(e,t),t[Ur]=null,t[_r]=null}function O5(e,t,n,r,i,o){r[Ur]=i,r[_r]=t,tf(e,r,n,1,i,o)}function $b(e,t){t[ii].changeDetectionScheduler?.notify(9),tf(e,t,t[Jt],2,null,null)}function P5(e){let t=e[sa];if(!t)return Zm(e[tt],e);for(;t;){let n=null;if(si(t))n=t[sa];else{let r=t[sn];r&&(n=r)}if(!n){for(;t&&!t[yr]&&t!==e;)si(t)&&Zm(t[tt],t),t=t[hn];t===null&&(t=e),si(t)&&Zm(t[tt],t),n=t&&t[yr]}t=n}}function qg(e,t){let n=e[ss],r=n.indexOf(t);n.splice(r,1)}function ef(e,t){if(as(t))return;let n=t[Jt];n.destroyNode&&tf(e,t,n,3,null,null),P5(t)}function Zm(e,t){if(as(t))return;let n=ut(null);try{t[ct]&=-129,t[ct]|=256,t[rr]&&yl(t[rr]),B5(e,t),L5(e,t),t[tt].type===1&&t[Jt].destroy();let r=t[mo];if(r!==null&&zr(t[hn])){r!==t[hn]&&qg(r,t);let i=t[oi];i!==null&&i.detachView(e)}sg(t)}finally{ut(n)}}function Fv(e,t,n,r){let i=e?.[os];if(i==null||i.leave==null||!i.leave.has(t.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);e&&ha.add(e),Hb(n,()=>{if(i.leave&&i.leave.has(t.index)){let s=i.leave.get(t.index),a=[];if(s)for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:c}=u();a.push(c)}i.running=Promise.allSettled(a),F5(e,r)}else e&&ha.delete(e),r(!1)})}function F5(e,t){let n=e[os]?.running;if(n){n.then(()=>{e[os].running=void 0,ha.delete(e),t(!0)});return}t(!1)}function L5(e,t){let n=e.cleanup,r=t[oa];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[oa]=null);let i=t[Pi];if(i!==null){t[Pi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[Nl];if(o!==null){t[Nl]=null;for(let s of o)s.destroy()}}function B5(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof ds)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ft(4,a,l);try{l.call(a)}finally{Ft(5,a,l)}}else{Ft(4,i,o);try{o.call(i)}finally{Ft(5,i,o)}}}}}function j5(e,t,n){return U5(e,t.parent,n)}function U5(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Ur];if(yo(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===ji.None||i===ji.Emulated)return null}return Vr(r,n)}function z5(e,t,n){return H5(e,t,n)}function V5(e,t,n){return e.type&40?Vr(e,n):null}var H5=V5,Lv;function Zg(e,t,n,r){let i=j5(e,r,t),o=t[Jt],s=r.parent||t[_r],a=z5(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Tv(o,i,n[l],a,!1);else Tv(o,i,n,a,!1);Lv!==void 0&&Lv(o,r,t,n,i)}function Ul(e,t){if(t!==null){let n=t.type;if(n&3)return Vr(t,e);if(n&4)return fg(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ul(e,r);{let i=e[t.index];return zr(i)?fg(-1,i):vr(i)}}else{if(n&128)return Ul(e,t.next);if(n&32)return Hg(t,e)()||vr(e[t.index]);{let r=Gb(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=lo(e[nr]);return Ul(i,r)}else return Ul(e,t.next)}}}return null}function Gb(e,t){if(t!==null){let r=e[nr][_r],i=t.projection;return r.projection[i]}return null}function fg(e,t){let n=sn+e+1;if(n<t.length){let r=t[n],i=r[tt].firstChild;if(i!==null)return Ul(r,i)}return t[go]}function Yg(e,t,n,r,i,o,s){for(;n!=null;){let a=r[po];if(n.type===128){n=n.next;continue}let l=r[n.index],u=n.type;if(s&&t===0&&(l&&fa(vr(l),r),n.flags|=2),!Fg(n))if(u&8)Yg(e,t,n.child,r,i,o,!1),ua(t,e,a,i,l,n,o,r);else if(u&32){let c=Hg(n,r),d;for(;d=c();)ua(t,e,a,i,d,n,o,r);ua(t,e,a,i,l,n,o,r)}else u&16?$5(e,t,r,n,i,o):ua(t,e,a,i,l,n,o,r);n=s?n.projectionNext:n.next}}function tf(e,t,n,r,i,o){Yg(n,r,e.firstChild,t,i,o,!1)}function $5(e,t,n,r,i,o){let s=n[nr],l=s[_r].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let c=l[u];ua(t,e,n[po],i,c,r,o,n)}else{let u=l,c=s[hn];hb(r)&&(u.flags|=128),Yg(e,t,u,c,i,o,!0)}}function G5(e,t,n,r,i,o,s){let a=r[go],l=vr(r);a!==l&&ua(t,e,n,o,a,i,s);for(let u=sn;u<r.length;u++){let c=r[u];tf(c[tt],c,e,t,o,a)}}function W5(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ui.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ui.Important),e.setStyle(n,r,i,o))}}function Wb(e,t,n,r,i){let o=Li(),s=r&2;try{_o(-1),s&&t.length>xn&&Bb(e,t,xn,!1),Ft(s?2:0,i,n),n(r,i)}finally{_o(o),Ft(s?3:1,i,n)}}function qb(e,t,n){eA(e,t,n),(n.flags&64)===64&&tA(e,t,n)}function Kg(e,t,n=Vr){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function q5(e,t,n,r){let o=r.get(Eb,wb)||n===ji.ShadowDom,s=e.selectRootElement(t,o);return Z5(s),s}function Z5(e){Y5(e)}var Y5=()=>null;function K5(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Q5(e,t,n,r,i,o){let s=t[tt];if(Qg(e,s,t,n,r)){yo(e)&&X5(t,e.index);return}e.type&3&&(n=K5(n)),J5(e,t,n,r,i,o)}function J5(e,t,n,r,i,o){if(e.type&3){let s=Vr(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(s,n,r)}else e.type&12}function X5(e,t){let n=br(t,e);n[ct]&16||(n[ct]|=64)}function eA(e,t,n){let r=n.directiveStart,i=n.directiveEnd;yo(n)&&x5(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||kd(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Vl(t,e,s,n);if(fa(l,t),o!==null&&sA(t,s-r,l,a,n,o),ai(a)){let u=br(n.index,t);u[Qt]=Vl(t,e,s,n)}}}function tA(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=dv();try{_o(o);for(let a=r;a<i;a++){let l=e.data[a],u=t[a];gd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&nA(l,u)}}finally{_o(-1),gd(s)}}function nA(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function rA(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];d5(t,o.selectors,!1)&&(r??=[],ai(o)?r.unshift(o):r.push(o))}return r}function iA(e,t,n,r,i,o){let s=Vr(e,t);oA(t[Jt],s,o,e.value,n,r,i)}function oA(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?uo(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function sA(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];ug(r,n,l,u)}}function Zb(e,t,n,r,i){let o=xn+n,s=t[tt],a=i(s,t,e,r,n);t[o]=a,la(e,!0);let l=e.type===2;return l?(Pb(t[Jt],a,e),(tv()===0||fd(e))&&fa(a,t),nv()):fa(a,t),bd()&&(!l||!Fg(e))&&Zg(s,t,a,e),e}function Yb(e){let t=e;return Om()?sv():(t=t.parent,la(t,!1)),t}function aA(e,t){let n=e[po];if(!n)return;let r;try{r=n.get(Er,null)}catch{r=null}r?.(t)}function Qg(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],c=s[l+1],d=t.data[u];ug(d,n[u],c,i),a=!0}if(o)for(let l of o){let u=n[l],c=t.data[l];ug(c,u,r,i),a=!0}return a}function lA(e,t){let n=br(t,e),r=n[tt];uA(r,n);let i=n[Ur];i!==null&&n[ia]===null&&(n[ia]=xb(i,n[po])),Ft(18),Jg(r,n,n[Qt]),Ft(19,n[Qt])}function uA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Jg(e,t,n){_d(t);try{let r=e.viewQuery;r!==null&&lg(1,r,n);let i=e.template;i!==null&&Wb(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[oi]?.finishViewCreation(e),e.staticContentQueries&&Db(e,t),e.staticViewQueries&&lg(2,e.viewQuery,n);let o=e.components;o!==null&&cA(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ct]&=-5,vd()}}function cA(e,t){for(let n=0;n<t.length;n++)lA(e,t[n])}function nf(e,t,n,r){let i=ut(null);try{let o=t.tView,a=e[ct]&4096?4096:16,l=zg(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[t.index];l[mo]=u;let c=e[oi];return c!==null&&(l[oi]=c.createEmbeddedView(o)),Jg(o,l,n),l}finally{ut(i)}}function Hl(e,t){return!t||t.firstChild===null||hb(e)}function $l(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(vr(o)),zr(o)&&Kb(o,r);let s=n.type;if(s&8)$l(e,t,n.child,r);else if(s&32){let a=Hg(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Gb(t,n);if(Array.isArray(a))r.push(...a);else{let l=lo(t[nr]);$l(l[tt],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Kb(e,t){for(let n=sn;n<e.length;n++){let r=e[n],i=r[tt].firstChild;i!==null&&$l(r[tt],r,i,t)}e[go]!==e[Ur]&&t.push(e[go])}function Qb(e){if(e[dd]!==null){for(let t of e[dd])t.impl.addSequence(t);e[dd].length=0}}var Jb=[];function dA(e){return e[rr]??fA(e)}function fA(e){let t=Jb.pop()??Object.create(pA);return t.lView=e,t}function hA(e){e.lView[rr]!==e&&(e.lView=null,Jb.push(e))}var pA=ke(fe({},Us),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ll(e.lView)},consumerOnSignalRead(){this.lView[rr]=this}});function mA(e){let t=e[rr]??Object.create(gA);return t.lView=e,t}var gA=ke(fe({},Us),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=lo(e.lView);for(;t&&!Xb(t[tt]);)t=lo(t);t&&Im(t)},consumerOnSignalRead(){this.lView[rr]=this}});function Xb(e){return e.type!==2}function e2(e){if(e[Nl]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Nl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[ct]&8192)}}var yA=100;function t2(e,t=0){let r=e[ii].rendererFactory,i=!1;i||r.begin?.();try{_A(e,t)}finally{i||r.end?.()}}function _A(e,t){let n=Pm();try{Fm(!0),hg(e,t);let r=0;for(;Fl(e);){if(r===yA)throw new Ze(103,!1);r++,hg(e,1)}}finally{Fm(n)}}function vA(e,t,n,r){if(as(t))return;let i=t[ct],o=!1,s=!1;_d(t);let a=!0,l=null,u=null;o||(Xb(e)?(u=dA(t),l=Vs(u)):Ic()===null?(a=!1,u=mA(t),l=Vs(u)):t[rr]&&(yl(t[rr]),t[rr]=null));try{Cm(t),lv(e.bindingStartIndex),n!==null&&Wb(e,t,n,2,r);let c=(i&3)===3;if(!o)if(c){let f=e.preOrderCheckHooks;f!==null&&Dd(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Cd(t,f,0,null),Wm(t,0)}if(s||bA(t),e2(t),n2(t,0),e.contentQueries!==null&&Db(e,t),!o)if(c){let f=e.contentCheckHooks;f!==null&&Dd(t,f)}else{let f=e.contentHooks;f!==null&&Cd(t,f,1),Wm(t,1)}EA(e,t);let d=e.components;d!==null&&i2(t,d,0);let h=e.viewQuery;if(h!==null&&lg(2,h,r),!o)if(c){let f=e.viewCheckHooks;f!==null&&Dd(t,f)}else{let f=e.viewHooks;f!==null&&Cd(t,f,2),Wm(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[cd]){for(let f of t[cd])f();t[cd]=null}o||(Qb(t),t[ct]&=-73)}catch(c){throw o||Ll(t),c}finally{u!==null&&(ml(u,l),a&&hA(u)),vd()}}function n2(e,t){for(let n=mb(e);n!==null;n=gb(n))for(let r=sn;r<n.length;r++){let i=n[r];r2(i,t)}}function bA(e){for(let t=mb(e);t!==null;t=gb(t)){if(!(t[ct]&2))continue;let n=t[ss];for(let r=0;r<n.length;r++){let i=n[r];Im(i)}}}function wA(e,t,n){Ft(18);let r=br(t,e);r2(r,n),Ft(19,r[Qt])}function r2(e,t){hd(e)&&hg(e,t)}function hg(e,t){let r=e[tt],i=e[ct],o=e[rr],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&gl(o)),s||=!1,o&&(o.dirty=!1),e[ct]&=-9217,s)vA(r,e,r.template,e[Qt]);else if(i&8192){let a=ut(null);try{e2(e),n2(e,1);let l=r.components;l!==null&&i2(e,l,1),Qb(e)}finally{ut(a)}}}function i2(e,t,n){for(let r=0;r<t.length;r++)wA(e,t[r],n)}function EA(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)_o(~i);else{let o=i,s=n[++r],a=n[++r];cv(s,o);let l=t[o];Ft(24,l),a(2,l),Ft(25,l)}}}finally{_o(-1)}}function Xg(e,t){let n=Pm()?64:1088;for(e[ii].changeDetectionScheduler?.notify(t);e;){e[ct]|=n;let r=lo(e);if(aa(e)&&!r)return e;e=r}return null}function o2(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function s2(e,t){let n=sn+t;if(n<e.length)return e[n]}function rf(e,t,n,r=!0){let i=t[tt];if(xA(i,t,e,n),r){let s=fg(n,e),a=t[Jt],l=a.parentNode(e[go]);l!==null&&O5(i,e[_r],a,t,l,s)}let o=t[ia];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function a2(e,t){let n=Gl(e,t);return n!==void 0&&ef(n[tt],n),n}function Gl(e,t){if(e.length<=sn)return;let n=sn+t,r=e[n];if(r){let i=r[mo];i!==null&&i!==e&&qg(i,r),t>0&&(e[n-1][yr]=r[yr]);let o=Ml(e,sn+t);N5(r[tt],r);let s=o[oi];s!==null&&s.detachView(o[tt]),r[hn]=null,r[yr]=null,r[ct]&=-129}return r}function xA(e,t,n,r){let i=sn+r,o=n.length;r>0&&(n[i-1][yr]=t),r<o-sn?(t[yr]=n[i],dm(n,sn+r,t)):(n.push(t),t[yr]=null),t[hn]=n;let s=t[mo];s!==null&&n!==s&&l2(s,t);let a=t[oi];a!==null&&a.insertView(e),pd(t),t[ct]|=128}function l2(e,t){let n=e[ss],r=t[hn];if(si(r))e[ct]|=2;else{let i=r[hn][nr];t[nr]!==i&&(e[ct]|=2)}n===null?e[ss]=[t]:n.push(t)}var bo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[tt];return $l(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Qt]}set context(t){this._lView[Qt]=t}get destroyed(){return as(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[hn];if(zr(t)){let n=t[Ol],r=n?n.indexOf(this):-1;r>-1&&(Gl(t,r),Ml(n,r))}this._attachedToViewContainer=!1}ef(this._lView[tt],this._lView)}onDestroy(t){Sm(this._lView,t)}markForCheck(){Xg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ct]&=-129}reattach(){pd(this._lView),this._lView[ct]|=128}detectChanges(){this._lView[ct]|=1024,t2(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=aa(this._lView),n=this._lView[mo];n!==null&&!t&&qg(n,this._lView),$b(this._lView[tt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ze(902,!1);this._appRef=t;let n=aa(this._lView),r=this._lView[mo];r!==null&&!n&&l2(r,this._lView),pd(this._lView)}};var pa=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=DA;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=nf(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new bo(o)}}return e})();function DA(){return e0(Tn(),_t())}function e0(e,t){return e.type&4?new pa(t,e,_a(e,t)):null}function of(e,t,n,r,i){let o=e.data[t];if(o===null)o=CA(e,t,n,r,i),uv()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ov();o.injectorIndex=s===null?-1:s.injectorIndex}return la(o,!0),o}function CA(e,t,n,r,i){let o=Nm(),s=Om(),a=s?o:o&&o.parent,l=e.data[t]=SA(e,a,n,t,r,i);return IA(e,l,o,s),l}function IA(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function SA(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return iv()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var PH=new RegExp(`^(\\d+)*(${XM}|${JM})*(.*)`);function MA(e){let t=e[wm]??[],r=e[hn][Jt],i=[];for(let o of t)o.data[bb]!==void 0?i.push(o):AA(o,r);e[wm]=i}function AA(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[vb];for(;n<i;){let o=r.nextSibling;Ob(t,r,!1),r=o,n++}}}var TA=()=>null,kA=()=>null;function pg(e,t){return TA(e,t)}function u2(e,t,n){return kA(e,t,n)}var c2=class{},sf=class{},mg=class{resolveComponentFactory(t){throw new Ze(917,!1)}},Ql=class{static NULL=new mg},fs=class{},xr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>RA()}return e})();function RA(){let e=_t(),t=Tn(),n=br(t.index,e);return(si(n)?n:e)[Jt]}var d2=(()=>{class e{static \u0275prov=Xe({token:e,providedIn:"root",factory:()=>null})}return e})();var Sd={},gg=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,Sd,r);return i!==Sd||n===Sd?i:this.parentInjector.get(t,n,r)}};function Ld(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=tm(i,a);else if(o==2){let l=a,u=t[++s];r=tm(r,l+": "+u+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ye(e,t=0){let n=_t();if(n===null)return ht(e,t);let r=Tn();return cb(r,n,En(e),t)}function NA(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let a=s,l=null,u=null;for(let c of s)if(c.resolveHostDirectives!==null){[a,l,u]=c.resolveHostDirectives(s);break}FA(e,t,n,a,o,l,u)}o!==null&&r!==null&&OA(n,r,o)}function OA(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new Ze(-301,!1);r.push(t[i],o)}}function PA(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function FA(e,t,n,r,i,o,s){let a=r.length,l=!1;for(let h=0;h<a;h++){let f=r[h];!l&&ai(f)&&(l=!0,PA(e,n,h)),ig(kd(n,t),e,f.type)}VA(n,e.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,c=!1,d=Lb(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=da(n.mergedAttrs,f.hostAttrs),BA(e,n,t,d,f),zA(d,f,i),s!==null&&s.has(f)){let[m,g]=s.get(f);n.directiveToIndex.set(f.type,[d,m+n.directiveStart,g+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),u=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),c=!0),d++}LA(e,n,o)}function LA(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))Bv(0,t,i,r),Bv(1,t,i,r),Uv(t,r,!1);else{let o=n.get(i);jv(0,t,o,r),jv(1,t,o,r),Uv(t,r,!0)}}}function Bv(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),f2(t,o)}}function jv(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),f2(t,s)}}function f2(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Uv(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||jg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let u=i[l];for(let c of u)if(c===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let u=o[l];for(let c=0;c<u.length;c+=2)if(u[c]===t){s??=[],s.push(u[c+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function BA(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Jo(i.type,!0)),s=new ds(o,ai(i),Ye,null);e.blueprint[r]=s,n[r]=s,jA(e,t,r,Lb(e,n,i.hostVars,Yn),i)}function jA(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;UA(s)!=a&&s.push(a),s.push(n,r,o)}}function UA(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function zA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ai(t)&&(n[""]=e)}}function VA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function h2(e,t,n,r,i,o,s,a){let l=t[tt],u=l.consts,c=li(u,s),d=of(l,e,n,r,c);return o&&NA(l,t,d,li(u,a),i),d.mergedAttrs=da(d.mergedAttrs,d.attrs),d.attrs!==null&&Ld(d,d.attrs,!1),d.mergedAttrs!==null&&Ld(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function p2(e,t){TM(e,t),Em(t)&&e.queries.elementEnd(t)}function HA(e,t,n,r,i,o){let s=t.consts,a=li(s,i),l=of(t,e,n,r,a);if(l.mergedAttrs=da(l.mergedAttrs,l.attrs),o!=null){let u=li(s,o);l.localNames=[];for(let c=0;c<u.length;c+=2)l.localNames.push(u[c],-1)}return l.attrs!==null&&Ld(l,l.attrs,!1),l.mergedAttrs!==null&&Ld(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function t0(e,t,n){return e[t]=n}function $A(e,t){return e[t]}function Gr(e,t,n){if(n===Yn)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function m2(e,t,n,r){let i=Gr(e,t,n);return Gr(e,t+1,r)||i}function GA(e,t,n,r,i){let o=m2(e,t,n,r);return Gr(e,t+2,i)||o}function Ym(e,t,n){return function r(i){let o=yo(e)?br(e.index,t):t;Xg(o,5);let s=t[Qt],a=zv(t,s,n,i),l=r.__ngNextListenerFn__;for(;l;)a=zv(t,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function zv(e,t,n,r){let i=ut(null);try{return Ft(6,t,n),n(r)!==!1}catch(o){return aA(e,o),!1}finally{Ft(7,t,n),ut(i)}}function WA(e,t,n,r,i,o,s,a){let l=fd(e),u=!1,c=null;if(!r&&l&&(c=ZA(t,n,o,e.index)),c!==null){let d=c.__ngLastListenerFn__||c;d.__ngNextListenerFn__=s,c.__ngLastListenerFn__=s,u=!0}else{let d=Vr(e,n),h=r?r(d):d;t5(n,h,o,a);let f=i.listen(h,o,a);if(!qA(o)){let p=r?m=>r(vr(m[e.index])):e.index;g2(p,t,n,o,a,f,!1)}}return u}function qA(e){return e.startsWith("animation")||e.startsWith("transition")}function ZA(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[oa],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function g2(e,t,n,r,i,o,s){let a=t.firstCreatePass?Am(t):null,l=Mm(n),u=l.length;l.push(i,o),a&&a.push(r,e,u,(u+1)*(s?-1:1))}function Vv(e,t,n,r,i,o){let s=t[n],a=t[tt],u=a.data[n].outputs[r],d=s[u].subscribe(o);g2(e.index,a,t,i,o,d,!0)}var yg=Symbol("BINDING");var Bd=class extends Ql{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ho(t);return new ma(n,this.ngModule)}};function YA(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Xd.SignalBased)!==0};return i&&(o.transform=i),o})}function KA(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function QA(e,t,n){let r=t instanceof _n?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new gg(n,r):n}function JA(e){let t=e.get(fs,null);if(t===null)throw new Ze(407,!1);let n=e.get(d2,null),r=e.get(ts,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function XA(e,t){let n=y2(e);return Rb(t,n,n==="svg"?xm:n==="math"?Y_:null)}function y2(e){return(e.selectors[0][0]||"div").toLowerCase()}var ma=class extends sf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=YA(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=KA(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=m5(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,s){Ft(22);let a=ut(null);try{let l=this.componentDef,u=eT(r,l,s,o),c=QA(l,i||this.ngModule,t),d=JA(c),h=d.rendererFactory.createRenderer(null,l),f=r?q5(h,r,l.encapsulation,c):XA(l,h),p=s?.some(Hv)||o?.some(_=>typeof _!="function"&&_.bindings.some(Hv)),m=zg(null,u,null,512|Fb(l),null,null,d,h,c,null,xb(f,c,!0));m[xn]=f,_d(m);let g=null;try{let _=h2(xn,m,2,"#host",()=>u.directiveRegistry,!0,0);Pb(h,f,_),fa(f,m),qb(u,m,_),Cb(u,_,m),p2(u,_),n!==void 0&&nT(_,this.ngContentSelectors,n),g=br(_.index,m),m[Qt]=g[Qt],Jg(u,m,null)}catch(_){throw g!==null&&sg(g),sg(m),_}finally{Ft(23),vd()}return new jd(this.componentType,m,!!p)}finally{ut(a)}}};function eT(e,t,n,r){let i=e?["ng-version","20.3.7"]:g5(t.selectors[0]),o=null,s=null,a=0;if(n)for(let c of n)a+=c[yg].requiredVars,c.create&&(c.targetIdx=0,(o??=[]).push(c)),c.update&&(c.targetIdx=0,(s??=[]).push(c));if(r)for(let c=0;c<r.length;c++){let d=r[c];if(typeof d!="function")for(let h of d.bindings){a+=h[yg].requiredVars;let f=c+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let l=[t];if(r)for(let c of r){let d=typeof c=="function"?c:c.type,h=mm(d);l.push(h)}return Ug(0,null,tT(o,s),1,a,l,null,null,null,[i],null)}function tT(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Hv(e){let t=e[yg].kind;return t==="input"||t==="twoWay"}var jd=class extends c2{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Pl(n[tt],xn),this.location=_a(this._tNode,n),this.instance=br(this._tNode.index,n)[Qt],this.hostView=this.changeDetectorRef=new bo(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Qg(r,i[tt],i,t,n);this.previousInputValues.set(t,n);let s=br(r.index,i);Xg(s,1)}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function nT(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ps=(()=>{class e{static __NG_ELEMENT_ID__=rT}return e})();function rT(){let e=Tn();return v2(e,_t())}var iT=ps,_2=class extends iT{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return _a(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){let t=Ng(this._hostTNode,this._hostLView);if(ib(t)){let n=Td(t,this._hostLView),r=Ad(t),i=n[tt].data[r+8];return new cs(i,n)}else return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=$v(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-sn}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pg(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Hl(this._hostTNode,s)),a}createComponent(t,n,r,i,o,s,a){let l=t&&!CM(t),u;if(l)u=n;else{let g=n||{};u=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef,s=g.directives,a=g.bindings}let c=l?t:new ma(ho(t)),d=r||this.parentInjector;if(!o&&c.ngModule==null){let _=(l?d:this.parentInjector).get(_n,null);_&&(o=_)}let h=ho(c.componentType??{}),f=pg(this._lContainer,h?.id??null),p=f?.firstChild??null,m=c.create(d,i,p,o,s,a);return this.insertImpl(m.hostView,u,Hl(this._hostTNode,f)),m}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(Q_(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[hn],u=new _2(l,l[_r],l[hn]);u.detach(u.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return rf(s,i,o,r),t.attachToViewContainerRef(),dm(Km(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=$v(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Gl(this._lContainer,n);r&&(Ml(Km(this._lContainer),n),ef(r[tt],r))}detach(t){let n=this._adjustIndex(t,-1),r=Gl(this._lContainer,n);return r&&Ml(Km(this._lContainer),n)!=null?new bo(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function $v(e){return e[Ol]}function Km(e){return e[Ol]||(e[Ol]=[])}function v2(e,t){let n,r=t[e.index];return zr(r)?n=r:(n=o2(r,t,null,e),t[e.index]=n,Vg(t,n)),sT(n,t,e,r),new _2(n,e,t)}function oT(e,t){let n=e[Jt],r=n.createComment(""),i=Vr(t,e),o=n.parentNode(i);return Od(n,o,r,n.nextSibling(i),!1),r}var sT=uT,aT=()=>!1;function lT(e,t,n){return aT(e,t,n)}function uT(e,t,n,r){if(e[go])return;let i;n.type&8?i=vr(r):i=oT(t,n),e[go]=i}var _g=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},vg=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)n0(t,n).matches!==null&&this.queries[n].setDirty()}},Ud=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=yT(t):this.predicate=t}},bg=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},wg=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,cT(n,o)),this.matchTNodeWithReadOption(t,n,Id(n,t,o,!1,!1))}else r===pa?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Id(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Zn||i===ps||i===pa&&n.type&4)this.addMatch(n.index,-2);else{let o=Id(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function cT(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function dT(e,t){return e.type&11?_a(e,t):e.type&4?e0(e,t):null}function fT(e,t,n,r){return n===-1?dT(t,e):n===-2?hT(e,t,r):Vl(e,e[tt],n,t)}function hT(e,t,n){if(n===Zn)return _a(t,e);if(n===pa)return e0(t,e);if(n===ps)return v2(t,e)}function b2(e,t,n,r){let i=t[oi].queries[r];if(i.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let c=o[u];a.push(fT(t,c,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Eg(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=b2(e,t,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],c=t[-l];for(let d=sn;d<c.length;d++){let h=c[d];h[mo]===h[hn]&&Eg(h[tt],h,u,r)}if(c[ss]!==null){let d=c[ss];for(let h=0;h<d.length;h++){let f=d[h];Eg(f[tt],f,u,r)}}}}}return r}function pT(e,t){return e[oi].queries[t].queryList}function w2(e,t,n){let r=new Rd((n&4)===4);return ev(e,t,r,r.destroy),(t[oi]??=new vg).queries.push(new _g(r))-1}function mT(e,t,n){let r=An();return r.firstCreatePass&&(E2(r,new Ud(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),w2(r,_t(),t)}function gT(e,t,n,r){let i=An();if(i.firstCreatePass){let o=Tn();E2(i,new Ud(t,n,r),o.index),_T(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return w2(i,_t(),n)}function yT(e){return e.split(",").map(t=>t.trim())}function E2(e,t,n){e.queries===null&&(e.queries=new bg),e.queries.track(new wg(t,n))}function _T(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function n0(e,t){return e.queries.getByIndex(t)}function vT(e,t){let n=e[tt],r=n0(n,t);return r.crossesNgTemplate?Eg(n,e,t,[]):b2(n,e,r,t)}var ga=class{},af=class{};var zd=class extends ga{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Bd(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=pm(t);this._bootstrapComponents=Tb(o.bootstrap),this._r3Injector=Vm(t,n,[{provide:ga,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver},...r],Fi(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Vd=class extends af{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new zd(this.moduleType,t,[])}};var Wl=class extends ga{injector;componentFactoryResolver=new Bd(this);instance=null;constructor(t){super();let n=new es([...t.providers,{provide:ga,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver}],t.parent||kl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Jl(e,t,n=null){return new Wl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var bT=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=gm(!1,n.type),i=r.length>0?Jl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Xe({token:e,providedIn:"environment",factory:()=>new e(ht(_n))})}return e})();function Lt(e){return Zl(()=>{let t=x2(e),n=ke(fe({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Og.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(bT).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ji.Emulated,styles:e.styles||tr,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Eo("NgStandalone"),D2(n);let r=e.dependencies;return n.directiveDefs=Gv(r,wT),n.pipeDefs=Gv(r,V_),n.id=DT(n),n})}function wT(e){return ho(e)||mm(e)}function di(e){return Zl(()=>({type:e.type,bootstrap:e.bootstrap||tr,declarations:e.declarations||tr,imports:e.imports||tr,exports:e.exports||tr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ET(e,t){if(e==null)return co;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Xd.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function xT(e){if(e==null)return co;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function an(e){return Zl(()=>{let t=x2(e);return D2(t),t})}function x2(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||co,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||tr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:ET(e.inputs,t),outputs:xT(e.outputs),debugInfo:null}}function D2(e){e.features?.forEach(t=>t(e))}function Gv(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function DT(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function CT(e){return Object.getPrototypeOf(e.prototype).constructor}function Dr(e){let t=CT(e.type),n=!0,r=[e];for(;t;){let i;if(ai(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ze(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Qm(e.inputs),s.declaredInputs=Qm(e.declaredInputs),s.outputs=Qm(e.outputs);let a=i.hostBindings;a&&TT(e,a);let l=i.viewQuery,u=i.contentQueries;if(l&&MT(e,l),u&&AT(e,u),IT(e,i),N_(e.outputs,i.outputs),ai(i)&&i.data.animation){let c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Dr&&(n=!1)}}t=Object.getPrototypeOf(t)}ST(r)}function IT(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function ST(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=da(i.hostAttrs,n=da(n,i.hostAttrs))}}function Qm(e){return e===co?{}:e===tr?[]:e}function MT(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function AT(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function TT(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function kT(e,t,n,r,i,o,s,a){if(n.firstCreatePass){e.mergedAttrs=da(e.mergedAttrs,e.attrs);let c=e.tView=Ug(2,e,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),c.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),la(e,!1);let l=RT(n,t,e,r);bd()&&Zg(n,t,l,e),fa(l,t);let u=o2(l,t,l,e);t[r+xn]=u,Vg(t,u),lT(u,e,t)}function Hd(e,t,n,r,i,o,s,a,l,u,c){let d=n+xn,h;if(t.firstCreatePass){if(h=of(t,d,4,s||null,a||null),u!=null){let f=li(t.consts,u);h.localNames=[];for(let p=0;p<f.length;p+=2)h.localNames.push(f[p],-1)}}else h=t.data[d];return kT(h,e,t,n,r,i,o,l),u!=null&&Kg(e,h,c),h}var RT=NT;function NT(e,t,n,r){return wd(!0),t[Jt].createComment("")}var r0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var i0=new et("");function ms(e){return!!e&&typeof e.then=="function"}function C2(e){return!!e&&typeof e.subscribe=="function"}var I2=new et("");var o0=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Fe(I2,{optional:!0})??[];injector=Fe(gr);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Pn(this.injector,i);if(ms(o))n.push(o);else if(C2(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lf=new et("");function S2(){Sp(()=>{let e="";throw new Ze(600,e)})}function M2(e){return e.isBoundToModule}var OT=10;var xo=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Fe(Er);afterRenderManager=Fe(Vb);zonelessEnabled=Fe(Bl);rootEffectScheduler=Fe(Gm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Kt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Fe(Bi);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Dt(n=>!n))}constructor(){Fe(Kl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Fe(_n);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=gr.NULL){return this._injector.get(pn).run(()=>{Ft(10);let s=n instanceof sf;if(!this._injector.get(o0).done){let p="";throw new Ze(405,p)}let l;s?l=n:l=this._injector.get(Ql).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let u=M2(l)?void 0:this._injector.get(ga),c=r||l.selector,d=l.create(i,[],c,u),h=d.location.nativeElement,f=d.injector.get(i0,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),zl(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),Ft(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ft(12),this.tracingSnapshot!==null?this.tracingSnapshot.run($g.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Ze(101,!1);let n=ut(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ut(n),this.afterTick.next(),Ft(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fs,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<OT;)Ft(14),this.synchronizeOnce(),Ft(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fl(i))continue;let o=r&&!this.zonelessEnabled?0:1;t2(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;zl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(lf,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ze(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zl(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function fi(e,t,n,r){let i=_t(),o=ls();if(Gr(i,o,t)){let s=An(),a=zm();iA(a,i,e,t,n,r)}return fi}var VH=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var xg=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t,!0))}};function Jm(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function PT(e,t,n){let r,i,o=0,s=e.length-1,a=void 0;if(Array.isArray(t)){let l=t.length-1;for(;o<=s&&o<=l;){let u=e.at(o),c=t[o],d=Jm(o,u,o,c,n);if(d!==0){d<0&&e.updateValue(o,c),o++;continue}let h=e.at(s),f=t[l],p=Jm(s,h,l,f,n);if(p!==0){p<0&&e.updateValue(s,f),s--,l--;continue}let m=n(o,u),g=n(s,h),_=n(o,c);if(Object.is(_,g)){let b=n(l,f);Object.is(b,m)?(e.swap(o,s),e.updateValue(s,f),l--,s--):e.move(s,o),e.updateValue(o,c),o++;continue}if(r??=new $d,i??=qv(e,o,s,n),Dg(e,r,o,_))e.updateValue(o,c),o++,s++;else if(i.has(_))r.set(m,e.detach(o)),s--;else{let b=e.create(o,t[o]);e.attach(o,b),o++,s++}}for(;o<=l;)Wv(e,r,n,o,t[o]),o++}else if(t!=null){let l=t[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let c=e.at(o),d=u.value,h=Jm(o,c,o,d,n);if(h!==0)h<0&&e.updateValue(o,d),o++,u=l.next();else{r??=new $d,i??=qv(e,o,s,n);let f=n(o,d);if(Dg(e,r,o,f))e.updateValue(o,d),o++,s++,u=l.next();else if(!i.has(f))e.attach(o,e.create(o,d)),o++,s++,u=l.next();else{let p=n(o,c);r.set(p,e.detach(o)),s--}}}for(;!u.done;)Wv(e,r,n,e.length,u.value),u=l.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(l=>{e.destroy(l)})}function Dg(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function Wv(e,t,n,r,i){if(Dg(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function qv(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var $d=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function ln(e,t,n,r,i,o,s,a){Eo("NgControlFlow");let l=_t(),u=An(),c=li(u.consts,o);return Hd(l,u,e,t,n,r,i,c,256,s,a),s0}function s0(e,t,n,r,i,o,s,a){Eo("NgControlFlow");let l=_t(),u=An(),c=li(u.consts,o);return Hd(l,u,e,t,n,r,i,c,512,s,a),s0}function un(e,t){Eo("NgControlFlow");let n=_t(),r=ls(),i=n[r]!==Yn?n[r]:-1,o=i!==-1?Gd(n,xn+i):void 0,s=0;if(Gr(n,r,e)){let a=ut(null);try{if(o!==void 0&&a2(o,s),e!==-1){let l=xn+e,u=Gd(n,l),c=Mg(n[tt],l),d=u2(u,c,n),h=nf(n,c,t,{dehydratedView:d});rf(u,h,s,Hl(c,d))}}finally{ut(a)}}else if(o!==void 0){let a=s2(o,s);a!==void 0&&(a[Qt]=t)}}var Cg=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-sn}};function Xl(e){return e}function a0(e,t){return t}var Ig=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function gs(e,t,n,r,i,o,s,a,l,u,c,d,h){Eo("NgControlFlow");let f=_t(),p=An(),m=l!==void 0,g=_t(),_=a?s.bind(g[nr][Qt]):s,b=new Ig(m,_);g[xn+e]=b,Hd(f,p,e+1,t,n,r,i,li(p.consts,o),256),m&&Hd(f,p,e+2,l,u,c,d,li(p.consts,h),512)}var Sg=class extends xg{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-sn}at(t){return this.getLView(t)[Qt].$implicit}attach(t,n){let r=n[ia];this.needsIndexUpdate||=t!==this.length,rf(this.lContainer,n,t,Hl(this.templateTNode,r))}detach(t,n){return this.needsIndexUpdate||=t!==this.length-1,n&&FT(this.lContainer,t),LT(this.lContainer,t)}create(t,n){let r=pg(this.lContainer,this.templateTNode.tView.ssrId),i=nf(this.hostLView,this.templateTNode,new Cg(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){ef(t[tt],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[Qt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Qt].$index=t}getLView(t){return BT(this.lContainer,t)}};function ys(e){let t=ut(null),n=Li();try{let r=_t(),i=r[tt],o=r[n],s=n+1,a=Gd(r,s);if(o.liveCollection===void 0){let u=Mg(i,s);o.liveCollection=new Sg(a,r,u)}else o.liveCollection.reset();let l=o.liveCollection;if(PT(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=ls(),c=l.length===0;if(Gr(r,u,c)){let d=n+2,h=Gd(r,d);if(c){let f=Mg(i,d),p=u2(h,f,r),m=nf(r,f,void 0,{dehydratedView:p});rf(h,m,0,Hl(f,p))}else i.firstUpdatePass&&MA(h),a2(h,0)}}}finally{ut(t)}}function Gd(e,t){return e[t]}function FT(e,t){if(e.length<=sn)return;let n=sn+t,r=e[n];r&&r[os]&&(r[os].skipLeaveAnimations=!0)}function LT(e,t){return Gl(e,t)}function BT(e,t){return s2(e,t)}function Mg(e,t){return Pl(e,t)}function He(e,t,n){let r=_t(),i=ls();if(Gr(r,i,t)){let o=An(),s=zm();Q5(s,r,e,t,r[Jt],n)}return He}function Zv(e,t,n,r,i){Qg(t,e,n,i?"class":"style",r)}function Re(e,t,n,r){let i=_t(),o=i[tt],s=e+xn,a=o.firstCreatePass?h2(s,i,2,t,rA,rv(),n,r):o.data[s];if(Zb(a,i,e,t,A2),fd(a)){let l=i[tt];qb(l,i,a),Cb(l,a,i)}return r!=null&&Kg(i,a),Re}function Ne(){let e=An(),t=Tn(),n=Yb(t);return e.firstCreatePass&&p2(e,n),km(n)&&Rm(),Tm(),n.classesWithoutHost!=null&&RM(n)&&Zv(e,n,_t(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&NM(n)&&Zv(e,n,_t(),n.stylesWithoutHost,!1),Ne}function Ke(e,t,n,r){return Re(e,t,n,r),Ne(),Ke}function Pt(e,t,n,r){let i=_t(),o=i[tt],s=e+xn,a=o.firstCreatePass?HA(s,o,2,t,n,r):o.data[s];return Zb(a,i,e,t,A2),r!=null&&Kg(i,a),Pt}function Nt(){let e=Tn(),t=Yb(e);return km(t)&&Rm(),Tm(),Nt}function hi(e,t,n,r){return Pt(e,t,n,r),Nt(),hi}var A2=(e,t,n,r,i)=>(wd(!0),Rb(t[Jt],r,yv()));function eu(){return _t()}var tu="en-US";var jT=tu;function T2(e){typeof e=="string"&&(jT=e.toLowerCase().replace(/_/g,"-"))}function At(e,t,n){let r=_t(),i=An(),o=Tn();return UT(i,r,r[Jt],o,e,t,n),At}function UT(e,t,n,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=Ym(r,t,o),WA(r,e,t,s,n,i,o,l)&&(a=!1)),a){let u=r.outputs?.[i],c=r.hostDirectiveOutputs?.[i];if(c&&c.length)for(let d=0;d<c.length;d+=2){let h=c[d],f=c[d+1];l??=Ym(r,t,o),Vv(r,t,h,f,i,l)}if(u&&u.length)for(let d of u)l??=Ym(r,t,o),Vv(r,t,d,i,i,l)}}function Tt(e=1){return gv(e)}function l0(e,t,n,r){gT(e,t,n,r)}function u0(e,t,n){mT(e,t,n)}function nu(e){let t=_t(),n=An(),r=Bm();yd(r+1);let i=n0(n,r);if(e.dirty&&K_(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=vT(t,r);e.reset(o,WM),e.notifyOnChanges()}return!0}return!1}function ru(){return pT(_t(),Bm())}function xd(e,t){return e<<17|t<<2}function hs(e){return e>>17&32767}function zT(e){return(e&2)==2}function VT(e,t){return e&131071|t<<17}function Ag(e){return e|2}function ya(e){return(e&131068)>>2}function Xm(e,t){return e&-131069|t<<2}function HT(e){return(e&1)===1}function Tg(e){return e|1}function $T(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=hs(s),l=ya(s);e[r]=n;let u=!1,c;if(Array.isArray(n)){let d=n;c=d[1],(c===null||ra(d,c)>0)&&(u=!0)}else c=n;if(i)if(l!==0){let h=hs(e[a+1]);e[r+1]=xd(h,a),h!==0&&(e[h+1]=Xm(e[h+1],r)),e[a+1]=VT(e[a+1],r)}else e[r+1]=xd(a,0),a!==0&&(e[a+1]=Xm(e[a+1],r)),a=r;else e[r+1]=xd(l,0),a===0?a=r:e[l+1]=Xm(e[l+1],r),l=r;u&&(e[r+1]=Ag(e[r+1])),Yv(e,c,r,!0),Yv(e,c,r,!1),GT(t,c,e,r,o),s=xd(a,l),o?t.classBindings=s:t.styleBindings=s}function GT(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&ra(o,t)>=0&&(n[r+1]=Tg(n[r+1]))}function Yv(e,t,n,r){let i=e[n+1],o=t===null,s=r?hs(i):ya(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],u=e[s+1];WT(l,t)&&(a=!0,e[s+1]=r?Tg(u):Ag(u)),s=r?hs(u):ya(u)}a&&(e[n+1]=r?Ag(i):Tg(i))}function WT(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?ra(e,t)>=0:!1}function uf(e,t,n){return k2(e,t,n,!1),uf}function iu(e,t){return k2(e,t,null,!0),iu}function k2(e,t,n,r){let i=_t(),o=An(),s=Lm(2);if(o.firstUpdatePass&&ZT(o,e,s,r),t!==Yn&&Gr(i,s,t)){let a=o.data[Li()];XT(o,a,i,i[Jt],e,i[s+1]=ek(t,n),r,s)}}function qT(e,t){return t>=e.expandoStartIndex}function ZT(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Li()],s=qT(e,n);tk(o,r)&&t===null&&!s&&(t=!1),t=YT(i,o,t,r),$T(i,o,t,n,s,r)}}function YT(e,t,n,r){let i=fv(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=eg(null,e,t,n,r),n=ql(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=eg(i,e,t,n,r),o===null){let l=KT(e,t,r);l!==void 0&&Array.isArray(l)&&(l=eg(null,e,t,l[1],r),l=ql(l,t.attrs,r),QT(e,t,r,l))}else o=JT(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function KT(e,t,n){let r=n?t.classBindings:t.styleBindings;if(ya(r)!==0)return e[hs(r)]}function QT(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[hs(i)]=r}function JT(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=ql(r,s,n)}return ql(r,t.attrs,n)}function eg(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=ql(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function ql(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),z_(e,s,n?!0:t[++o]))}return e===void 0?null:e}function XT(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,u=l[a+1],c=HT(u)?Kv(l,t,n,i,ya(u),s):void 0;if(!Wd(c)){Wd(o)||zT(u)&&(o=Kv(l,null,n,i,a,s));let d=Dm(Li(),n);W5(r,s,d,i,o)}}function Kv(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=c===null,h=n[i+1];h===Yn&&(h=d?tr:void 0);let f=d?ud(h,r):c===r?h:void 0;if(u&&!Wd(f)&&(f=ud(l,r)),Wd(f)&&(a=f,s))return a;let p=e[i+1];i=s?hs(p):ya(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=ud(l,r))}return a}function Wd(e){return e!==void 0}function ek(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Fi(Qd(e)))),e}function tk(e,t){return(e.flags&(t?8:16))!==0}function Me(e,t=""){let n=_t(),r=An(),i=e+xn,o=r.firstCreatePass?of(r,i,1,t,null):r.data[i],s=nk(r,n,o,t,e);n[i]=s,bd()&&Zg(r,n,s,o),la(o,!1)}var nk=(e,t,n,r,i)=>(wd(!0),y5(t[Jt],r));function rk(e,t,n,r=""){return Gr(e,ls(),n)?t+uo(n)+r:Yn}function ik(e,t,n,r,i,o=""){let s=av(),a=m2(e,s,n,i);return Lm(2),a?t+uo(n)+r+uo(i)+o:Yn}function Cr(e){return zi("",e),Cr}function zi(e,t,n){let r=_t(),i=rk(r,e,t,n);return i!==Yn&&R2(r,Li(),i),zi}function cf(e,t,n,r,i){let o=_t(),s=ik(o,e,t,n,r,i);return s!==Yn&&R2(o,Li(),s),cf}function R2(e,t,n){let r=Dm(t,e);_5(e[Jt],r,n)}function c0(e){return Gr(_t(),ls(),e)?uo(e):Yn}function ok(e,t,n){let r=An();if(r.firstCreatePass){let i=ai(e);kg(n,r.data,r.blueprint,i,!0),kg(t,r.data,r.blueprint,i,!1)}}function kg(e,t,n,r,i){if(e=En(e),Array.isArray(e))for(let o=0;o<e.length;o++)kg(e[o],t,n,r,i);else{let o=An(),s=_t(),a=Tn(),l=Xo(e)?e:En(e.provide),u=_m(e),c=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Xo(e)||!e.multi){let f=new ds(u,i,Ye,null),p=ng(l,t,i?c:c+h,d);p===-1?(ig(kd(a,s),o,l),tg(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=ng(l,t,c+h,d),p=ng(l,t,c,c+h),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){ig(kd(a,s),o,l);let _=lk(i?ak:sk,n.length,i,r,u,e);!i&&g&&(n[p].providerFactory=_),tg(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(_),s.push(_)}else{let _=N2(n[i?p:f],u,!i&&r);tg(o,e,f>-1?f:p,_)}!i&&r&&g&&n[p].componentProviders++}}}function tg(e,t,n,r){let i=Xo(t),o=W_(t);if(i||o){let l=(o?En(t.useClass):t).prototype.ngOnDestroy;if(l){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let c=u.indexOf(n);c===-1?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function N2(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ng(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function sk(e,t,n,r,i){return Rg(this.multi,[])}function ak(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Vl(r,r[tt],this.providerFactory.index,i);s=l.slice(0,a),Rg(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],Rg(o,s);return s}function Rg(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function lk(e,t,n,r,i,o){let s=new ds(e,n,Ye,null);return s.multi=[],s.index=t,s.componentProviders=0,N2(s,i,r&&!n),s}function Do(e,t=[]){return n=>{n.providersResolver=(r,i)=>ok(r,i?i(e):e,t)}}function d0(e,t,n){let r=md()+e,i=_t();return i[r]===Yn?t0(i,r,n?t.call(n):t()):$A(i,r)}function df(e,t,n,r){return uk(_t(),md(),e,t,n,r)}function f0(e,t,n,r,i,o){return ck(_t(),md(),e,t,n,r,i,o)}function O2(e,t){let n=e[t];return n===Yn?void 0:n}function uk(e,t,n,r,i,o){let s=t+n;return Gr(e,s,i)?t0(e,s+1,o?r.call(o,i):r(i)):O2(e,s+1)}function ck(e,t,n,r,i,o,s,a){let l=t+n;return GA(e,l,i,o,s)?t0(e,l+3,a?r.call(a,i,o,s):r(i,o,s)):O2(e,l+3)}var qd=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},h0=(()=>{class e{compileModuleSync(n){return new Vd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=pm(n),o=Tb(i.declarations).reduce((s,a)=>{let l=ho(a);return l&&s.push(new ma(l)),s},[]);return new qd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var dk=(()=>{class e{zone=Fe(pn);changeDetectionScheduler=Fe(ts);applicationRef=Fe(xo);applicationErrorHandler=Fe(Er);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),P2=new et("",{factory:()=>!1});function p0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new pn(ke(fe({},g0()),{scheduleInRootZone:n})),[{provide:pn,useFactory:e},{provide:fo,multi:!0,useFactory:()=>{let r=Fe(dk,{optional:!0});return()=>r.initialize()}},{provide:fo,multi:!0,useFactory:()=>{let r=Fe(fk);return()=>{r.initialize()}}},t===!0?{provide:Hm,useValue:!0}:[],{provide:$m,useValue:n??jb},{provide:Er,useFactory:()=>{let r=Fe(pn),i=Fe(_n),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(ri),o.handleError(s))})}}}]}function m0(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=p0({ngZoneFactory:()=>{let i=g0(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Eo("NgZone_CoalesceEvent"),new pn(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Al([{provide:P2,useValue:!0},{provide:Bl,useValue:!1},r])}function g0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var fk=(()=>{class e{subscription=new nn;initialized=!1;zone=Fe(pn);pendingTasks=Fe(Bi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pn.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var F2=(()=>{class e{applicationErrorHandler=Fe(Er);appRef=Fe(xo);taskService=Fe(Bi);ngZone=Fe(pn);zonelessEnabled=Fe(Bl);tracing=Fe(Kl,{optional:!0});disableScheduling=Fe(Hm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new nn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Fe($m,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Fd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Rv:Ub;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hk(){return typeof $localize<"u"&&$localize.locale||tu}var y0=new et("",{providedIn:"root",factory:()=>Fe(y0,{optional:!0,skipSelf:!0})||hk()});function Cn(e){return T_(e)}function ba(e,t){return Tc(e,t?.equal)}var L2=class{[On];constructor(t){this[On]=t}destroy(){this[On].destroy()}};var U2=Symbol("InputSignalNode#UNSET"),Ck=ke(fe({},kc),{transformFn:void 0,applyValueToInputSignal(e,t){$s(e,t)}});function z2(e,t){let n=Object.create(Ck);n.value=e,n.transformFn=t?.transform;function r(){if(zs(n),n.value===U2){let i=null;throw new Ze(-950,i)}return n.value}return r[On]=n,r}var hf=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Yl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Ik=new et("");Ik.__NG_ELEMENT_ID__=e=>{let t=Tn();if(t===null)throw new Ze(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new Ze(204,!1)};function B2(e,t){return z2(e,t)}function Sk(e){return z2(U2,e)}var V2=(B2.required=Sk,B2);var _0=new et(""),Mk=new et("");function ou(e){return!e.moduleRef}function Ak(e){let t=ou(e)?e.r3Injector:e.moduleRef.injector,n=t.get(pn);return n.run(()=>{ou(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Er),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ou(e)){let o=()=>t.destroy(),s=e.platformInjector.get(_0);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(_0);s.add(o),e.moduleRef.onDestroy(()=>{zl(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return kk(r,n,()=>{let o=t.get(Bi),s=o.add(),a=t.get(o0);return a.runInitializers(),a.donePromise.then(()=>{let l=t.get(y0,tu);if(T2(l||tu),!t.get(Mk,!0))return ou(e)?t.get(xo):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ou(e)){let c=t.get(xo);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return Tk?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var Tk;function kk(e,t,n){try{let r=n();return ms(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var ff=null;function Rk(e=[],t){return gr.create({name:t,providers:[{provide:Tl,useValue:"platform"},{provide:_0,useValue:new Set([()=>ff=null])},...e]})}function Nk(e=[]){if(ff)return ff;let t=Rk(e);return ff=t,S2(),Ok(t),t}function Ok(e){let t=e.get(Yd,null);Pn(e,()=>{t?.forEach(n=>n())})}var wa=(()=>{class e{static __NG_ELEMENT_ID__=Pk}return e})();function Pk(e){return Fk(Tn(),_t(),(e&16)===16)}function Fk(e,t,n){if(yo(e)&&!n){let r=br(e.index,t);return new bo(r,r)}else if(e.type&175){let r=t[nr];return new bo(r,t)}return null}function H2(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;Ft(8);try{let o=i?.injector??Nk(r),s=[p0({}),{provide:ts,useExisting:F2},vv,...n||[]],a=new Wl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Ak({r3Injector:a.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{Ft(9)}}function su(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var W2=null;function Sr(){return W2}function v0(e){W2??=e}var au=class{},b0=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:()=>Fe(q2),providedIn:"platform"})}return e})();var q2=(()=>{class e extends b0{_location;_history;_doc=Fe(Dn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sr().getBaseHref(this._doc)}onPopState(n){let r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Sr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Z2(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function $2(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Co(e){return e&&e[0]!=="?"?`?${e}`:e}var Ea=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:()=>Fe(K2),providedIn:"root"})}return e})(),Y2=new et(""),K2=(()=>{class e extends Ea{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Fe(Dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Z2(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Co(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Co(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Co(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ht(b0),ht(Y2,8))};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xa=(()=>{class e{_subject=new Kt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=jk($2(G2(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Co(r))}normalize(n){return e.stripTrailingSlash(Bk(this._basePath,G2(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Co(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Co(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Co;static joinWithSlash=Z2;static stripTrailingSlash=$2;static \u0275fac=function(r){return new(r||e)(ht(Ea))};static \u0275prov=Xe({token:e,factory:()=>Lk(),providedIn:"root"})}return e})();function Lk(){return new xa(ht(Ea))}function Bk(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function G2(e){return e.replace(/\/index.html$/,"")}function jk(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var w0=/\s+/,Q2=[],lu=(()=>{class e{_ngEl;_renderer;initialClasses=Q2;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(w0):Q2}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(w0):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(w0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(Ye(Zn),Ye(xr))};static \u0275dir=an({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Mr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=di({type:e});static \u0275inj=jr({})}return e})();function E0(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var uu=class{};var J2="browser";var cu=class{_doc;constructor(t){this._doc=t}manager},pf=(()=>{class e extends cu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(ht(Dn))};static \u0275prov=Xe({token:e,factory:e.\u0275fac})}return e})(),gf=new et(""),S0=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof pf));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof pf);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Ze(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(ht(gf),ht(pn))};static \u0275prov=Xe({token:e,factory:e.\u0275fac})}return e})(),x0="ng-app-id";function ew(e){for(let t of e)t.remove()}function tw(e,t){let n=t.createElement("style");return n.textContent=e,n}function zk(e,t,n,r){let i=e.head?.querySelectorAll(`style[${x0}="${t}"],link[${x0}="${t}"]`);if(i)for(let o of i)o.removeAttribute(x0),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function C0(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var M0=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,zk(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,tw);r?.forEach(i=>this.addUsage(i,this.external,C0))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(ew(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ew(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,tw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,C0(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(ht(Dn),ht(Zd),ht(Kd,8),ht(va))};static \u0275prov=Xe({token:e,factory:e.\u0275fac})}return e})(),D0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},A0=/%COMP%/g;var rw="%COMP%",Vk=`_nghost-${rw}`,Hk=`_ngcontent-${rw}`,$k=!0,Gk=new et("",{providedIn:"root",factory:()=>$k});function Wk(e){return Hk.replace(A0,e)}function qk(e){return Vk.replace(A0,e)}function iw(e,t){return t.map(n=>n.replace(A0,e))}var T0=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,u=null,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new du(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof mf?i.applyToHost(n):i instanceof fu&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case ji.Emulated:o=new mf(l,u,r,this.appId,c,s,a,d,h);break;case ji.ShadowDom:return new I0(l,u,n,r,s,a,this.nonce,d,h);default:o=new fu(l,u,r,c,s,a,d,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(ht(S0),ht(M0),ht(Zd),ht(Gk),ht(Dn),ht(va),ht(pn),ht(Kd),ht(Kl,8))};static \u0275prov=Xe({token:e,factory:e.\u0275fac})}return e})(),du=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(D0[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(nw(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(nw(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new Ze(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=D0[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=D0[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Ui.DashCase|Ui.Important)?t.style.setProperty(n,r,i&Ui.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ui.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Sr().getGlobalEventTarget(this.doc,t),!t))throw new Ze(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function nw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var I0=class extends du{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,u){super(t,o,s,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=i.styles;c=iw(i.id,c);for(let h of c){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=i.getExternalStyles?.();if(d)for(let h of d){let f=C0(h,o);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fu=class extends du{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,u){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let c=r.styles;this.styles=u?iw(u,c):c,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ha.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},mf=class extends fu{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,u){let c=i+"-"+r.id;super(t,n,r,o,s,a,l,u,c),this.contentAttr=Wk(c),this.hostAttr=qk(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var yf=class e extends au{supportsDOMEvents=!0;static makeCurrent(){v0(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=Zk();return n==null?null:Yk(n)}resetBaseElement(){hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return E0(document.cookie,t)}},hu=null;function Zk(){return hu=hu||document.head.querySelector("base"),hu?hu.getAttribute("href"):null}function Yk(e){return new URL(e,document.baseURI).pathname}var Kk=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac})}return e})(),ow=["alt","control","meta","shift"],Qk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jk={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},sw=(()=>{class e extends cu{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ow.forEach(u=>{let c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=Qk[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ow.forEach(s=>{if(s!==i){let a=Jk[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(ht(Dn))};static \u0275prov=Xe({token:e,factory:e.\u0275fac})}return e})();function k0(e,t,n){let r=fe({rootComponent:e,platformRef:n?.platformRef},Xk(t));return H2(r)}function Xk(e){return{appProviders:[...i3,...e?.providers??[]],platformProviders:r3}}function e3(){yf.makeCurrent()}function t3(){return new ri}function n3(){return Pg(document),document}var r3=[{provide:va,useValue:J2},{provide:Yd,useValue:e3,multi:!0},{provide:Dn,useFactory:n3}];var i3=[{provide:Tl,useValue:"root"},{provide:ri,useFactory:t3},{provide:gf,useClass:pf,multi:!0,deps:[Dn]},{provide:gf,useClass:sw,multi:!0,deps:[Dn]},T0,M0,S0,{provide:fs,useExisting:T0},{provide:uu,useClass:Kk},[]];var aw=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(ht(Dn))};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ft="primary",Mu=Symbol("RouteTitle"),F0=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function bs(e){return new F0(e)}function mw(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function s3(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!pi(e[n],t[n]))return!1;return!0}function pi(e,t){let n=e?L0(e):void 0,r=t?L0(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gw(e[i],t[i]))return!1;return!0}function L0(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function gw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function yw(e){return e.length>0?e[e.length-1]:null}function $i(e){return jp(e)?e:ms(e)?Ht(Promise.resolve(e)):lt(e)}var a3={exact:vw,subset:bw},_w={exact:l3,subset:u3,ignored:()=>!0};function lw(e,t,n){return a3[n.paths](e.root,t.root,n.matrixParams)&&_w[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function l3(e,t){return pi(e,t)}function vw(e,t,n){if(!_s(e.segments,t.segments)||!bf(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!vw(e.children[r],t.children[r],n))return!1;return!0}function u3(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>gw(e[n],t[n]))}function bw(e,t,n){return ww(e,t,t.segments,n)}function ww(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!_s(i,n)||t.hasChildren()||!bf(i,n,r))}else if(e.segments.length===n.length){if(!_s(e.segments,n)||!bf(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!bw(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!_s(e.segments,i)||!bf(e.segments,i,r)||!e.children[ft]?!1:ww(e.children[ft],t,o,r)}}function bf(e,t,n){return t.every((r,i)=>_w[n](e[i].parameters,r.parameters))}var gi=class{root;queryParams;fragment;_queryParamMap;constructor(t=new kt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=bs(this.queryParams),this._queryParamMap}toString(){return f3.serialize(this)}},kt=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wf(this)}},Io=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=bs(this.parameters),this._parameterMap}toString(){return xw(this)}};function c3(e,t){return _s(e,t)&&e.every((n,r)=>pi(n.parameters,t[r].parameters))}function _s(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function d3(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===ft&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ft&&(n=n.concat(t(i,r)))}),n}var Au=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:()=>new ws,providedIn:"root"})}return e})(),ws=class{parse(t){let n=new j0(t);return new gi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${pu(t.root,!0)}`,r=m3(t.queryParams),i=typeof t.fragment=="string"?`#${h3(t.fragment)}`:"";return`${n}${r}${i}`}},f3=new ws;function wf(e){return e.segments.map(t=>xw(t)).join("/")}function pu(e,t){if(!e.hasChildren())return wf(e);if(t){let n=e.children[ft]?pu(e.children[ft],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ft&&r.push(`${i}:${pu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=d3(e,(r,i)=>i===ft?[pu(e.children[ft],!1)]:[`${i}:${pu(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[ft]!=null?`${wf(e)}/${n[0]}`:`${wf(e)}/(${n.join("//")})`}}function Ew(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _f(e){return Ew(e).replace(/%3B/gi,";")}function h3(e){return encodeURI(e)}function B0(e){return Ew(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ef(e){return decodeURIComponent(e)}function uw(e){return Ef(e.replace(/\+/g,"%20"))}function xw(e){return`${B0(e.path)}${p3(e.parameters)}`}function p3(e){return Object.entries(e).map(([t,n])=>`;${B0(t)}=${B0(n)}`).join("")}function m3(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${_f(n)}=${_f(i)}`).join("&"):`${_f(n)}=${_f(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var g3=/^[^\/()?;#]+/;function R0(e){let t=e.match(g3);return t?t[0]:""}var y3=/^[^\/()?;=#]+/;function _3(e){let t=e.match(y3);return t?t[0]:""}var v3=/^[^=?&#]+/;function b3(e){let t=e.match(v3);return t?t[0]:""}var w3=/^[^&#]+/;function E3(e){let t=e.match(w3);return t?t[0]:""}var j0=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ft]=new kt(t,n)),r}parseSegment(){let t=R0(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ze(4009,!1);return this.capture(t),new Io(Ef(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=_3(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=R0(this.remaining);i&&(r=i,this.capture(r))}t[Ef(n)]=Ef(r)}parseQueryParam(t){let n=b3(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=E3(this.remaining);s&&(r=s,this.capture(r))}let i=uw(n),o=uw(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=R0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ze(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ft);let s=this.parseChildren();n[o]=Object.keys(s).length===1&&s[ft]?s[ft]:new kt([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ze(4011,!1)}};function Dw(e){return e.segments.length>0?new kt([],{[ft]:e}):e}function Cw(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=Cw(i);if(r===ft&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new kt(e.segments,t);return x3(n)}function x3(e){if(e.numberOfChildren===1&&e.children[ft]){let t=e.children[ft];return new kt(e.segments.concat(t.segments),t.children)}return e}function So(e){return e instanceof gi}function Iw(e,t,n=null,r=null){let i=Sw(e);return Mw(i,t,n,r)}function Sw(e){let t;function n(o){let s={};for(let l of o.children){let u=n(l);s[l.outlet]=u}let a=new kt(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=Dw(r);return t??i}function Mw(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return N0(i,i,i,n,r);let o=D3(t);if(o.toRoot())return N0(i,i,new kt([],{}),n,r);let s=C3(o,i,e),a=s.processChildren?gu(s.segmentGroup,s.index,o.commands):Tw(s.segmentGroup,s.index,o.commands);return N0(i,s.segmentGroup,a,n,r)}function xf(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function vu(e){return typeof e=="object"&&e!=null&&e.outlets}function N0(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let s;e===t?s=n:s=Aw(e,t,n);let a=Dw(Cw(s));return new gi(a,o,i)}function Aw(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Aw(o,t,n)}),new kt(e.segments,r)}var Df=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&xf(r[0]))throw new Ze(4003,!1);let i=r.find(vu);if(i&&i!==yw(r))throw new Ze(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function D3(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Df(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Df(n,t,r)}var Ia=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function C3(e,t,n){if(e.isAbsolute)return new Ia(t,!0,0);if(!n)return new Ia(t,!1,NaN);if(n.parent===null)return new Ia(n,!0,0);let r=xf(e.commands[0])?0:1,i=n.segments.length-1+r;return I3(n,i,e.numberOfDoubleDots)}function I3(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ze(4005,!1);i=r.segments.length}return new Ia(r,!1,i-o)}function S3(e){return vu(e[0])?e[0].outlets:{[ft]:e}}function Tw(e,t,n){if(e??=new kt([],{}),e.segments.length===0&&e.hasChildren())return gu(e,t,n);let r=M3(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new kt(e.segments.slice(0,r.pathIndex),{});return o.children[ft]=new kt(e.segments.slice(r.pathIndex),e.children),gu(o,0,i)}else return r.match&&i.length===0?new kt(e.segments,{}):r.match&&!e.hasChildren()?U0(e,t,n):r.match?gu(e,0,i):U0(e,t,n)}function gu(e,t,n){if(n.length===0)return new kt(e.segments,{});{let r=S3(n),i={};if(Object.keys(r).some(o=>o!==ft)&&e.children[ft]&&e.numberOfChildren===1&&e.children[ft].segments.length===0){let o=gu(e.children[ft],t,n);return new kt(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Tw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new kt(e.segments,i)}}function M3(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(vu(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!dw(l,u,s))return o;r+=2}else{if(!dw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function U0(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(vu(o)){let l=A3(o.outlets);return new kt(r,l)}if(i===0&&xf(n[0])){let l=e.segments[t];r.push(new Io(l.path,cw(n[0]))),i++;continue}let s=vu(o)?o.outlets[ft]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&xf(a)?(r.push(new Io(s,cw(a))),i+=2):(r.push(new Io(s,{})),i++)}return new kt(r,{})}function A3(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=U0(new kt([],{}),0,r))}),t}function cw(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function dw(e,t,n){return e==n.path&&pi(t,n.parameters)}var yu="imperative",vn=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(vn||{}),or=class{id;url;constructor(t,n){this.id=t,this.url=n}},Es=class extends or{type=vn.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zr=class extends or{urlAfterRedirects;type=vn.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fn=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Fn||{}),bu=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(bu||{}),mi=class extends or{reason;code;type=vn.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vi=class extends or{reason;code;type=vn.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Ma=class extends or{error;target;type=vn.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wu=class extends or{urlAfterRedirects;state;type=vn.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cf=class extends or{urlAfterRedirects;state;type=vn.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class extends or{urlAfterRedirects;state;shouldActivate;type=vn.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sf=class extends or{urlAfterRedirects;state;type=vn.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mf=class extends or{urlAfterRedirects;state;type=vn.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Af=class{route;type=vn.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tf=class{route;type=vn.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kf=class{snapshot;type=vn.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rf=class{snapshot;type=vn.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nf=class{snapshot;type=vn.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Of=class{snapshot;type=vn.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Eu=class{},Aa=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function T3(e){return!(e instanceof Eu)&&!(e instanceof Aa)}function k3(e,t){return e.providers&&!e._injector&&(e._injector=Jl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function qr(e){return e.outlet||ft}function R3(e,t){let n=e.filter(r=>qr(r)===t);return n.push(...e.filter(r=>qr(r)!==t)),n}function Ra(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Pf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ra(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Na(this.rootInjector)}},Na=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Pf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(ht(_n))};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ff=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=z0(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=z0(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=V0(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return V0(t,this._root).map(n=>n.value)}};function z0(e,t){if(e===t.value)return t;for(let n of t.children){let r=z0(e,n);if(r)return r}return null}function V0(e,t){if(e===t.value)return[t];for(let n of t.children){let r=V0(e,n);if(r.length)return r.unshift(t),r}return[]}var ir=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ca(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var xu=class extends Ff{snapshot;constructor(t,n){super(t),this.snapshot=n,K0(this,t)}toString(){return this.snapshot.toString()}};function kw(e){let t=N3(e),n=new wn([new Io("",{})]),r=new wn({}),i=new wn({}),o=new wn({}),s=new wn(""),a=new Hi(n,r,o,s,i,ft,e,t.root);return a.snapshot=t.root,new xu(new ir(a,[]),t)}function N3(e){let t={},n={},r={},o=new vs([],t,r,"",n,ft,e,null,{});return new Du("",new ir(o,[]))}var Hi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Dt(u=>u[Mu]))??lt(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Dt(t=>bs(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Dt(t=>bs(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lf(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:fe(fe({},t.params),e.params),data:fe(fe({},t.data),e.data),resolve:fe(fe(fe(fe({},e.data),t.data),i?.data),e._resolvedData)}:r={params:fe({},e.params),data:fe({},e.data),resolve:fe(fe({},e.data),e._resolvedData??{})},i&&Nw(i)&&(r.resolve[Mu]=i.title),r}var vs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Mu]}constructor(t,n,r,i,o,s,a,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bs(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Du=class extends Ff{url;constructor(t,n){super(n),this.url=t,K0(this,n)}toString(){return Rw(this._root)}};function K0(e,t){t.value._routerState=e,t.children.forEach(n=>K0(e,n))}function Rw(e){let t=e.children.length>0?` { ${e.children.map(Rw).join(", ")} } `:"";return`${e.value}${t}`}function O0(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,pi(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),pi(t.params,n.params)||e.paramsSubject.next(n.params),s3(t.url,n.url)||e.urlSubject.next(n.url),pi(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function H0(e,t){let n=pi(e.params,t.params)&&c3(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||H0(e.parent,t.parent))}function Nw(e){return typeof e.title=="string"||e.title===null}var Ow=new et(""),Tu=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ft;activateEvents=new Xt;deactivateEvents=new Xt;attachEvents=new Xt;detachEvents=new Xt;routerOutletData=V2(void 0);parentContexts=Fe(Na);location=Fe(ps);changeDetector=Fe(wa);inputBinder=Fe(zf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ze(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ze(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ze(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Ze(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new $0(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=an({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ci]})}return e})(),$0=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Hi?this.route:t===Na?this.childContexts:t===Ow?this.outletData:this.parent.get(t,n)}},zf=new et("");var Q0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Lt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ke(0,"router-outlet")},dependencies:[Tu],encapsulation:2})}return e})();function J0(e){let t=e.children&&e.children.map(J0),n=t?ke(fe({},e),{children:t}):fe({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ft&&(n.component=Q0),n}function O3(e,t,n){let r=Cu(e,t._root,n?n._root:void 0);return new xu(r,t)}function Cu(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=P3(e,t,n);return new ir(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Cu(e,a)),s}}let r=F3(t.value),i=t.children.map(o=>Cu(e,o));return new ir(r,i)}}function P3(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Cu(e,r,i);return Cu(e,r)})}function F3(e){return new Hi(new wn(e.url),new wn(e.params),new wn(e.queryParams),new wn(e.fragment),new wn(e.data),e.outlet,e.component,e)}var Ta=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Pw="ngNavigationCancelingError";function Bf(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=So(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Fw(!1,Fn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Fw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Pw]=!0,n.cancellationCode=t,n}function L3(e){return Lw(e)&&So(e.url)}function Lw(e){return!!e&&e[Pw]}var B3=(e,t,n,r)=>Dt(i=>(new G0(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),G0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),O0(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Ca(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ca(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ca(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Ca(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Of(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Rf(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(O0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),O0(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},jf=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Sa=class{component;route;constructor(t,n){this.component=t,this.route=n}};function j3(e,t,n){let r=e._root,i=t?t._root:null;return mu(r,i,n,[r.value])}function U3(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Oa(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!rm(e)?e:t.get(e):r}function mu(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ca(t);return e.children.forEach(s=>{z3(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>_u(a,n.getContext(s),i)),i}function z3(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=V3(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new jf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?mu(e,t,a?a.children:null,r,i):mu(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sa(a.outlet.component,s))}else s&&_u(t,a,i),i.canActivateChecks.push(new jf(r)),o.component?mu(e,null,a?a.children:null,r,i):mu(e,null,n,r,i);return i}function V3(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!_s(e.url,t.url);case"pathParamsOrQueryParamsChange":return!_s(e.url,t.url)||!pi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!H0(e,t)||!pi(e.queryParams,t.queryParams);case"paramsChange":default:return!H0(e,t)}}function _u(e,t,n){let r=Ca(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?_u(s,t.children.getContext(o),n):_u(s,null,n):_u(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Sa(t.outlet.component,i)):n.canDeactivateChecks.push(new Sa(null,i)):n.canDeactivateChecks.push(new Sa(null,i))}function ku(e){return typeof e=="function"}function H3(e){return typeof e=="boolean"}function $3(e){return e&&ku(e.canLoad)}function G3(e){return e&&ku(e.canActivate)}function W3(e){return e&&ku(e.canActivateChild)}function q3(e){return e&&ku(e.canDeactivate)}function Z3(e){return e&&ku(e.canMatch)}function Bw(e){return e instanceof ki||e?.name==="EmptyError"}var vf=Symbol("INITIAL_VALUE");function ka(){return Gn(e=>Xc(e.map(t=>t.pipe(Ni(1),Hp(vf)))).pipe(Dt(t=>{for(let n of t)if(n!==!0){if(n===vf)return vf;if(n===!1||Y3(n))return n}return!0}),Xn(t=>t!==vf),Ni(1)))}function Y3(e){return So(e)||e instanceof Ta}function K3(e,t){return on(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?lt(ke(fe({},n),{guardsResult:!0})):Q3(s,r,i,e).pipe(on(a=>a&&H3(a)?J3(r,o,e,t):lt(a)),Dt(a=>ke(fe({},n),{guardsResult:a})))})}function Q3(e,t,n,r){return Ht(e).pipe(on(i=>rR(i.component,i.route,n,t,r)),Oi(i=>i!==!0,!0))}function J3(e,t,n,r){return Ht(t).pipe(Yo(i=>ea(eR(i.route.parent,r),X3(i.route,r),nR(e,i.path,n),tR(e,i.route,n))),Oi(i=>i!==!0,!0))}function X3(e,t){return e!==null&&t&&t(new Nf(e)),lt(!0)}function eR(e,t){return e!==null&&t&&t(new kf(e)),lt(!0)}function tR(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return lt(!0);let i=r.map(o=>bl(()=>{let s=Ra(t)??n,a=Oa(o,s),l=G3(a)?a.canActivate(t,e):Pn(s,()=>a(t,e));return $i(l).pipe(Oi())}));return lt(i).pipe(ka())}function nR(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>U3(s)).filter(s=>s!==null).map(s=>bl(()=>{let a=s.guards.map(l=>{let u=Ra(s.node)??n,c=Oa(l,u),d=W3(c)?c.canActivateChild(r,e):Pn(u,()=>c(r,e));return $i(d).pipe(Oi())});return lt(a).pipe(ka())}));return lt(o).pipe(ka())}function rR(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return lt(!0);let s=o.map(a=>{let l=Ra(t)??i,u=Oa(a,l),c=q3(u)?u.canDeactivate(e,t,n,r):Pn(l,()=>u(e,t,n,r));return $i(c).pipe(Oi())});return lt(s).pipe(ka())}function iR(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return lt(!0);let o=i.map(s=>{let a=Oa(s,e),l=$3(a)?a.canLoad(t,n):Pn(e,()=>a(t,n));return $i(l)});return lt(o).pipe(ka(),jw(r))}function jw(e){return Pp(yn(t=>{if(typeof t!="boolean")throw Bf(e,t)}),Dt(t=>t===!0))}function oR(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return lt(!0);let o=i.map(s=>{let a=Oa(s,e),l=Z3(a)?a.canMatch(t,n):Pn(e,()=>a(t,n));return $i(l)});return lt(o).pipe(ka(),jw(r))}var Iu=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Su=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Da(e){return Js(new Iu(e))}function sR(e){return Js(new Ze(4e3,!1))}function aR(e){return Js(Fw(!1,Fn.GuardRejected))}var W0=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return lt(r);if(i.numberOfChildren>1||!i.children[ft])return sR(`${t.redirectTo}`);i=i.children[ft]}}applyRedirectCommands(t,n,r,i,o){return lR(n,i,o).pipe(Dt(s=>{if(s instanceof gi)throw new Su(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if(s[0]==="/")throw new Su(a);return a}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new gi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new kt(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new Ze(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function lR(e,t,n){if(typeof e=="string")return lt(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:u,data:c,title:d}=t;return $i(Pn(n,()=>r({params:u,data:c,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:d})))}var q0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uR(e,t,n,r,i){let o=Uw(e,t,n);return o.matched?(r=k3(t,r),oR(r,t,n,i).pipe(Dt(s=>s===!0?o:fe({},q0)))):lt(o)}function Uw(e,t,n){if(t.path==="**")return cR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?fe({},q0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||mw)(n,e,t);if(!i)return fe({},q0);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?fe(fe({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function cR(e){return{matched:!0,parameters:e.length>0?yw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function fw(e,t,n,r){return n.length>0&&hR(e,n,r)?{segmentGroup:new kt(t,fR(r,new kt(n,e.children))),slicedSegments:[]}:n.length===0&&pR(e,n,r)?{segmentGroup:new kt(e.segments,dR(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new kt(e.segments,e.children),slicedSegments:n}}function dR(e,t,n,r){let i={};for(let o of n)if(Vf(e,t,o)&&!r[qr(o)]){let s=new kt([],{});i[qr(o)]=s}return fe(fe({},r),i)}function fR(e,t){let n={};n[ft]=t;for(let r of e)if(r.path===""&&qr(r)!==ft){let i=new kt([],{});n[qr(r)]=i}return n}function hR(e,t,n){return n.some(r=>Vf(e,t,r)&&qr(r)!==ft)}function pR(e,t,n){return n.some(r=>Vf(e,t,r))}function Vf(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function mR(e,t,n){return t.length===0&&!e.children[n]}var Z0=class{};function gR(e,t,n,r,i,o,s="emptyOnly"){return new Y0(e,t,n,r,i,s,o).recognize()}var yR=31,Y0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new W0(this.urlSerializer,this.urlTree)}noMatchError(t){return new Ze(4002,`'${t.segmentGroup}'`)}recognize(){let t=fw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Dt(({children:n,rootSnapshot:r})=>{let i=new ir(r,n),o=new Du("",i),s=Iw(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new vs([],Object.freeze({}),Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ft,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ft,n).pipe(Dt(r=>({children:r,rootSnapshot:n})),Ri(r=>{if(r instanceof Su)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Iu?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(Dt(s=>s instanceof ir?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ht(o).pipe(Yo(s=>{let a=r.children[s],l=R3(n,s);return this.processSegmentGroup(t,l,a,s,i)}),Vp((s,a)=>(s.push(...a),s)),ao(null),zp(),on(s=>{if(s===null)return Da(r);let a=zw(s);return _R(a),lt(a)}))}processSegment(t,n,r,i,o,s,a){return Ht(n).pipe(Yo(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(Ri(u=>{if(u instanceof Iu)return lt(null);throw u}))),Oi(l=>!!l),Ri(l=>{if(Bw(l))return mR(r,i,o)?lt(new Z0):Da(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return qr(r)!==s&&(s===ft||!Vf(i,o,r))?Da(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):Da(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:c,positionalParamSegments:d,remainingSegments:h}=Uw(n,i,o);if(!l)return Da(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yR&&(this.allowRedirects=!1));let f=new vs(o,u,Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,hw(i),qr(i),i.component??i._loadedComponent??null,i,pw(i)),p=Lf(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d,f,t).pipe(Gn(g=>this.applyRedirects.lineralizeSegments(i,g)),on(g=>this.processSegment(t,r,n,g.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=uR(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Gn(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Gn(({routes:u})=>{let c=r._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new vs(h,d,Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,hw(r),qr(r),r.component??r._loadedComponent??null,r,pw(r)),m=Lf(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:g,slicedSegments:_}=fw(n,h,f,u);if(_.length===0&&g.hasChildren())return this.processChildren(c,u,g,p).pipe(Dt(v=>new ir(p,v)));if(u.length===0&&_.length===0)return lt(new ir(p,[]));let b=qr(r)===o;return this.processSegment(c,u,g,_,b?ft:o,!0,p).pipe(Dt(v=>new ir(p,v instanceof ir?[v]:[])))}))):Da(n)))}getChildConfig(t,n,r){return n.children?lt({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?lt({routes:n._loadedRoutes,injector:n._loadedInjector}):iR(t,n,r,this.urlSerializer).pipe(on(i=>i?this.configLoader.loadChildren(t,n).pipe(yn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):aR(n))):lt({routes:[],injector:t})}};function _R(e){e.sort((t,n)=>t.value.outlet===ft?-1:n.value.outlet===ft?1:t.value.outlet.localeCompare(n.value.outlet))}function vR(e){let t=e.value.routeConfig;return t&&t.path===""}function zw(e){let t=[],n=new Set;for(let r of e){if(!vR(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=zw(r.children);t.push(new ir(r.value,i))}return t.filter(r=>!n.has(r))}function hw(e){return e.data||{}}function pw(e){return e.resolve||{}}function bR(e,t,n,r,i,o){return on(s=>gR(e,t,n,r,s.extractedUrl,i,o).pipe(Dt(({state:a,tree:l})=>ke(fe({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function wR(e,t){return on(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return lt(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of Vw(l))s.add(u);let a=0;return Ht(s).pipe(Yo(l=>o.has(l)?ER(l,r,e,t):(l.data=Lf(l,l.parent,e).resolve,lt(void 0))),yn(()=>a++),ta(1),on(l=>a===s.size?lt(n):Hn))})}function Vw(e){let t=e.children.map(n=>Vw(n)).flat();return[e,...t]}function ER(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Nw(i)&&(o[Mu]=i.title),bl(()=>(e.data=Lf(e,e.parent,n).resolve,xR(o,e,t,r).pipe(Dt(s=>(e._resolvedData=s,e.data=fe(fe({},e.data),s),null)))))}function xR(e,t,n,r){let i=L0(e);if(i.length===0)return lt({});let o={};return Ht(i).pipe(on(s=>DR(e[s],t,n,r).pipe(Oi(),yn(a=>{if(a instanceof Ta)throw Bf(new ws,a);o[s]=a}))),ta(1),Dt(()=>o),Ri(s=>Bw(s)?Hn:Js(s)))}function DR(e,t,n,r){let i=Ra(t)??r,o=Oa(e,i),s=o.resolve?o.resolve(t,n):Pn(i,()=>o(t,n));return $i(s)}function P0(e){return Gn(t=>{let n=e(t);return n?Ht(n).pipe(Dt(()=>t)):lt(t)})}var X0=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ft);return r}getResolvedTitleForRoute(n){return n.data[Mu]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:()=>Fe(Hw),providedIn:"root"})}return e})(),Hw=(()=>{class e extends X0{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(ht(aw))};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pa=new et("",{providedIn:"root",factory:()=>({})}),Ru=new et(""),$w=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Fe(h0);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return lt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=$i(Pn(n,()=>r.loadComponent())).pipe(Dt(Ww),Gn(qw),yn(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),wl(()=>{this.componentLoaders.delete(r)})),o=new Qs(i,()=>new Kt).pipe(Ks());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Gw(r,this.compiler,n,this.onLoadEndListener).pipe(wl(()=>{this.childrenLoaders.delete(r)})),s=new Qs(o,()=>new Kt).pipe(Ks());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Gw(e,t,n,r){return $i(Pn(n,()=>e.loadChildren())).pipe(Dt(Ww),Gn(qw),on(i=>i instanceof af||Array.isArray(i)?lt(i):Ht(t.compileModuleAsync(i))),Dt(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ru,[],{optional:!0,self:!0}).flat()),{routes:s.map(J0),injector:o}}))}function CR(e){return e&&typeof e=="object"&&"default"in e}function Ww(e){return CR(e)?e.default:e}function qw(e){return lt(e)}var Hf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:()=>Fe(IR),providedIn:"root"})}return e})(),IR=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zw=new et("");var Yw=new et(""),Kw=(()=>{class e{currentNavigation=Hr(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Kt;transitionAbortWithErrorSubject=new Kt;configLoader=Fe($w);environmentInjector=Fe(_n);destroyRef=Fe(us);urlSerializer=Fe(Au);rootContexts=Fe(Na);location=Fe(xa);inputBindingEnabled=Fe(zf,{optional:!0})!==null;titleStrategy=Fe(X0);options=Fe(Pa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Fe(Hf);createViewTransition=Fe(Zw,{optional:!0});navigationErrorHandler=Fe(Yw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>lt(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Af(i)),r=i=>this.events.next(new Tf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Cn(()=>{this.transitions?.next(ke(fe({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new wn(null),this.transitions.pipe(Xn(r=>r!==null),Gn(r=>{let i=!1;return lt(r).pipe(Gn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Fn.SupersededByNewNavigation),Hn;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ke(fe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Vi(o.id,this.urlSerializer.serialize(o.rawUrl),"",bu.IgnoredSameUrlNavigation)),o.resolve(!1),Hn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return lt(o).pipe(Gn(l=>(this.events.next(new Es(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Hn:Promise.resolve(l))),bR(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),yn(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(c=>(c.finalUrl=l.urlAfterRedirects,c));let u=new wu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:u,source:c,restoredState:d,extras:h}=o,f=new Es(l,this.urlSerializer.serialize(u),c,d);this.events.next(f);let p=kw(this.rootComponentType).snapshot;return this.currentTransition=r=ke(fe({},o),{targetSnapshot:p,urlAfterRedirects:u,extras:ke(fe({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(m=>(m.finalUrl=u,m)),lt(r)}else return this.events.next(new Vi(o.id,this.urlSerializer.serialize(o.extractedUrl),"",bu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Hn}),yn(o=>{let s=new Cf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Dt(o=>(this.currentTransition=r=ke(fe({},o),{guards:j3(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),K3(this.environmentInjector,o=>this.events.next(o)),yn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Bf(this.urlSerializer,o.guardsResult);let s=new If(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Xn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Fn.GuardRejected),!1)),P0(o=>{if(o.guards.canActivateChecks.length!==0)return lt(o).pipe(yn(s=>{let a=new Sf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Gn(s=>{let a=!1;return lt(s).pipe(wR(this.paramsInheritanceStrategy,this.environmentInjector),yn({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Fn.NoDataFromResolver)}}))}),yn(s=>{let a=new Mf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),P0(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let u=Ra(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(yn(c=>{a.component=c}),Dt(()=>{})))}for(let u of a.children)l.push(...s(u));return l};return Xc(s(o.targetSnapshot.root)).pipe(ao(null),Ni(1))}),P0(()=>this.afterPreactivation()),Gn(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ht(a).pipe(Dt(()=>r)):lt(r)}),Dt(o=>{let s=O3(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ke(fe({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),yn(()=>{this.events.next(new Eu)}),B3(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ni(1),td(new Ct(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Xn(()=>!i&&!r.targetRouterState),yn(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Fn.Aborted)}))),yn({next:o=>{i=!0,this.lastSuccessfulNavigation=Cn(this.currentNavigation),this.events.next(new Zr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),td(this.transitionAbortWithErrorSubject.pipe(yn(o=>{throw o}))),wl(()=>{i||this.cancelNavigationTransition(r,"",Fn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ri(o=>{if(this.destroyed)return r.resolve(!1),Hn;if(i=!0,Lw(o))this.events.next(new mi(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),L3(o)?this.events.next(new Aa(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ma(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Pn(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ta){let{message:l,cancellationCode:u}=Bf(this.urlSerializer,a);this.events.next(new mi(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Aa(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Hn}))}))}cancelNavigationTransition(n,r,i){let o=new mi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Cn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SR(e){return e!==yu}var Qw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:()=>Fe(MR),providedIn:"root"})}return e})(),Uf=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},MR=(()=>{class e extends Uf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=wo(e)))(i||e)}})();static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jw=(()=>{class e{urlSerializer=Fe(Au);options=Fe(Pa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Fe(xa);urlHandlingStrategy=Fe(Hf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof gi?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=kw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:()=>Fe(AR),providedIn:"root"})}return e})(),AR=(()=>{class e extends Jw{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Es?this.updateStateMemento():n instanceof Vi?this.commitTransition(r):n instanceof wu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Eu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof mi&&n.code!==Fn.SupersededByNewNavigation&&n.code!==Fn.Redirect?this.restoreHistory(r):n instanceof Ma?this.restoreHistory(r,!0):n instanceof Zr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=fe(fe({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",l)}else{let a=fe(fe({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=wo(e)))(i||e)}})();static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function e1(e,t){e.events.pipe(Xn(n=>n instanceof Zr||n instanceof mi||n instanceof Ma||n instanceof Vi),Dt(n=>n instanceof Zr||n instanceof Vi?0:(n instanceof mi?n.code===Fn.Redirect||n.code===Fn.SupersededByNewNavigation:!1)?2:1),Xn(n=>n!==2),Ni(1)).subscribe(()=>{t()})}var TR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fa=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Fe(r0);stateManager=Fe(Jw);options=Fe(Pa,{optional:!0})||{};pendingTasks=Fe(Bi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Fe(Kw);urlSerializer=Fe(Au);location=Fe(xa);urlHandlingStrategy=Fe(Hf);injector=Fe(_n);_events=new Kt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Fe(Qw);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Fe(Ru,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Fe(zf,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new nn;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Cn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof mi&&r.code!==Fn.Redirect&&r.code!==Fn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zr)this.navigated=!0;else if(r instanceof Aa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=fe({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SR(i.source)},s);this.scheduleNavigation(a,yu,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}T3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=fe({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(Er)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Cn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(J0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,c=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":c=fe(fe({},this.currentUrlTree.queryParams),o);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}c!==null&&(c=this.removeEmptyProps(c));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=Sw(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Mw(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=So(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yu,null,r)}navigate(n,r={skipLocationChange:!1}){return RR(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Cl(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=fe({},TR):r===!1?i=fe({},kR):i=r,So(n))return lw(this.currentUrlTree,n,i);let o=this.parseUrl(n);return lw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,l=h});let c=this.pendingTasks.add();return e1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RR(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Ze(4008,!1)}var La=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Hr(null);get href(){return Cn(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Kt;applicationErrorHandler=Fe(Er);options=Fe(Pa,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(Fe(new hf("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Zr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(So(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:So(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(Ye(Fa),Ye(Hi),Yl("tabindex"),Ye(xr),Ye(Zn),Ye(Ea))};static \u0275dir=an({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&At("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&fi("href",i.reactiveHref(),Bg)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",su],skipLocationChange:[2,"skipLocationChange","skipLocationChange",su],replaceUrl:[2,"replaceUrl","replaceUrl",su],routerLink:"routerLink"},features:[ci]})}return e})(),t1=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Xt;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Zr&&this.update()})}ngAfterContentInit(){lt(this.links.changes,lt(null)).pipe(Xs()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ht(n).pipe(Xs()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=OR(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(Ye(Fa),Ye(Zn),Ye(xr),Ye(wa),Ye(La,8))};static \u0275dir=an({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&l0(o,La,5),r&2){let s;nu(s=ru())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ci]})}return e})();function OR(e){return!!e.paths}var PR=new et("");function n1(e,...t){return Al([{provide:Ru,multi:!0,useValue:e},[],{provide:Hi,useFactory:FR,deps:[Fa]},{provide:lf,multi:!0,useFactory:LR},t.map(n=>n.\u0275providers)])}function FR(e){return e.routerState.root}function LR(){let e=Fe(gr);return t=>{let n=e.get(xo);if(t!==n.components[0])return;let r=e.get(Fa),i=e.get(BR);e.get(jR)===1&&r.initialNavigation(),e.get(UR,null,{optional:!0})?.setUpPreloading(),e.get(PR,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var BR=new et("",{factory:()=>new Kt}),jR=new et("",{providedIn:"root",factory:()=>1});var UR=new et("");var XI=wp(DI());var kI=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(Ye(xr),Ye(Zn))};static \u0275dir=an({type:e})}return e})(),rp=(()=>{class e extends kI{static \u0275fac=(()=>{let n;return function(i){return(n||(n=wo(e)))(i||e)}})();static \u0275dir=an({type:e,features:[Dr]})}return e})(),mc=new et(""),nL={provide:mc,useExisting:Br(()=>ky),multi:!0},ky=(()=>{class e extends rp{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=wo(e)))(i||e)}})();static \u0275dir=an({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&At("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Do([nL]),Dr]})}return e})(),rL={provide:mc,useExisting:Br(()=>ip),multi:!0};function iL(){let e=Sr()?Sr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var oL=new et(""),ip=(()=>{class e extends kI{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!iL())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(Ye(xr),Ye(Zn),Ye(oL,8))};static \u0275dir=an({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&At("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Do([rL]),Dr]})}return e})();function Ry(e){return e==null||Ny(e)===0}function Ny(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var RI=new et(""),NI=new et(""),sL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Mt=class{static min(t){return aL(t)}static max(t){return lL(t)}static required(t){return uL(t)}static requiredTrue(t){return cL(t)}static email(t){return dL(t)}static minLength(t){return fL(t)}static maxLength(t){return hL(t)}static pattern(t){return pL(t)}static nullValidator(t){return OI()}static compose(t){return UI(t)}static composeAsync(t){return VI(t)}};function aL(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function lL(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function uL(e){return Ry(e.value)?{required:!0}:null}function cL(e){return e.value===!0?null:{required:!0}}function dL(e){return Ry(e.value)||sL.test(e.value)?null:{email:!0}}function fL(e){return t=>{let n=t.value?.length??Ny(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function hL(e){return t=>{let n=t.value?.length??Ny(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function pL(e){if(!e)return OI;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Ry(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function OI(e){return null}function PI(e){return e!=null}function FI(e){return ms(e)?Ht(e):e}function LI(e){let t={};return e.forEach(n=>{t=n!=null?fe(fe({},t),n):t}),Object.keys(t).length===0?null:t}function BI(e,t){return t.map(n=>n(e))}function mL(e){return!e.validate}function jI(e){return e.map(t=>mL(t)?t:n=>t.validate(n))}function UI(e){if(!e)return null;let t=e.filter(PI);return t.length==0?null:function(n){return LI(BI(n,t))}}function zI(e){return e!=null?UI(jI(e)):null}function VI(e){if(!e)return null;let t=e.filter(PI);return t.length==0?null:function(n){let r=BI(n,t).map(FI);return Up(r).pipe(Dt(LI))}}function HI(e){return e!=null?VI(jI(e)):null}function CI(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function $I(e){return e._rawValidators}function GI(e){return e._rawAsyncValidators}function Iy(e){return e?Array.isArray(e)?e:[e]:[]}function Yh(e,t){return Array.isArray(e)?e.includes(t):e===t}function II(e,t){let n=Iy(t);return Iy(e).forEach(i=>{Yh(n,i)||n.push(i)}),n}function SI(e,t){return Iy(t).filter(n=>!Yh(e,n))}var Kh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=HI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},hc=class extends Kh{name;get formDirective(){return null}get path(){return null}},dl=class extends Kh{_parent=null;name=null;valueAccessor=null},Qh=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},gL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cte=ke(fe({},gL),{"[class.ng-submitted]":"isSubmitted"}),WI=(()=>{class e extends Qh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(Ye(dl,2))};static \u0275dir=an({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&iu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Dr]})}return e})(),Uo=(()=>{class e extends Qh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(Ye(hc,10))};static \u0275dir=an({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&iu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Dr]})}return e})();var uc="VALID",qh="INVALID",ul="PENDING",cc="DISABLED",Bo=class{},Jh=class extends Bo{value;source;constructor(t,n){super(),this.value=t,this.source=n}},dc=class extends Bo{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},fc=class extends Bo{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},cl=class extends Bo{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Sy=class extends Bo{source;constructor(t){super(),this.source=t}},pc=class extends Bo{source;constructor(t){super(),this.source=t}};function Oy(e){return(op(e)?e.validators:e)||null}function yL(e){return Array.isArray(e)?zI(e):e||null}function Py(e,t){return(op(t)?t.asyncValidators:e)||null}function _L(e){return Array.isArray(e)?HI(e):e||null}function op(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function qI(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new Ze(1e3,"");if(!r[n])throw new Ze(1001,"")}function ZI(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new Ze(1002,"")})}var jo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Cn(this.statusReactive)}set status(t){Cn(()=>this.statusReactive.set(t))}_status=ba(()=>this.statusReactive());statusReactive=Hr(void 0);get valid(){return this.status===uc}get invalid(){return this.status===qh}get pending(){return this.status==ul}get disabled(){return this.status===cc}get enabled(){return this.status!==cc}errors;get pristine(){return Cn(this.pristineReactive)}set pristine(t){Cn(()=>this.pristineReactive.set(t))}_pristine=ba(()=>this.pristineReactive());pristineReactive=Hr(!0);get dirty(){return!this.pristine}get touched(){return Cn(this.touchedReactive)}set touched(t){Cn(()=>this.touchedReactive.set(t))}_touched=ba(()=>this.touchedReactive());touchedReactive=Hr(!1);get untouched(){return!this.touched}_events=new Kt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(II(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(II(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(SI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(SI(t,this._rawAsyncValidators))}hasValidator(t){return Yh(this._rawValidators,t)}hasAsyncValidator(t){return Yh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ke(fe({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new fc(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new fc(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ke(fe({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new dc(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new dc(!0,r))}markAsPending(t={}){this.status=ul;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new cl(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ke(fe({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=cc,this.errors=null,this._forEachChild(i=>{i.disable(ke(fe({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Jh(this.value,r)),this._events.next(new cl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ke(fe({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=uc,this._forEachChild(r=>{r.enable(ke(fe({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ke(fe({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uc||this.status===ul)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Jh(this.value,n)),this._events.next(new cl(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ke(fe({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cc:uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=ul,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=FI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new cl(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Xt,this.statusChanges=new Xt}_calculateStatus(){return this._allControlsDisabled()?cc:this.errors?qh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ul)?ul:this._anyControlsHaveStatus(qh)?qh:uc}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new dc(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new fc(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){op(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=yL(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=_L(this._rawAsyncValidators)}},Xh=class extends jo{constructor(t,n,r){super(Oy(n),Py(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){ZI(this,!0,t),Object.keys(t).forEach(r=>{qI(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new pc(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var My=class extends Xh{};var gc=new et("",{providedIn:"root",factory:()=>yc}),yc="always";function Ay(e,t,n=yc){Fy(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),bL(e,t),EL(e,t),wL(e,t),vL(e,t)}function ep(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),np(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function tp(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function vL(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Fy(e,t){let n=$I(e);t.validator!==null?e.setValidators(CI(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=GI(e);t.asyncValidator!==null?e.setAsyncValidators(CI(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();tp(t._rawValidators,i),tp(t._rawAsyncValidators,i)}function np(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=$I(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=GI(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return tp(t._rawValidators,r),tp(t._rawAsyncValidators,r),n}function bL(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&YI(e,t)})}function wL(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&YI(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function YI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function EL(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function xL(e,t){e==null,Fy(e,t)}function DL(e,t){return np(e,t)}function CL(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function IL(e){return Object.getPrototypeOf(e.constructor)===rp}function SL(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ML(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===ip?n=o:IL(o)?r=o:i=o}),i||r||n||null}function AL(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function MI(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function AI(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Zh=class extends jo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(Oy(n),Py(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),op(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AI(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new pc(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){MI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){MI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){AI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var TL=e=>e instanceof Zh;var zo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=an({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),kL={provide:mc,useExisting:Br(()=>Ly),multi:!0},Ly=(()=>{class e extends rp{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=wo(e)))(i||e)}})();static \u0275dir=an({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&At("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Do([kL]),Dr]})}return e})(),RL={provide:mc,useExisting:Br(()=>By),multi:!0};var NL=(()=>{class e{_accessors=[];add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),By=(()=>{class e extends rp{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=Fe(gc,{optional:!0})??yc;constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(dl),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||e)(Ye(xr),Ye(Zn),Ye(NL),Ye(gr))};static \u0275dir=an({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&At("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Do([RL]),Dr]})}return e})();var KI=new et(""),OL={provide:dl,useExisting:Br(()=>jy)},jy=(()=>{class e extends dl{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(n){}model;update=new Xt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=ML(this,i)}ngOnChanges(n){if(this._isControlChanged(n)){let r=n.form.previousValue;r&&ep(r,this,!1),Ay(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}CL(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ep(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||e)(Ye(RI,10),Ye(NI,10),Ye(mc,10),Ye(KI,8),Ye(gc,8))};static \u0275dir=an({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Do([OL]),Dr,ci]})}return e})(),PL={provide:hc,useExisting:Br(()=>oo)},oo=(()=>{class e extends hc{callSetDisabledState;get submitted(){return Cn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=ba(()=>this._submittedReactive());_submittedReactive=Hr(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Xt;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(np(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Ay(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){ep(n.control||null,n,!1),AL(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),SL(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Sy(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(ep(r||null,n),TL(i)&&(Ay(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);xL(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&DL(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fy(this.form,this),this._oldForm&&np(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(Ye(RI,10),Ye(NI,10),Ye(gc,8))};static \u0275dir=an({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&At("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Do([PL]),Dr,ci]})}return e})();var QI=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=di({type:e});static \u0275inj=jr({})}return e})(),Ty=class extends jo{constructor(t,n,r){super(Oy(n),Py(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){Array.isArray(t)?t.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){ZI(this,!1,t),t.forEach((r,i)=>{qI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new pc(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function TI(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Vo=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return TI(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xh(i,o)}record(n,r=null){let i=this._reduceControls(n);return new My(i,r)}control(n,r,i){let o={};return this.useNonNullable?(TI(r)?o=r:(o.validators=r,o.asyncValidators=i),new Zh(n,ke(fe({},o),{nonNullable:!0}))):new Zh(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Ty(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Zh)return n;if(n instanceof jo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ho=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:gc,useValue:n.callSetDisabledState??yc}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=di({type:e});static \u0275inj=jr({imports:[QI]})}return e})(),Si=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:KI,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:gc,useValue:n.callSetDisabledState??yc}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=di({type:e});static \u0275inj=jr({imports:[QI]})}return e})();var Mi=class e{errorDetails="";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Lt({type:e,selectors:[["app-error-alert"]],inputs:{errorDetails:"errorDetails"},decls:11,vars:1,consts:[["role","alert",1,"alert","alert-error","alert-horizontal","mt-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-bold"],[1,"text-xs"],[1,"tooltip"],[1,"btn","btn-sm"]],template:function(n,r){n&1&&(Pt(0,"div",0),wr(),Pt(1,"svg",1),hi(2,"path",2),Nt(),vo(),Pt(3,"div")(4,"h3",3),Me(5,"Error"),Nt(),Pt(6,"div",4),Me(7,"Hover for more details."),Nt()(),Pt(8,"div",5)(9,"button",6),Me(10,"Hover"),Nt()()()),n&2&&(Oe(8),fi("data-tip",r.errorDetails))},encapsulation:2})};var Pr=class e{noSpacesValidator(t){let n=t.value;return n==null||n===""?null:/\s/.test(n)?{containsSpaces:!0}:null}packageNameValidator(t){let n=t.value;return n==null||n===""||/^[a-z][a-z0-9_]*(\.[a-z][a-z0-9_]*)*$/.test(n)?null:{invalidPackageName:!0}}integerValidator(t){let n=t.value;return n==null||n===""||Number.isInteger(n)?null:{notAnInteger:!0}}validFilenameValidator(t){let n=t.value;return n==null||n===""?null:/[<>:"\/\\|?*\x00-\x1F]/.test(n)?{invalidFilename:!0}:n.trim()===""?{blankFilename:!0}:null}validKotlinVersionValidator(t){let n=t.value;return n==null||n===""||/^\d+\.\d+(?:\.\d+)?(?:-(?i:M\d+|alpha|beta|rc|eap)\d*)?$/.test(n)?null:{invalidKotlinVersion:!0}}errorHint(t){let n=t.errors;return n?n.required?"This field is mandatory":n.min?"Value must be greater than "+n.min.min:n.notAnInteger?"Value must be an integer":n.minLength?"Value must be at least "+n.minLength+" characters long":n.invalidFilename?'Value is not a valid file name. Cannot contain: < > : " / \\ | ? *':n.blankFilename?"File name cannot be empty":n.containsSpaces?"Value cannot contain spaces":n.invalidPackageName?"Value is not a valid package name. Format should be: com.example.myapp":n.invalidKotlinVersion?"Value is not a valid Kotlin version":"Unknown error":""}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})};var JI=e=>({"input-error":e});function FL(e,t){if(e&1&&(Re(0,"div",1)(1,"label",8),Me(2),Ne()()),e&2){let n=Tt();fi("data-tip",n.toolTip),Oe(),He("for",c0(n.inputId)),Oe(),Cr(n.label)}}function LL(e,t){if(e&1&&Ke(0,"input",3),e&2){let n=Tt();He("id",n.inputId)("formControl",n.control)("ngClass",df(3,JI,n.hasErrors()))}}function BL(e,t){if(e&1&&(Re(0,"div",9),Ke(1,"input",10),Re(2,"label",11),Me(3),Ne()()),e&2){let n=t.$implicit,r=Tt(2);Oe(),He("id",r.inputId+"_"+n)("value",n)("formControl",r.control),Oe(),He("for",r.inputId+"_"+n),Oe(),Cr(n)}}function jL(e,t){if(e&1&&(Re(0,"div",4),gs(1,BL,4,5,"div",9,a0),Ne()),e&2){let n=Tt();Oe(),ys(n.options)}}function UL(e,t){if(e&1&&(Re(0,"div",5)(1,"label",12),Ke(2,"input",13),Me(3),Ne()()),e&2){let n=Tt();fi("data-tip",n.toolTip),Oe(2),He("id",n.inputId)("formControl",n.control),Oe(),zi(" ",n.label," ")}}function zL(e,t){if(e&1&&Ke(0,"input",6),e&2){let n=Tt();He("id",n.inputId)("formControl",n.control)("ngClass",df(3,JI,n.hasErrors()))}}function VL(e,t){if(e&1&&(Re(0,"div",7)(1,"span"),Me(2),Ne()()),e&2){let n=Tt();Oe(2),Cr(n.errorHint())}}function HL(e){if(e){if(!(e instanceof jo))throw new Error("control must be a FormControl for an app-form-field")}else throw new Error("control must be not null for an app-form-field");return e}var Ai=class e{constructor(t){this.validationService=t}label;inputId;type;control;options=[];gridClass="grid-cols-2";toolTip="";hasErrors(){return this.control.invalid&&(this.control.touched||this.control.dirty)}errorHint(){return this.validationService.errorHint(this.control)}static \u0275fac=function(n){return new(n||e)(Ye(Pr))};static \u0275cmp=Lt({type:e,selectors:[["app-form-field"]],inputs:{label:"label",inputId:[0,"input-id","inputId"],type:"type",control:[2,"form-control","control",HL],options:"options",gridClass:"gridClass",toolTip:[0,"tool-tip","toolTip"]},decls:8,vars:4,consts:[[1,"grid","grid-flow-row","gap-x-4",3,"ngClass"],[1,"tooltip"],[1,"flex","flex-col"],["type","number",1,"input",3,"id","formControl","ngClass"],[1,"flex","flex-row","gap-4"],[1,"tooltip","tooltip-right"],["type","text",1,"input",3,"id","formControl","ngClass"],[1,"text-error","text-xs","mt-1"],[1,"label",3,"for"],[1,"flex","items-start"],["type","radio",1,"radio","radio-xs",3,"id","value","formControl"],[1,"text-sm","ml-1",3,"for"],[1,"label"],["type","checkbox",1,"checkbox","checkbox-xs","checkbox-neutral",3,"id","formControl"]],template:function(n,r){n&1&&(Re(0,"div",0),ln(1,FL,3,4,"div",1),Re(2,"div",2),ln(3,LL,1,5,"input",3)(4,jL,3,0,"div",4)(5,UL,4,4,"div",5)(6,zL,1,5,"input",6),ln(7,VL,3,1,"div",7),Ne()()),n&2&&(He("ngClass",r.gridClass),Oe(),un(r.type!=="checkbox"?1:-1),Oe(2),un(r.type==="number"?3:r.type==="radio"?4:r.type==="checkbox"?5:6),Oe(4),un(r.hasErrors()?7:-1))},dependencies:[Si,ip,Ly,ky,By,WI,jy,lu],encapsulation:2})};var Ti=class e{constructor(){}downloadViaFilePicker(t,n,r){return Pe(this,null,function*(){try{if(!window.showSaveFilePicker)return!1;let o=yield(yield window.showSaveFilePicker({suggestedName:t,types:[r]})).createWritable();return yield o.write(n),yield o.close(),!0}catch(i){return i instanceof Error&&i.name==="AbortError"?!0:(console.error("Error using File System Access API:",i),!1)}})}downloadDirectly(t,n){let r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(r.href)}downloadFile(t,n,r){return Pe(this,null,function*(){try{if(yield this.downloadViaFilePicker(n,t,r))return;this.downloadDirectly(t,n)}catch(i){throw console.error("Error downloading file:",i),i}})}downloadImage(t,n){return Pe(this,null,function*(){try{let i=yield(yield fetch(t)).blob(),o={description:"PNG Image",accept:{"image/png":[".png"]}};yield this.downloadFile(i,n,o)}catch(r){throw console.error("Error downloading image:",r),r}})}downloadZip(t,n){return Pe(this,null,function*(){try{let r={description:"ZIP Archive",accept:{"application/zip":[".zip"]}};yield this.downloadFile(t,n,r)}catch(r){throw console.error("Error downloading zip file:",r),r}})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=Xe({token:e,factory:e.\u0275fac,providedIn:"root"})};function $L(e,t){if(e&1&&Ke(0,"app-error-alert",16),e&2){let n=Tt();He("errorDetails",n.errorDetails)}}function GL(e,t){if(e&1&&Ke(0,"img",19),e&2){let n=Tt();He("src",n.selectedImage,Wr)}}function WL(e,t){e&1&&Ke(0,"div",20)}function qL(e,t){if(e&1&&Ke(0,"img",22),e&2){let n=Tt();He("src",n.extrudedImageUrl,Wr)}}function ZL(e,t){e&1&&(Re(0,"p",23),Me(1,"Click the Extrude button to generate the extruded image."),Ne(),Ke(2,"div",20))}function YL(e,t){e&1&&Ke(0,"div",20)}var ap=class e{constructor(t,n,r){this.fb=t;this.downloadService=n;this.validationService=r;this.form=this.fb.group({tileWidth:[16,[Mt.required,Mt.min(1),this.validationService.integerValidator]],tileHeight:[16,[Mt.required,Mt.min(1),this.validationService.integerValidator]],margin:[0,[this.validationService.integerValidator]],spacing:[0,[this.validationService.integerValidator]],extrusion:[4,[Mt.required,Mt.min(1),this.validationService.integerValidator]]})}selectedImage=null;originalFileName="";extrudedImageUrl=null;errorDetails=null;form;get tileWidth(){return this.form.get("tileWidth")?.value||16}get tileHeight(){return this.form.get("tileHeight")?.value||16}get margin(){return this.form.get("margin")?.value||0}get spacing(){return this.form.get("spacing")?.value||0}get extrusion(){return this.form.get("extrusion")?.value||4}onFileSelected(t){let n=t.target;if(!(n.files&&n.files.length>0))return;let r=n.files[0];this.originalFileName=r.name;let i=new FileReader;i.onload=()=>{this.selectedImage=i.result,this.extrudedImageUrl=null,this.errorDetails=null},i.readAsDataURL(r)}extrudeImage(){return Pe(this,null,function*(){if(this.errorDetails=null,!this.selectedImage){console.warn("No image has been selected to extrude."),this.extrudedImageUrl=null;return}if(this.form.invalid){console.warn("Form is invalid. Please correct the errors."),this.extrudedImageUrl=null;return}try{let n=(yield(0,XI.extrudeTilesetToBuffer)(this.tileWidth,this.tileHeight,this.selectedImage,{margin:this.margin,spacing:this.spacing,extrusion:this.extrusion})).toString("base64");this.extrudedImageUrl=`data:image/png;base64,${n}`}catch(t){console.error("Error during tile extrusion:",t),this.extrudedImageUrl=null,t instanceof Error?this.errorDetails=t.message:this.errorDetails=String(t)}})}downloadExtrudedImage(){return Pe(this,null,function*(){if(!this.extrudedImageUrl){console.warn("No extruded image available to download.");return}try{let t=this.originalFileName.split("."),n=t.pop(),i=`${t.join(".")}-extruded.${n||"png"}`;yield this.downloadService.downloadImage(this.extrudedImageUrl,i)}catch(t){console.error("Error downloading extruded image:",t),t instanceof Error?this.errorDetails=t.message:this.errorDetails=String(t)}})}static \u0275fac=function(n){return new(n||e)(Ye(Vo),Ye(Ti),Ye(Pr))};static \u0275cmp=Lt({type:e,selectors:[["app-tile-extruder"]],decls:43,vars:11,consts:[[1,"container","p-4"],[1,"text-2xl","font-bold","mb-2"],[1,"mb-4","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-[auto_1fr]","gap-6"],[1,"fieldset","bg-base-200","border-base-300","rounded-box","w-xs","border","p-4","md:mt-5"],[1,"fieldset-legend"],[1,"grid","grid-cols-2","gap-x-4","gap-y-2","w-sm",3,"formGroup"],[1,"btn","btn-secondary","col-span-2"],["type","file","accept","image/*",1,"hidden",3,"change"],["label","Tile Width","input-id","tileWidth","type","number",3,"form-control"],["label","Tile Height","input-id","tileHeight","type","number",3,"form-control"],["label","Margin","input-id","margin","type","number",3,"form-control"],["label","Spacing","input-id","spacing","type","number",3,"form-control"],["label","Extrusion","input-id","extrusion","type","number",3,"form-control"],[1,"flex","justify-end"],[1,"btn","btn-primary",3,"click","disabled"],[3,"errorDetails"],[1,"btn","btn-secondary","mt-2",3,"click","disabled"],[1,"text-xl","font-semibold","mb-2"],["alt","Original Tileset",1,"max-w-[300px]","max-h-[300px]","w-auto","h-auto","rounded","border","shadow",3,"src"],[1,"skeleton","h-32","w-32"],[1,"mt-6"],["alt","Extruded Tileset",1,"max-w-[600px]","max-h-[600px]","w-auto","h-auto","rounded","border","shadow",3,"src"],[1,"text-gray-500"]],template:function(n,r){n&1&&(Re(0,"div",0)(1,"h2",1),Me(2,"Tileset Extruder"),Ne(),Re(3,"p",2),Me(4,"Prevent texture bleeding in tiled games by adding padding around each tile in your tileset. "),Ke(5,"br"),Me(6," This ensures clean rendering when tiles are placed next to each other in a game world. "),Ke(7,"br"),Me(8," Upload your tileset first, then configure the settings and click on "),Re(9,"strong"),Me(10,"Extrude"),Ne(),Me(11," to generate the extruded tileset."),Ne(),Re(12,"div",3)(13,"div")(14,"fieldset",4)(15,"legend",5),Me(16,"Settings"),Ne(),Re(17,"form",6)(18,"label",7),Me(19," Upload tileset "),Re(20,"input",8),At("change",function(o){return r.onFileSelected(o)}),Ne()(),Ke(21,"app-form-field",9)(22,"app-form-field",10)(23,"app-form-field",11)(24,"app-form-field",12)(25,"app-form-field",13),Re(26,"div",14)(27,"button",15),At("click",function(){return r.extrudeImage()}),Me(28," Extrude "),Ne()()()(),ln(29,$L,1,1,"app-error-alert",16),Re(30,"button",17),At("click",function(){return r.downloadExtrudedImage()}),Me(31," Download extruded tileset "),Ne()(),Re(32,"div")(33,"h3",18),Me(34,"Original Tileset:"),Ne(),ln(35,GL,1,1,"img",19)(36,WL,1,0,"div",20),Ne()(),Re(37,"div",21)(38,"h3",18),Me(39,"Extruded Tileset:"),Ne(),ln(40,qL,1,1,"img",22)(41,ZL,3,0)(42,YL,1,0,"div",20),Ne()()),n&2&&(Oe(17),He("formGroup",r.form),Oe(4),He("form-control",r.form.get("tileWidth")),Oe(),He("form-control",r.form.get("tileHeight")),Oe(),He("form-control",r.form.get("margin")),Oe(),He("form-control",r.form.get("spacing")),Oe(),He("form-control",r.form.get("extrusion")),Oe(2),He("disabled",!r.selectedImage||r.form.invalid),Oe(2),un(r.errorDetails?29:-1),Oe(),He("disabled",!r.extrudedImageUrl),Oe(5),un(r.selectedImage?35:36),Oe(5),un(r.extrudedImageUrl?40:r.selectedImage?41:42))},dependencies:[Ho,zo,Uo,Si,oo,Mr,Mi,Ai],encapsulation:2})};var lp=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Lt({type:e,selectors:[["app-home"]],decls:24,vars:0,consts:[[1,"mt-4"],[1,"list-disc","list-inside"],[1,"font-bold"]],template:function(n,r){n&1&&(Pt(0,"div")(1,"p"),Me(2,"This site contains several utilities that I regularly use for my LibGDX 2D games."),Nt(),Pt(3,"p"),Me(4,"Feel free to use them as well! :)"),Nt(),Pt(5,"p",0),Me(6,"Following utilities can be selected from the menu:"),Nt(),Pt(7,"ul",1)(8,"li")(9,"span",2),Me(10,"Tile Extruder"),Nt(),Me(11,": extrudes tiles in tilesets to avoid texture bleeding issues."),Nt(),Pt(12,"li")(13,"span",2),Me(14,"Spritesheet Splitter"),Nt(),Me(15,": splits a spritesheet into several tiles of equal size."),Nt(),Pt(16,"li")(17,"span",2),Me(18,"Image Combiner"),Nt(),Me(19,": combines multiple images into a grid layout."),Nt(),Pt(20,"li")(21,"span",2),Me(22,"Gradle Kotlin Template"),Nt(),Me(23,": a modern Gradle Kotlin DSL based template for LibGDX Kotlin projects. "),Nt()()())},encapsulation:2})};Gh();var tS=wp(zy());function KL(e,t){if(e&1&&Ke(0,"app-form-field",25)(1,"app-form-field",26),e&2){let n=Tt();He("form-control",n.form.get("numTilesX")),Oe(),He("form-control",n.form.get("numTilesY"))}}function QL(e,t){if(e&1&&Ke(0,"app-form-field",27)(1,"app-form-field",28),e&2){let n=Tt();He("form-control",n.form.get("tileSizeWidth")),Oe(),He("form-control",n.form.get("tileSizeHeight"))}}function JL(e,t){if(e&1&&Ke(0,"app-error-alert",18),e&2){let n=Tt();He("errorDetails",n.errorDetails)}}function XL(e,t){if(e&1&&Ke(0,"img",21),e&2){let n=Tt();He("src",n.selectedImage,Wr)}}function eB(e,t){e&1&&Ke(0,"div",22)}function tB(e,t){if(e&1&&(Re(0,"div",30),Ke(1,"img",31),Re(2,"div",32),Me(3),Ne()()),e&2){let n=t.$implicit,r=t.$index,i=Tt(2);Oe(),He("src",n,Wr)("alt",i.tilesBaseFileName+r),Oe(2),cf("",i.tilesBaseFileName,"_",r)}}function nB(e,t){if(e&1&&(Re(0,"div",29),gs(1,tB,4,4,"div",30,Xl),Ne()),e&2){let n=Tt();uf("grid-template-columns","repeat("+n.genTilesX+", minmax(0, 1fr))"),Oe(),ys(n.splitTiles)}}function rB(e,t){e&1&&(Re(0,"p",33),Me(1,"Click the Split Image button to generate the tiles."),Ne(),Ke(2,"div",22))}function iB(e,t){e&1&&Ke(0,"div",22)}var up=class e{constructor(t,n,r){this.fb=t;this.downloadService=n;this.validationService=r;this.form=this.fb.group({splitMode:["num tiles",[Mt.required]],numTilesX:[4,[Mt.required,Mt.min(1),this.validationService.integerValidator]],numTilesY:[4,[Mt.required,Mt.min(1),this.validationService.integerValidator]],tileSizeWidth:[32,[Mt.required,Mt.min(1),this.validationService.integerValidator]],tileSizeHeight:[32,[Mt.required,Mt.min(1),this.validationService.integerValidator]],ignoreFirstN:[0,[this.validationService.integerValidator]],ignoreLastN:[0,[this.validationService.integerValidator]],tilesBaseFileName:["Tile",[Mt.required,Mt.minLength(1),this.validationService.validFilenameValidator]]})}selectedImage=null;splitTiles=[];errorDetails=null;genTilesX=0;splitModeOptions=["num tiles","size"];form;get tilesBaseFileName(){return this.form.get("tilesBaseFileName")?.value||"Tile"}get splitMode(){return this.form.get("splitMode")?.value||"num tiles"}get numTilesX(){return this.form.get("numTilesX")?.value||4}get numTilesY(){return this.form.get("numTilesY")?.value||4}get tileSizeWidth(){return this.form.get("tileSizeWidth")?.value||32}get tileSizeHeight(){return this.form.get("tileSizeHeight")?.value||32}get ignoreFirstN(){return this.form.get("ignoreFirstN")?.value||0}get ignoreLastN(){return this.form.get("ignoreLastN")?.value||0}onFileSelected(t){let n=t.target;if(!(n.files&&n.files.length>0))return;let r=n.files[0],i=new FileReader;i.onload=()=>{this.selectedImage=i.result,this.splitTiles=[],this.errorDetails=null},i.readAsDataURL(r)}splitImage(){return Pe(this,null,function*(){if(this.errorDetails=null,!this.selectedImage){console.warn("No image has been selected to split."),this.splitTiles=[];return}try{let t=yield ll.read(this.selectedImage),n,r,i,o;this.splitMode==="num tiles"?(i=this.numTilesX,o=this.numTilesY,n=Math.floor(t.bitmap.width/i),r=Math.floor(t.bitmap.height/o)):(n=this.tileSizeWidth,r=this.tileSizeHeight,i=Math.floor(t.bitmap.width/n),o=Math.floor(t.bitmap.height/r)),this.genTilesX=i;let s=i*o;this.splitTiles=[];let a=this.ignoreFirstN,l=s-this.ignoreLastN;for(let u=0;u<o;u++)for(let c=0;c<i;c++){let d=u*i+c;if(d<a||d>=l)continue;let h={x:c*n,y:u*r,w:n,h:r},g=`data:image/png;base64,${(yield t.clone().crop(h).getBuffer("image/png")).toString("base64")}`;this.splitTiles.push(g)}}catch(t){console.error("Error during image splitting:",t),this.splitTiles=[],t instanceof Error?this.errorDetails=t.message:this.errorDetails=String(t)}})}downloadSplitTiles(){return Pe(this,null,function*(){if(this.splitTiles.length===0||this.form.invalid){console.warn("No split tiles available to download or form is invalid.");return}try{let t=new tS.default;for(let i=0;i<this.splitTiles.length;i++){let s=this.splitTiles[i].split(",")[1],a=atob(s),l=new Uint8Array(a.length);for(let u=0;u<a.length;u++)l[u]=a.charCodeAt(u);t.file(`${this.tilesBaseFileName}_${i.toString().padStart(2,"0")}.png`,l)}let n=`${this.tilesBaseFileName}.zip`,r=yield t.generateAsync({type:"blob"});yield this.downloadService.downloadZip(r,n)}catch(t){console.error("Error creating zip file:",t),t instanceof Error?this.errorDetails=t.message:this.errorDetails=String(t)}})}static \u0275fac=function(n){return new(n||e)(Ye(Vo),Ye(Ti),Ye(Pr))};static \u0275cmp=Lt({type:e,selectors:[["app-image-split"]],decls:54,vars:13,consts:[[1,"container","p-4"],[1,"text-2xl","font-bold","mb-2"],[1,"text-gray-600"],[1,"list-disc","list-inside"],[1,"mb-4","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-[auto_1fr]","gap-6"],[1,"fieldset","bg-base-200","border-base-300","rounded-box","w-md","border","p-4","md:mt-5"],[1,"fieldset-legend"],[1,"grid","grid-cols-2","gap-x-4","gap-y-2",3,"formGroup"],[1,"btn","btn-secondary","col-span-2"],["type","file","accept","image/*",1,"hidden",3,"change"],[1,"col-span-2","mb-2"],["label","Split mode","input-id","splitMode","type","radio","gridClass","grid-cols-[0.25fr_0.75fr]",3,"form-control","options"],["label","Ignore first n tiles","input-id","ignoreFirstN","type","number",3,"form-control"],["label","Ignore last n tiles","input-id","ignoreLastN","type","number",3,"form-control"],["label","Tiles base name","input-id","tilesBaseFileName","type","text",3,"form-control"],[1,"flex","justify-end"],[1,"btn","btn-primary",3,"click","disabled"],[3,"errorDetails"],[1,"btn","btn-secondary","mt-2",3,"click","disabled"],[1,"text-xl","font-semibold","mb-2"],["alt","Original Spritesheet",1,"max-w-[300px]","max-h-[300px]","w-auto","h-auto","rounded","border","shadow",3,"src"],[1,"skeleton","h-32","w-32"],[1,"mt-6"],[1,"grid","gap-2",3,"grid-template-columns"],["label","Num tiles on x-axis","input-id","numTilesX","type","number",3,"form-control"],["label","Num tiles on y-axis","input-id","numTilesY","type","number",3,"form-control"],["label","Tile width (px)","input-id","tileSizeWidth","type","number",3,"form-control"],["label","Tile height (px)","input-id","tileSizeHeight","type","number",3,"form-control"],[1,"grid","gap-2"],[1,"border","rounded","p-1","bg-base-200"],[1,"w-full","h-auto",3,"src","alt"],[1,"text-center","text-xs","mt-1"],[1,"text-gray-500"]],template:function(n,r){n&1&&(Re(0,"div",0)(1,"h2",1),Me(2,"Spritesheet Splitter"),Ne(),Re(3,"p",2),Me(4,"Split a spritesheet into individual image tiles. "),Ke(5,"br"),Me(6," This tool offers two ways to split your spritesheet: "),Ne(),Re(7,"ul",3)(8,"li")(9,"strong"),Me(10,"Split by num tiles"),Ne(),Me(11,": Divides your spritesheet into a grid based on the number of rows and columns you specify. "),Ne(),Re(12,"li")(13,"strong"),Me(14,"Split by size"),Ne(),Me(15,": Divides your spritesheet based on the dimensions of a single tile (e.g., 32x32 pixels). "),Ne()(),Re(16,"p",4),Me(17," Upload your spritesheet first, then configure the settings and click on "),Re(18,"strong"),Me(19,"Split Image"),Ne(),Me(20," to generate the individual tiles. Note: When splitting by size, any partial tiles at the edges will be ignored. "),Ne(),Re(21,"div",5)(22,"div")(23,"fieldset",6)(24,"legend",7),Me(25,"Settings"),Ne(),Re(26,"form",8)(27,"label",9),Me(28," Upload spritesheet "),Re(29,"input",10),At("change",function(o){return r.onFileSelected(o)}),Ne()(),Re(30,"div",11),Ke(31,"app-form-field",12),Ne(),ln(32,KL,2,2)(33,QL,2,2),Ke(34,"app-form-field",13)(35,"app-form-field",14)(36,"app-form-field",15),Re(37,"div",16)(38,"button",17),At("click",function(){return r.splitImage()}),Me(39," Split Image "),Ne()()()(),ln(40,JL,1,1,"app-error-alert",18),Re(41,"button",19),At("click",function(){return r.downloadSplitTiles()}),Me(42," Download tiles as ZIP "),Ne()(),Re(43,"div")(44,"h3",20),Me(45,"Original Image:"),Ne(),ln(46,XL,1,1,"img",21)(47,eB,1,0,"div",22),Ne()(),Re(48,"div",23)(49,"h3",20),Me(50),Ne(),ln(51,nB,3,2,"div",24)(52,rB,3,0)(53,iB,1,0,"div",22),Ne()()),n&2&&(Oe(26),He("formGroup",r.form),Oe(5),He("form-control",r.form.get("splitMode"))("options",r.splitModeOptions),Oe(),un(r.splitMode==="num tiles"?32:33),Oe(2),He("form-control",r.form.get("ignoreFirstN")),Oe(),He("form-control",r.form.get("ignoreLastN")),Oe(),He("form-control",r.form.get("tilesBaseFileName")),Oe(2),He("disabled",!r.selectedImage||r.form.invalid),Oe(2),un(r.errorDetails?40:-1),Oe(),He("disabled",r.splitTiles.length===0),Oe(5),un(r.selectedImage?46:47),Oe(4),zi("",r.tilesBaseFileName," Images:"),Oe(),un(r.splitTiles.length>0?51:r.selectedImage?52:53))},dependencies:[Ho,zo,Uo,Si,oo,Mr,Mi,Ai],encapsulation:2})};Gh();var oB=(e,t,n)=>({"bg-base-200 hover:shadow-md":e,"opacity-50 bg-base-300 dragged":t,"border-primary border-2 bg-primary/10 drag-over":n});function sB(e,t){if(e&1&&Ke(0,"app-error-alert",14),e&2){let n=Tt();He("errorDetails",n.errorDetails)}}function aB(e,t){if(e&1&&Ke(0,"img",19),e&2){let n=Tt();He("src",n.combinedImageUrl,Wr)}}function lB(e,t){e&1&&(Re(0,"p",23),Me(1,"Click the Combine Images button to generate the combined image."),Ne(),Ke(2,"div",20))}function uB(e,t){e&1&&Ke(0,"div",20)}function cB(e,t){if(e&1){let n=eu();Re(0,"div",25),At("dragstart",function(){let i=Wn(n).$index,o=Tt(2);return qn(o.onDragStart(i))})("dragover",function(i){let o=Wn(n).$index,s=Tt(2);return qn(s.onDragOver(i,o))})("dragleave",function(){Wn(n);let i=Tt(2);return qn(i.onDragLeave())})("dragend",function(){Wn(n);let i=Tt(2);return qn(i.onDragEnd())})("drop",function(i){let o=Wn(n).$index,s=Tt(2);return qn(s.onDrop(i,o))}),Re(1,"div",26)(2,"span",27),Me(3),Ne(),Re(4,"span",28),wr(),Re(5,"svg",29),Ke(6,"path",30),Ne()()(),vo(),Ke(7,"img",31),Re(8,"div",32),Me(9),Ne()()}if(e&2){let n=t.$implicit,r=t.$index,i=Tt(2);He("ngClass",f0(5,oB,i.draggedIndex!==r&&i.dragOverIndex!==r,i.draggedIndex===r,i.dragOverIndex===r)),Oe(3),zi("# ",r+1),Oe(4),He("src",n,Wr)("alt","Image "+r),Oe(2),Cr(i.originalFileNames[r])}}function dB(e,t){if(e&1&&(Re(0,"div",22),gs(1,cB,10,9,"div",24,Xl),Ne()),e&2){let n=Tt();Oe(),ys(n.selectedImages)}}function fB(e,t){e&1&&Ke(0,"div",20)}var cp=class e{constructor(t,n,r){this.fb=t;this.downloadService=n;this.validationService=r;this.form=this.fb.group({gridWidth:[2,[Mt.required,Mt.min(1),this.validationService.integerValidator]],gridHeight:[2,[Mt.required,Mt.min(1),this.validationService.integerValidator]],outputFileName:["Combined",[Mt.required,Mt.minLength(1),this.validationService.validFilenameValidator]]})}selectedImages=[];originalFileNames=[];combinedImageUrl=null;errorDetails=null;draggedIndex=-1;dragOverIndex=-1;form;get gridWidth(){return this.form.get("gridWidth")?.value||2}get gridHeight(){return this.form.get("gridHeight")?.value||2}get outputFileName(){return this.form.get("outputFileName")?.value||"Combined"}onFilesSelected(t){let n=t.target;n.files&&n.files.length>0&&(this.errorDetails=null,this.combinedImageUrl=null,Array.from(n.files).forEach(r=>{let i=new FileReader;i.onload=()=>{this.selectedImages.push(i.result),this.originalFileNames.push(r.name)},i.readAsDataURL(r)}))}clearImages(){this.selectedImages=[],this.originalFileNames=[],this.draggedIndex=-1,this.dragOverIndex=-1,this.errorDetails=null}combineImages(){return Pe(this,null,function*(){if(this.errorDetails=null,this.selectedImages.length===0){console.warn("No images have been selected to combine."),this.combinedImageUrl=null;return}if(this.form.invalid){console.warn("Form is invalid. Please correct the errors."),this.combinedImageUrl=null;return}if(this.selectedImages.length>this.gridWidth*this.gridHeight){this.errorDetails="The chosen grid size is too small to fit all selected images.";return}try{let t=[];for(let u of this.selectedImages){let c=yield ll.read(u);t.push(c)}if(t.length===0){this.errorDetails="Failed to load any images.",console.error(this.errorDetails);return}let n=0,r=0,i=0;for(let u=0;u<this.gridHeight;u++){let c=0,d=0;for(let h=0;h<this.gridWidth;h++)i<t.length&&(c+=t[i].bitmap.width,t[i].bitmap.height>d&&(d=t[i].bitmap.height),i++);n<c&&(n=c),r+=d}let o=new ll({width:n,height:r});i=0;let s=0;for(let u=0;u<this.gridHeight;u++){let c=0,d=0;for(let h=0;h<this.gridWidth;h++)i<t.length&&(t[i].bitmap.height>d&&(d=t[i].bitmap.height),o.blit({src:t[i],x:c,y:s}),c+=t[i].bitmap.width,i++);s+=d}let l=(yield o.getBuffer("image/png")).toString("base64");this.combinedImageUrl=`data:image/png;base64,${l}`}catch(t){console.error("Error during image combination:",t),this.combinedImageUrl=null,t instanceof Error?this.errorDetails=t.message:this.errorDetails=String(t)}})}downloadCombinedImage(){return Pe(this,null,function*(){if(!this.combinedImageUrl){console.warn("No combined image available to download.");return}try{yield this.downloadService.downloadImage(this.combinedImageUrl,`${this.outputFileName}.png`)}catch(t){console.error("Error downloading combined image:",t),t instanceof Error?this.errorDetails=t.message:this.errorDetails=String(t)}})}onDragStart(t){this.draggedIndex=t,document.body.classList.add("dragging")}onDragOver(t,n){t.preventDefault(),this.draggedIndex!==n&&(this.dragOverIndex=n)}onDragLeave(){this.dragOverIndex=-1}onDragEnd(){this.draggedIndex=-1,this.dragOverIndex=-1,document.body.classList.remove("dragging")}onDrop(t,n){if(t.preventDefault(),this.draggedIndex===-1||this.draggedIndex===n){this.dragOverIndex=-1,document.body.classList.remove("dragging");return}[this.selectedImages[this.draggedIndex],this.selectedImages[n]]=[this.selectedImages[n],this.selectedImages[this.draggedIndex]],[this.originalFileNames[this.draggedIndex],this.originalFileNames[n]]=[this.originalFileNames[n],this.originalFileNames[this.draggedIndex]],this.draggedIndex=-1,this.dragOverIndex=-1,document.body.classList.remove("dragging")}static \u0275fac=function(n){return new(n||e)(Ye(Vo),Ye(Ti),Ye(Pr))};static \u0275cmp=Lt({type:e,selectors:[["app-image-combine"]],decls:46,vars:10,consts:[[1,"container","p-4"],[1,"text-2xl","font-bold","mb-2"],[1,"mb-4","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-[auto_1fr]","gap-6"],[1,"fieldset","bg-base-200","border-base-300","rounded-box","w-md","border","p-4","md:mt-12"],[1,"fieldset-legend"],[1,"grid","grid-cols-2","gap-x-4","gap-y-2",3,"formGroup"],[1,"btn","btn-secondary","col-span-2"],["type","file","accept","image/*","multiple","",1,"hidden",3,"change"],["label","Grid Width","input-id","gridWidth","type","number",3,"form-control"],["label","Grid Height","input-id","gridHeight","type","number",3,"form-control"],["label","Output File Name","input-id","outputFileName","type","text",3,"form-control"],[1,"flex","justify-end"],[1,"btn","btn-primary",3,"click","disabled"],[3,"errorDetails"],[1,"flex","items-center","gap-2","mt-2"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"mt-4"],[1,"text-xl","font-semibold","mb-2"],["alt","Combined Image",1,"min-w-[160px]","min-h-[160px]","max-w-[640px]","max-h-[640px]","w-auto","h-auto","rounded","border","shadow",3,"src"],[1,"skeleton","h-32","w-32"],[1,"text-sm","text-gray-500","mb-2"],[1,"grid","grid-cols-[repeat(auto-fill,minmax(120px,1fr))]","gap-2"],[1,"text-gray-500"],["draggable","true",1,"border","rounded","p-1","cursor-move","transition-all","duration-200","image-item",3,"ngClass"],["draggable","true",1,"border","rounded","p-1","cursor-move","transition-all","duration-200","image-item",3,"dragstart","dragover","dragleave","dragend","drop","ngClass"],[1,"flex","justify-between","items-center","mb-1"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-500","drag-handle"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16m-7 6h7"],[1,"min-w-[64px]","min-h-[64px]","max-w-[128px]","max-h-[128px]","w-auto","h-auto",3,"src","alt"],[1,"text-center","text-sm","mt-1"]],template:function(n,r){n&1&&(Re(0,"div",0)(1,"h2",1),Me(2,"Image Combiner"),Ne(),Re(3,"p",2),Me(4,"Combine multiple images into a grid layout. "),Ke(5,"br"),Me(6," This tool arranges your images in a grid based on the dimensions you specify. "),Ke(7,"br"),Me(8," Upload your images first, then configure the grid settings and click on "),Re(9,"strong"),Me(10,"Combine Images"),Ne(),Me(11," to generate the combined image."),Ne(),Re(12,"div",3)(13,"div")(14,"fieldset",4)(15,"legend",5),Me(16,"Settings"),Ne(),Re(17,"form",6)(18,"label",7),Me(19," Upload images "),Re(20,"input",8),At("change",function(o){return r.onFilesSelected(o)}),Ne()(),Ke(21,"app-form-field",9)(22,"app-form-field",10)(23,"app-form-field",11),Re(24,"div",12)(25,"button",13),At("click",function(){return r.combineImages()}),Me(26," Combine Images "),Ne()()()(),ln(27,sB,1,1,"app-error-alert",14),Re(28,"div",15)(29,"button",16),At("click",function(){return r.downloadCombinedImage()}),Me(30," Download Combined Image "),Ne(),Re(31,"button",16),At("click",function(){return r.clearImages()}),Me(32," Clear Selected Images "),Ne()(),Re(33,"div",17)(34,"h3",18),Me(35,"Combined Image:"),Ne(),ln(36,aB,1,1,"img",19)(37,lB,3,0)(38,uB,1,0,"div",20),Ne()(),Re(39,"div")(40,"h3",18),Me(41,"Selected Images:"),Ne(),Re(42,"p",21),Me(43,"Drag and drop to reorder images"),Ne(),ln(44,dB,3,0,"div",22)(45,fB,1,0,"div",20),Ne()()()),n&2&&(Oe(17),He("formGroup",r.form),Oe(4),He("form-control",r.form.get("gridWidth")),Oe(),He("form-control",r.form.get("gridHeight")),Oe(),He("form-control",r.form.get("outputFileName")),Oe(2),He("disabled",r.selectedImages.length===0||r.form.invalid),Oe(2),un(r.errorDetails?27:-1),Oe(2),He("disabled",!r.combinedImageUrl),Oe(2),He("disabled",r.selectedImages.length===0),Oe(5),un(r.combinedImageUrl?36:r.selectedImages.length>0?37:38),Oe(8),un(r.selectedImages.length>0?44:45))},dependencies:[Ho,zo,Uo,Si,oo,Mr,lu,Mi,Ai],styles:[".drag-handle[_ngcontent-%COMP%]{cursor:grab}.image-item[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.image-item.drag-over[_ngcontent-%COMP%]{transform:scale(1.02)}.image-item.dragged[_ngcontent-%COMP%]{transform:scale(.98)}"]})};var iS=wp(zy());function hB(e,t){if(e&1&&Ke(0,"app-error-alert",24),e&2){let n=Tt();He("errorDetails",n.errorDetails)}}var nS=["kt","kts","md"],nt=`
`,rS="2.2.21",dp=class e{constructor(t,n,r){this.fb=t;this.downloadService=n;this.validationService=r;this.form=this.fb.group({projectName:["MyGdxGame",[Mt.required,this.validationService.noSpacesValidator]],packageName:["io.github",[Mt.required,this.validationService.packageNameValidator]],javaVersion:["17",Mt.required],kotlinVersion:[rS,[Mt.required,this.validationService.validKotlinVersionValidator]],mainClassName:["GdxGame",[Mt.required,this.validationService.noSpacesValidator]],desktopLauncher:[!0],teaVmLauncher:[!1],gdxAiDep:[!1],fleksDep:[!0],b2dDep:[!0],freetypeDep:[!0],ktxTiledDep:[!0],ktxPrefsDep:[!1],ktxI18nDep:[!1]})}errorDetails=null;form;javaVersionOptions=["8","11","17","21","25"];downloadTemplate(){return Pe(this,null,function*(){if(this.errorDetails=null,this.form.invalid){this.errorDetails="Form is invalid. Please correct the errors.";return}let t=this.form.get("desktopLauncher")?.value===!0,n=this.form.get("teaVmLauncher")?.value===!0;if(!t&&!n){this.errorDetails="Please select at least one launcher option";return}try{let i=yield fetch("gdx-kotlin-template-master.zip");if(!i.ok){this.errorDetails=`Failed to fetch template: ${i.statusText}`;return}let o=yield i.blob(),a=yield new iS.default().loadAsync(o),l=this.form.get("projectName")?.value||"MyGdxGame";yield this.updateVersionCatalog(a),yield this.updateDependencies(a,l),yield this.updateMainClass(a),yield this.updatePackageName(a),yield this.updateRootFolderName(a,l);let u=`${l}.zip`,c=yield a.generateAsync({type:"blob"});yield this.downloadService.downloadZip(c,u)}catch(r){console.error("Error downloading template:",r),r instanceof Error?this.errorDetails=r.message:this.errorDetails=String(r)}})}updateRootFolderName(t,n){return Pe(this,null,function*(){let r="gdx-kotlin-template-master/",i=`${n}/`;if(r===i)return;let o=[],s=r.endsWith("/")?r:r+"/",a=i.endsWith("/")?i:i+"/";for(let l in t.files)l.startsWith(s)&&o.push(l);for(let l of o){let u=t.files[l],c=l.replace(s,a);if(u.dir)t.folder(c);else{let d=yield u.async("arraybuffer");t.file(c,d)}}for(let l of o)t.remove(l)})}updateMainClass(t){return Pe(this,null,function*(){let n="GdxGame",r=this.form.get("mainClassName")?.value||"GdxGame";if(n===r)return;let i=null;for(let o in t.files){if(t.files[o].dir)continue;let s=o.split(".").pop()?.toLowerCase();if(s&&nS.includes(s))try{let a=yield t.files[o].async("text");if(a.includes(n)){let l=a.replace(new RegExp(n,"g"),r);t.file(o,l)}if(o.endsWith(`/${n}.kt`)){let l=o.replace(`/${n}.kt`,`/${r}.kt`);t.file(l,a.replace(new RegExp(n,"g"),r)),i=o}}catch(a){throw new Error(`Skipping file ${o}: ${a}`)}}i&&t.remove(i)})}updatePackageName(t){return Pe(this,null,function*(){let n=this.form.get("packageName")?.value||"io.github",r="io.github";if(r===n)return;let i=r.replace(/\./g,"/"),o=n.replace(/\./g,"/"),s=[],a=[],l=n.startsWith(r);for(let c in t.files){if(t.files[c].dir){if(l&&(c.endsWith("io/")||c.endsWith("github/")))continue;c.includes("/kotlin/io/")&&s.push(c);continue}let d=c.split(".").pop()?.toLowerCase();d&&nS.includes(d)&&a.push(c)}let u=[];for(let c of a)try{let d=yield t.files[c].async("text"),h=d;if(d.includes(r)&&(h=d.replace(new RegExp(`package\\s+${r}`,"g"),`package ${n}`),h=h.replace(new RegExp(`import\\s+${r}\\.`,"g"),`import ${n}.`),h=h.replace(new RegExp(`"${r}`,"g"),`"${n}`)),c.includes(`/kotlin/${i}/`)){let f=c.replace(`/kotlin/${i}/`,`/kotlin/${o}/`),p=f.split("/"),m="";for(let g=0;g<p.length-1;g++)m+=p[g]+"/",t.files[m]||t.folder(m);t.file(f,h),f!==c&&u.push(c)}else t.file(c,h)}catch(d){throw new Error(`Skipping file ${c}: ${d}`)}for(let c of[...u,...s])t.remove(c)})}updateVersionCatalog(t){return Pe(this,null,function*(){let n=this.form.get("javaVersion")?.value||"17",r=this.form.get("gdxAiDep")?.value===!0,i=this.form.get("fleksDep")?.value===!0,o=this.form.get("b2dDep")?.value===!0,s=this.form.get("freetypeDep")?.value===!0,a=this.form.get("ktxTiledDep")?.value===!0,l=this.form.get("ktxPrefsDep")?.value===!0,u=this.form.get("ktxI18nDep")?.value===!0,c=this.form.get("desktopLauncher")?.value===!0,d=this.form.get("teaVmLauncher")?.value===!0;for(let h in t.files)if(!(!h.endsWith("/gradle/libs.versions.toml")||t.files[h].dir)){try{let f=yield t.files[h].async("text"),p=this.form.get("kotlinVersion")?.value||rS,m=f.replace(/jvmToolchainVersion\s*=\s*["'](\d+)["']/,`jvmToolchainVersion = "${n}"`);m=m.replace(/kotlinVersion\s*=\s*['"][^'"]+['"]/,`kotlinVersion = "${p}"`),r||(m=m.split(nt).filter(g=>!g.startsWith("gdxAi")&&!g.startsWith("# ai")&&!g.startsWith("aiBundle")&&!g.startsWith("ktxAi")).join(nt)),i||(m=m.split(nt).filter(g=>!g.startsWith("fleks")&&!g.startsWith("# ecs")).join(nt)),o||(m=m.split(nt).filter(g=>!g.startsWith("gdxBox2d")&&!g.startsWith("# box2d")&&!g.startsWith("ktxBox2d")&&!g.startsWith("box2dBundle")).join(nt)),s||(m=m.split(nt).filter(g=>!g.startsWith("gdxFreetype")&&!g.startsWith("# freetype")&&!g.startsWith("ktxFreetype")&&!g.startsWith("gdxTeaVmFreetype")&&!g.startsWith("freetypeBundle")).join(nt)),a||(m=m.split(nt).filter(g=>!g.startsWith("ktxTiled")).join(nt)),l||(m=m.split(nt).filter(g=>!g.startsWith("ktxPreferences")).join(nt)),l||(m=m.split(nt).filter(g=>!g.startsWith("ktxI18n")).join(nt)),!a&&!l&&!u&&(m=m.split(nt).filter(g=>!g.startsWith("# other ktx")).join(nt)),c||(m=m.split(nt).filter(g=>!g.startsWith("gdxBackendLwjgl3")&&!g.startsWith("gdxPlatform")).join(nt)),d||(m=m.split(nt).filter(g=>!g.startsWith("gretty")&&!g.startsWith("gdxTeaVm")&&!g.startsWith("gdxBox2dGwt")&&!g.startsWith("teaVm")&&!g.startsWith("# teavm")&&!g.startsWith("[plugins]")).join(nt)),t.file(h,m)}catch(f){throw new Error(`Error updating Java version in ${h}: ${f}`)}return}})}updateDependencies(t,n){return Pe(this,null,function*(){let r=this.form.get("desktopLauncher")?.value===!0,i=this.form.get("teaVmLauncher")?.value===!0,o=[];for(let s in t.files)try{if(s.endsWith("/core/build.gradle.kts")){yield this.updateCoreBuildGradle(t,s);continue}if(s.endsWith("/settings.gradle.kts")&&!s.includes("buildSrc")){yield this.updateRootSettingsGradle(t,s,n);continue}if(!r&&s.includes("lwjgl3")){o.push(s);continue}else if(r&&s.endsWith("/lwjgl3/build.gradle.kts")){yield this.updateDesktopBuildGradle(t,s);continue}!i&&s.includes("teavm")?o.push(s):i&&s.endsWith("/teavm/build.gradle.kts")?yield this.updateTeaVmBuildGradle(t,s):i&&s.endsWith("/TeaVMLauncher.kt")&&(yield this.updateTeaVmLauncher(t,s))}catch(a){throw new Error(`Error updating Java version in ${s}: ${a}`)}for(let s of o)t.remove(s)})}updateCoreBuildGradle(t,n){return Pe(this,null,function*(){let r=this.form.get("gdxAiDep")?.value===!0,i=this.form.get("fleksDep")?.value===!0,o=this.form.get("b2dDep")?.value===!0,s=this.form.get("freetypeDep")?.value===!0,a=this.form.get("ktxTiledDep")?.value===!0,l=this.form.get("ktxPrefsDep")?.value===!0,u=this.form.get("ktxI18nDep")?.value===!0,c=yield t.files[n].async("text");o||(c=c.split(nt).filter(d=>!d.includes("box2d")).join(nt)),s||(c=c.split(nt).filter(d=>!d.includes("freetype")).join(nt)),r||(c=c.split(nt).filter(d=>!d.includes("aiBundle")).join(nt)),a||(c=c.split(nt).filter(d=>!d.includes("ktxTiled")).join(nt)),l||(c=c.split(nt).filter(d=>!d.includes("ktxPreferences")).join(nt)),u||(c=c.split(nt).filter(d=>!d.includes("ktxI18n")).join(nt)),i||(c=c.split(nt).filter(d=>!d.includes("fleks")).join(nt)),t.file(n,c)})}updateRootSettingsGradle(t,n,r){return Pe(this,null,function*(){let i=this.form.get("fleksDep")?.value===!0,o=this.form.get("desktopLauncher")?.value===!0,s=this.form.get("teaVmLauncher")?.value===!0,l=(yield t.files[n].async("text")).replace(new RegExp("gdx-template","g"),r);o||(l=l.split(nt).filter(u=>!u.includes("lwjgl3")).join(nt)),s||(l=l.split(nt).filter(u=>!u.includes("teavm")&&!u.includes("TeaVM")&&!u.includes("jitpack")).join(nt)),i||(l=l.split(nt).filter(u=>!u.includes("Fleks")&&!u.includes("s01.oss.sonatype")).join(nt)),t.file(n,l)})}updateDesktopBuildGradle(t,n){return Pe(this,null,function*(){let r=this.form.get("b2dDep")?.value===!0,i=this.form.get("freetypeDep")?.value===!0,o=yield t.files[n].async("text");if(!r){let s=o.split(nt),a=[];for(let l=0;l<s.length;l++){let u=s[l];u.includes("Box2d")||a.push(u)}o=a.join(nt)}if(!i){let s=o.split(nt),a=[];for(let l=0;l<s.length;l++){let u=s[l];u.includes("Freetype")||a.push(u)}o=a.join(nt)}t.file(n,o)})}updateTeaVmBuildGradle(t,n){return Pe(this,null,function*(){let r=this.form.get("b2dDep")?.value===!0,i=this.form.get("freetypeDep")?.value===!0,o=yield t.files[n].async("text");r||(o=o.split(nt).filter(s=>!s.includes("Box2d")).join(nt)),i||(o=o.split(nt).filter(s=>!s.includes("Freetype")).join(nt)),t.file(n,o)})}updateTeaVmLauncher(t,n){return Pe(this,null,function*(){let r=this.form.get("freetypeDep")?.value===!0,i=yield t.files[n].async("text");r||(i=i.split(nt).filter(o=>!o.includes("TeaAssetPreloadListener")&&!o.includes("freetype")).join(nt)),t.file(n,i)})}static \u0275fac=function(n){return new(n||e)(Ye(Vo),Ye(Ti),Ye(Pr))};static \u0275cmp=Lt({type:e,selectors:[["app-gradle-kotlin-template"]],decls:42,vars:18,consts:[[1,"container","p-4"],[1,"text-2xl","font-bold","mb-2"],[1,"mb-4","text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-[auto_1fr]"],[1,"fieldset","bg-base-200","border-base-300","rounded-box","w-xs","border","p-4","md:mt-5"],[1,"fieldset-legend"],[1,"grid","grid-cols-1","gap-y-2","w-sm",3,"formGroup"],["label","Project Name","input-id","projectName","type","text","gridClass","grid-cols-[0.2fr_0.8fr]",3,"form-control"],["label","Main class","input-id","mainClassName","type","text","gridClass","grid-cols-[0.2fr_0.8fr]",3,"form-control"],["label","Package","input-id","packageName","type","text","gridClass","grid-cols-[0.2fr_0.8fr]",3,"form-control"],["label","Kotlin Version","input-id","kotlinVersion","type","text","gridClass","grid-cols-[0.2fr_1fr]",3,"form-control"],["label","Java Version","input-id","javaVersion","type","radio","gridClass","grid-cols-[0.2fr_0.8fr]",3,"form-control","options"],[1,"divider","divider-neutral"],[1,"grid","grid-cols-3","gap-x-4","gap-y-2"],["label","Desktop","input-id","desktopLauncher","type","checkbox",3,"form-control"],["label","TeaVM","input-id","teaVmLauncher","type","checkbox","tool-tip","Launcher to run your game in the browser",3,"form-control"],["label","Gdx-AI","input-id","gdxAiDep","type","checkbox",3,"form-control"],["label","Box2D","input-id","b2dDep","type","checkbox","tool-tip","A 2D physics engine",3,"form-control"],["label","Freetype Font","input-id","freetypeDep","type","checkbox",3,"form-control"],["label","Fleks","input-id","fleksDep","type","checkbox","tool-tip","An entity component system for Kotlin",3,"form-control"],[1,"col-span-2"],["label","KTX Tiled","input-id","ktxTiledDep","type","checkbox","tool-tip","extensions for the Tiled map editor",3,"form-control"],["label","KTX Preferences","input-id","ktxPrefsDep","type","checkbox",3,"form-control"],["label","KTX I18n","input-id","ktxI18nDep","type","checkbox",3,"form-control"],[3,"errorDetails"],[1,"btn","btn-secondary","mt-2",3,"click","disabled"]],template:function(n,r){n&1&&(Re(0,"div",0)(1,"h2",1),Me(2,"Gradle Kotlin Template"),Ne(),Re(3,"p",2),Me(4," A modern Gradle Kotlin DSL based template for creating LibGDX projects using Kotlin. "),Ke(5,"br"),Me(6," It uses a version catalog and buildSrc directory for convention plugins. "),Ke(7,"br"),Me(8," Configure your project settings below and click on "),Re(9,"strong"),Me(10,"Download template .zip"),Ne(),Me(11," to get the template. "),Ne(),Re(12,"div",3)(13,"div")(14,"fieldset",4)(15,"legend",5),Me(16,"Settings"),Ne(),Re(17,"form",6),Ke(18,"app-form-field",7)(19,"app-form-field",8)(20,"app-form-field",9)(21,"app-form-field",10)(22,"app-form-field",11),Re(23,"div",12),Me(24,"Launcher"),Ne(),Re(25,"div",13),Ke(26,"app-form-field",14)(27,"app-form-field",15),Ne(),Re(28,"div",12),Me(29,"Dependencies"),Ne(),Re(30,"div",13),Ke(31,"app-form-field",16)(32,"app-form-field",17)(33,"app-form-field",18)(34,"app-form-field",19)(35,"div",20)(36,"app-form-field",21)(37,"app-form-field",22)(38,"app-form-field",23),Ne()()(),ln(39,hB,1,1,"app-error-alert",24),Re(40,"button",25),At("click",function(){return r.downloadTemplate()}),Me(41," Download template .zip "),Ne()()()()),n&2&&(Oe(17),He("formGroup",r.form),Oe(),He("form-control",r.form.get("projectName")),Oe(),He("form-control",r.form.get("mainClassName")),Oe(),He("form-control",r.form.get("packageName")),Oe(),He("form-control",r.form.get("kotlinVersion")),Oe(),He("form-control",r.form.get("javaVersion"))("options",r.javaVersionOptions),Oe(4),He("form-control",r.form.get("desktopLauncher")),Oe(),He("form-control",r.form.get("teaVmLauncher")),Oe(4),He("form-control",r.form.get("gdxAiDep")),Oe(),He("form-control",r.form.get("b2dDep")),Oe(),He("form-control",r.form.get("freetypeDep")),Oe(),He("form-control",r.form.get("fleksDep")),Oe(2),He("form-control",r.form.get("ktxTiledDep")),Oe(),He("form-control",r.form.get("ktxPrefsDep")),Oe(),He("form-control",r.form.get("ktxI18nDep")),Oe(),un(r.errorDetails?39:-1),Oe(),He("disabled",r.form.invalid))},dependencies:[Ho,zo,Uo,Si,oo,Mr,Mi,Ai],encapsulation:2})};var oS=[{path:"",component:lp},{path:"tile-extruder",component:ap},{path:"image-split",component:up},{path:"image-combine",component:cp},{path:"gradle-kotlin-template",component:dp}];var sS={providers:[m0({eventCoalescing:!0}),n1(oS)]};var fp=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Lt({type:e,selectors:[["app-theme-sel"]],decls:6,vars:0,consts:[[1,"swap","swap-rotate"],["type","checkbox","value","night",1,"theme-controller"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-off","h-10","w-10","fill-current"],["d","M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"swap-on","h-10","w-10","fill-current"],["d","M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"]],template:function(n,r){n&1&&(Pt(0,"label",0),hi(1,"input",1),wr(),Pt(2,"svg",2),hi(3,"path",3),Nt(),Pt(4,"svg",4),hi(5,"path",5),Nt()())},encapsulation:2})};var pB=["navMenu"],mB=()=>({exact:!0}),hp=class e{constructor(t){this.renderer=t}navMenuElement;ngAfterViewInit(){this.navMenuElement||console.error("Couldn't find the 'navMenu' element.")}closeMenu(){if(!this.navMenuElement||!this.navMenuElement.nativeElement){console.warn("Cannot close menu because of missing 'navMenuElement'");return}this.renderer.removeAttribute(this.navMenuElement.nativeElement,"open")}static \u0275fac=function(n){return new(n||e)(Ye(xr))};static \u0275cmp=Lt({type:e,selectors:[["app-nav-menu"]],viewQuery:function(n,r){if(n&1&&u0(pB,5),n&2){let i;nu(i=ru())&&(r.navMenuElement=i.first)}},decls:22,vars:2,consts:[["navMenu",""],[1,"navbar-start"],[1,"dropdown"],[1,"btn","btn-square","btn-ghost"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-primary-content"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h7"],[1,"menu","menu-lg","dropdown-content","bg-base-100","rounded-box","z-1","mt-3","w-52","p-2","shadow"],["routerLink","/","routerLinkActive","bg-primary text-primary-content",3,"click","routerLinkActiveOptions"],["routerLink","/tile-extruder","routerLinkActive","bg-primary text-primary-content",3,"click"],["routerLink","/image-split","routerLinkActive","bg-primary text-primary-content",3,"click"],["routerLink","/image-combine","routerLinkActive","bg-primary text-primary-content",3,"click"],["routerLink","/gradle-kotlin-template","routerLinkActive","bg-primary text-primary-content",3,"click"]],template:function(n,r){if(n&1){let i=eu();Re(0,"div",1)(1,"details",2,0)(3,"summary",3),wr(),Re(4,"svg",4),Ke(5,"path",5),Ne()(),vo(),Re(6,"ul",6)(7,"li")(8,"a",7),At("click",function(){return Wn(i),qn(r.closeMenu())}),Me(9,"Home"),Ne()(),Re(10,"li")(11,"a",8),At("click",function(){return Wn(i),qn(r.closeMenu())}),Me(12,"Tile Extruder"),Ne()(),Re(13,"li")(14,"a",9),At("click",function(){return Wn(i),qn(r.closeMenu())}),Me(15,"Spritesheet Splitter"),Ne()(),Re(16,"li")(17,"a",10),At("click",function(){return Wn(i),qn(r.closeMenu())}),Me(18,"Image Combiner"),Ne()(),Re(19,"li")(20,"a",11),At("click",function(){return Wn(i),qn(r.closeMenu())}),Me(21,"Gradle Kotlin Template"),Ne()()()()()}n&2&&(Oe(8),He("routerLinkActiveOptions",d0(1,mB)))},dependencies:[t1,La],styles:[".btn-ghost[_ngcontent-%COMP%]:hover{background-color:var(--color-primary)}"]})};var pp=class e{title="Quilly's GDX Utilities";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Lt({type:e,selectors:[["app-header"]],decls:5,vars:1,consts:[[1,"navbar","bg-primary"],[1,"text-2xl","font-bold","ml-2","text-primary-content"],[1,"ml-4","text-primary-content"]],template:function(n,r){n&1&&(Re(0,"header",0),Ke(1,"app-nav-menu"),Re(2,"h1",1),Me(3),Ne(),Ke(4,"app-theme-sel",2),Ne()),n&2&&(Oe(3),Cr(r.title))},dependencies:[fp,hp],encapsulation:2})};var mp=class e{currentYear=new Date().getFullYear();static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Lt({type:e,selectors:[["app-footer"]],decls:17,vars:1,consts:[[1,"footer","footer-horizontal","footer-center","bg-neutral","text-neutral-content","p-2"],[1,"flex","flex-row","gap-2","items-center"],[1,"font-bold"],[1,"grid","grid-flow-col"],["href","https://github.com/Quillraven","target","_blank","rel","noopener noreferrer"],["role","img","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-7","h-7"],["d","M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21 .69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"]],template:function(n,r){n&1&&(Pt(0,"footer",0)(1,"aside")(2,"div",1)(3,"p"),Me(4,"\xA9"),Nt(),Pt(5,"p"),Me(6),Nt(),Pt(7,"p",2),Me(8,"Quillraven"),Nt(),Pt(9,"p"),Me(10,"Some rights reserved."),Nt(),Pt(11,"div",3)(12,"a",4),wr(),Pt(13,"svg",5)(14,"title"),Me(15,"GitHub"),Nt(),hi(16,"path",6),Nt()()()()()()),n&2&&(Oe(6),Cr(r.currentYear))},encapsulation:2})};var gp=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Lt({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"flex","flex-col","min-h-screen"],[1,"flex-grow","p-4"]],template:function(n,r){n&1&&(Re(0,"div",0),Ke(1,"app-header"),Re(2,"main",1),Ke(3,"router-outlet"),Ne(),Ke(4,"app-footer"),Ne())},dependencies:[Tu,pp,mp,Mr],encapsulation:2})};k0(gp,sS).catch(e=>console.error(e));
